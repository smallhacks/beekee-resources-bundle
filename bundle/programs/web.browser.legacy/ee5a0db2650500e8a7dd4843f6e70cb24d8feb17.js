!function(){var t,e,n;(function(){t=this}).call(this),function(){var t=__meteor_runtime_config__;e=t.meteorEnv,n={isProduction:"production"===e.NODE_ENV,isDevelopment:"production"!==e.NODE_ENV,isClient:!0,isServer:!1,isCordova:!1,isModern:t.isModern},t.gitCommitHash&&(n.gitCommitHash=t.gitCommitHash),t.PUBLIC_SETTINGS&&(n.settings={public:t.PUBLIC_SETTINGS})}.call(this),function(){function e(){this._promiseInfoMap=Object.create(null)}var r=e.prototype;r._define=function t(e,n){n=n||{};for(var r=arguments.length,o=2;o<r;++o){var i=arguments[o];for(var s in i)s in n||(n[s]=i[s])}this[e]=n;var a=this._promiseInfoMap[e];return a&&a.resolve(n),n},r._has=function t(e){return Object.prototype.hasOwnProperty.call(this,e)},r._promise=function t(e){var r=this,o=r._promiseInfoMap[e];return o||((o=r._promiseInfoMap[e]={}).promise=new Promise((function(t,i){o.resolve=t,r._has(e)?t(r[e]):n.startup((function(){r._has(e)||i(new Error("Package "+e+" not installed"))}))}))),o.promise},t.Package=new e,"object"==typeof exports&&(exports.PackageRegistry=e)}.call(this),function(){if(n.isServer)var t=Npm.require("fibers/future");"object"==typeof __meteor_runtime_config__&&__meteor_runtime_config__.meteorRelease&&(n.release=__meteor_runtime_config__.meteorRelease),n._get=function(t){for(var e=1;e<arguments.length;e++){if(!(arguments[e]in t))return;t=t[arguments[e]]}return t},n._ensure=function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];n in t||(t[n]={}),t=t[n]}return t},n._delete=function(t){for(var e=[t],n=!0,r=1;r<arguments.length-1;r++){var o;if(!((o=arguments[r])in t)){n=!1;break}if("object"!=typeof(t=t[o]))break;e.push(t)}for(var r=e.length-1;r>=0;r--){var o=arguments[r+1];if(n)n=!1;else for(var i in e[r][o])return;delete e[r][o]}},n.wrapAsync=function(e,r){return function(){for(var i=r||this,s=Array.prototype.slice.call(arguments),a,u=s.length-1;u>=0;--u){var c=s[u],l=typeof c;if("undefined"!==l){"function"===l&&(a=c);break}}if(!a){if(n.isClient)a=o;else{var f=new t;a=f.resolver()}++u}s[u]=n.bindEnvironment(a);var p=e.apply(i,s);return f?f.wait():p}};var e=Object.prototype.hasOwnProperty;n._inherits=function(t,n){for(var r in n)e.call(n,r)&&(t[r]=n[r]);var o=function(){this.constructor=t};return o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype,t};var r=!1;function o(t){if(t)return n._debug("Exception in callback of async function",t)}n._wrapAsync=function(t,e){return r||(n._debug("Meteor._wrapAsync has been renamed to Meteor.wrapAsync"),r=!0),n.wrapAsync.apply(n,arguments)}}.call(this),function(){"use strict";var t=this;function e(){if(t.setImmediate){var e=function(e){t.setImmediate(e)};return e.implementation="setImmediate",e}return null}function r(){if(!t.postMessage||t.importScripts)return null;var e=!0,n=t.onmessage;if(t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,!e)return null;var r=0,o={},i="Meteor._setImmediate."+Math.random()+".";function s(t,e){return"string"==typeof t&&t.substring(0,e.length)===e}function a(e){if(e.source===t&&s(e.data,i)){var n=e.data.substring(i.length);try{o[n]&&o[n]()}finally{delete o[n]}}}t.addEventListener?t.addEventListener("message",a,!1):t.attachEvent("onmessage",a);var u=function(e){++r,o[r]=e,t.postMessage(i+r,"*")};return u.implementation="postMessage",u}function o(){var e=function(e){t.setTimeout(e,0)};return e.implementation="setTimeout",e}n._setImmediate=e()||r()||o()}.call(this),function(){function t(t){if(Package.ddp){var e=Package.ddp.DDP,n=e._CurrentMethodInvocation||e._CurrentInvocation,r=n.get();if(r&&r.isSimulation)throw new Error("Can't set timers inside simulations");return function(){n.withValue(null,t)}}return t}function e(e,r){return n.bindEnvironment(t(r),e)}n.setTimeout=function(t,n){return setTimeout(e("setTimeout callback",t),n)},n.setInterval=function(t,n){return setInterval(e("setInterval callback",t),n)},n.clearInterval=function(t){return clearInterval(t)},n.clearTimeout=function(t){return clearTimeout(t)},n.defer=function(t){n._setImmediate(e("defer callback",t))}}.call(this),function(){n.makeErrorType=function(t,e){var r=function(){Error.captureStackTrace?Error.captureStackTrace(this,r):this.stack=(new Error).stack,e.apply(this,arguments),this.errorType=t};return n._inherits(r,Error),r},n.Error=n.makeErrorType("Meteor.Error",(function(t,e,n){var r=this;this.isClientSafe=!0,this.error=t,this.reason=e,this.details=n,this.reason?this.message=this.reason+" ["+this.error+"]":this.message="["+this.error+"]"})),n.Error.prototype.clone=function(){var t=this;return new n.Error(this.error,this.reason,this.details)}}.call(this),function(){n._noYieldsAllowed=function(t){return t()},n._SynchronousQueue=function(){var t=this;this._tasks=[],this._running=!1,this._runTimeout=null};var t=n._SynchronousQueue.prototype;t.runTask=function(t){var e=this;if(!this.safeToRunTask())throw new Error("Could not synchronously run a task from a running task");this._tasks.push(t);var r=this._tasks;this._tasks=[],this._running=!0,this._runTimeout&&(clearTimeout(this._runTimeout),this._runTimeout=null);try{for(;r.length>0;){var o=r.shift();try{o()}catch(i){if(0===r.length)throw i;n._debug("Exception in queued task",i)}}}finally{this._running=!1}},t.queueTask=function(t){var e=this;e._tasks.push(t),e._runTimeout||(e._runTimeout=setTimeout((function(){return e.flush.apply(e,arguments)}),0))},t.flush=function(){var t=this;this.runTask((function(){}))},t.drain=function(){var t=this;if(this.safeToRunTask())for(;this._tasks.length>0;)this.flush()},t.safeToRunTask=function(){var t=this;return!this._running}}.call(this),function(){var t=[],e=!1,r=!1,o=0,i=function(){o++},s=function(){o--,a()},a=function(){if(!(r||!e||o>0)){for(r=!0;t.length;)t.shift()();n.isCordova&&WebAppLocalServer.startupDidComplete()}},u=function(){e||(e=!0,a())};n.isCordova&&(i(),document.addEventListener("deviceready",s,!1)),"complete"===document.readyState||"loaded"===document.readyState?window.setTimeout(u):document.addEventListener?(document.addEventListener("DOMContentLoaded",u,!1),window.addEventListener("load",u,!1)):(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&u()})),window.attachEvent("load",u)),n.startup=function(e){var o=!document.addEventListener&&document.documentElement.doScroll;if(o&&window===top){try{o("left")}catch(i){return void setTimeout((function(){n.startup(e)}),50)}e()}else r?e():t.push(e)}}.call(this),function(){var t=0;n._debug=function(){if(t)t--;else if("undefined"!=typeof console&&void 0!==console.log)if(0==arguments.length)console.log("");else if("function"==typeof console.log.apply){for(var e=!0,n=0;n<arguments.length;n++)"string"!=typeof arguments[n]&&(e=!1);e?console.log.apply(console,[Array.prototype.join.call(arguments," ")]):console.log.apply(console,arguments)}else if("function"==typeof Function.prototype.bind){var r=Function.prototype.bind.call(console.log,console);r.apply(console,arguments)}else Function.prototype.call.call(console.log,console,Array.prototype.slice.call(arguments))},n._suppress_log=function(e){t+=e},n._suppressed_log_expected=function(){return 0!==t}}.call(this),function(){n._escapeRegExp=function(t){return String(t).replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}.call(this),function(){var t;t=n.isClient?e.TEST_METADATA:process.env.TEST_METADATA;var r=JSON.parse(t||"{}"),o=r.driverPackage;n.isTest=!!r.isTest,n.isAppTest=!!r.isAppTest,n.isPackageTest=!!o&&!n.isTest&&!n.isAppTest,"string"==typeof o&&n.startup((function(){var t=Package[o];if(!t)throw new Error("Can't find test driver package: "+o);if(n.isClient){if("function"!=typeof t.runTests)throw new Error("Test driver package "+o+" missing `runTests` export");t.runTests()}else"function"==typeof t.start&&t.start()}))}.call(this),function(){var t=0,e=[];n.EnvironmentVariable=function(){this.slot=t++};var r=n.EnvironmentVariable.prototype;r.get=function(){return e[this.slot]},r.getOrNullIfOutsideFiber=function(){return this.get()},r.withValue=function(t,n){var r=e[this.slot];try{e[this.slot]=t;var o=n()}finally{e[this.slot]=r}return o},n.bindEnvironment=function(t,r,o){var i=e.slice();if(!r||"string"==typeof r){var s=r||"callback of async function";r=function(t){n._debug("Exception in "+s+":",t)}}return function(){var n=e;try{e=i;var s=t.apply(o,arguments)}catch(a){r(a)}finally{e=n}return s}},n._nodeCodeMustBeInFiber=function(){}}.call(this),function(){n.absoluteUrl=function(t,e){e||"object"!=typeof t||(e=t,t=void 0);var r=(e=Object.assign({},n.absoluteUrl.defaultOptions,e||{})).rootUrl;if(!r)throw new Error("Must pass options.rootUrl or set ROOT_URL in the server environment");if(/^http[s]?:\/\//i.test(r)||(r="http://"+r),r.endsWith("/")||(r+="/"),t){for(;t.startsWith("/");)t=t.slice(1);r+=t}return e.secure&&/^http:/.test(r)&&!/http:\/\/localhost[:\/]/.test(r)&&!/http:\/\/127\.0\.0\.1[:\/]/.test(r)&&(r=r.replace(/^http:/,"https:")),e.replaceLocalhost&&(r=r.replace(/^http:\/\/localhost([:\/].*)/,"http://127.0.0.1$1")),r};var t=n.absoluteUrl.defaultOptions={},e="object"==typeof window&&window.location;"object"==typeof __meteor_runtime_config__&&__meteor_runtime_config__.ROOT_URL?t.rootUrl=__meteor_runtime_config__.ROOT_URL:e&&e.protocol&&e.host&&(t.rootUrl=e.protocol+"//"+e.host),e&&"https:"===e.protocol&&(t.secure=!0),n._relativeToSiteRootUrl=function(t){return"object"==typeof __meteor_runtime_config__&&"/"===t.substr(0,1)&&(t=(__meteor_runtime_config__.ROOT_URL_PATH_PREFIX||"")+t),t}}.call(this),Package._define("meteor",{Meteor:n,global:t,meteorEnv:e})}();

Package._define("meteor-base");

Package._define("mobile-experience");

!function(){var n=Package.meteor.Meteor,t=Package.meteor.global,e=Package.meteor.meteorEnv,r,o;r=function(n){"use strict";var t=(n=n||{}).extensions||[".js",".json"],e=n.fallback,r=n.mainFields||(n.browser?["browser","main"]:["main"]),o={}.hasOwnProperty;function i(n,t){return p(n)&&v(t)&&o.call(n,t)}var u={},s=new b("/",new b("/..")),c=y(s),f,a;function l(n,t){return p(n)&&P(s,n,t),c}function d(n){this.id=n,this.children=[],this.childrenById={}}function h(n,t){return i(n,t)&&n[t]}function p(n){return null!==n&&"object"==typeof n}function m(n){return"function"==typeof n}function v(n){return"string"==typeof n}function w(n){return new Error("Cannot find module '"+n+"'")}function y(n){var t=n.module;function e(n){return t.require(n)}return e.extensions=j(n).slice(0),e.resolve=function n(e){return t.resolve(e)},e}function b(n,t){var e=this;this.parent=t=t||null,this.module=new d(n),u[n]=this,this.contents=null,this.deps={}}function g(n,t){var e=n.module;if(!i(e,"exports")){var r=n.contents;if(!r){if(n.stub)return n.stub;throw w(e.id)}if(t){e.parent=t;var o=t.children;Array.isArray(o)&&o.push(e)}r(y(n),e.exports=n.stub||{},e,n.module.id,n.parent.module.id),e.loaded=!0}var u=e.runSetters||e.runModuleSetters;return m(u)&&u.call(e),e.exports}function k(n){return n&&p(n.contents)}function E(n){return n&&null===n.contents}function P(n,t,e){Array.isArray(t)?(t.forEach((function(e){v(e)?n.deps[e]=n.module.id:m(e)?t=e:p(e)&&(n.stub=n.stub||{},x(e,(function(t,e){n.stub[e]=t})))})),m(t)||(t=null)):m(t)||v(t)||p(t)||(t=null),t&&(n.contents=n.contents||(p(t)?{}:t),p(t)&&k(n)&&x(t,(function(t,r){if(".."===r)o=n.parent;else{var o=h(n.contents,r);o||((o=n.contents[r]=new b(n.module.id.replace(/\/*$/,"/")+r,n)).options=e)}P(o,t,e)})))}function x(n,t,e){Object.keys(n).forEach((function(e){t.call(this,n[e],e)}),e)}function j(n){return n.options&&n.options.extensions||t}function O(n,t,e){for(;n&&!k(n);)n=n.parent;if(!n||!t||"."===t)return n;if(".."===t)return n.parent;var r=h(n.contents,t);if(e&&(!r||k(r)))for(var o=0;o<e.length;++o){var i=h(n.contents,t+e[o]);if(i&&!k(i))return i}return r}function I(n,t,e){var r=t.split("/");return r.every((function(t,o){return n=o<r.length-1?O(n,t):O(n,t,e)})),n}function A(n,t){var e=t&&t.module;n&&e&&(n.childrenById[e.id]=e)}function q(n,t,e,o){var e=e||n.module,i=j(n);for(n="/"===t.charAt(0)?I(s,t,i):"."===t.charAt(0)?I(n,t,i):M(n,t,i);k(n);){if((o=o||[]).indexOf(n)<0){o.push(n);var u=O(n,"package.json"),c=u&&g(u,e),f,a;if(c&&r.some((function(t){var r=c[t];if(v(r))return f=I(n,r,i)||q(n,r,e,o)}))&&f){n=f,A(e,u);continue}}n=O(n,"index",i)}return n&&v(n.contents)&&(n=q(n,n.contents,e,o)),A(e,n),n}function M(n,t,e){for(var r;n&&!r;n=n.parent)r=k(n)&&I(n,"node_modules/"+t,e);return r}return l.fetch=function(n){throw new Error("fetch not implemented")},d.prototype.prefetch=function(n){var t=this,e=h(u,t.id),r=f=f||Promise.resolve();function o(n){var t=h(u,n.id);E(t)&&!t.pending&&(t.pending=!0,(a=a||{})[n.id]={module:t.module,deps:Object.keys(t.deps),options:t.options,stub:t.stub},x(t.deps,(function(n,e){q(t,e)})),x(n.childrenById,o))}return f=new Promise((function(e){var r=t.resolve(n);x(t.childrenById,o),e(r)})).then((function(n){var t=a;function e(){t&&Object.keys(t).forEach((function(n){h(u,n).pending=!1}))}return a=null,new Promise((function(n){n(t&&l.fetch(t))})).then((function(t){function o(){return l(t),e(),n}return r.then(o,o)}),(function(n){throw e(),n}))}))},l.Module=d,d.prototype.resolve=function(n){var t=q(u[this.id],n);if(t)return t.module.id;var r=w(n);if(e&&m(e.resolve))return e.resolve(n,this.id,r);throw r},d.prototype.require=function n(t){var r=q(u[this.id],t);if(r)return g(r,this);var o=w(t);if(m(e))return e(t,this.id,o);throw o},l},"object"==typeof exports&&(exports.makeInstaller=r),function(){o=r({browser:!0,mainFields:["browser","module","main"],fallback:function(n,t,e){if(n&&n.startsWith("meteor/")){var r=n.split("/",2)[1];throw new Error('Cannot find package "'+r+'". Try "meteor add '+r+'".')}throw e}})}.call(this),function(){o=r({browser:!0,mainFields:["browser","main","module"],fallback:function(n,t,e){if(n&&n.startsWith("meteor/")){var r=n.split("/",2)[1];throw new Error('Cannot find package "'+r+'". Try "meteor add '+r+'".')}throw e}})}.call(this),function(){if("function"==typeof Profile&&process.env.METEOR_PROFILE){var n=o.Module.prototype;n.require=Profile((function(n){return"require("+JSON.stringify(n)+")"}),n.require)}}.call(this),Package._define("modules-runtime",{meteorInstall:o})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,r=Package.meteor.meteorEnv,n=Package["modules-runtime"].meteorInstall,o,s=n({node_modules:{meteor:{modules:{"client.js":function(e,t){e("./install-packages.js"),e("./stubs.js"),e("./process.js"),e("./reify.js"),t.addStyles=e("./css").addStyles},"legacy.js":function(e){o=e("meteor-babel-helpers")},"css.js":function(e,t){var r=document,n=r.getElementsByTagName("head").item(0);t.addStyles=function(e){var t=r.createElement("style");t.setAttribute("type","text/css");var o=t.sheet||t.styleSheet;return o?o.cssText=e:t.appendChild(r.createTextNode(e)),n.appendChild(t)}},"install-packages.js":function(e,t,r){function o(e,t){var r={};r[e+".js"]="string"==typeof t?t:function(t,r,n){n.exports=Package[e]},n({node_modules:{meteor:r}})}o("meteor"),o("meteor-base"),o("mobile-experience"),o("modules-runtime"),o("modules","meteor/modules/client.js"),o("modern-browsers"),o("babel-compiler"),o("ecmascript"),o("ecmascript-runtime"),o("babel-runtime","meteor/babel-runtime/babel-runtime.js"),o("promise","meteor/promise/client.js"),o("fetch","meteor/fetch/legacy.js"),o("dynamic-import","meteor/dynamic-import/client.js"),o("es5-shim","meteor/es5-shim/client.js"),o("ecmascript-runtime-client","meteor/ecmascript-runtime-client/legacy.js"),o("base64","meteor/base64/base64.js"),o("ejson","meteor/ejson/ejson.js"),o("diff-sequence","meteor/diff-sequence/diff.js"),o("geojson-utils","meteor/geojson-utils/main.js"),o("id-map","meteor/id-map/id-map.js"),o("random"),o("mongo-id","meteor/mongo-id/id.js"),o("ordered-dict","meteor/ordered-dict/ordered_dict.js"),o("tracker"),o("minimongo","meteor/minimongo/minimongo_client.js"),o("check","meteor/check/match.js"),o("retry","meteor/retry/retry.js"),o("callback-hook","meteor/callback-hook/hook.js"),o("ddp-common"),o("reload","meteor/reload/reload.js"),o("socket-stream-client","meteor/socket-stream-client/browser.js"),o("ddp-client","meteor/ddp-client/client/client.js"),o("ddp"),o("ddp-server"),o("allow-deny"),o("insecure"),o("mongo"),o("blaze-html-templates"),o("reactive-var"),o("standard-minifier-css"),o("standard-minifier-js"),o("typescript"),o("shell-server"),o("ddp-rate-limiter"),o("localstorage"),o("jquery","meteor/jquery/main.js"),o("underscore"),o("observe-sequence"),o("deps"),o("htmljs"),o("blaze"),o("accounts-base","meteor/accounts-base/client_main.js"),o("sha"),o("srp"),o("accounts-password"),o("alexwine:bootstrap-4"),o("amplify"),o("reactive-dict","meteor/reactive-dict/migration.js"),o("session","meteor/session/session.js"),o("cultofcoders:persistent-session"),o("ui"),o("spacebars"),o("templating-compiler"),o("templating-runtime"),o("templating"),o("iron:core"),o("iron:dynamic-template"),o("iron:layout"),o("iron:url"),o("iron:middleware-stack"),o("iron:location"),o("iron:controller"),o("iron:router"),o("rzymek:moment"),o("coffeescript"),o("raix:eventemitter"),o("meteorspark:util"),o("tap:i18n"),o("themeteorchef:jquery-validation"),o("alanning:roles"),o("softwarerero:accounts-t9n"),o("momentjs:moment"),o("rzymek:moment-locale-fr"),o("chuangbo:cookie"),o("chrismbeckett:toastr"),o("tomi:upload-server"),o("tomi:upload-jquery"),o("copleykj:jquery-autosize"),o("copleykj:livestamp"),o("konecty:autolinker"),o("gabrielengel:konecty-magnific-popup"),o("cfs:graphicsmagick"),o("teamon:tinymce"),o("meteorhacks:inject-initial"),o("matb33:collection-hooks","meteor/matb33:collection-hooks/client.js"),o("webapp","meteor/webapp/webapp_client.js"),o("livedata"),o("hot-code-push"),o("launch-screen"),o("autoupdate","meteor/autoupdate/autoupdate_client.js"),o("service-configuration")},"process.js":function(o,s,i){if(!t.process)try{t.process=o("process")}catch(l){t.process={}}var a=t.process;e.isServer?n({node_modules:{"process.js":function(e,t,r){r.exports=a}}}):(a.platform="browser",a.nextTick=a.nextTick||e._setImmediate),"object"!=typeof a.env&&(a.env={});var c=Object.prototype.hasOwnProperty;for(var u in r)c.call(r,u)&&(a.env[u]=r[u])},"reify.js":function(e,t,r){e("reify/lib/runtime").enable(r.constructor.prototype)},"stubs.js":function(e){var t=!1;try{e.resolve("meteor-node-stubs"),t=!0}catch(r){}t&&e("meteor-node-stubs")},node_modules:{reify:{lib:{runtime:{"index.js":function(e,t,r){"use strict";var n=e("./utils.js"),o=e("./entry.js");function s(e,t,r){n.setESModule(this.exports),o.getOrCreate(this.id,this);var s=this.resolve(e),i=o.getOrCreate(s);n.isObject(t)&&i.addSetters(this,t,r);var a=this.require(s);null===i.module&&(i.module={id:s,exports:a}),i.runSetters()}function i(e,t){n.setESModule(this.exports);var r=o.getOrCreate(this.id,this);r.addGetters(e,t),this.loaded&&r.runSetters()}function a(e){return this.export({default:function(){return e}},!0)}function c(e){var t=this,r="*+"===e;return function(o){"*"===e||"*+"===e?Object.keys(o).forEach((function(e){(r||"default"!==e)&&n.copyKey(e,t.exports,o)})):t.exports[e]=o}}function u(e){return o.getOrCreate(this.id,this).runSetters(),e}function l(e){return this.exportAs(e?"*+":"*")}t.enable=function(e){return e.link!==s&&(e.link=s,e.export=i,e.exportDefault=a,e.exportAs=c,e.runSetters=u,e.makeNsSetter=l,!0)}},"utils.js":function(e,t,r){"use strict";var n="function"==typeof Object.setPrototypeOf,o="function"==typeof Symbol,s="__esModule",i=o?Symbol.for(s):null,a=o&&"symbol"==typeof Symbol.toStringTag,c="function"==typeof Object.getOwnPropertyDescriptor,u=Object.prototype.hasOwnProperty;function l(e,t,r){if(c){var n=Object.getOwnPropertyDescriptor(r,e);n.configurable=!0,Object.defineProperty(t,e,n)}else t[e]=r[e]}function f(e){if(d(e)){if(o&&u.call(e,i))return!!e[i];if(u.call(e,s))return!!e[s]}return!1}function p(e){d(e)&&(o&&(e[i]=!0),e[s]||Object.defineProperty(e,s,{configurable:!0,enumerable:!1,value:!0,writable:!1}))}function m(e){return"object"==typeof e&&null!==e}function d(e){var t=typeof e;return"function"===t||"object"===t&&null!==e}function b(){var e=Object.create(null);return a&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module",configurable:!1,enumerable:!1,writable:!1}),p(e),e}function y(e,t){return n?Object.setPrototypeOf(e,t):e.__proto__=t,e}t.copyKey=l,t.valueOrGetter=function(e,t){if(c&&u.call(e,t)){var r=Object.getOwnPropertyDescriptor(e,t);if("function"==typeof r.get)return r.get}return e[t]},t.getESModule=f,t.setESModule=p,t.isObject=m,t.isObjectLike=d,t.createNamespace=b,t.setPrototypeOf=y},"entry.js":function(e,t,r){"use strict";var n=e("./utils.js"),o={},s={},i={},a=Object.prototype.hasOwnProperty,c=0;function u(e){this.id=e,this.module=null,this.getters=Object.create(null),this.setters=Object.create(null),this.namespace=n.createNamespace()}var l=n.setPrototypeOf(u.prototype,null),f=Object.create(null);function p(e){var t=Object.keys(e),r=t.indexOf("__esModule");return r>=0&&t.splice(r,1),t}function m(e,t){if("function"==typeof t)return t;if("string"==typeof t)return e.exportAs(t);if(Array.isArray(t))switch(t.length){case 0:return null;case 1:return m(e,t[0]);default:var r=t.map((function(t){return m(e,t)}));return function(e){r.forEach((function(t){t(e)}))}}return null}function d(e,t){var r=!1;if(null!==e.module){var o=e.module.exports;n.getESModule(o)||(e.namespace.default=o,r=!0),n.isObjectLike(o)&&((void 0===t||t.indexOf("*")>=0)&&(t=Object.keys(o)),t.forEach((function(t){a.call(e.getters,t)||r&&"default"===t||!a.call(o,t)||n.copyKey(t,e.namespace,o)})))}}function b(e,t,r,o){if("__esModule"!==t){var a=!1;if(void 0===e.last&&(e.last=Object.create(null),a=!0),"*"===t)for(var c=p(r),u=c.length,l=0;l<u;++l){var f=c[l];m(f,n.valueOrGetter(r,f))&&(a=!0)}else m(t,r)&&(a=!0);return a?o(e,t,r):void 0}function m(t,r){var n=r;return n!=n?n=s:void 0===n&&(n=i),e.last[t]!==n&&(e.last[t]=n,!0)}}function y(e,t,r){var n=!0;void 0===t&&(t=Object.keys(e.setters),n=!1);for(var o=t.length,s=0;s<o;++s){var i=t[s];if(!n||a.call(e.setters,i))for(var c=e.setters[i],u=Object.keys(c),l=u.length,f=0;f<l;++f){var p=u[f],m=j(e,i);b(c[p],i,m,r);var d=e.getters[i];"function"==typeof d&&d.runCount>0&&d.constant&&delete c[p]}}}function j(e,t){if("*"===t)return e.namespace;if(a.call(e.namespace,t))return e.namespace[t];if(null!==e.module){var r=e.module.exports;if("default"===t&&!(n.getESModule(r)&&"default"in r))return r;if(null!=r)return r[t]}}function h(){return Math.random().toString(36).replace("0.",++c+"$")}function v(e,t){var r=e.getters[t];try{var n=r();return++r.runCount,n}catch(s){}return o}u.getOrCreate=function(e,t){var r=a.call(f,e)?f[e]:f[e]=new u(e);return n.isObject(t)&&t.id===r.id&&(r.module=t),r},l.addGetters=function(e,t){var r=p(e),n=r.length;t=!!t;for(var o=0;o<n;++o){var s=r[o],i=e[s];"function"!=typeof i||s in this.getters||(this.getters[s]=i,i.constant=t,i.runCount=0)}},l.addSetters=function(e,t,r){var n=p(t),o=n.length;if(o){r=void 0===r?h():e.id+":"+r;for(var s=this,i=0;i<o;++i){var a=n[i],c=m(e,t[a]);"function"==typeof c&&(c.parent=e,a in this.setters||(this.setters[a]=Object.create(null)),this.setters[a][r]=c)}this.runSetters(n)}},l.runGetters=function(e){d(this,e),(void 0===e||e.indexOf("*")>=0)&&(e=Object.keys(this.getters));for(var t=e.length,r=0;r<t;++r){var n=e[r],s=v(this,n);s!==o&&(this.namespace[n]=s,this.module.exports[n]=s)}},l.runSetters=function(e){var t;if(this.runGetters(e),y(this,e,(function(e,r,n){void 0===t&&(t=Object.create(null)),t[e.parent.id]=e.parent,e(n,r)})),t)for(var r=Object.keys(t),n=r.length,o=0;o<n;++o){var s=t[r[o]],i=f[s.id];i&&i.runSetters()}},r.exports=u}}}},"meteor-babel-helpers":{"package.json":function(e,t,r){r.exports={name:"meteor-babel-helpers",version:"0.0.3",main:"index.js"}},"index.js":function(e,t,r){function n(){var e={},t="t";try{for(var r in Object.defineProperty(e,"t",{enumerable:!1,value:e}),e)if("t"===r)return!1}catch(n){return!1}return e.t===e}function s(e){return e}function i(e){if(Array.isArray(e)){for(var t={},r=Object.keys(e),n=r.length,o=0;o<n;++o){var s=r[o];t[s]=e[s]}return t}return e}o=r.exports={sanitizeForInObject:n()?s:i,_sanitizeForInObjectHard:i}}}}}}}},{extensions:[".js",".json"]});n({node_modules:{"meteor-node-stubs":{"package.json":function(e,t,r){r.exports={name:"meteor-node-stubs",version:"1.0.0",main:"index.js"}},"index.js":function(e,r,o){var s=e("./map.json"),i={};if(Object.keys(s).forEach((function(e){if("string"==typeof s[e]){var t=o.id.split("/");t.pop(),t.push("node_modules",s[e]),r[e]=i[e+".js"]=t.join("/")}else r[e]=s[e],i[e+".js"]=function(){}})),"function"==typeof n&&n({"..":{node_modules:i}}),"function"!=typeof t.Buffer)try{t.Buffer=e("buffer").Buffer}catch(a){}},"map.json":function(e,t,r){r.exports={assert:"assert/",buffer:"buffer/",child_process:null,cluster:null,console:"console-browserify",constants:"constants-browserify",crypto:"../wrappers/crypto.js",dgram:null,dns:null,domain:"domain-browser",events:"events/",fs:null,http:"stream-http",https:"https-browserify",module:"../wrappers/module.js",net:null,os:"os-browserify/browser.js",path:"path-browserify",process:"process/browser.js",punycode:"punycode/",querystring:"querystring-es3/",readline:null,repl:null,stream:"stream-browserify",_stream_duplex:"readable-stream/lib/_stream_duplex.js",_stream_passthrough:"readable-stream/lib/_stream_passthrough.js",_stream_readable:"readable-stream/lib/_stream_readable.js",_stream_transform:"readable-stream/lib/_stream_transform.js",_stream_writable:"readable-stream/lib/_stream_writable.js",string_decoder:"string_decoder/",sys:"util/util.js",timers:"timers-browserify",tls:null,tty:"tty-browserify",url:"url/",util:"util/util.js",vm:"vm-browserify",zlib:"browserify-zlib"}},deps:{"process.js":function(e){e("process/browser.js")}},node_modules:{process:{"browser.js":function(e,t,r){var n=r.exports={},o,s;function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(e){if(o===setTimeout)return setTimeout(e,0);if((o===i||!o)&&setTimeout)return o=setTimeout,setTimeout(e,0);try{return o(e,0)}catch(t){try{return o.call(null,e,0)}catch(t){return o.call(this,e,0)}}}function u(e){if(s===clearTimeout)return clearTimeout(e);if((s===a||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(e);try{return s(e)}catch(t){try{return s.call(null,e)}catch(t){return s.call(this,e)}}}!function(){try{o="function"==typeof setTimeout?setTimeout:i}catch(e){o=i}try{s="function"==typeof clearTimeout?clearTimeout:a}catch(e){s=a}}();var l=[],f=!1,p,m=-1;function d(){f&&p&&(f=!1,p.length?l=p.concat(l):m=-1,l.length&&b())}function b(){if(!f){var e=c(d);f=!0;for(var t=l.length;t;){for(p=l,l=[];++m<t;)p&&p[m].run();m=-1,t=l.length}p=null,f=!1,u(e)}}function y(e,t){this.fun=e,this.array=t}function j(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new y(e,t)),1!==l.length||f||c(b)},y.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=j,n.addListener=j,n.once=j,n.off=j,n.removeListener=j,n.removeAllListeners=j,n.emit=j,n.prependListener=j,n.prependOnceListener=j,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}}}}},"@babel":{runtime:{"package.json":function(e,t,r){r.exports={author:{name:"Sebastian McKenzie",email:"sebmck@gmail.com"},bugs:{url:"https://github.com/babel/babel/issues"},bundleDependencies:!1,dependencies:{"regenerator-runtime":"^0.13.2"},deprecated:!1,description:"babel's modular runtime helpers",devDependencies:{"@babel/helpers":"^7.7.4"},gitHead:"f753c48f74e9556265796806370fdf104e8147eb",homepage:"https://babeljs.io/docs/en/next/babel-runtime",license:"MIT",name:"@babel/runtime",publishConfig:{access:"public"},repository:{type:"git",url:"git+https://github.com/babel/babel.git",directory:"packages/babel-runtime"},version:"7.7.6"}},helpers:{"typeof.js":function(e,t,r){function n(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?r.exports=n=function e(t){return typeof t}:r.exports=n=function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(e)}r.exports=n},"toConsumableArray.js":function(e,t,r){var n=e("./arrayWithoutHoles"),o=e("./iterableToArray"),s=e("./nonIterableSpread");function i(e){return n(e)||o(e)||s()}r.exports=i},"arrayWithoutHoles.js":function(e,t,r){function n(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}r.exports=n},"iterableToArray.js":function(e,t,r){function n(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}r.exports=n},"nonIterableSpread.js":function(e,t,r){function n(){throw new TypeError("Invalid attempt to spread non-iterable instance")}r.exports=n},"inheritsLoose.js":function(e,t,r){function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}r.exports=n},"objectSpread2.js":function(e,t,r){var n=e("./defineProperty");function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r.exports=s},"defineProperty.js":function(e,t,r){function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.exports=n},"slicedToArray.js":function(e,t,r){var n=e("./arrayWithHoles"),o=e("./iterableToArrayLimit"),s=e("./nonIterableRest");function i(e,t){return n(e)||o(e,t)||s()}r.exports=i},"arrayWithHoles.js":function(e,t,r){function n(e){if(Array.isArray(e))return e}r.exports=n},"iterableToArrayLimit.js":function(e,t,r){function n(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,o=!1,s=void 0;try{for(var i=e[Symbol.iterator](),a;!(n=(a=i.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(c){o=!0,s=c}finally{try{n||null==i.return||i.return()}finally{if(o)throw s}}return r}}r.exports=n},"nonIterableRest.js":function(e,t,r){function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}r.exports=n},"objectWithoutProperties.js":function(e,t,r){var n=e("./objectWithoutPropertiesLoose");function o(e,t){if(null==e)return{};var r=n(e,t),o,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)o=i[s],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}r.exports=o},"objectWithoutPropertiesLoose.js":function(e,t,r){function n(e,t){if(null==e)return{};var r={},n=Object.keys(e),o,s;for(s=0;s<n.length;s++)o=n[s],t.indexOf(o)>=0||(r[o]=e[o]);return r}r.exports=n},"assertThisInitialized.js":function(e,t,r){function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.exports=n}}}}}},{extensions:[".js",".json",".html",".ts",".css"]});var i=s("/node_modules/meteor/modules/client.js");s("/node_modules/meteor/modules/legacy.js"),Package._define("modules",i,{meteorInstall:n,meteorBabelHelpers:o})}();

Package._define("modern-browsers");

Package._define("babel-compiler");

Package._define("ecmascript");

Package._define("ecmascript-runtime");

!function(){var e=Package.meteor.Meteor,n=Package.meteor.global,o=Package.meteor.meteorEnv,a=Package.modules.meteorInstall,t=Package.modules.meteorBabelHelpers,r,l=a({node_modules:{meteor:{"babel-runtime":{"babel-runtime.js":function(e){try{var n=e("@babel/runtime/package.json").version}catch(o){throw new Error(["","The @babel/runtime npm package could not be found in your node_modules ","directory. Please run the following command to install it:","","  meteor npm install --save @babel/runtime",""].join("\n"))}(parseInt(n,10)<7||0===n.indexOf("7.0.0-beta.")&&parseInt(n.split(".").pop(),10)<56)&&console.error(["The version of @babel/runtime installed in your node_modules directory ","("+n+") is out of date. Please upgrade it by running ","","  meteor npm install --save @babel/runtime@latest","","in your application directory.",""].join("\n"))}}}}},{extensions:[".js",".json"]})("/node_modules/meteor/babel-runtime/babel-runtime.js");Package._define("babel-runtime",l)}();

!function(){var n=Package.meteor.Meteor,e=Package.meteor.global,t=Package.meteor.meteorEnv,o=Package.modules.meteorInstall,r=Package.modules.meteorBabelHelpers,i,s=o({node_modules:{meteor:{promise:{"modern.js":function(){i=e.Promise},"legacy.js":function(n){i="function"==typeof e.Promise?e.Promise:e.Promise=n("promise/lib/es6-extensions")},"client.js":function(n){n("./extensions.js"),n("meteor-promise").makeCompatible(i)},"extensions.js":function(){var e=i.prototype,t=Object.prototype.hasOwnProperty;e.done=function(e,t){var o=this;arguments.length>0&&(o=this.then.apply(this,arguments)),o.then(null,(function(e){n._setImmediate((function(){throw e}))}))},t.call(e,"finally")||(e.finally=function(n){var e=!1,t;return this.then((function(e){return t=e,n()}),(function(o){return e=!0,t=o,n()})).then((function(){if(e)throw t;return t}))})},node_modules:{promise:{lib:{"es6-extensions.js":function(n,e,t){"use strict";var o=n("./core.js");t.exports=o;var r=a(!0),i=a(!1),s=a(null),u=a(void 0),c=a(0),f=a("");function a(n){var e=new o(o._n);return e._i=1,e._j=n,e}o.resolve=function(n){if(n instanceof o)return n;if(null===n)return s;if(void 0===n)return u;if(!0===n)return r;if(!1===n)return i;if(0===n)return c;if(""===n)return f;if("object"==typeof n||"function"==typeof n)try{var e=n.then;if("function"==typeof e)return new o(e.bind(n))}catch(t){return new o((function(n,e){e(t)}))}return a(n)},o.all=function(n){var e=Array.prototype.slice.call(n);return new o((function(n,t){if(0===e.length)return n([]);var r=e.length;function i(s,u){if(u&&("object"==typeof u||"function"==typeof u)){if(u instanceof o&&u.then===o.prototype.then){for(;3===u._i;)u=u._j;return 1===u._i?i(s,u._j):(2===u._i&&t(u._j),void u.then((function(n){i(s,n)}),t))}var c=u.then,f;if("function"==typeof c)return void new o(c.bind(u)).then((function(n){i(s,n)}),t)}e[s]=u,0==--r&&n(e)}for(var s=0;s<e.length;s++)i(s,e[s])}))},o.reject=function(n){return new o((function(e,t){t(n)}))},o.race=function(n){return new o((function(e,t){n.forEach((function(n){o.resolve(n).then(e,t)}))}))},o.prototype.catch=function(n){return this.then(null,n)}},"core.js":function(n,e,t){"use strict";var o=n("asap/raw");function r(){}var i=null,s={};function u(n){try{return n.then}catch(e){return i=e,s}}function c(n,e){try{return n(e)}catch(t){return i=t,s}}function f(n,e,t){try{n(e,t)}catch(o){return i=o,s}}function a(n){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof n)throw new TypeError("Promise constructor's argument is not a function");this._h=0,this._i=0,this._j=null,this._k=null,n!==r&&d(n,this)}function l(n,e,t){return new n.constructor((function(o,i){var s=new a(r);s.then(o,i),p(n,new j(e,t,s))}))}function p(n,e){for(;3===n._i;)n=n._j;if(a._l&&a._l(n),0===n._i)return 0===n._h?(n._h=1,void(n._k=e)):1===n._h?(n._h=2,void(n._k=[n._k,e])):void n._k.push(e);m(n,e)}function m(n,e){o((function(){var t=1===n._i?e.onFulfilled:e.onRejected;if(null!==t){var o=c(t,n._j);o===s?_(e.promise,i):h(e.promise,o)}else 1===n._i?h(e.promise,n._j):_(e.promise,n._j)}))}function h(n,e){if(e===n)return _(n,new TypeError("A promise cannot be resolved with itself."));if(e&&("object"==typeof e||"function"==typeof e)){var t=u(e);if(t===s)return _(n,i);if(t===n.then&&e instanceof a)return n._i=3,n._j=e,void v(n);if("function"==typeof t)return void d(t.bind(e),n)}n._i=1,n._j=e,v(n)}function _(n,e){n._i=2,n._j=e,a._m&&a._m(n,e),v(n)}function v(n){if(1===n._h&&(p(n,n._k),n._k=null),2===n._h){for(var e=0;e<n._k.length;e++)p(n,n._k[e]);n._k=null}}function j(n,e,t){this.onFulfilled="function"==typeof n?n:null,this.onRejected="function"==typeof e?e:null,this.promise=t}function d(n,e){var t=!1,o=f(n,(function(n){t||(t=!0,h(e,n))}),(function(n){t||(t=!0,_(e,n))}));t||o!==s||(t=!0,_(e,i))}t.exports=a,a._l=null,a._m=null,a._n=r,a.prototype.then=function(n,e){if(this.constructor!==a)return l(this,n,e);var t=new a(r);return p(this,new j(n,e,t)),t}}}},asap:{"package.json":function(n,e,t){t.exports={name:"asap",version:"2.0.6",browser:{"./asap":"./browser-asap.js","./asap.js":"./browser-asap.js","./raw":"./browser-raw.js","./raw.js":"./browser-raw.js","./test/domain.js":"./test/browser-domain.js"},main:"./asap.js"}},"raw.js":"/node_modules/meteor/promise/node_modules/asap/browser-raw.js","browser-raw.js":function(n,t,o){"use strict";function r(n){i.length||(u(),s=!0),i[i.length]=n}o.exports=r;var i=[],s=!1,u,c=0,f=1024;function a(){for(;c<i.length;){var n=c;if(c+=1,i[n].call(),c>f){for(var e=0,t=i.length-c;e<t;e++)i[e]=i[e+c];i.length-=c,c=0}}i.length=0,c=0,s=!1}var l=void 0!==e?e:self,p=l.MutationObserver||l.WebKitMutationObserver;function m(n){var e=1,t=new p(n),o=document.createTextNode("");return t.observe(o,{characterData:!0}),function n(){e=-e,o.data=e}}function h(n){return function e(){var t=setTimeout(r,0),o=setInterval(r,50);function r(){clearTimeout(t),clearInterval(o),n()}}}u="function"==typeof p?m(a):h(a),r.requestFlush=u,r.makeRequestCallFromTimer=h}},"meteor-promise":{"package.json":function(n,e,t){t.exports={name:"meteor-promise",version:"0.8.7",browser:"promise_client.js",main:"promise_server.js"}},"promise_client.js":function(e,t){function o(n){throw n}t.makeCompatible=function(e){var t=e.prototype.then;e.prototype.then=function(e,r){return"object"==typeof n&&"function"==typeof n.bindEnvironment?t.call(this,e&&n.bindEnvironment(e,o),r&&n.bindEnvironment(r,o)):t.call(this,e,r)}}}}}}}}},{extensions:[".js",".json"]});s("/node_modules/meteor/promise/modern.js"),s("/node_modules/meteor/promise/legacy.js");var u=s("/node_modules/meteor/promise/client.js");Package._define("promise",u,{Promise:i})}();

!function(){var t=Package.meteor.Meteor,e=Package.meteor.global,r=Package.meteor.meteorEnv,o=Package.modules.meteorInstall,n=Package.modules.meteorBabelHelpers,i=Package.promise.Promise,s,a,h=o({node_modules:{meteor:{fetch:{"legacy.js":function(t,r){t("whatwg-fetch"),r.fetch=e.fetch,r.Headers=e.Headers,r.Request=e.Request,r.Response=e.Response},node_modules:{"whatwg-fetch":{"package.json":function(t,e,r){r.exports={name:"whatwg-fetch",version:"2.0.4",main:"fetch.js"}},"fetch.js":function(){!function(t){"use strict";if(!t.fetch){var e={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(e.arrayBuffer)var r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=function(t){return t&&DataView.prototype.isPrototypeOf(t)},n=ArrayBuffer.isView||function(t){return t&&r.indexOf(Object.prototype.toString.call(t))>-1};d.prototype.append=function(t,e){t=h(t),e=f(e);var r=this.map[t];this.map[t]=r?r+","+e:e},d.prototype.delete=function(t){delete this.map[h(t)]},d.prototype.get=function(t){return t=h(t),this.has(t)?this.map[t]:null},d.prototype.has=function(t){return this.map.hasOwnProperty(h(t))},d.prototype.set=function(t,e){this.map[h(t)]=f(e)},d.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},d.prototype.keys=function(){var t=[];return this.forEach((function(e,r){t.push(r)})),u(t)},d.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),u(t)},d.prototype.entries=function(){var t=[];return this.forEach((function(e,r){t.push([r,e])})),u(t)},e.iterable&&(d.prototype[Symbol.iterator]=d.prototype.entries);var s=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];_.prototype.clone=function(){return new _(this,{body:this._bodyInit})},w.call(_.prototype),w.call(A.prototype),A.prototype.clone=function(){return new A(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},A.error=function(){var t=new A(null,{status:0,statusText:""});return t.type="error",t};var a=[301,302,303,307,308];A.redirect=function(t,e){if(-1===a.indexOf(e))throw new RangeError("Invalid status code");return new A(null,{status:e,headers:{location:t}})},t.Headers=d,t.Request=_,t.Response=A,t.fetch=function(t,r){return new i((function(o,n){var i=new _(t,r),s=new XMLHttpRequest;s.onload=function(){var t={status:s.status,statusText:s.statusText,headers:g(s.getAllResponseHeaders()||"")};t.url="responseURL"in s?s.responseURL:t.headers.get("X-Request-URL");var e="response"in s?s.response:s.responseText;o(new A(e,t))},s.onerror=function(){n(new TypeError("Network request failed"))},s.ontimeout=function(){n(new TypeError("Network request failed"))},s.open(i.method,i.url,!0),"include"===i.credentials?s.withCredentials=!0:"omit"===i.credentials&&(s.withCredentials=!1),"responseType"in s&&e.blob&&(s.responseType="blob"),i.headers.forEach((function(t,e){s.setRequestHeader(e,t)})),s.send(void 0===i._bodyInit?null:i._bodyInit)}))},t.fetch.polyfill=!0}function h(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function f(t){return"string"!=typeof t&&(t=String(t)),t}function u(t){var r={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return e.iterable&&(r[Symbol.iterator]=function(){return r}),r}function d(t){this.map={},t instanceof d?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function c(t){if(t.bodyUsed)return i.reject(new TypeError("Already read"));t.bodyUsed=!0}function l(t){return new i((function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}}))}function y(t){var e=new FileReader,r=l(e);return e.readAsArrayBuffer(t),r}function p(t){var e=new FileReader,r=l(e);return e.readAsText(t),r}function b(t){for(var e=new Uint8Array(t),r=new Array(e.length),o=0;o<e.length;o++)r[o]=String.fromCharCode(e[o]);return r.join("")}function m(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function w(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(e.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(e.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(e.arrayBuffer&&e.blob&&o(t))this._bodyArrayBuffer=m(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!e.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!n(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=m(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},e.blob&&(this.blob=function(){var t=c(this);if(t)return t;if(this._bodyBlob)return i.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return i.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return i.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?c(this)||i.resolve(this._bodyArrayBuffer):this.blob().then(y)}),this.text=function(){var t=c(this);if(t)return t;if(this._bodyBlob)return p(this._bodyBlob);if(this._bodyArrayBuffer)return i.resolve(b(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return i.resolve(this._bodyText)},e.formData&&(this.formData=function(){return this.text().then(B)}),this.json=function(){return this.text().then(JSON.parse)},this}function v(t){var e=t.toUpperCase();return s.indexOf(e)>-1?e:t}function _(t,e){var r=(e=e||{}).body;if(t instanceof _){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new d(t.headers)),this.method=t.method,this.mode=t.mode,r||null==t._bodyInit||(r=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new d(e.headers)),this.method=v(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function B(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var r=t.split("="),o=r.shift().replace(/\+/g," "),n=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(o),decodeURIComponent(n))}})),e}function g(t){var e=new d,r;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var r=t.split(":"),o=r.shift().trim();if(o){var n=r.join(":").trim();e.append(o,n)}})),e}function A(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new d(e.headers),this.url=e.url||"",this._initBody(t)}}("undefined"!=typeof self?self:this)}}}}}}},{extensions:[".js",".json"]})("/node_modules/meteor/fetch/legacy.js");Package._define("fetch",h,{fetch:s})}();

!function(){var e=Package.meteor.Meteor,n=Package.meteor.global,t=Package.meteor.meteorEnv,r=Package.modules.meteorInstall,o=Package.modules.meteorBabelHelpers,c=Package.promise.Promise,i=Package.fetch.fetch,u,a=r({node_modules:{meteor:{"dynamic-import":{"client.js":function(n,t,r){var o=r.constructor,c=n("./cache.js"),u=n("meteor/modules").meteorInstall;function a(e){var n=[""],t=Object.create(null);function r(e){e&&"object"==typeof e?Object.keys(e).forEach((function(t){n.push(t),r(e[t]),n.pop()})):"string"==typeof e&&(t[n.join("/")]=e)}return r(e),t}function s(e,n,t){return function(){return(t&&t.eval||eval)("("+n+")\n//# sourceURL="+e).apply(this,arguments)}}o.prototype.dynamicImport=function(e){var n=this;return n.prefetch(e).then((function(){return v(n,e)}))},u.fetch=function(e){var t=Object.create(null),r=Object.create(null),o=n("./dynamic-versions.js"),i;function u(n,r){m(t,n,s(n,r,e[n].options))}function f(e){m(i=i||Object.create(null),e,1)}return Object.keys(e).forEach((function(e){var n=o.get(e);n?r[e]=n:f(e)})),c.checkMany(r).then((function(e){return Object.keys(e).forEach((function(n){var t=e[n];t?u(n,t):f(n)})),i&&d(i).then((function(e){var n=Object.create(null),t=a(e);Object.keys(t).forEach((function(e){var r=t[e];u(e,r);var c=o.get(e);c&&(n[e]={version:c,source:r})})),c.setMany(n)}))})).then((function(){return t}))};var f=null;t.setSecretKey=function(e){f=e};var l=n("./common.js").fetchURL;function d(n){var t=e.absoluteUrl(l);return f&&(t+="key="+f),i(t,{method:"POST",body:JSON.stringify(n)}).then((function(e){if(!e.ok)throw e;return e.json()}))}function m(e,n,t){var r=n.split("/"),o=r.length-1;r.forEach((function(n,r){n&&(e=e[n]=e[n]||(r<o?Object.create(null):t))}))}function v(e,n){var t;return e.link(n,{"*":function(e){t=e}}),Object.defineProperty(t,"__esModule",{value:!0,enumerable:!1}),t}},"cache.js":function(n,t,r){var o,i=e.isClient&&!e.isCordova&&e.isProduction;function u(){return"undefined"!=typeof indexedDB?indexedDB:"undefined"!=typeof webkitIndexedDB?webkitIndexedDB:"undefined"!=typeof mozIndexedDB?mozIndexedDB:"undefined"!=typeof OIndexedDB?OIndexedDB:"undefined"!=typeof msIndexedDB?msIndexedDB:void 0}function a(e){return(o=o||new c((function(e,n){var t=u();if(!t)throw new Error("IndexedDB not available");var r=t.open("MeteorDynamicImportCache",2);r.onupgradeneeded=function(e){var n=e.target.result;Array.from(n.objectStoreNames).forEach(n.deleteObjectStore,n),Object.keys(s).forEach((function(e){n.createObjectStore(e,s[e])}))},r.onerror=f(n,"indexedDB.open"),r.onsuccess=function(n){e(n.target.result)}}))).then(e,(function(n){return e(null)}))}var s={sourcesByVersion:{keyPath:"version"}};function f(e,n){return function(t){return e(new Error("IndexedDB failure in "+n+" "+JSON.stringify(t.target))),!0}}var l=0;t.checkMany=function(e){var n=Object.keys(e),t=Object.create(null);return n.forEach((function(e){t[e]=null})),i?a((function(r){if(!r)return t;var o,i=r.transaction(["sourcesByVersion"],"readonly").objectStore("sourcesByVersion");function u(){return--l,t}return++l,c.all(n.map((function(n){return new c((function(r,o){var c=e[n];if(c){var u=i.get(c);u.onerror=f(o,"sourcesByVersion.get"),u.onsuccess=function(e){var o=e.target.result;o&&(t[n]=o.source),r()}}else r()}))}))).then(u,u)})):c.resolve(t)};var d=Object.create(null);function m(){if(l>0)return m.timer=setTimeout(m,100);m.timer=null;var e=d;return d=Object.create(null),a((function(n){if(n){var t,r=n.transaction(["sourcesByVersion"],"readwrite").objectStore("sourcesByVersion");return c.all(Object.keys(e).map((function(n){var t=e[n];return new c((function(e,n){var o=r.put({version:t.version,source:t.source});o.onerror=f(n,"sourcesByVersion.put"),o.onsuccess=e}))})))}}))}t.setMany=function(e){i&&(Object.assign(d,e),m.timer||(m.timer=setTimeout(m,100)))}},"common.js":function(e,n){n.fetchURL="/__meteor__/dynamic-import/fetch"},"dynamic-versions.js":function(e,t,r){var o={};function i(e){var n=[""],t=[];function r(e){e&&"object"==typeof e?Object.keys(e).forEach((function(t){n.push(t),r(e[t]),n.pop()})):"string"==typeof e&&t.push(n.join("/"))}return r(e),t}function u(e){function n(e,t){c.all(e.splice(0,t).map((function(e){return r.prefetch(e)}))).then((function(){e.length>0&&setTimeout((function(){n(e,t)}),0)}))}Package.appcache&&n(i(o),50)}t.get=function(e){var n=o,t=null;return e.split("/").some((function(e){return e&&(n=n[e]||n[e.replace(":","_")]),!n||("string"==typeof n?(t=n,!0):void 0)})),t},n.addEventListener?n.addEventListener("load",u,!1):n.attachEvent&&n.attachEvent("onload",u)}}}}},{extensions:[".js",".json"]})("/node_modules/meteor/dynamic-import/client.js");Package._define("dynamic-import",a)}();

!function(){var t=Package.meteor.Meteor,e=Package.meteor.global,r=Package.meteor.meteorEnv,n=Package.modules.meteorInstall,o=Package.modules.meteorBabelHelpers,i,a,c,l,s,u=n({node_modules:{meteor:{"es5-shim":{"client.js":function(t){t("./import_globals.js"),t("es5-shim/es5-shim.js"),t("es5-shim/es5-sham.js"),t("./console.js"),t("./export_globals.js")},"console.js":function(){var t=Object.prototype.hasOwnProperty;function e(t){var e=console[t];e&&"object"==typeof e&&(console[t]=function(){return Function.prototype.apply.call(e,console,arguments)})}if("object"==typeof console&&"object"==typeof console.log)for(var r in console)t.call(console,r)&&e(r)},"export_globals.js":function(){e.Date!==i&&(e.Date=i),e.parseInt!==a&&(e.parseInt=a),e.parseFloat!==c&&(e.parseFloat=c);var t=String.prototype;t.replace!==l&&(t.replace=l)},"import_globals.js":function(){i=e.Date,a=e.parseInt,c=e.parseFloat,l=String.prototype.replace},node_modules:{"es5-shim":{"es5-shim.js":function(t,e,r){!function(t,n){"use strict";"function"==typeof define&&define.amd?define(n):"object"==typeof e?r.exports=n():t.returnExports=n()}(this,(function(){var t=Array,e=t.prototype,r=Object,n=r.prototype,o=Function,l=o.prototype,s=String,u=s.prototype,f=Number,p=f.prototype,h=e.slice,y=e.splice,d=e.push,b=e.unshift,g=e.concat,v=e.join,w=l.call,j=l.apply,O=Math.max,m=Math.min,T=n.toString,E="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,x,S=Function.prototype.toString,_=/^\s*class /,P=function t(e){try{var r,n,o,i=S.call(e).replace(/\/\/.*\n/g,"").replace(/\/\*[.\s\S]*\*\//g,"").replace(/\n/gm," ").replace(/ {2}/g," ");return _.test(i)}catch(a){return!1}},M=function t(e){try{return!P(e)&&(S.call(e),!0)}catch(r){return!1}},I="[object Function]",D="[object GeneratorFunction]",x=function t(e){if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if(E)return M(e);if(P(e))return!1;var r=T.call(e);return r===I||r===D},F,k=RegExp.prototype.exec,N=function t(e){try{return k.call(e),!0}catch(r){return!1}},U="[object RegExp]",$;F=function t(e){return"object"==typeof e&&(E?N(e):T.call(e)===U)};var C=String.prototype.valueOf,A=function t(e){try{return C.call(e),!0}catch(r){return!1}},R="[object String]";$=function t(e){return"string"==typeof e||"object"==typeof e&&(E?A(e):T.call(e)===R)};var z=r.defineProperty&&function(){try{var t={};for(var e in r.defineProperty(t,"x",{enumerable:!1,value:t}),t)return!1;return t.x===t}catch(n){return!1}}(),J=(G=n.hasOwnProperty,Z=z?function(t,e,n,o){!o&&e in t||r.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:!0,value:n})}:function(t,e,r,n){!n&&e in t||(t[e]=r)},function t(e,r,n){for(var o in r)G.call(r,o)&&Z(e,o,r[o],n)}),G,Z,Y=function t(e){var r=typeof e;return null===e||"object"!==r&&"function"!==r},W=f.isNaN||function t(e){return e!=e},B={ToInteger:function t(e){var r=+e;return W(r)?r=0:0!==r&&r!==1/0&&r!==-1/0&&(r=(r>0||-1)*Math.floor(Math.abs(r))),r},ToPrimitive:function t(e){var r,n,o;if(Y(e))return e;if(n=e.valueOf,x(n)&&(r=n.call(e),Y(r)))return r;if(o=e.toString,x(o)&&(r=o.call(e),Y(r)))return r;throw new TypeError},ToObject:function(t){if(null==t)throw new TypeError("can't convert "+t+" to object");return r(t)},ToUint32:function t(e){return e>>>0}},H=function t(){};J(l,{bind:function t(e){var n=this;if(!x(n))throw new TypeError("Function.prototype.bind called on incompatible "+n);for(var i=h.call(arguments,1),a,c=function(){if(this instanceof a){var t=j.call(n,this,g.call(i,h.call(arguments)));return r(t)===t?t:this}return j.call(n,e,g.call(i,h.call(arguments)))},l=O(0,n.length-i.length),s=[],u=0;u<l;u++)d.call(s,"$"+u);return a=o("binder","return function ("+v.call(s,",")+"){ return binder.apply(this, arguments); }")(c),n.prototype&&(H.prototype=n.prototype,a.prototype=new H,H.prototype=null),a}});var X=w.bind(n.hasOwnProperty),L=w.bind(n.toString),q=w.bind(h),K=j.bind(h);if("object"==typeof document&&document&&document.documentElement)try{q(document.documentElement.childNodes)}catch(Qe){var Q=q,V=K;q=function t(e){for(var r=[],n=e.length;n-- >0;)r[n]=e[n];return V(r,Q(arguments,1))},K=function t(e,r){return V(q(e),r)}}var tt=w.bind(u.slice),et=w.bind(u.split),rt=w.bind(u.indexOf),nt=w.bind(d),ot=w.bind(n.propertyIsEnumerable),it=w.bind(e.sort),at=t.isArray||function t(e){return"[object Array]"===L(e)},ct=1!==[].unshift(0);J(e,{unshift:function(){return b.apply(this,arguments),this.length}},ct),J(t,{isArray:at});var lt=r("a"),st="a"!==lt[0]||!(0 in lt),ut=function t(e){var r=!0,n=!0,o=!1;if(e)try{e.call("foo",(function(t,e,n){"object"!=typeof n&&(r=!1)})),e.call([1],(function(){"use strict";n="string"==typeof this}),"x")}catch(Qe){o=!0}return!!e&&!o&&r&&n};J(e,{forEach:function t(e){var r=B.ToObject(this),n=st&&$(this)?et(this,""):r,o=-1,i=B.ToUint32(n.length),a;if(arguments.length>1&&(a=arguments[1]),!x(e))throw new TypeError("Array.prototype.forEach callback must be a function");for(;++o<i;)o in n&&(void 0===a?e(n[o],o,r):e.call(a,n[o],o,r))}},!ut(e.forEach)),J(e,{map:function e(r){var n=B.ToObject(this),o=st&&$(this)?et(this,""):n,i=B.ToUint32(o.length),a=t(i),c;if(arguments.length>1&&(c=arguments[1]),!x(r))throw new TypeError("Array.prototype.map callback must be a function");for(var l=0;l<i;l++)l in o&&(a[l]=void 0===c?r(o[l],l,n):r.call(c,o[l],l,n));return a}},!ut(e.map)),J(e,{filter:function t(e){var r=B.ToObject(this),n=st&&$(this)?et(this,""):r,o=B.ToUint32(n.length),i=[],a,c;if(arguments.length>1&&(c=arguments[1]),!x(e))throw new TypeError("Array.prototype.filter callback must be a function");for(var l=0;l<o;l++)l in n&&(a=n[l],(void 0===c?e(a,l,r):e.call(c,a,l,r))&&nt(i,a));return i}},!ut(e.filter)),J(e,{every:function t(e){var r=B.ToObject(this),n=st&&$(this)?et(this,""):r,o=B.ToUint32(n.length),i;if(arguments.length>1&&(i=arguments[1]),!x(e))throw new TypeError("Array.prototype.every callback must be a function");for(var a=0;a<o;a++)if(a in n&&!(void 0===i?e(n[a],a,r):e.call(i,n[a],a,r)))return!1;return!0}},!ut(e.every)),J(e,{some:function t(e){var r=B.ToObject(this),n=st&&$(this)?et(this,""):r,o=B.ToUint32(n.length),i;if(arguments.length>1&&(i=arguments[1]),!x(e))throw new TypeError("Array.prototype.some callback must be a function");for(var a=0;a<o;a++)if(a in n&&(void 0===i?e(n[a],a,r):e.call(i,n[a],a,r)))return!0;return!1}},!ut(e.some));var ft=!1;e.reduce&&(ft="object"==typeof e.reduce.call("es5",(function(t,e,r,n){return n}))),J(e,{reduce:function t(e){var r=B.ToObject(this),n=st&&$(this)?et(this,""):r,o=B.ToUint32(n.length);if(!x(e))throw new TypeError("Array.prototype.reduce callback must be a function");if(0===o&&1===arguments.length)throw new TypeError("reduce of empty array with no initial value");var i=0,a;if(arguments.length>=2)a=arguments[1];else for(;;){if(i in n){a=n[i++];break}if(++i>=o)throw new TypeError("reduce of empty array with no initial value")}for(;i<o;i++)i in n&&(a=e(a,n[i],i,r));return a}},!ft);var pt=!1;e.reduceRight&&(pt="object"==typeof e.reduceRight.call("es5",(function(t,e,r,n){return n}))),J(e,{reduceRight:function t(e){var r=B.ToObject(this),n=st&&$(this)?et(this,""):r,o=B.ToUint32(n.length),i;if(!x(e))throw new TypeError("Array.prototype.reduceRight callback must be a function");if(0===o&&1===arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var a=o-1;if(arguments.length>=2)i=arguments[1];else for(;;){if(a in n){i=n[a--];break}if(--a<0)throw new TypeError("reduceRight of empty array with no initial value")}if(a<0)return i;do{a in n&&(i=e(i,n[a],a,r))}while(a--);return i}},!pt);var ht=e.indexOf&&-1!==[0,1].indexOf(1,2);J(e,{indexOf:function t(e){var r=st&&$(this)?et(this,""):B.ToObject(this),n=B.ToUint32(r.length);if(0===n)return-1;var o=0;for(arguments.length>1&&(o=B.ToInteger(arguments[1])),o=o>=0?o:O(0,n+o);o<n;o++)if(o in r&&r[o]===e)return o;return-1}},ht);var yt=e.lastIndexOf&&-1!==[0,1].lastIndexOf(0,-3);J(e,{lastIndexOf:function t(e){var r=st&&$(this)?et(this,""):B.ToObject(this),n=B.ToUint32(r.length);if(0===n)return-1;var o=n-1;for(arguments.length>1&&(o=m(o,B.ToInteger(arguments[1]))),o=o>=0?o:n-Math.abs(o);o>=0;o--)if(o in r&&e===r[o])return o;return-1}},yt);var dt=(gt=(bt=[1,2]).splice(),2===bt.length&&at(gt)&&0===gt.length),bt,gt;J(e,{splice:function t(e,r){return 0===arguments.length?[]:y.apply(this,arguments)}},!dt);var vt=(wt={},e.splice.call(wt,0,0,1),1===wt.length),wt;J(e,{splice:function t(e,r){if(0===arguments.length)return[];var n=arguments;return this.length=O(B.ToInteger(this.length),0),arguments.length>0&&"number"!=typeof r&&((n=q(arguments)).length<2?nt(n,this.length-e):n[1]=B.ToInteger(r)),y.apply(this,n)}},!vt);var jt=((Ot=new t(1e5))[8]="x",Ot.splice(1,1),7===Ot.indexOf("x")),Ot,mt=function(){var t=256,e=[];return e[t]="a",e.splice(257,0,"b"),"a"===e[t]}();J(e,{splice:function t(e,r){for(var n=B.ToObject(this),o=[],i=B.ToUint32(n.length),a=B.ToInteger(e),c=a<0?O(i+a,0):m(a,i),l=m(O(B.ToInteger(r),0),i-c),u=0,f;u<l;)f=s(c+u),X(n,f)&&(o[u]=n[f]),u+=1;var p=q(arguments,2),h=p.length,y;if(h<l){u=c;for(var d=i-l;u<d;)f=s(u+l),y=s(u+h),X(n,f)?n[y]=n[f]:delete n[y],u+=1;u=i;for(var b=i-l+h;u>b;)delete n[u-1],u-=1}else if(h>l)for(u=i-l;u>c;)f=s(u+l-1),y=s(u+h-1),X(n,f)?n[y]=n[f]:delete n[y],u-=1;u=c;for(var g=0;g<p.length;++g)n[u]=p[g],u+=1;return n.length=i-l+h,o}},!jt||!mt);var Tt=e.join,Et;try{Et="1,2,3"!==Array.prototype.join.call("123",",")}catch(Qe){Et=!0}Et&&J(e,{join:function t(e){var r=void 0===e?",":e;return Tt.call($(this)?et(this,""):this,r)}},Et);var xt="1,2"!==[1,2].join(void 0);xt&&J(e,{join:function t(e){var r=void 0===e?",":e;return Tt.call(this,r)}},xt);var St=function t(e){for(var r=B.ToObject(this),n=B.ToUint32(r.length),o=0;o<arguments.length;)r[n+o]=arguments[o],o+=1;return r.length=n+o,n+o},_t=function(){var t={},e;return 1!==Array.prototype.push.call(t,void 0)||1!==t.length||void 0!==t[0]||!X(t,0)}();J(e,{push:function t(e){return at(this)?d.apply(this,arguments):St.apply(this,arguments)}},_t);var Pt=function(){var t=[],e;return 1!==t.push(void 0)||1!==t.length||void 0!==t[0]||!X(t,0)}();J(e,{push:St},Pt),J(e,{slice:function(t,e){var r=$(this)?et(this,""):this;return K(r,arguments)}},st);var Mt=function(){try{[1,2].sort(null)}catch(Qe){try{[1,2].sort({})}catch(t){return!1}}return!0}(),It=function(){try{return[1,2].sort(/a/),!1}catch(Qe){}return!0}(),Dt=function(){try{return[1,2].sort(void 0),!0}catch(Qe){}return!1}();J(e,{sort:function t(e){if(void 0===e)return it(this);if(!x(e))throw new TypeError("Array.prototype.sort callback must be a function");return it(this,e)}},Mt||!Dt||!It);var Ft=!ot({toString:null},"toString"),kt=ot((function(){}),"prototype"),Nt=!X("x","0"),Ut=function(t){var e=t.constructor;return e&&e.prototype===t},$t={$window:!0,$console:!0,$parent:!0,$self:!0,$frame:!0,$frames:!0,$frameElement:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$external:!0,$width:!0,$height:!0,$top:!0,$localStorage:!0},Ct=function(){if("undefined"==typeof window)return!1;for(var t in window)try{!$t["$"+t]&&X(window,t)&&null!==window[t]&&"object"==typeof window[t]&&Ut(window[t])}catch(Qe){return!0}return!1}(),At=function(t){if("undefined"==typeof window||!Ct)return Ut(t);try{return Ut(t)}catch(Qe){return!1}},Rt=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],zt=Rt.length,Jt=function t(e){return"[object Arguments]"===L(e)},Gt=function t(e){return null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&!at(e)&&x(e.callee)},Zt=Jt(arguments)?Jt:Gt;J(r,{keys:function t(e){var r=x(e),n=Zt(e),o=null!==e&&"object"==typeof e,i=o&&$(e);if(!o&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var a=[],c=kt&&r;if(i&&Nt||n)for(var l=0;l<e.length;++l)nt(a,s(l));if(!n)for(var u in e)c&&"prototype"===u||!X(e,u)||nt(a,s(u));if(Ft)for(var f=At(e),p=0;p<zt;p++){var h=Rt[p];f&&"constructor"===h||!X(e,h)||nt(a,h)}return a}});var Yt=r.keys&&function(){return 2===r.keys(arguments).length}(1,2),Wt=r.keys&&function(){var t=r.keys(arguments);return 1!==arguments.length||1!==t.length||1!==t[0]}(1),Bt=r.keys;J(r,{keys:function t(e){return Zt(e)?Bt(q(e)):Bt(e)}},!Yt||Wt);var Ht=0!==new i(-0xc782b5b342b24).getUTCMonth(),Xt=new i(-0x55d318d56a724),Lt=new i(14496624e5),qt="Mon, 01 Jan -45875 11:59:59 GMT"!==Xt.toUTCString(),Kt,Qt,Vt=Xt.getTimezoneOffset();Vt<-720?(Kt="Tue Jan 02 -45875"!==Xt.toDateString(),Qt=!/^Thu Dec 10 2015 \d\d:\d\d:\d\d GMT[-+]\d\d\d\d(?: |$)/.test(String(Lt))):(Kt="Mon Jan 01 -45875"!==Xt.toDateString(),Qt=!/^Wed Dec 09 2015 \d\d:\d\d:\d\d GMT[-+]\d\d\d\d(?: |$)/.test(String(Lt)));var te=w.bind(i.prototype.getFullYear),ee=w.bind(i.prototype.getMonth),re=w.bind(i.prototype.getDate),ne=w.bind(i.prototype.getUTCFullYear),oe=w.bind(i.prototype.getUTCMonth),ie=w.bind(i.prototype.getUTCDate),ae=w.bind(i.prototype.getUTCDay),ce=w.bind(i.prototype.getUTCHours),le=w.bind(i.prototype.getUTCMinutes),se=w.bind(i.prototype.getUTCSeconds),ue=w.bind(i.prototype.getUTCMilliseconds),fe=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],pe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],he=function t(e,r){return re(new i(r,e,0))};J(i.prototype,{getFullYear:function t(){if(!(this&&this instanceof i))throw new TypeError("this is not a Date object.");var e=te(this);return e<0&&ee(this)>11?e+1:e},getMonth:function t(){if(!(this&&this instanceof i))throw new TypeError("this is not a Date object.");var e=te(this),r=ee(this);return e<0&&r>11?0:r},getDate:function t(){if(!(this&&this instanceof i))throw new TypeError("this is not a Date object.");var e=te(this),r=ee(this),n=re(this),o;return e<0&&r>11?12===r?n:he(0,e+1)-n+1:n},getUTCFullYear:function t(){if(!(this&&this instanceof i))throw new TypeError("this is not a Date object.");var e=ne(this);return e<0&&oe(this)>11?e+1:e},getUTCMonth:function t(){if(!(this&&this instanceof i))throw new TypeError("this is not a Date object.");var e=ne(this),r=oe(this);return e<0&&r>11?0:r},getUTCDate:function t(){if(!(this&&this instanceof i))throw new TypeError("this is not a Date object.");var e=ne(this),r=oe(this),n=ie(this),o;return e<0&&r>11?12===r?n:he(0,e+1)-n+1:n}},Ht),J(i.prototype,{toUTCString:function t(){if(!(this&&this instanceof i))throw new TypeError("this is not a Date object.");var e=ae(this),r=ie(this),n=oe(this),o=ne(this),a=ce(this),c=le(this),l=se(this);return fe[e]+", "+(r<10?"0"+r:r)+" "+pe[n]+" "+o+" "+(a<10?"0"+a:a)+":"+(c<10?"0"+c:c)+":"+(l<10?"0"+l:l)+" GMT"}},Ht||qt),J(i.prototype,{toDateString:function t(){if(!(this&&this instanceof i))throw new TypeError("this is not a Date object.");var e=this.getDay(),r=this.getDate(),n=this.getMonth(),o=this.getFullYear();return fe[e]+" "+pe[n]+" "+(r<10?"0"+r:r)+" "+o}},Ht||Kt),(Ht||Qt)&&(i.prototype.toString=function t(){if(!(this&&this instanceof i))throw new TypeError("this is not a Date object.");var e=this.getDay(),r=this.getDate(),n=this.getMonth(),o=this.getFullYear(),a=this.getHours(),c=this.getMinutes(),l=this.getSeconds(),s=this.getTimezoneOffset(),u=Math.floor(Math.abs(s)/60),f=Math.floor(Math.abs(s)%60);return fe[e]+" "+pe[n]+" "+(r<10?"0"+r:r)+" "+o+" "+(a<10?"0"+a:a)+":"+(c<10?"0"+c:c)+":"+(l<10?"0"+l:l)+" GMT"+(s>0?"-":"+")+(u<10?"0"+u:u)+(f<10?"0"+f:f)},z&&r.defineProperty(i.prototype,"toString",{configurable:!0,enumerable:!1,writable:!0}));var ye=-621987552e5,de="-000001",be=i.prototype.toISOString&&-1===new i(ye).toISOString().indexOf(de),ge=i.prototype.toISOString&&"1969-12-31T23:59:59.999Z"!==new i(-1).toISOString(),ve=w.bind(i.prototype.getTime);J(i.prototype,{toISOString:function t(){if(!isFinite(this)||!isFinite(ve(this)))throw new RangeError("Date.prototype.toISOString called on non-finite value.");var e=ne(this),r=oe(this);e+=Math.floor(r/12);var n=[(r=(r%12+12)%12)+1,ie(this),ce(this),le(this),se(this)];e=(e<0?"-":e>9999?"+":"")+tt("00000"+Math.abs(e),0<=e&&e<=9999?-4:-6);for(var o=0;o<n.length;++o)n[o]=tt("00"+n[o],-2);return e+"-"+q(n,0,2).join("-")+"T"+q(n,2).join(":")+"."+tt("000"+ue(this),-3)+"Z"}},be||ge);var we=function(){try{return i.prototype.toJSON&&null===new i(NaN).toJSON()&&-1!==new i(ye).toJSON().indexOf(de)&&i.prototype.toJSON.call({toISOString:function(){return!0}})}catch(Qe){return!1}}();we||(i.prototype.toJSON=function t(e){var n=r(this),o=B.ToPrimitive(n);if("number"==typeof o&&!isFinite(o))return null;var i=n.toISOString;if(!x(i))throw new TypeError("toISOString property is not callable");return i.call(n)});var je=1e15===i.parse("+033658-09-27T01:46:40.000Z"),Oe=!isNaN(i.parse("2012-04-04T24:00:00.500Z"))||!isNaN(i.parse("2012-11-31T23:59:59.000Z"))||!isNaN(i.parse("2012-12-31T23:59:60.000Z")),me=isNaN(i.parse("2000-01-01T00:00:00.000Z"));if(me||Oe||!je){var Te=Math.pow(2,31)-1,Ee=W(new i(1970,0,1,0,0,0,Te+1).getTime());i=function(t){var e=function r(n,o,i,a,c,l,u){var f=arguments.length,p;if(this instanceof t){var h=l,y=u;if(Ee&&f>=7&&u>Te){var d=Math.floor(u/Te)*Te,b=Math.floor(d/1e3);h+=b,y-=1e3*b}p=1===f&&s(n)===n?new t(e.parse(n)):f>=7?new t(n,o,i,a,c,h,y):f>=6?new t(n,o,i,a,c,h):f>=5?new t(n,o,i,a,c):f>=4?new t(n,o,i,a):f>=3?new t(n,o,i):f>=2?new t(n,o):f>=1?new t(n instanceof t?+n:n):new t}else p=t.apply(this,arguments);return Y(p)||J(p,{constructor:e},!0),p},r=new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:(\\.\\d{1,}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$"),n=[0,31,59,90,120,151,181,212,243,273,304,334,365],o=function t(e,r){var o=r>1?1:0;return n[r]+Math.floor((e-1969+o)/4)-Math.floor((e-1901+o)/100)+Math.floor((e-1601+o)/400)+365*(e-1970)},i=function e(r){var n=0,o=r;if(Ee&&o>Te){var i=Math.floor(o/Te)*Te,a=Math.floor(i/1e3);n+=a,o-=1e3*a}return f(new t(1970,0,1,0,0,n,o))},a;for(var c in t)X(t,c)&&(e[c]=t[c]);return J(e,{now:t.now,UTC:t.UTC},!0),e.prototype=t.prototype,J(e.prototype,{constructor:e},!0),J(e,{parse:function e(n){var a=r.exec(n);if(a){var c=f(a[1]),l=f(a[2]||1)-1,s=f(a[3]||1)-1,u=f(a[4]||0),p=f(a[5]||0),h=f(a[6]||0),y=Math.floor(1e3*f(a[7]||0)),d=Boolean(a[4]&&!a[8]),b="-"===a[9]?1:-1,g=f(a[10]||0),v=f(a[11]||0),w,j=p>0||h>0||y>0;return u<(j?24:25)&&p<60&&h<60&&y<1e3&&l>-1&&l<12&&g<24&&v<60&&s>-1&&s<o(c,l+1)-o(c,l)&&(w=1e3*(60*((w=60*(24*(o(c,l)+s)+u+g*b))+p+v*b)+h)+y,d&&(w=i(w)),-864e13<=w&&w<=864e13)?w:NaN}return t.parse.apply(this,arguments)}}),e}(i)}i.now||(i.now=function t(){return(new i).getTime()});var xe=p.toFixed&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0)),Se={base:1e7,size:6,data:[0,0,0,0,0,0],multiply:function t(e,r){for(var n=-1,o=r;++n<Se.size;)o+=e*Se.data[n],Se.data[n]=o%Se.base,o=Math.floor(o/Se.base)},divide:function t(e){for(var r=Se.size,n=0;--r>=0;)n+=Se.data[r],Se.data[r]=Math.floor(n/e),n=n%e*Se.base},numToString:function t(){for(var e=Se.size,r="";--e>=0;)if(""!==r||0===e||0!==Se.data[e]){var n=s(Se.data[e]);""===r?r=n:r+=tt("0000000",0,7-n.length)+n}return r},pow:function t(e,r,n){return 0===r?n:r%2==1?t(e,r-1,n*e):t(e*e,r/2,n)},log:function t(e){for(var r=0,n=e;n>=4096;)r+=12,n/=4096;for(;n>=2;)r+=1,n/=2;return r}},_e=function t(e){var r,n,o,i,a,c,l,u;if(r=f(e),(r=W(r)?0:Math.floor(r))<0||r>20)throw new RangeError("Number.toFixed called with invalid number of decimals");if(n=f(this),W(n))return"NaN";if(n<=-1e21||n>=1e21)return s(n);if(o="",n<0&&(o="-",n=-n),i="0",n>1e-21)if(c=(a=Se.log(n*Se.pow(2,69,1))-69)<0?n*Se.pow(2,-a,1):n/Se.pow(2,a,1),c*=4503599627370496,(a=52-a)>0){for(Se.multiply(0,c),l=r;l>=7;)Se.multiply(1e7,0),l-=7;for(Se.multiply(Se.pow(10,l,1),0),l=a-1;l>=23;)Se.divide(1<<23),l-=23;Se.divide(1<<l),Se.multiply(1,1),Se.divide(2),i=Se.numToString()}else Se.multiply(0,c),Se.multiply(1<<-a,0),i=Se.numToString()+tt("0.00000000000000000000",2,2+r);return i=r>0?(u=i.length)<=r?o+tt("0.0000000000000000000",0,r-u+2)+i:o+tt(i,0,u-r)+"."+tt(i,u-r):o+i};J(p,{toFixed:_e},xe);var Pe=function(){try{return"1"===1..toPrecision(void 0)}catch(Qe){return!0}}(),Me=p.toPrecision,Ie,De;J(p,{toPrecision:function t(e){return void 0===e?Me.call(this):Me.call(this,e)}},Pe),2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?(Ie=void 0===/()??/.exec("")[1],De=Math.pow(2,32)-1,u.split=function(t,e){var r=String(this);if(void 0===t&&0===e)return[];if(!F(t))return et(this,t,e);var n=[],o=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),i=0,a,c,l,s,u=new RegExp(t.source,o+"g");Ie||(a=new RegExp("^"+u.source+"$(?!\\s)",o));var f=void 0===e?De:B.ToUint32(e);for(c=u.exec(r);c&&!((l=c.index+c[0].length)>i&&(nt(n,tt(r,i,c.index)),!Ie&&c.length>1&&c[0].replace(a,(function(){for(var t=1;t<arguments.length-2;t++)void 0===arguments[t]&&(c[t]=void 0)})),c.length>1&&c.index<r.length&&d.apply(n,q(c,1)),s=c[0].length,i=l,n.length>=f));)u.lastIndex===c.index&&u.lastIndex++,c=u.exec(r);return i===r.length?!s&&u.test("")||nt(n,""):nt(n,tt(r,i)),n.length>f?q(n,0,f):n}):"0".split(void 0,0).length&&(u.split=function t(e,r){return void 0===e&&0===r?[]:et(this,e,r)});var Fe=u.replace,ke=(Ne=[],"x".replace(/x(.)?/g,(function(t,e){nt(Ne,e)})),1===Ne.length&&void 0===Ne[0]),Ne;ke||(u.replace=function t(e,r){var n=x(r),o=F(e)&&/\)[*?]/.test(e.source);if(n&&o){var i=function(t){var n=arguments.length,o=e.lastIndex;e.lastIndex=0;var i=e.exec(t)||[];return e.lastIndex=o,nt(i,arguments[n-2],arguments[n-1]),r.apply(this,i)};return Fe.call(this,e,i)}return Fe.call(this,e,r)});var Ue=u.substr,$e="".substr&&"b"!=="0b".substr(-1);J(u,{substr:function t(e,r){var n=e;return e<0&&(n=O(this.length+e,0)),Ue.call(this,n,r)}},$e);var Ce="\t\n\v\f\r \u2028\u2029\ufeff",Ae="",Re="["+Ce+"]",ze=new RegExp("^"+Re+Re+"*"),Je=new RegExp(Re+Re+"*$"),Ge=u.trim&&(Ce.trim()||!Ae.trim());J(u,{trim:function t(){if(null==this)throw new TypeError("can't convert "+this+" to object");return s(this).replace(ze,"").replace(Je,"")}},Ge);var Ze=w.bind(String.prototype.trim),Ye=u.lastIndexOf&&-1!=="abc".lastIndexOf("",2);J(u,{lastIndexOf:function t(e){if(null==this)throw new TypeError("can't convert "+this+" to object");for(var r=s(this),n=s(e),o=arguments.length>1?f(arguments[1]):NaN,i=W(o)?1/0:B.ToInteger(o),a=m(O(i,0),r.length),c=n.length,l=a+c;l>0;){l=O(0,l-c);var u=rt(tt(r,l,a+c),n);if(-1!==u)return l+u}return-1}},Ye);var We=u.lastIndexOf,Be,He,Xe;if(J(u,{lastIndexOf:function t(e){return We.apply(this,arguments)}},1!==u.lastIndexOf.length),8===a(Ce+"08")&&22===a(Ce+"0x16")||(Be=a,He=/^[-+]?0[xX]/,a=function t(e,r){var n=Ze(String(e)),o=f(r)||(He.test(n)?16:10);return Be(n,o)}),1/c("-0")!=-1/0&&(Xe=c,c=function t(e){var r=Ze(String(e)),n=Xe(r);return 0===n&&"-"===tt(r,0,1)?-0:n}),"RangeError: test"!==String(new RangeError("test"))){var Le=function t(){if(null==this)throw new TypeError("can't convert "+this+" to object");var e=this.name;void 0===e?e="Error":"string"!=typeof e&&(e=s(e));var r=this.message;return void 0===r?r="":"string"!=typeof r&&(r=s(r)),e?r?e+": "+r:e:r};Error.prototype.toString=Le}if(z){var qe=function(t,e){if(ot(t,e)){var r=Object.getOwnPropertyDescriptor(t,e);r.configurable&&(r.enumerable=!1,Object.defineProperty(t,e,r))}};qe(Error.prototype,"message"),""!==Error.prototype.message&&(Error.prototype.message=""),qe(Error.prototype,"name")}if("/a/gim"!==String(/a/gim)){var Ke=function t(){var e="/"+this.source+"/";return this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),e};RegExp.prototype.toString=Ke}}))},"es5-sham.js":function(t,e,r){!function(t,n){"use strict";"function"==typeof define&&define.amd?define(n):"object"==typeof e?r.exports=n():t.returnExports=n()}(this,(function(){var t=Function.call,e=Object.prototype,r=t.bind(e.hasOwnProperty),n=t.bind(e.propertyIsEnumerable),o=t.bind(e.toString),i,a,c,l,s=r(e,"__defineGetter__");s&&(i=t.bind(e.__defineGetter__),a=t.bind(e.__defineSetter__),c=t.bind(e.__lookupGetter__),l=t.bind(e.__lookupSetter__));var u=function t(e){return null==e||"object"!=typeof e&&"function"!=typeof e};Object.getPrototypeOf||(Object.getPrototypeOf=function t(r){var n=r.__proto__;return n||null===n?n:"[object Function]"===o(r.constructor)?r.constructor.prototype:r instanceof Object?e:null});var f=function t(e){try{return e.sentinel=0,0===Object.getOwnPropertyDescriptor(e,"sentinel").value}catch(r){return!1}};if(Object.defineProperty){var p=f({}),h;if(!("undefined"==typeof document||f(document.createElement("div")))||!p)var y=Object.getOwnPropertyDescriptor}if(!Object.getOwnPropertyDescriptor||y){var d="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function t(o,i){if(u(o))throw new TypeError(d+o);if(y)try{return y.call(Object,o,i)}catch(g){}var a;if(!r(o,i))return a;if(a={enumerable:n(o,i),configurable:!0},s){var f=o.__proto__,p=o!==e;p&&(o.__proto__=e);var h=c(o,i),b=l(o,i);if(p&&(o.__proto__=f),h||b)return h&&(a.get=h),b&&(a.set=b),a}return a.value=o[i],a.writable=!0,a}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function t(e){return Object.keys(e)}),!Object.create){var b,g,v=function t(){if(!document.domain)return!1;try{return!!new ActiveXObject("htmlfile")}catch(e){return!1}},w=function t(){var e,r,n="script";return(r=new ActiveXObject("htmlfile")).write("<script><\/script>"),r.close(),e=r.parentWindow.Object.prototype,r=null,e},j=function t(){var e=document.createElement("iframe"),r=document.body||document.documentElement,n;return e.style.display="none",r.appendChild(e),e.src="javascript:",n=e.contentWindow.Object.prototype,r.removeChild(e),e=null,n};b=!({__proto__:null}instanceof Object)||"undefined"==typeof document?function(){return{__proto__:null}}:function(){var t=v()?w():j();delete t.constructor,delete t.hasOwnProperty,delete t.propertyIsEnumerable,delete t.isPrototypeOf,delete t.toLocaleString,delete t.toString,delete t.valueOf;var e=function t(){};return e.prototype=t,b=function(){return new e},new e},Object.create=function t(e,r){var n,o=function t(){};if(null===e)n=b();else{if(null!==e&&u(e))throw new TypeError("Object prototype may only be an Object or null");o.prototype=e,(n=new o).__proto__=e}return void 0!==r&&Object.defineProperties(n,r),n}}var O=function t(e){try{return Object.defineProperty(e,"sentinel",{}),"sentinel"in e}catch(r){return!1}},m;if(Object.defineProperty){var T=O({}),E="undefined"==typeof document||O(document.createElement("div"));if(!T||!E)var x=Object.defineProperty,S=Object.defineProperties}if(!Object.defineProperty||x){var _="Property description must be an object: ",P="Object.defineProperty called on non-object: ",M="getters & setters can not be defined on this javascript engine";Object.defineProperty=function t(r,n,o){if(u(r))throw new TypeError(P+r);if(u(o))throw new TypeError(_+o);if(x)try{return x.call(Object,r,n,o)}catch(y){}if("value"in o)if(s&&(c(r,n)||l(r,n))){var f=r.__proto__;r.__proto__=e,delete r[n],r[n]=o.value,r.__proto__=f}else r[n]=o.value;else{var p="get"in o,h="set"in o;if(!s&&(p||h))throw new TypeError(M);p&&i(r,n,o.get),h&&a(r,n,o.set)}return r}}Object.defineProperties&&!S||(Object.defineProperties=function t(e,r){if(S)try{return S.call(Object,e,r)}catch(n){}return Object.keys(r).forEach((function(t){"__proto__"!==t&&Object.defineProperty(e,t,r[t])})),e}),Object.seal||(Object.seal=function t(e){if(Object(e)!==e)throw new TypeError("Object.seal can only be called on Objects.");return e}),Object.freeze||(Object.freeze=function t(e){if(Object(e)!==e)throw new TypeError("Object.freeze can only be called on Objects.");return e});try{Object.freeze((function(){}))}catch(I){Object.freeze=(m=Object.freeze,function t(e){return"function"==typeof e?e:m(e)})}Object.preventExtensions||(Object.preventExtensions=function t(e){if(Object(e)!==e)throw new TypeError("Object.preventExtensions can only be called on Objects.");return e}),Object.isSealed||(Object.isSealed=function t(e){if(Object(e)!==e)throw new TypeError("Object.isSealed can only be called on Objects.");return!1}),Object.isFrozen||(Object.isFrozen=function t(e){if(Object(e)!==e)throw new TypeError("Object.isFrozen can only be called on Objects.");return!1}),Object.isExtensible||(Object.isExtensible=function t(e){if(Object(e)!==e)throw new TypeError("Object.isExtensible can only be called on Objects.");for(var n="";r(e,n);)n+="?";e[n]=!0;var o=r(e,n);return delete e[n],o})}))}}}}}}},{extensions:[".js",".json"]})("/node_modules/meteor/es5-shim/client.js");Package._define("es5-shim",u)}();

!function(){var t=Package.meteor.Meteor,e=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.modules.meteorInstall,i=Package.modules.meteorBabelHelpers,s=Package.promise.Promise,o,a,l,c,u=r({node_modules:{meteor:{"ecmascript-runtime-client":{"modern.js":function(t){try{t("core-js/modules/es.object.get-own-property-descriptors")}catch(e){throw new Error(["The core-js npm package could not be found in your node_modules ","directory. Please run the following command to install it:","","  meteor npm install --save core-js",""].join("\n"))}t("core-js/modules/es.object.is"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.number.is-nan"),t("core-js/modules/es.array.flat"),t("core-js/modules/es.array.flat-map"),t("core-js/modules/es.object.values"),t("core-js/modules/es.object.entries"),t("core-js/modules/es.string.pad-start"),t("core-js/modules/es.string.pad-end"),t("core-js/modules/es.symbol.async-iterator")},"legacy.js":function(t,n,r){try{o=n.Symbol=t("core-js/es/symbol"),a=n.Map=t("core-js/es/map"),l=n.Set=t("core-js/es/set")}catch(i){throw new Error(["The core-js npm package could not be found in your node_modules ","directory. Please run the following command to install it:","","  meteor npm install --save core-js",""].join("\n"))}t("core-js/es/array"),t("core-js/es/function"),t("core-js/es/math"),t("core-js/es/object"),t("core-js/es/regexp"),t("core-js/es/string"),t("core-js/es/weak-map"),t("core-js/es/weak-set"),"undefined"==typeof Reflect&&(e.Reflect=void 0),t("core-js/modules/es.number.epsilon"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.number.is-integer"),t("core-js/modules/es.number.is-nan"),t("core-js/modules/es.number.is-safe-integer"),t("core-js/modules/es.number.max-safe-integer"),t("core-js/modules/es.number.min-safe-integer"),t("core-js/modules/es.number.parse-float"),t("core-js/modules/es.number.parse-int"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("./modern.js")},node_modules:{"core-js":{es:{symbol:{"index.js":function(t,e,n){t("../../modules/es.array.concat"),t("../../modules/es.object.to-string"),t("../../modules/es.symbol"),t("../../modules/es.symbol.async-iterator"),t("../../modules/es.symbol.description"),t("../../modules/es.symbol.has-instance"),t("../../modules/es.symbol.is-concat-spreadable"),t("../../modules/es.symbol.iterator"),t("../../modules/es.symbol.match"),t("../../modules/es.symbol.match-all"),t("../../modules/es.symbol.replace"),t("../../modules/es.symbol.search"),t("../../modules/es.symbol.species"),t("../../modules/es.symbol.split"),t("../../modules/es.symbol.to-primitive"),t("../../modules/es.symbol.to-string-tag"),t("../../modules/es.symbol.unscopables"),t("../../modules/es.math.to-string-tag"),t("../../modules/es.json.to-string-tag");var r=t("../../internals/path");n.exports=r.Symbol}},map:{"index.js":function(t,e,n){t("../../modules/es.map"),t("../../modules/es.object.to-string"),t("../../modules/es.string.iterator"),t("../../modules/web.dom-collections.iterator");var r=t("../../internals/path");n.exports=r.Map}},set:{"index.js":function(t,e,n){t("../../modules/es.set"),t("../../modules/es.object.to-string"),t("../../modules/es.string.iterator"),t("../../modules/web.dom-collections.iterator");var r=t("../../internals/path");n.exports=r.Set}},array:{"index.js":function(t,e,n){t("../../modules/es.string.iterator"),t("../../modules/es.array.from"),t("../../modules/es.array.is-array"),t("../../modules/es.array.of"),t("../../modules/es.array.concat"),t("../../modules/es.array.copy-within"),t("../../modules/es.array.every"),t("../../modules/es.array.fill"),t("../../modules/es.array.filter"),t("../../modules/es.array.find"),t("../../modules/es.array.find-index"),t("../../modules/es.array.flat"),t("../../modules/es.array.flat-map"),t("../../modules/es.array.for-each"),t("../../modules/es.array.includes"),t("../../modules/es.array.index-of"),t("../../modules/es.array.iterator"),t("../../modules/es.array.join"),t("../../modules/es.array.last-index-of"),t("../../modules/es.array.map"),t("../../modules/es.array.reduce"),t("../../modules/es.array.reduce-right"),t("../../modules/es.array.reverse"),t("../../modules/es.array.slice"),t("../../modules/es.array.some"),t("../../modules/es.array.sort"),t("../../modules/es.array.species"),t("../../modules/es.array.splice"),t("../../modules/es.array.unscopables.flat"),t("../../modules/es.array.unscopables.flat-map");var r=t("../../internals/path");n.exports=r.Array}},function:{"index.js":function(t,e,n){t("../../modules/es.function.bind"),t("../../modules/es.function.name"),t("../../modules/es.function.has-instance");var r=t("../../internals/path");n.exports=r.Function}},math:{"index.js":function(t,e,n){t("../../modules/es.math.acosh"),t("../../modules/es.math.asinh"),t("../../modules/es.math.atanh"),t("../../modules/es.math.cbrt"),t("../../modules/es.math.clz32"),t("../../modules/es.math.cosh"),t("../../modules/es.math.expm1"),t("../../modules/es.math.fround"),t("../../modules/es.math.hypot"),t("../../modules/es.math.imul"),t("../../modules/es.math.log10"),t("../../modules/es.math.log1p"),t("../../modules/es.math.log2"),t("../../modules/es.math.sign"),t("../../modules/es.math.sinh"),t("../../modules/es.math.tanh"),t("../../modules/es.math.to-string-tag"),t("../../modules/es.math.trunc");var r=t("../../internals/path");n.exports=r.Math}},object:{"index.js":function(t,e,n){t("../../modules/es.symbol"),t("../../modules/es.object.assign"),t("../../modules/es.object.create"),t("../../modules/es.object.define-property"),t("../../modules/es.object.define-properties"),t("../../modules/es.object.entries"),t("../../modules/es.object.freeze"),t("../../modules/es.object.from-entries"),t("../../modules/es.object.get-own-property-descriptor"),t("../../modules/es.object.get-own-property-descriptors"),t("../../modules/es.object.get-own-property-names"),t("../../modules/es.object.get-prototype-of"),t("../../modules/es.object.is"),t("../../modules/es.object.is-extensible"),t("../../modules/es.object.is-frozen"),t("../../modules/es.object.is-sealed"),t("../../modules/es.object.keys"),t("../../modules/es.object.prevent-extensions"),t("../../modules/es.object.seal"),t("../../modules/es.object.set-prototype-of"),t("../../modules/es.object.values"),t("../../modules/es.object.to-string"),t("../../modules/es.object.define-getter"),t("../../modules/es.object.define-setter"),t("../../modules/es.object.lookup-getter"),t("../../modules/es.object.lookup-setter"),t("../../modules/es.math.to-string-tag"),t("../../modules/es.json.to-string-tag");var r=t("../../internals/path");n.exports=r.Object}},regexp:{"index.js":function(t){t("../../modules/es.regexp.constructor"),t("../../modules/es.regexp.to-string"),t("../../modules/es.regexp.exec"),t("../../modules/es.regexp.flags"),t("../../modules/es.string.match"),t("../../modules/es.string.replace"),t("../../modules/es.string.search"),t("../../modules/es.string.split")}},string:{"index.js":function(t,e,n){t("../../modules/es.string.from-code-point"),t("../../modules/es.string.raw"),t("../../modules/es.string.code-point-at"),t("../../modules/es.string.ends-with"),t("../../modules/es.string.includes"),t("../../modules/es.string.match"),t("../../modules/es.string.match-all"),t("../../modules/es.string.pad-end"),t("../../modules/es.string.pad-start"),t("../../modules/es.string.repeat"),t("../../modules/es.string.replace"),t("../../modules/es.string.search"),t("../../modules/es.string.split"),t("../../modules/es.string.starts-with"),t("../../modules/es.string.trim"),t("../../modules/es.string.trim-start"),t("../../modules/es.string.trim-end"),t("../../modules/es.string.iterator"),t("../../modules/es.string.anchor"),t("../../modules/es.string.big"),t("../../modules/es.string.blink"),t("../../modules/es.string.bold"),t("../../modules/es.string.fixed"),t("../../modules/es.string.fontcolor"),t("../../modules/es.string.fontsize"),t("../../modules/es.string.italics"),t("../../modules/es.string.link"),t("../../modules/es.string.small"),t("../../modules/es.string.strike"),t("../../modules/es.string.sub"),t("../../modules/es.string.sup");var r=t("../../internals/path");n.exports=r.String}},"weak-map":{"index.js":function(t,e,n){t("../../modules/es.object.to-string"),t("../../modules/es.weak-map"),t("../../modules/web.dom-collections.iterator");var r=t("../../internals/path");n.exports=r.WeakMap}},"weak-set":{"index.js":function(t,e,n){t("../../modules/es.object.to-string"),t("../../modules/es.weak-set"),t("../../modules/web.dom-collections.iterator");var r=t("../../internals/path");n.exports=r.WeakSet}}},modules:{"es.array.concat.js":function(t){"use strict";var e=t("../internals/export"),n=t("../internals/fails"),r=t("../internals/is-array"),i=t("../internals/is-object"),s=t("../internals/to-object"),o=t("../internals/to-length"),a=t("../internals/create-property"),l=t("../internals/array-species-create"),c=t("../internals/array-method-has-species-support"),u,f=t("../internals/well-known-symbol")("isConcatSpreadable"),p=9007199254740991,d="Maximum allowed index exceeded",g=!n((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),h=c("concat"),y=function(t){if(!i(t))return!1;var e=t[f];return void 0!==e?!!e:r(t)},m;e({target:"Array",proto:!0,forced:!g||!h},{concat:function t(e){var n=s(this),r=l(n,0),i=0,c,u,f,p,g;for(c=-1,f=arguments.length;c<f;c++)if(g=-1===c?n:arguments[c],y(g)){if(i+(p=o(g.length))>9007199254740991)throw TypeError(d);for(u=0;u<p;u++,i++)u in g&&a(r,i,g[u])}else{if(i>=9007199254740991)throw TypeError(d);a(r,i++,g)}return r.length=i,r}})},"es.object.to-string.js":function(t){var e=t("../internals/redefine"),n=t("../internals/object-to-string"),r=Object.prototype;n!==r.toString&&e(r,"toString",n,{unsafe:!0})},"es.symbol.js":function(t){"use strict";var e=t("../internals/export"),n=t("../internals/global"),r=t("../internals/is-pure"),i=t("../internals/descriptors"),s=t("../internals/native-symbol"),o=t("../internals/fails"),a=t("../internals/has"),l=t("../internals/is-array"),c=t("../internals/is-object"),u=t("../internals/an-object"),f=t("../internals/to-object"),p=t("../internals/to-indexed-object"),d=t("../internals/to-primitive"),g=t("../internals/create-property-descriptor"),h=t("../internals/object-create"),y=t("../internals/object-keys"),m=t("../internals/object-get-own-property-names"),b=t("../internals/object-get-own-property-names-external"),v=t("../internals/object-get-own-property-symbols"),j=t("../internals/object-get-own-property-descriptor"),x=t("../internals/object-define-property"),w=t("../internals/object-property-is-enumerable"),S=t("../internals/hide"),k=t("../internals/redefine"),O=t("../internals/shared"),A=t("../internals/shared-key"),E=t("../internals/hidden-keys"),M=t("../internals/uid"),I=t("../internals/well-known-symbol"),R=t("../internals/wrapped-well-known-symbol"),T=t("../internals/define-well-known-symbol"),_=t("../internals/set-to-string-tag"),P=t("../internals/internal-state"),F=t("../internals/array-iteration").forEach,z=A("hidden"),N="Symbol",L="prototype",C=I("toPrimitive"),D=P.set,W=P.getterFor(N),q=Object.prototype,U=n.Symbol,V=n.JSON,G=V&&V.stringify,B=j.f,Y=x.f,$=b.f,H=w.f,Q=O("symbols"),X=O("op-symbols"),J=O("string-to-symbol-registry"),K=O("symbol-to-string-registry"),Z=O("wks"),tt=n.QObject,et=!tt||!tt.prototype||!tt.prototype.findChild,nt=i&&o((function(){return 7!=h(Y({},"a",{get:function(){return Y(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=B(q,e);r&&delete q[e],Y(t,e,n),r&&t!==q&&Y(q,e,r)}:Y,rt=function(t,e){var n=Q[t]=h(U.prototype);return D(n,{type:N,tag:t,description:e}),i||(n.description=e),n},it=s&&"symbol"==typeof U.iterator?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof U},st=function t(e,n,r){e===q&&st(X,n,r),u(e);var i=d(n,!0);return u(r),a(Q,i)?(r.enumerable?(a(e,z)&&e[z][i]&&(e[z][i]=!1),r=h(r,{enumerable:g(0,!1)})):(a(e,z)||Y(e,z,g(1,{})),e[z][i]=!0),nt(e,i,r)):Y(e,i,r)},ot=function t(e,n){u(e);var r=p(n),s=y(r).concat(ft(r));return F(s,(function(t){i&&!lt.call(r,t)||st(e,t,r[t])})),e},at=function t(e,n){return void 0===n?h(e):ot(h(e),n)},lt=function t(e){var n=d(e,!0),r=H.call(this,n);return!(this===q&&a(Q,n)&&!a(X,n))&&(!(r||!a(this,n)||!a(Q,n)||a(this,z)&&this[z][n])||r)},ct=function t(e,n){var r=p(e),i=d(n,!0);if(r!==q||!a(Q,i)||a(X,i)){var s=B(r,i);return!s||!a(Q,i)||a(r,z)&&r[z][i]||(s.enumerable=!0),s}},ut=function t(e){var n=$(p(e)),r=[];return F(n,(function(t){a(Q,t)||a(E,t)||r.push(t)})),r},ft=function t(e){var n=e===q,r=$(n?X:p(e)),i=[];return F(r,(function(t){!a(Q,t)||n&&!a(q,t)||i.push(Q[t])})),i};s||(k((U=function t(){if(this instanceof U)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,n=M(e),r=function(t){this===q&&r.call(X,t),a(this,z)&&a(this[z],n)&&(this[z][n]=!1),nt(this,n,g(1,t))};return i&&et&&nt(q,n,{configurable:!0,set:r}),rt(n,e)}).prototype,"toString",(function t(){return W(this).tag})),w.f=lt,x.f=st,j.f=ct,m.f=b.f=ut,v.f=ft,i&&(Y(U.prototype,"description",{configurable:!0,get:function t(){return W(this).description}}),r||k(q,"propertyIsEnumerable",lt,{unsafe:!0})),R.f=function(t){return rt(I(t),t)}),e({global:!0,wrap:!0,forced:!s,sham:!s},{Symbol:U}),F(y(Z),(function(t){T(t)})),e({target:N,stat:!0,forced:!s},{for:function(t){var e=String(t);if(a(J,e))return J[e];var n=U(e);return J[e]=n,K[n]=e,n},keyFor:function t(e){if(!it(e))throw TypeError(e+" is not a symbol");if(a(K,e))return K[e]},useSetter:function(){et=!0},useSimple:function(){et=!1}}),e({target:"Object",stat:!0,forced:!s,sham:!i},{create:at,defineProperty:st,defineProperties:ot,getOwnPropertyDescriptor:ct}),e({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:ut,getOwnPropertySymbols:ft}),e({target:"Object",stat:!0,forced:o((function(){v.f(1)}))},{getOwnPropertySymbols:function t(e){return v.f(f(e))}}),V&&e({target:"JSON",stat:!0,forced:!s||o((function(){var t=U();return"[null]"!=G([t])||"{}"!=G({a:t})||"{}"!=G(Object(t))}))},{stringify:function t(e){for(var n=[e],r=1,i,s;arguments.length>r;)n.push(arguments[r++]);if(s=i=n[1],(c(i)||void 0!==e)&&!it(e))return l(i)||(i=function(t,e){if("function"==typeof s&&(e=s.call(this,t,e)),!it(e))return e}),n[1]=i,G.apply(V,n)}}),U.prototype[C]||S(U.prototype,C,U.prototype.valueOf),_(U,N),E[z]=!0},"es.symbol.async-iterator.js":function(t){var e;t("../internals/define-well-known-symbol")("asyncIterator")},"es.symbol.description.js":function(t){"use strict";var e=t("../internals/export"),n=t("../internals/descriptors"),r=t("../internals/global"),i=t("../internals/has"),s=t("../internals/is-object"),o=t("../internals/object-define-property").f,a=t("../internals/copy-constructor-properties"),l=r.Symbol;if(n&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var c={},u=function t(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),n=this instanceof u?new l(e):void 0===e?l():l(e);return""===e&&(c[n]=!0),n};a(u,l);var f=u.prototype=l.prototype;f.constructor=u;var p=f.toString,d="Symbol(test)"==String(l("test")),g=/^Symbol\((.*)\)[^)]+$/;o(f,"description",{configurable:!0,get:function t(){var e=s(this)?this.valueOf():this,n=p.call(e);if(i(c,e))return"";var r=d?n.slice(7,-1):n.replace(g,"$1");return""===r?void 0:r}}),e({global:!0,forced:!0},{Symbol:u})}},"es.symbol.has-instance.js":function(t){var e;t("../internals/define-well-known-symbol")("hasInstance")},"es.symbol.is-concat-spreadable.js":function(t){var e;t("../internals/define-well-known-symbol")("isConcatSpreadable")},"es.symbol.iterator.js":function(t){var e;t("../internals/define-well-known-symbol")("iterator")},"es.symbol.match.js":function(t){var e;t("../internals/define-well-known-symbol")("match")},"es.symbol.match-all.js":function(t){var e;t("../internals/define-well-known-symbol")("matchAll")},"es.symbol.replace.js":function(t){var e;t("../internals/define-well-known-symbol")("replace")},"es.symbol.search.js":function(t){var e;t("../internals/define-well-known-symbol")("search")},"es.symbol.species.js":function(t){var e;t("../internals/define-well-known-symbol")("species")},"es.symbol.split.js":function(t){var e;t("../internals/define-well-known-symbol")("split")},"es.symbol.to-primitive.js":function(t){var e;t("../internals/define-well-known-symbol")("toPrimitive")},"es.symbol.to-string-tag.js":function(t){var e;t("../internals/define-well-known-symbol")("toStringTag")},"es.symbol.unscopables.js":function(t){var e;t("../internals/define-well-known-symbol")("unscopables")},"es.math.to-string-tag.js":function(t){var e;t("../internals/set-to-string-tag")(Math,"Math",!0)},"es.json.to-string-tag.js":function(t){var e=t("../internals/global"),n;t("../internals/set-to-string-tag")(e.JSON,"JSON",!0)},"es.map.js":function(t,e,n){"use strict";var r=t("../internals/collection"),i=t("../internals/collection-strong");n.exports=r("Map",(function(t){return function e(){return t(this,arguments.length?arguments[0]:void 0)}}),i,!0)},"es.string.iterator.js":function(t){"use strict";var e=t("../internals/string-multibyte").charAt,n=t("../internals/internal-state"),r=t("../internals/define-iterator"),i="String Iterator",s=n.set,o=n.getterFor(i);r(String,"String",(function(t){s(this,{type:i,string:String(t),index:0})}),(function t(){var n=o(this),r=n.string,i=n.index,s;return i>=r.length?{value:void 0,done:!0}:(s=e(r,i),n.index+=s.length,{value:s,done:!1})}))},"web.dom-collections.iterator.js":function(t){var e=t("../internals/global"),n=t("../internals/dom-iterables"),r=t("../modules/es.array.iterator"),i=t("../internals/hide"),s=t("../internals/well-known-symbol"),o=s("iterator"),a=s("toStringTag"),l=r.values;for(var c in n){var u=e[c],f=u&&u.prototype;if(f){if(f[o]!==l)try{i(f,o,l)}catch(d){f[o]=l}if(f[a]||i(f,a,c),n[c])for(var p in r)if(f[p]!==r[p])try{i(f,p,r[p])}catch(d){f[p]=r[p]}}}},"es.array.iterator.js":function(t,e,n){"use strict";var r=t("../internals/to-indexed-object"),i=t("../internals/add-to-unscopables"),s=t("../internals/iterators"),o=t("../internals/internal-state"),a=t("../internals/define-iterator"),l="Array Iterator",c=o.set,u=o.getterFor(l);n.exports=a(Array,"Array",(function(t,e){c(this,{type:l,target:r(t),index:0,kind:e})}),(function(){var t=u(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values"),s.Arguments=s.Array,i("keys"),i("values"),i("entries")},"es.set.js":function(t,e,n){"use strict";var r=t("../internals/collection"),i=t("../internals/collection-strong");n.exports=r("Set",(function(t){return function e(){return t(this,arguments.length?arguments[0]:void 0)}}),i)},"es.array.from.js":function(t){var e=t("../internals/export"),n=t("../internals/array-from"),r,i;e({target:"Array",stat:!0,forced:!t("../internals/check-correctness-of-iteration")((function(t){Array.from(t)}))},{from:n})},"es.array.is-array.js":function(t){var e,n;t("../internals/export")({target:"Array",stat:!0},{isArray:t("../internals/is-array")})},"es.array.of.js":function(t){"use strict";var e=t("../internals/export"),n=t("../internals/fails"),r=t("../internals/create-property"),i;e({target:"Array",stat:!0,forced:n((function(){function t(){}return!(Array.of.call(t)instanceof t)}))},{of:function t(){for(var e=0,n=arguments.length,i=new("function"==typeof this?this:Array)(n);n>e;)r(i,e,arguments[e++]);return i.length=n,i}})},"es.array.copy-within.js":function(t){var e=t("../internals/export"),n=t("../internals/array-copy-within"),r=t("../internals/add-to-unscopables");e({target:"Array",proto:!0},{copyWithin:n}),r("copyWithin")},"es.array.every.js":function(t){"use strict";var e=t("../internals/export"),n=t("../internals/array-iteration").every,r;e({target:"Array",proto:!0,forced:t("../internals/sloppy-array-method")("every")},{every:function t(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},"es.array.fill.js":function(t){var e=t("../internals/export"),n=t("../internals/array-fill"),r=t("../internals/add-to-unscopables");e({target:"Array",proto:!0},{fill:n}),r("fill")},"es.array.filter.js":function(t){"use strict";var e=t("../internals/export"),n=t("../internals/array-iteration").filter,r;e({target:"Array",proto:!0,forced:!t("../internals/array-method-has-species-support")("filter")},{filter:function t(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},"es.array.find.js":function(t){"use strict";var e=t("../internals/export"),n=t("../internals/array-iteration").find,r=t("../internals/add-to-unscopables"),i="find",s=!0;i in[]&&Array(1).find((function(){s=!1})),e({target:"Array",proto:!0,forced:s},{find:function t(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),r(i)},"es.array.find-index.js":function(t){"use strict";var e=t("../internals/export"),n=t("../internals/array-iteration").findIndex,r=t("../internals/add-to-unscopables"),i="findIndex",s=!0;i in[]&&Array(1).findIndex((function(){s=!1})),e({target:"Array",proto:!0,forced:s},{findIndex:function t(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),r(i)},"es.array.flat.js":function(t){"use strict";var e=t("../internals/export"),n=t("../internals/flatten-into-array"),r=t("../internals/to-object"),i=t("../internals/to-length"),s=t("../internals/to-integer"),o=t("../internals/array-species-create");e({target:"Array",proto:!0},{flat:function t(){var e=arguments.length?arguments[0]:void 0,a=r(this),l=i(a.length),c=o(a,0);return c.length=n(c,a,a,l,0,void 0===e?1:s(e)),c}})},"es.array.flat-map.js":function(t){"use strict";var e=t("../internals/export"),n=t("../internals/flatten-into-array"),r=t("../internals/to-object"),i=t("../internals/to-length"),s=t("../internals/a-function"),o=t("../internals/array-species-create");e({target:"Array",proto:!0},{flatMap:function t(e){var a=r(this),l=i(a.length),c;return s(e),(c=o(a,0)).length=n(c,a,a,l,0,1,e,arguments.length>1?arguments[1]:void 0),c}})},"es.array.for-each.js":function(t){"use strict";var e=t("../internals/export"),n=t("../internals/array-for-each");e({target:"Array",proto:!0,forced:[].forEach!=n},{forEach:n})},"es.array.includes.js":function(t){"use strict";var e=t("../internals/export"),n=t("../internals/array-includes").includes,r=t("../internals/add-to-unscopables");e({target:"Array",proto:!0},{includes:function t(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),r("includes")},"es.array.index-of.js":function(t){"use strict";var e=t("../internals/export"),n=t("../internals/array-includes").indexOf,r=t("../internals/sloppy-array-method"),i=[].indexOf,s=!!i&&1/[1].indexOf(1,-0)<0,o=r("indexOf");e({target:"Array",proto:!0,forced:s||o},{indexOf:function t(e){return s?i.apply(this,arguments)||0:n(this,e,arguments.length>1?arguments[1]:void 0)}})},"es.array.join.js":function(t){"use strict";var e=t("../internals/export"),n=t("../internals/indexed-object"),r=t("../internals/to-indexed-object"),i=t("../internals/sloppy-array-method"),s=[].join,o=n!=Object,a=i("join",",");e({target:"Array",proto:!0,forced:o||a},{join:function t(e){return s.call(r(this),void 0===e?",":e)}})},"es.array.last-index-of.js":function(t){var e=t("../internals/export"),n=t("../internals/array-last-index-of");e({target:"Array",proto:!0,forced:n!==[].lastIndexOf},{lastIndexOf:n})},"es.array.map.js":function(t){"use strict";var e=t("../internals/export"),n=t("../internals/array-iteration").map,r;e({target:"Array",proto:!0,forced:!t("../internals/array-method-has-species-support")("map")},{map:function t(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},"es.array.reduce.js":function(t){"use strict";var e=t("../internals/export"),n=t("../internals/array-reduce").left,r;e({target:"Array",proto:!0,forced:t("../internals/sloppy-array-method")("reduce")},{reduce:function t(e){return n(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"es.array.reduce-right.js":function(t){"use strict";var e=t("../internals/export"),n=t("../internals/array-reduce").right,r;e({target:"Array",proto:!0,forced:t("../internals/sloppy-array-method")("reduceRight")},{reduceRight:function t(e){return n(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"es.array.reverse.js":function(t){"use strict";var e=t("../internals/export"),n=t("../internals/is-array"),r=[].reverse,i=[1,2];e({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function t(){return n(this)&&(this.length=this.length),r.call(this)}})},"es.array.slice.js":function(t){"use strict";var e=t("../internals/export"),n=t("../internals/is-object"),r=t("../internals/is-array"),i=t("../internals/to-absolute-index"),s=t("../internals/to-length"),o=t("../internals/to-indexed-object"),a=t("../internals/create-property"),l=t("../internals/array-method-has-species-support"),c,u=t("../internals/well-known-symbol")("species"),f=[].slice,p=Math.max;e({target:"Array",proto:!0,forced:!l("slice")},{slice:function t(e,l){var c=o(this),d=s(c.length),g=i(e,d),h=i(void 0===l?d:l,d),y,m,b;if(r(c)&&("function"!=typeof(y=c.constructor)||y!==Array&&!r(y.prototype)?n(y)&&null===(y=y[u])&&(y=void 0):y=void 0,y===Array||void 0===y))return f.call(c,g,h);for(m=new(void 0===y?Array:y)(p(h-g,0)),b=0;g<h;g++,b++)g in c&&a(m,b,c[g]);return m.length=b,m}})},"es.array.some.js":function(t){"use strict";var e=t("../internals/export"),n=t("../internals/array-iteration").some,r;e({target:"Array",proto:!0,forced:t("../internals/sloppy-array-method")("some")},{some:function t(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},"es.array.sort.js":function(t){"use strict";var e=t("../internals/export"),n=t("../internals/a-function"),r=t("../internals/to-object"),i=t("../internals/fails"),s=t("../internals/sloppy-array-method"),o=[].sort,a=[1,2,3],l=i((function(){a.sort(void 0)})),c=i((function(){a.sort(null)})),u=s("sort"),f;e({target:"Array",proto:!0,forced:l||!c||u},{sort:function t(e){return void 0===e?o.call(r(this)):o.call(r(this),n(e))}})},"es.array.species.js":function(t){var e;t("../internals/set-species")("Array")},"es.array.splice.js":function(t){"use strict";var e=t("../internals/export"),n=t("../internals/to-absolute-index"),r=t("../internals/to-integer"),i=t("../internals/to-length"),s=t("../internals/to-object"),o=t("../internals/array-species-create"),a=t("../internals/create-property"),l=t("../internals/array-method-has-species-support"),c=Math.max,u=Math.min,f=9007199254740991,p="Maximum allowed length exceeded";e({target:"Array",proto:!0,forced:!l("splice")},{splice:function t(e,l){var f=s(this),d=i(f.length),g=n(e,d),h=arguments.length,y,m,b,v,j,x;if(0===h?y=m=0:1===h?(y=0,m=d-g):(y=h-2,m=u(c(r(l),0),d-g)),d+y-m>9007199254740991)throw TypeError(p);for(b=o(f,m),v=0;v<m;v++)(j=g+v)in f&&a(b,v,f[j]);if(b.length=m,y<m){for(v=g;v<d-m;v++)x=v+y,(j=v+m)in f?f[x]=f[j]:delete f[x];for(v=d;v>d-m+y;v--)delete f[v-1]}else if(y>m)for(v=d-m;v>g;v--)x=v+y-1,(j=v+m-1)in f?f[x]=f[j]:delete f[x];for(v=0;v<y;v++)f[v+g]=arguments[v+2];return f.length=d-m+y,b}})},"es.array.unscopables.flat.js":function(t,e,n){var r;t("../internals/add-to-unscopables")("flat")},"es.array.unscopables.flat-map.js":function(t,e,n){var r;t("../internals/add-to-unscopables")("flatMap")},"es.function.bind.js":function(t){var e,n;t("../internals/export")({target:"Function",proto:!0},{bind:t("../internals/function-bind")})},"es.function.name.js":function(t){var e=t("../internals/descriptors"),n=t("../internals/object-define-property").f,r=Function.prototype,i=r.toString,s=/^\s*function ([^ (]*)/,o="name";!e||o in r||n(r,o,{configurable:!0,get:function(){try{return i.call(this).match(s)[1]}catch(t){return""}}})},"es.function.has-instance.js":function(t){"use strict";var e=t("../internals/is-object"),n=t("../internals/object-define-property"),r=t("../internals/object-get-prototype-of"),i,s=t("../internals/well-known-symbol")("hasInstance"),o=Function.prototype;s in o||n.f(o,s,{value:function(t){if("function"!=typeof this||!e(t))return!1;if(!e(this.prototype))return t instanceof this;for(;t=r(t);)if(this.prototype===t)return!0;return!1}})},"es.math.acosh.js":function(t){var e=t("../internals/export"),n=t("../internals/math-log1p"),r=Math.acosh,i=Math.log,s=Math.sqrt,o=Math.LN2,a;e({target:"Math",stat:!0,forced:!r||710!=Math.floor(r(Number.MAX_VALUE))||r(1/0)!=1/0},{acosh:function t(e){return(e=+e)<1?NaN:e>94906265.62425156?i(e)+o:n(e-1+s(e-1)*s(e+1))}})},"es.math.asinh.js":function(t){var e=t("../internals/export"),n=Math.asinh,r=Math.log,i=Math.sqrt;function s(t){return isFinite(t=+t)&&0!=t?t<0?-s(-t):r(t+i(t*t+1)):t}e({target:"Math",stat:!0,forced:!(n&&1/n(0)>0)},{asinh:s})},"es.math.atanh.js":function(t){var e=t("../internals/export"),n=Math.atanh,r=Math.log;e({target:"Math",stat:!0,forced:!(n&&1/n(-0)<0)},{atanh:function t(e){return 0==(e=+e)?e:r((1+e)/(1-e))/2}})},"es.math.cbrt.js":function(t){var e=t("../internals/export"),n=t("../internals/math-sign"),r=Math.abs,i=Math.pow;e({target:"Math",stat:!0},{cbrt:function t(e){return n(e=+e)*i(r(e),1/3)}})},"es.math.clz32.js":function(t){var e=t("../internals/export"),n=Math.floor,r=Math.log,i=Math.LOG2E;e({target:"Math",stat:!0},{clz32:function t(e){return(e>>>=0)?31-n(r(e+.5)*i):32}})},"es.math.cosh.js":function(t){var e=t("../internals/export"),n=t("../internals/math-expm1"),r=Math.cosh,i=Math.abs,s=Math.E;e({target:"Math",stat:!0,forced:!r||r(710)===1/0},{cosh:function t(e){var r=n(i(e)-1)+1;return(r+1/(r*s*s))*(s/2)}})},"es.math.expm1.js":function(t){var e=t("../internals/export"),n=t("../internals/math-expm1");e({target:"Math",stat:!0,forced:n!=Math.expm1},{expm1:n})},"es.math.fround.js":function(t){var e,n;t("../internals/export")({target:"Math",stat:!0},{fround:t("../internals/math-fround")})},"es.math.hypot.js":function(t){var e=t("../internals/export"),n=Math.hypot,r=Math.abs,i=Math.sqrt,s;e({target:"Math",stat:!0,forced:!!n&&n(1/0,NaN)!==1/0},{hypot:function t(e,n){for(var s=0,o=0,a=arguments.length,l=0,c,u;o<a;)l<(c=r(arguments[o++]))?(s=s*(u=l/c)*u+1,l=c):s+=c>0?(u=c/l)*u:c;return l===1/0?1/0:l*i(s)}})},"es.math.imul.js":function(t){var e=t("../internals/export"),n=t("../internals/fails"),r=Math.imul,i;e({target:"Math",stat:!0,forced:n((function(){return-5!=r(4294967295,5)||2!=r.length}))},{imul:function t(e,n){var r=65535,i=+e,s=+n,o=65535&i,a=65535&s;return 0|o*a+((65535&i>>>16)*a+o*(65535&s>>>16)<<16>>>0)}})},"es.math.log10.js":function(t){var e=t("../internals/export"),n=Math.log,r=Math.LOG10E;e({target:"Math",stat:!0},{log10:function t(e){return n(e)*r}})},"es.math.log1p.js":function(t){var e,n;t("../internals/export")({target:"Math",stat:!0},{log1p:t("../internals/math-log1p")})},"es.math.log2.js":function(t){var e=t("../internals/export"),n=Math.log,r=Math.LN2;e({target:"Math",stat:!0},{log2:function t(e){return n(e)/r}})},"es.math.sign.js":function(t){var e,n;t("../internals/export")({target:"Math",stat:!0},{sign:t("../internals/math-sign")})},"es.math.sinh.js":function(t){var e=t("../internals/export"),n=t("../internals/fails"),r=t("../internals/math-expm1"),i=Math.abs,s=Math.exp,o=Math.E,a;e({target:"Math",stat:!0,forced:n((function(){return-2e-17!=Math.sinh(-2e-17)}))},{sinh:function t(e){return i(e=+e)<1?(r(e)-r(-e))/2:(s(e-1)-s(-e-1))*(o/2)}})},"es.math.tanh.js":function(t){var e=t("../internals/export"),n=t("../internals/math-expm1"),r=Math.exp;e({target:"Math",stat:!0},{tanh:function t(e){var i=n(e=+e),s=n(-e);return i==1/0?1:s==1/0?-1:(i-s)/(r(e)+r(-e))}})},"es.math.trunc.js":function(t){var e=t("../internals/export"),n=Math.ceil,r=Math.floor;e({target:"Math",stat:!0},{trunc:function t(e){return(e>0?r:n)(e)}})},"es.object.assign.js":function(t){var e=t("../internals/export"),n=t("../internals/object-assign");e({target:"Object",stat:!0,forced:Object.assign!==n},{assign:n})},"es.object.create.js":function(t){var e,n,r;t("../internals/export")({target:"Object",stat:!0,sham:!t("../internals/descriptors")},{create:t("../internals/object-create")})},"es.object.define-property.js":function(t){var e=t("../internals/export"),n=t("../internals/descriptors"),r;e({target:"Object",stat:!0,forced:!n,sham:!n},{defineProperty:t("../internals/object-define-property").f})},"es.object.define-properties.js":function(t){var e=t("../internals/export"),n=t("../internals/descriptors"),r;e({target:"Object",stat:!0,forced:!n,sham:!n},{defineProperties:t("../internals/object-define-properties")})},"es.object.entries.js":function(t){var e=t("../internals/export"),n=t("../internals/object-to-array").entries;e({target:"Object",stat:!0},{entries:function t(e){return n(e)}})},"es.object.freeze.js":function(t){var e=t("../internals/export"),n=t("../internals/freezing"),r=t("../internals/fails"),i=t("../internals/is-object"),s=t("../internals/internal-metadata").onFreeze,o=Object.freeze,a;e({target:"Object",stat:!0,forced:r((function(){o(1)})),sham:!n},{freeze:function t(e){return o&&i(e)?o(s(e)):e}})},"es.object.from-entries.js":function(t){var e=t("../internals/export"),n=t("../internals/iterate"),r=t("../internals/create-property");e({target:"Object",stat:!0},{fromEntries:function t(e){var i={};return n(e,(function(t,e){r(i,t,e)}),void 0,!0),i}})},"es.object.get-own-property-descriptor.js":function(t){var e=t("../internals/export"),n=t("../internals/fails"),r=t("../internals/to-indexed-object"),i=t("../internals/object-get-own-property-descriptor").f,s=t("../internals/descriptors"),o=n((function(){i(1)})),a;e({target:"Object",stat:!0,forced:!s||o,sham:!s},{getOwnPropertyDescriptor:function t(e,n){return i(r(e),n)}})},"es.object.get-own-property-descriptors.js":function(t){var e=t("../internals/export"),n=t("../internals/descriptors"),r=t("../internals/own-keys"),i=t("../internals/to-indexed-object"),s=t("../internals/object-get-own-property-descriptor"),o=t("../internals/create-property");e({target:"Object",stat:!0,sham:!n},{getOwnPropertyDescriptors:function t(e){for(var n=i(e),a=s.f,l=r(n),c={},u=0,f,p;l.length>u;)void 0!==(p=a(n,f=l[u++]))&&o(c,f,p);return c}})},"es.object.get-own-property-names.js":function(t){var e=t("../internals/export"),n=t("../internals/fails"),r=t("../internals/object-get-own-property-names-external").f,i;e({target:"Object",stat:!0,forced:n((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:r})},"es.object.get-prototype-of.js":function(t){var e=t("../internals/export"),n=t("../internals/fails"),r=t("../internals/to-object"),i=t("../internals/object-get-prototype-of"),s=t("../internals/correct-prototype-getter"),o;e({target:"Object",stat:!0,forced:n((function(){i(1)})),sham:!s},{getPrototypeOf:function t(e){return i(r(e))}})},"es.object.is.js":function(t){var e,n;t("../internals/export")({target:"Object",stat:!0},{is:t("../internals/same-value")})},"es.object.is-extensible.js":function(t){var e=t("../internals/export"),n=t("../internals/fails"),r=t("../internals/is-object"),i=Object.isExtensible,s;e({target:"Object",stat:!0,forced:n((function(){i(1)}))},{isExtensible:function t(e){return!!r(e)&&(!i||i(e))}})},"es.object.is-frozen.js":function(t){var e=t("../internals/export"),n=t("../internals/fails"),r=t("../internals/is-object"),i=Object.isFrozen,s;e({target:"Object",stat:!0,forced:n((function(){i(1)}))},{isFrozen:function t(e){return!r(e)||!!i&&i(e)}})},"es.object.is-sealed.js":function(t){var e=t("../internals/export"),n=t("../internals/fails"),r=t("../internals/is-object"),i=Object.isSealed,s;e({target:"Object",stat:!0,forced:n((function(){i(1)}))},{isSealed:function t(e){return!r(e)||!!i&&i(e)}})},"es.object.keys.js":function(t){var e=t("../internals/export"),n=t("../internals/to-object"),r=t("../internals/object-keys"),i,s;e({target:"Object",stat:!0,forced:t("../internals/fails")((function(){r(1)}))},{keys:function t(e){return r(n(e))}})},"es.object.prevent-extensions.js":function(t){var e=t("../internals/export"),n=t("../internals/is-object"),r=t("../internals/internal-metadata").onFreeze,i=t("../internals/freezing"),s=t("../internals/fails"),o=Object.preventExtensions,a;e({target:"Object",stat:!0,forced:s((function(){o(1)})),sham:!i},{preventExtensions:function t(e){return o&&n(e)?o(r(e)):e}})},"es.object.seal.js":function(t){var e=t("../internals/export"),n=t("../internals/is-object"),r=t("../internals/internal-metadata").onFreeze,i=t("../internals/freezing"),s=t("../internals/fails"),o=Object.seal,a;e({target:"Object",stat:!0,forced:s((function(){o(1)})),sham:!i},{seal:function t(e){return o&&n(e)?o(r(e)):e}})},"es.object.set-prototype-of.js":function(t){var e,n;t("../internals/export")({target:"Object",stat:!0},{setPrototypeOf:t("../internals/object-set-prototype-of")})},"es.object.values.js":function(t){var e=t("../internals/export"),n=t("../internals/object-to-array").values;e({target:"Object",stat:!0},{values:function t(e){return n(e)}})},"es.object.define-getter.js":function(t){"use strict";var e=t("../internals/export"),n=t("../internals/descriptors"),r=t("../internals/forced-object-prototype-accessors-methods"),i=t("../internals/to-object"),s=t("../internals/a-function"),o=t("../internals/object-define-property");n&&e({target:"Object",proto:!0,forced:r},{__defineGetter__:function t(e,n){o.f(i(this),e,{get:s(n),enumerable:!0,configurable:!0})}})},"es.object.define-setter.js":function(t){"use strict";var e=t("../internals/export"),n=t("../internals/descriptors"),r=t("../internals/forced-object-prototype-accessors-methods"),i=t("../internals/to-object"),s=t("../internals/a-function"),o=t("../internals/object-define-property");n&&e({target:"Object",proto:!0,forced:r},{__defineSetter__:function t(e,n){o.f(i(this),e,{set:s(n),enumerable:!0,configurable:!0})}})},"es.object.lookup-getter.js":function(t){"use strict";var e=t("../internals/export"),n=t("../internals/descriptors"),r=t("../internals/forced-object-prototype-accessors-methods"),i=t("../internals/to-object"),s=t("../internals/to-primitive"),o=t("../internals/object-get-prototype-of"),a=t("../internals/object-get-own-property-descriptor").f;n&&e({target:"Object",proto:!0,forced:r},{__lookupGetter__:function t(e){var n=i(this),r=s(e,!0),l;do{if(l=a(n,r))return l.get}while(n=o(n))}})},"es.object.lookup-setter.js":function(t){"use strict";var e=t("../internals/export"),n=t("../internals/descriptors"),r=t("../internals/forced-object-prototype-accessors-methods"),i=t("../internals/to-object"),s=t("../internals/to-primitive"),o=t("../internals/object-get-prototype-of"),a=t("../internals/object-get-own-property-descriptor").f;n&&e({target:"Object",proto:!0,forced:r},{__lookupSetter__:function t(e){var n=i(this),r=s(e,!0),l;do{if(l=a(n,r))return l.set}while(n=o(n))}})},"es.regexp.constructor.js":function(t){var e=t("../internals/descriptors"),n=t("../internals/global"),r=t("../internals/is-forced"),i=t("../internals/inherit-if-required"),s=t("../internals/object-define-property").f,o=t("../internals/object-get-own-property-names").f,a=t("../internals/is-regexp"),l=t("../internals/regexp-flags"),c=t("../internals/redefine"),u=t("../internals/fails"),f=t("../internals/set-species"),p,d=t("../internals/well-known-symbol")("match"),g=n.RegExp,h=g.prototype,y=/a/g,m=/a/g,b=new g(y)!==y,v;if(e&&r("RegExp",!b||u((function(){return m[d]=!1,g(y)!=y||g(m)==m||"/a/i"!=g(y,"i")})))){for(var j=function t(e,n){var r=this instanceof j,s=a(e),o=void 0===n;return!r&&s&&e.constructor===j&&o?e:i(b?new g(s&&!o?e.source:e,n):g((s=e instanceof j)?e.source:e,s&&o?l.call(e):n),r?this:h,j)},x=function(t){t in j||s(j,t,{configurable:!0,get:function(){return g[t]},set:function(e){g[t]=e}})},w=o(g),S=0;w.length>S;)x(w[S++]);h.constructor=j,j.prototype=h,c(n,"RegExp",j)}f("RegExp")},"es.regexp.to-string.js":function(t){"use strict";var e=t("../internals/redefine"),n=t("../internals/an-object"),r=t("../internals/fails"),i=t("../internals/regexp-flags"),s="toString",o=RegExp.prototype,a=o.toString,l=r((function(){return"/a/b"!=a.call({source:"a",flags:"b"})})),c=a.name!=s;(l||c)&&e(RegExp.prototype,s,(function t(){var e=n(this),r=String(e.source),s=e.flags,a;return"/"+r+"/"+String(void 0===s&&e instanceof RegExp&&!("flags"in o)?i.call(e):s)}),{unsafe:!0})},"es.regexp.exec.js":function(t){"use strict";var e=t("../internals/export"),n=t("../internals/regexp-exec");e({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},"es.regexp.flags.js":function(t){var e=t("../internals/descriptors"),n=t("../internals/object-define-property"),r=t("../internals/regexp-flags");e&&"g"!=/./g.flags&&n.f(RegExp.prototype,"flags",{configurable:!0,get:r})},"es.string.match.js":function(t){"use strict";var e=t("../internals/fix-regexp-well-known-symbol-logic"),n=t("../internals/an-object"),r=t("../internals/to-length"),i=t("../internals/require-object-coercible"),s=t("../internals/advance-string-index"),o=t("../internals/regexp-exec-abstract");e("match",1,(function(t,e,a){return[function e(n){var r=i(this),s=null==n?void 0:n[t];return void 0!==s?s.call(n,r):new RegExp(n)[t](String(r))},function(t){var i=a(e,t,this);if(i.done)return i.value;var l=n(t),c=String(this);if(!l.global)return o(l,c);var u=l.unicode;l.lastIndex=0;for(var f=[],p=0,d;null!==(d=o(l,c));){var g=String(d[0]);f[p]=g,""===g&&(l.lastIndex=s(c,r(l.lastIndex),u)),p++}return 0===p?null:f}]}))},"es.string.replace.js":function(t){"use strict";var e=t("../internals/fix-regexp-well-known-symbol-logic"),n=t("../internals/an-object"),r=t("../internals/to-object"),i=t("../internals/to-length"),s=t("../internals/to-integer"),o=t("../internals/require-object-coercible"),a=t("../internals/advance-string-index"),l=t("../internals/regexp-exec-abstract"),c=Math.max,u=Math.min,f=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,d=/\$([$&'`]|\d\d?)/g,g=function(t){return void 0===t?t:String(t)};e("replace",2,(function(t,e,h){return[function n(r,i){var s=o(this),a=null==r?void 0:r[t];return void 0!==a?a.call(r,s,i):e.call(String(s),r,i)},function(t,r){var o=h(e,t,this,r);if(o.done)return o.value;var f=n(t),p=String(this),d="function"==typeof r;d||(r=String(r));var m=f.global;if(m){var b=f.unicode;f.lastIndex=0}for(var v=[];;){var j=l(f,p),x;if(null===j)break;if(v.push(j),!m)break;""===String(j[0])&&(f.lastIndex=a(p,i(f.lastIndex),b))}for(var w="",S=0,k=0;k<v.length;k++){j=v[k];for(var O=String(j[0]),A=c(u(s(j.index),p.length),0),E=[],M=1;M<j.length;M++)E.push(g(j[M]));var I=j.groups;if(d){var R=[O].concat(E,A,p);void 0!==I&&R.push(I);var T=String(r.apply(void 0,R))}else T=y(O,p,A,E,I,r);A>=S&&(w+=p.slice(S,A)+T,S=A+O.length)}return w+p.slice(S)}];function y(t,n,i,s,o,a){var l=i+t.length,c=s.length,u=d;return void 0!==o&&(o=r(o),u=p),e.call(a,u,(function(e,r){var a;switch(r.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,i);case"'":return n.slice(l);case"<":a=o[r.slice(1,-1)];break;default:var u=+r;if(0===u)return e;if(u>c){var p=f(u/10);return 0===p?e:p<=c?void 0===s[p-1]?r.charAt(1):s[p-1]+r.charAt(1):e}a=s[u-1]}return void 0===a?"":a}))}}))},"es.string.search.js":function(t){"use strict";var e=t("../internals/fix-regexp-well-known-symbol-logic"),n=t("../internals/an-object"),r=t("../internals/require-object-coercible"),i=t("../internals/same-value"),s=t("../internals/regexp-exec-abstract");e("search",1,(function(t,e,o){return[function e(n){var i=r(this),s=null==n?void 0:n[t];return void 0!==s?s.call(n,i):new RegExp(n)[t](String(i))},function(t){var r=o(e,t,this);if(r.done)return r.value;var a=n(t),l=String(this),c=a.lastIndex;i(c,0)||(a.lastIndex=0);var u=s(a,l);return i(a.lastIndex,c)||(a.lastIndex=c),null===u?-1:u.index}]}))},"es.string.split.js":function(t){"use strict";var e=t("../internals/fix-regexp-well-known-symbol-logic"),n=t("../internals/is-regexp"),r=t("../internals/an-object"),i=t("../internals/require-object-coercible"),s=t("../internals/species-constructor"),o=t("../internals/advance-string-index"),a=t("../internals/to-length"),l=t("../internals/regexp-exec-abstract"),c=t("../internals/regexp-exec"),u=t("../internals/fails"),f=[].push,p=Math.min,d=4294967295,g=!u((function(){return!RegExp(4294967295,"y")}));e("split",2,(function(t,e,u){var d;return d="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,r){var s=String(i(this)),o=void 0===r?4294967295:r>>>0;if(0===o)return[];if(void 0===t)return[s];if(!n(t))return e.call(s,t,o);for(var a=[],l=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),u=0,p=new RegExp(t.source,l+"g"),d,g,h;(d=c.call(p,s))&&!((g=p.lastIndex)>u&&(a.push(s.slice(u,d.index)),d.length>1&&d.index<s.length&&f.apply(a,d.slice(1)),h=d[0].length,u=g,a.length>=o));)p.lastIndex===d.index&&p.lastIndex++;return u===s.length?!h&&p.test("")||a.push(""):a.push(s.slice(u)),a.length>o?a.slice(0,o):a}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function e(n,r){var s=i(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,s,r):d.call(String(s),n,r)},function(t,n){var i=u(d,t,this,n,d!==e);if(i.done)return i.value;var c=r(t),f=String(this),h=s(c,RegExp),y=c.unicode,m=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(g?"y":"g"),b=new h(g?c:"^(?:"+c.source+")",m),v=void 0===n?4294967295:n>>>0;if(0===v)return[];if(0===f.length)return null===l(b,f)?[f]:[];for(var j=0,x=0,w=[];x<f.length;){b.lastIndex=g?x:0;var S=l(b,g?f:f.slice(x)),k;if(null===S||(k=p(a(b.lastIndex+(g?0:x)),f.length))===j)x=o(f,x,y);else{if(w.push(f.slice(j,x)),w.length===v)return w;for(var O=1;O<=S.length-1;O++)if(w.push(S[O]),w.length===v)return w;x=j=k}}return w.push(f.slice(j)),w}]}),!g)},"es.string.from-code-point.js":function(t){var e=t("../internals/export"),n=t("../internals/to-absolute-index"),r=String.fromCharCode,i=String.fromCodePoint,s;e({target:"String",stat:!0,forced:!!i&&1!=i.length},{fromCodePoint:function t(e){for(var i=[],s=arguments.length,o=0,a;s>o;){if(a=+arguments[o++],n(a,1114111)!==a)throw RangeError(a+" is not a valid code point");i.push(a<65536?r(a):r(55296+((a-=65536)>>10),a%1024+56320))}return i.join("")}})},"es.string.raw.js":function(t){var e=t("../internals/export"),n=t("../internals/to-indexed-object"),r=t("../internals/to-length");e({target:"String",stat:!0},{raw:function t(e){for(var i=n(e.raw),s=r(i.length),o=arguments.length,a=[],l=0;s>l;)a.push(String(i[l++])),l<o&&a.push(String(arguments[l]));return a.join("")}})},"es.string.code-point-at.js":function(t){"use strict";var e=t("../internals/export"),n=t("../internals/string-multibyte").codeAt;e({target:"String",proto:!0},{codePointAt:function t(e){return n(this,e)}})},"es.string.ends-with.js":function(t){"use strict";var e=t("../internals/export"),n=t("../internals/to-length"),r=t("../internals/not-a-regexp"),i=t("../internals/require-object-coercible"),s=t("../internals/correct-is-regexp-logic"),o="".endsWith,a=Math.min;e({target:"String",proto:!0,forced:!s("endsWith")},{endsWith:function t(e){var s=String(i(this));r(e);var l=arguments.length>1?arguments[1]:void 0,c=n(s.length),u=void 0===l?c:a(n(l),c),f=String(e);return o?o.call(s,f,u):s.slice(u-f.length,u)===f}})},"es.string.includes.js":function(t){"use strict";var e=t("../internals/export"),n=t("../internals/not-a-regexp"),r=t("../internals/require-object-coercible"),i;e({target:"String",proto:!0,forced:!t("../internals/correct-is-regexp-logic")("includes")},{includes:function t(e){return!!~String(r(this)).indexOf(n(e),arguments.length>1?arguments[1]:void 0)}})},"es.string.match-all.js":function(t){"use strict";var e=t("../internals/export"),n=t("../internals/create-iterator-constructor"),r=t("../internals/require-object-coercible"),i=t("../internals/to-length"),s=t("../internals/a-function"),o=t("../internals/an-object"),a=t("../internals/classof"),l=t("../internals/regexp-flags"),c=t("../internals/hide"),u=t("../internals/well-known-symbol"),f=t("../internals/species-constructor"),p=t("../internals/advance-string-index"),d=t("../internals/internal-state"),g=t("../internals/is-pure"),h=u("matchAll"),y="RegExp String",m="RegExp String Iterator",b=d.set,v=d.getterFor(m),j=RegExp.prototype,x=j.exec,w=function(t,e){var n=t.exec,r;if("function"==typeof n){if("object"!=typeof(r=n.call(t,e)))throw TypeError("Incorrect exec result");return r}return x.call(t,e)},S=n((function t(e,n,r,i){b(this,{type:m,regexp:e,string:n,global:r,unicode:i,done:!1})}),y,(function t(){var e=v(this);if(e.done)return{value:void 0,done:!0};var n=e.regexp,r=e.string,s=w(n,r);return null===s?{value:void 0,done:e.done=!0}:e.global?(""==String(s[0])&&(n.lastIndex=p(r,i(n.lastIndex),e.unicode)),{value:s,done:!1}):(e.done=!0,{value:s,done:!1})})),k=function(t){var e=o(this),n=String(t),r,s,a,c,u,p;return r=f(e,RegExp),void 0===(s=e.flags)&&e instanceof RegExp&&!("flags"in j)&&(s=l.call(e)),a=void 0===s?"":String(s),c=new r(r===RegExp?e.source:e,a),u=!!~a.indexOf("g"),p=!!~a.indexOf("u"),c.lastIndex=i(e.lastIndex),new S(c,n,u,p)};e({target:"String",proto:!0},{matchAll:function t(e){var n=r(this),i,o,l;return null!=e&&(void 0===(o=e[h])&&g&&"RegExp"==a(e)&&(o=k),null!=o)?s(o).call(e,n):(i=String(n),l=new RegExp(e,"g"),g?k.call(l,i):l[h](i))}}),g||h in j||c(j,h,k)},"es.string.pad-end.js":function(t){"use strict";var e=t("../internals/export"),n=t("../internals/string-pad").end,r;e({target:"String",proto:!0,forced:t("../internals/webkit-string-pad-bug")},{padEnd:function t(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},"es.string.pad-start.js":function(t){"use strict";var e=t("../internals/export"),n=t("../internals/string-pad").start,r;e({target:"String",proto:!0,forced:t("../internals/webkit-string-pad-bug")},{padStart:function t(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},"es.string.repeat.js":function(t){var e,n;t("../internals/export")({target:"String",proto:!0},{repeat:t("../internals/string-repeat")})},"es.string.starts-with.js":function(t){"use strict";var e=t("../internals/export"),n=t("../internals/to-length"),r=t("../internals/not-a-regexp"),i=t("../internals/require-object-coercible"),s=t("../internals/correct-is-regexp-logic"),o="".startsWith,a=Math.min;e({target:"String",proto:!0,forced:!s("startsWith")},{startsWith:function t(e){var s=String(i(this));r(e);var l=n(a(arguments.length>1?arguments[1]:void 0,s.length)),c=String(e);return o?o.call(s,c,l):s.slice(l,l+c.length)===c}})},"es.string.trim.js":function(t){"use strict";var e=t("../internals/export"),n=t("../internals/string-trim").trim,r;e({target:"String",proto:!0,forced:t("../internals/forced-string-trim-method")("trim")},{trim:function t(){return n(this)}})},"es.string.trim-start.js":function(t){"use strict";var e=t("../internals/export"),n=t("../internals/string-trim").start,r,i=t("../internals/forced-string-trim-method")("trimStart"),s=i?function t(){return n(this)}:"".trimStart;e({target:"String",proto:!0,forced:i},{trimStart:s,trimLeft:s})},"es.string.trim-end.js":function(t){"use strict";var e=t("../internals/export"),n=t("../internals/string-trim").end,r,i=t("../internals/forced-string-trim-method")("trimEnd"),s=i?function t(){return n(this)}:"".trimEnd;e({target:"String",proto:!0,forced:i},{trimEnd:s,trimRight:s})},"es.string.anchor.js":function(t){"use strict";var e=t("../internals/export"),n=t("../internals/create-html"),r;e({target:"String",proto:!0,forced:t("../internals/forced-string-html-method")("anchor")},{anchor:function t(e){return n(this,"a","name",e)}})},"es.string.big.js":function(t){"use strict";var e=t("../internals/export"),n=t("../internals/create-html"),r;e({target:"String",proto:!0,forced:t("../internals/forced-string-html-method")("big")},{big:function t(){return n(this,"big","","")}})},"es.string.blink.js":function(t){"use strict";var e=t("../internals/export"),n=t("../internals/create-html"),r;e({target:"String",proto:!0,forced:t("../internals/forced-string-html-method")("blink")},{blink:function t(){return n(this,"blink","","")}})},"es.string.bold.js":function(t){"use strict";var e=t("../internals/export"),n=t("../internals/create-html"),r;e({target:"String",proto:!0,forced:t("../internals/forced-string-html-method")("bold")},{bold:function t(){return n(this,"b","","")}})},"es.string.fixed.js":function(t){"use strict";var e=t("../internals/export"),n=t("../internals/create-html"),r;e({target:"String",proto:!0,forced:t("../internals/forced-string-html-method")("fixed")},{fixed:function t(){return n(this,"tt","","")}})},"es.string.fontcolor.js":function(t){"use strict";var e=t("../internals/export"),n=t("../internals/create-html"),r;e({target:"String",proto:!0,forced:t("../internals/forced-string-html-method")("fontcolor")},{fontcolor:function t(e){return n(this,"font","color",e)}})},"es.string.fontsize.js":function(t){"use strict";var e=t("../internals/export"),n=t("../internals/create-html"),r;e({target:"String",proto:!0,forced:t("../internals/forced-string-html-method")("fontsize")},{fontsize:function t(e){return n(this,"font","size",e)}})},"es.string.italics.js":function(t){"use strict";var e=t("../internals/export"),n=t("../internals/create-html"),r;e({target:"String",proto:!0,forced:t("../internals/forced-string-html-method")("italics")},{italics:function t(){return n(this,"i","","")}})},"es.string.link.js":function(t){"use strict";var e=t("../internals/export"),n=t("../internals/create-html"),r;e({target:"String",proto:!0,forced:t("../internals/forced-string-html-method")("link")},{link:function t(e){return n(this,"a","href",e)}})},"es.string.small.js":function(t){"use strict";var e=t("../internals/export"),n=t("../internals/create-html"),r;e({target:"String",proto:!0,forced:t("../internals/forced-string-html-method")("small")},{small:function t(){return n(this,"small","","")}})},"es.string.strike.js":function(t){"use strict";var e=t("../internals/export"),n=t("../internals/create-html"),r;e({target:"String",proto:!0,forced:t("../internals/forced-string-html-method")("strike")},{strike:function t(){return n(this,"strike","","")}})},"es.string.sub.js":function(t){"use strict";var e=t("../internals/export"),n=t("../internals/create-html"),r;e({target:"String",proto:!0,forced:t("../internals/forced-string-html-method")("sub")},{sub:function t(){return n(this,"sub","","")}})},"es.string.sup.js":function(t){"use strict";var e=t("../internals/export"),n=t("../internals/create-html"),r;e({target:"String",proto:!0,forced:t("../internals/forced-string-html-method")("sup")},{sup:function t(){return n(this,"sup","","")}})},"es.weak-map.js":function(t,e,n){"use strict";var r=t("../internals/global"),i=t("../internals/redefine-all"),s=t("../internals/internal-metadata"),o=t("../internals/collection"),a=t("../internals/collection-weak"),l=t("../internals/is-object"),c=t("../internals/internal-state").enforce,u=t("../internals/native-weak-map"),f=!r.ActiveXObject&&"ActiveXObject"in r,p=Object.isExtensible,d,g=function(t){return function e(){return t(this,arguments.length?arguments[0]:void 0)}},h=n.exports=o("WeakMap",g,a,!0,!0);if(u&&f){d=a.getConstructor(g,"WeakMap",!0),s.REQUIRED=!0;var y=h.prototype,m=y.delete,b=y.has,v=y.get,j=y.set;i(y,{delete:function(t){if(l(t)&&!p(t)){var e=c(this);return e.frozen||(e.frozen=new d),m.call(this,t)||e.frozen.delete(t)}return m.call(this,t)},has:function t(e){if(l(e)&&!p(e)){var n=c(this);return n.frozen||(n.frozen=new d),b.call(this,e)||n.frozen.has(e)}return b.call(this,e)},get:function t(e){if(l(e)&&!p(e)){var n=c(this);return n.frozen||(n.frozen=new d),b.call(this,e)?v.call(this,e):n.frozen.get(e)}return v.call(this,e)},set:function t(e,n){if(l(e)&&!p(e)){var r=c(this);r.frozen||(r.frozen=new d),b.call(this,e)?j.call(this,e,n):r.frozen.set(e,n)}else j.call(this,e,n);return this}})}},"es.weak-set.js":function(t){"use strict";var e,n;t("../internals/collection")("WeakSet",(function(t){return function e(){return t(this,arguments.length?arguments[0]:void 0)}}),t("../internals/collection-weak"),!1,!0)},"es.number.epsilon.js":function(t){var e;t("../internals/export")({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},"es.number.is-finite.js":function(t){var e,n;t("../internals/export")({target:"Number",stat:!0},{isFinite:t("../internals/number-is-finite")})},"es.number.is-integer.js":function(t){var e,n;t("../internals/export")({target:"Number",stat:!0},{isInteger:t("../internals/is-integer")})},"es.number.is-nan.js":function(t){var e;t("../internals/export")({target:"Number",stat:!0},{isNaN:function t(e){return e!=e}})},"es.number.is-safe-integer.js":function(t){var e=t("../internals/export"),n=t("../internals/is-integer"),r=Math.abs;e({target:"Number",stat:!0},{isSafeInteger:function t(e){return n(e)&&r(e)<=9007199254740991}})},"es.number.max-safe-integer.js":function(t){var e;t("../internals/export")({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},"es.number.min-safe-integer.js":function(t){var e;t("../internals/export")({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},"es.number.parse-float.js":function(t){var e=t("../internals/export"),n=t("../internals/parse-float");e({target:"Number",stat:!0,forced:Number.parseFloat!=n},{parseFloat:n})},"es.number.parse-int.js":function(t){var e=t("../internals/export"),n=t("../internals/parse-int");e({target:"Number",stat:!0,forced:Number.parseInt!=n},{parseInt:n})},"es.typed-array.uint8-array.js":function(t){var e;t("../internals/typed-array-constructor")("Uint8",1,(function(t){return function e(n,r,i){return t(this,n,r,i)}}))},"es.typed-array.uint32-array.js":function(t){var e;t("../internals/typed-array-constructor")("Uint32",4,(function(t){return function e(n,r,i){return t(this,n,r,i)}}))}},internals:{"export.js":function(t,e,n){var r=t("../internals/global"),i=t("../internals/object-get-own-property-descriptor").f,s=t("../internals/hide"),o=t("../internals/redefine"),a=t("../internals/set-global"),l=t("../internals/copy-constructor-properties"),c=t("../internals/is-forced");n.exports=function(t,e){var n=t.target,u=t.global,f=t.stat,p,d,g,h,y,m;if(d=u?r:f?r[n]||a(n,{}):(r[n]||{}).prototype)for(g in e){if(y=e[g],h=t.noTargetGet?(m=i(d,g))&&m.value:d[g],!(p=c(u?g:n+(f?".":"#")+g,t.forced))&&void 0!==h){if(typeof y==typeof h)continue;l(y,h)}(t.sham||h&&h.sham)&&s(y,"sham",!0),o(d,g,y,t)}}},"global.js":function(t,n,r){var i="object",s=function(t){return t&&t.Math==Math&&t};r.exports=s(typeof globalThis==i&&globalThis)||s(typeof window==i&&window)||s(typeof self==i&&self)||s(typeof e==i&&e)||Function("return this")()},"object-get-own-property-descriptor.js":function(t,e){var n=t("../internals/descriptors"),r=t("../internals/object-property-is-enumerable"),i=t("../internals/create-property-descriptor"),s=t("../internals/to-indexed-object"),o=t("../internals/to-primitive"),a=t("../internals/has"),l=t("../internals/ie8-dom-define"),c=Object.getOwnPropertyDescriptor;e.f=n?c:function t(e,n){if(e=s(e),n=o(n,!0),l)try{return c(e,n)}catch(u){}if(a(e,n))return i(!r.f.call(e,n),e[n])}},"descriptors.js":function(t,e,n){var r=t("../internals/fails");n.exports=!r((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},"fails.js":function(t,e,n){n.exports=function(t){try{return!!t()}catch(e){return!0}}},"object-property-is-enumerable.js":function(t,e){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);e.f=i?function t(e){var n=r(this,e);return!!n&&n.enumerable}:n},"create-property-descriptor.js":function(t,e,n){n.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"to-indexed-object.js":function(t,e,n){var r=t("../internals/indexed-object"),i=t("../internals/require-object-coercible");n.exports=function(t){return r(i(t))}},"indexed-object.js":function(t,e,n){var r=t("../internals/fails"),i=t("../internals/classof-raw"),s="".split;n.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?s.call(t,""):Object(t)}:Object},"classof-raw.js":function(t,e,n){var r={}.toString;n.exports=function(t){return r.call(t).slice(8,-1)}},"require-object-coercible.js":function(t,e,n){n.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},"to-primitive.js":function(t,e,n){var r=t("../internals/is-object");n.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},"is-object.js":function(t,e,n){n.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},"has.js":function(t,e,n){var r={}.hasOwnProperty;n.exports=function(t,e){return r.call(t,e)}},"ie8-dom-define.js":function(t,e,n){var r=t("../internals/descriptors"),i=t("../internals/fails"),s=t("../internals/document-create-element");n.exports=!r&&!i((function(){return 7!=Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},"document-create-element.js":function(t,e,n){var r=t("../internals/global"),i=t("../internals/is-object"),s=r.document,o=i(s)&&i(s.createElement);n.exports=function(t){return o?s.createElement(t):{}}},"hide.js":function(t,e,n){var r=t("../internals/descriptors"),i=t("../internals/object-define-property"),s=t("../internals/create-property-descriptor");n.exports=r?function(t,e,n){return i.f(t,e,s(1,n))}:function(t,e,n){return t[e]=n,t}},"object-define-property.js":function(t,e){var n=t("../internals/descriptors"),r=t("../internals/ie8-dom-define"),i=t("../internals/an-object"),s=t("../internals/to-primitive"),o=Object.defineProperty;e.f=n?o:function t(e,n,a){if(i(e),n=s(n,!0),i(a),r)try{return o(e,n,a)}catch(l){}if("get"in a||"set"in a)throw TypeError("Accessors not supported");return"value"in a&&(e[n]=a.value),e}},"an-object.js":function(t,e,n){var r=t("../internals/is-object");n.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},"redefine.js":function(t,e,n){var r=t("../internals/global"),i=t("../internals/shared"),s=t("../internals/hide"),o=t("../internals/has"),a=t("../internals/set-global"),l=t("../internals/function-to-string"),c=t("../internals/internal-state"),u=c.get,f=c.enforce,p=String(l).split("toString");i("inspectSource",(function(t){return l.call(t)})),(n.exports=function(t,e,n,i){var l=!!i&&!!i.unsafe,c=!!i&&!!i.enumerable,u=!!i&&!!i.noTargetGet;"function"==typeof n&&("string"!=typeof e||o(n,"name")||s(n,"name",e),f(n).source=p.join("string"==typeof e?e:"")),t!==r?(l?!u&&t[e]&&(c=!0):delete t[e],c?t[e]=n:s(t,e,n)):c?t[e]=n:a(e,n)})(Function.prototype,"toString",(function t(){return"function"==typeof this&&u(this).source||l.call(this)}))},"shared.js":function(t,e,n){var r=t("../internals/global"),i=t("../internals/set-global"),s=t("../internals/is-pure"),o="__core-js_shared__",a=r[o]||i(o,{});(n.exports=function(t,e){return a[t]||(a[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.2.1",mode:s?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},"set-global.js":function(t,e,n){var r=t("../internals/global"),i=t("../internals/hide");n.exports=function(t,e){try{i(r,t,e)}catch(n){r[t]=e}return e}},"is-pure.js":function(t,e,n){n.exports=!1},"function-to-string.js":function(t,e,n){var r=t("../internals/shared");n.exports=r("native-function-to-string",Function.toString)},"internal-state.js":function(t,e,n){var r=t("../internals/native-weak-map"),i=t("../internals/global"),s=t("../internals/is-object"),o=t("../internals/hide"),a=t("../internals/has"),l=t("../internals/shared-key"),c=t("../internals/hidden-keys"),u=i.WeakMap,f,p,d,g=function(t){return d(t)?p(t):f(t,{})},h=function(t){return function(e){var n;if(!s(e)||(n=p(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}};if(r){var y=new u,m=y.get,b=y.has,v=y.set;f=function(t,e){return v.call(y,t,e),e},p=function(t){return m.call(y,t)||{}},d=function(t){return b.call(y,t)}}else{var j=l("state");c[j]=!0,f=function(t,e){return o(t,j,e),e},p=function(t){return a(t,j)?t[j]:{}},d=function(t){return a(t,j)}}n.exports={set:f,get:p,has:d,enforce:g,getterFor:h}},"native-weak-map.js":function(t,e,n){var r=t("../internals/global"),i=t("../internals/function-to-string"),s=r.WeakMap;n.exports="function"==typeof s&&/native code/.test(i.call(s))},"shared-key.js":function(t,e,n){var r=t("../internals/shared"),i=t("../internals/uid"),s=r("keys");n.exports=function(t){return s[t]||(s[t]=i(t))}},"uid.js":function(t,e,n){var r=0,i=Math.random();n.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++r+i).toString(36)}},"hidden-keys.js":function(t,e,n){n.exports={}},"copy-constructor-properties.js":function(t,e,n){var r=t("../internals/has"),i=t("../internals/own-keys"),s=t("../internals/object-get-own-property-descriptor"),o=t("../internals/object-define-property");n.exports=function(t,e){for(var n=i(e),a=o.f,l=s.f,c=0;c<n.length;c++){var u=n[c];r(t,u)||a(t,u,l(e,u))}}},"own-keys.js":function(t,e,n){var r=t("../internals/get-built-in"),i=t("../internals/object-get-own-property-names"),s=t("../internals/object-get-own-property-symbols"),o=t("../internals/an-object");n.exports=r("Reflect","ownKeys")||function t(e){var n=i.f(o(e)),r=s.f;return r?n.concat(r(e)):n}},"get-built-in.js":function(t,e,n){var r=t("../internals/path"),i=t("../internals/global"),s=function(t){return"function"==typeof t?t:void 0};n.exports=function(t,e){return arguments.length<2?s(r[t])||s(i[t]):r[t]&&r[t][e]||i[t]&&i[t][e]}},"path.js":function(t,e,n){n.exports=t("../internals/global")},"object-get-own-property-names.js":function(t,e){var n=t("../internals/object-keys-internal"),r,i=t("../internals/enum-bug-keys").concat("length","prototype");e.f=Object.getOwnPropertyNames||function t(e){return n(e,i)}},"object-keys-internal.js":function(t,e,n){var r=t("../internals/has"),i=t("../internals/to-indexed-object"),s=t("../internals/array-includes").indexOf,o=t("../internals/hidden-keys");n.exports=function(t,e){var n=i(t),a=0,l=[],c;for(c in n)!r(o,c)&&r(n,c)&&l.push(c);for(;e.length>a;)r(n,c=e[a++])&&(~s(l,c)||l.push(c));return l}},"array-includes.js":function(t,e,n){var r=t("../internals/to-indexed-object"),i=t("../internals/to-length"),s=t("../internals/to-absolute-index"),o=function(t){return function(e,n,o){var a=r(e),l=i(a.length),c=s(o,l),u;if(t&&n!=n){for(;l>c;)if((u=a[c++])!=u)return!0}else for(;l>c;c++)if((t||c in a)&&a[c]===n)return t||c||0;return!t&&-1}};n.exports={includes:o(!0),indexOf:o(!1)}},"to-length.js":function(t,e,n){var r=t("../internals/to-integer"),i=Math.min;n.exports=function(t){return t>0?i(r(t),9007199254740991):0}},"to-integer.js":function(t,e,n){var r=Math.ceil,i=Math.floor;n.exports=function(t){return isNaN(t=+t)?0:(t>0?i:r)(t)}},"to-absolute-index.js":function(t,e,n){var r=t("../internals/to-integer"),i=Math.max,s=Math.min;n.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):s(n,e)}},"enum-bug-keys.js":function(t,e,n){n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"object-get-own-property-symbols.js":function(t,e){e.f=Object.getOwnPropertySymbols},"is-forced.js":function(t,e,n){var r=t("../internals/fails"),i=/#|\.prototype\./,s=function(t,e){var n=a[o(t)];return n==c||n!=l&&("function"==typeof e?r(e):!!e)},o=s.normalize=function(t){return String(t).replace(i,".").toLowerCase()},a=s.data={},l=s.NATIVE="N",c=s.POLYFILL="P";n.exports=s},"is-array.js":function(t,e,n){var r=t("../internals/classof-raw");n.exports=Array.isArray||function t(e){return"Array"==r(e)}},"to-object.js":function(t,e,n){var r=t("../internals/require-object-coercible");n.exports=function(t){return Object(r(t))}},"create-property.js":function(t,e,n){"use strict";var r=t("../internals/to-primitive"),i=t("../internals/object-define-property"),s=t("../internals/create-property-descriptor");n.exports=function(t,e,n){var o=r(e);o in t?i.f(t,o,s(0,n)):t[o]=n}},"array-species-create.js":function(t,e,n){var r=t("../internals/is-object"),i=t("../internals/is-array"),s,o=t("../internals/well-known-symbol")("species");n.exports=function(t,e){var n;return i(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[o])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},"well-known-symbol.js":function(t,e,n){var r=t("../internals/global"),i=t("../internals/shared"),s=t("../internals/uid"),o=t("../internals/native-symbol"),a=r.Symbol,l=i("wks");n.exports=function(t){return l[t]||(l[t]=o&&a[t]||(o?a:s)("Symbol."+t))}},"native-symbol.js":function(t,e,n){var r=t("../internals/fails");n.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(o())}))},"array-method-has-species-support.js":function(t,e,n){var r=t("../internals/fails"),i,s=t("../internals/well-known-symbol")("species");n.exports=function(t){return!r((function(){var e=[],n;return(e.constructor={})[s]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"object-to-string.js":function(t,e,n){"use strict";var r=t("../internals/classof"),i,s,o={};o[t("../internals/well-known-symbol")("toStringTag")]="z",n.exports="[object z]"!==String(o)?function t(){return"[object "+r(this)+"]"}:o.toString},"classof.js":function(t,e,n){var r=t("../internals/classof-raw"),i,s=t("../internals/well-known-symbol")("toStringTag"),o="Arguments"==r(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(n){}};n.exports=function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=a(e=Object(t),s))?n:o?r(e):"Object"==(i=r(e))&&"function"==typeof e.callee?"Arguments":i}},"object-create.js":function(t,e,n){var r=t("../internals/an-object"),i=t("../internals/object-define-properties"),s=t("../internals/enum-bug-keys"),o=t("../internals/hidden-keys"),a=t("../internals/html"),l=t("../internals/document-create-element"),c,u=t("../internals/shared-key")("IE_PROTO"),f="prototype",p=function(){},d=function(){var t=l("iframe"),e=s.length,n="<",r="script",i=">",o="javascript:",c;for(t.style.display="none",a.appendChild(t),t.src=String(o),(c=t.contentWindow.document).open(),c.write("<script>document.F=Object<\/script>"),c.close(),d=c.F;e--;)delete d.prototype[s[e]];return d()};n.exports=Object.create||function t(e,n){var s;return null!==e?(p.prototype=r(e),s=new p,p.prototype=null,s[u]=e):s=d(),void 0===n?s:i(s,n)},o[u]=!0},"object-define-properties.js":function(t,e,n){var r=t("../internals/descriptors"),i=t("../internals/object-define-property"),s=t("../internals/an-object"),o=t("../internals/object-keys");n.exports=r?Object.defineProperties:function t(e,n){s(e);for(var r=o(n),a=r.length,l=0,c;a>l;)i.f(e,c=r[l++],n[c]);return e}},"object-keys.js":function(t,e,n){var r=t("../internals/object-keys-internal"),i=t("../internals/enum-bug-keys");n.exports=Object.keys||function t(e){return r(e,i)}},"html.js":function(t,e,n){var r=t("../internals/get-built-in");n.exports=r("document","documentElement")},"object-get-own-property-names-external.js":function(t,e,n){var r=t("../internals/to-indexed-object"),i=t("../internals/object-get-own-property-names").f,s={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(t){try{return i(t)}catch(e){return o.slice()}};n.exports.f=function t(e){return o&&"[object Window]"==s.call(e)?a(e):i(r(e))}},"wrapped-well-known-symbol.js":function(t,e){e.f=t("../internals/well-known-symbol")},"define-well-known-symbol.js":function(t,e,n){var r=t("../internals/path"),i=t("../internals/has"),s=t("../internals/wrapped-well-known-symbol"),o=t("../internals/object-define-property").f;n.exports=function(t){var e=r.Symbol||(r.Symbol={});i(e,t)||o(e,t,{value:s.f(t)})}},"set-to-string-tag.js":function(t,e,n){var r=t("../internals/object-define-property").f,i=t("../internals/has"),s,o=t("../internals/well-known-symbol")("toStringTag");n.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},"array-iteration.js":function(t,e,n){var r=t("../internals/bind-context"),i=t("../internals/indexed-object"),s=t("../internals/to-object"),o=t("../internals/to-length"),a=t("../internals/array-species-create"),l=[].push,c=function(t){var e=1==t,n=2==t,c=3==t,u=4==t,f=6==t,p=5==t||f;return function(d,g,h,y){for(var m=s(d),b=i(m),v=r(g,h,3),j=o(b.length),x=0,w=y||a,S=e?w(d,j):n?w(d,0):void 0,k,O;j>x;x++)if((p||x in b)&&(O=v(k=b[x],x,m),t))if(e)S[x]=O;else if(O)switch(t){case 3:return!0;case 5:return k;case 6:return x;case 2:l.call(S,k)}else if(u)return!1;return f?-1:c||u?u:S}};n.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},"bind-context.js":function(t,e,n){var r=t("../internals/a-function");n.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},"a-function.js":function(t,e,n){n.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},"collection.js":function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/global"),s=t("../internals/is-forced"),o=t("../internals/redefine"),a=t("../internals/internal-metadata"),l=t("../internals/iterate"),c=t("../internals/an-instance"),u=t("../internals/is-object"),f=t("../internals/fails"),p=t("../internals/check-correctness-of-iteration"),d=t("../internals/set-to-string-tag"),g=t("../internals/inherit-if-required");n.exports=function(t,e,n,h,y){var m=i[t],b=m&&m.prototype,v=m,j=h?"set":"add",x={},w=function(t){var e=b[t];o(b,t,"add"==t?function t(n){return e.call(this,0===n?0:n),this}:"delete"==t?function(t){return!(y&&!u(t))&&e.call(this,0===t?0:t)}:"get"==t?function t(n){return y&&!u(n)?void 0:e.call(this,0===n?0:n)}:"has"==t?function t(n){return!(y&&!u(n))&&e.call(this,0===n?0:n)}:function t(n,r){return e.call(this,0===n?0:n,r),this})};if(s(t,"function"!=typeof m||!(y||b.forEach&&!f((function(){(new m).entries().next()})))))v=n.getConstructor(e,t,h,j),a.REQUIRED=!0;else if(s(t,!0)){var S=new v,k=S[j](y?{}:-0,1)!=S,O=f((function(){S.has(1)})),A=p((function(t){new m(t)})),E=!y&&f((function(){for(var t=new m,e=5;e--;)t[j](e,e);return!t.has(-0)}));A||((v=e((function(e,n){c(e,v,t);var r=g(new m,e,v);return null!=n&&l(n,r[j],r,h),r}))).prototype=b,b.constructor=v),(O||E)&&(w("delete"),w("has"),h&&w("get")),(E||k)&&w(j),y&&b.clear&&delete b.clear}return x[t]=v,r({global:!0,forced:v!=m},x),d(v,t),y||n.setStrong(v,t,h),v}},"internal-metadata.js":function(t,e,n){var r=t("../internals/hidden-keys"),i=t("../internals/is-object"),s=t("../internals/has"),o=t("../internals/object-define-property").f,a=t("../internals/uid"),l=t("../internals/freezing"),c=a("meta"),u=0,f=Object.isExtensible||function(){return!0},p=function(t){o(t,c,{value:{objectID:"O"+ ++u,weakData:{}}})},d=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,c)){if(!f(t))return"F";if(!e)return"E";p(t)}return t[c].objectID},g=function(t,e){if(!s(t,c)){if(!f(t))return!0;if(!e)return!1;p(t)}return t[c].weakData},h=function(t){return l&&y.REQUIRED&&f(t)&&!s(t,c)&&p(t),t},y=n.exports={REQUIRED:!1,fastKey:d,getWeakData:g,onFreeze:h};r[c]=!0},"freezing.js":function(t,e,n){var r=t("../internals/fails");n.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},"iterate.js":function(t,e,n){var r=t("../internals/an-object"),i=t("../internals/is-array-iterator-method"),s=t("../internals/to-length"),o=t("../internals/bind-context"),a=t("../internals/get-iterator-method"),l=t("../internals/call-with-safe-iteration-closing"),c=function(t,e){this.stopped=t,this.result=e},u;(n.exports=function(t,e,n,u,f){var p=o(e,n,u?2:1),d,g,h,y,m,b;if(f)d=t;else{if("function"!=typeof(g=a(t)))throw TypeError("Target is not iterable");if(i(g)){for(h=0,y=s(t.length);y>h;h++)if((m=u?p(r(b=t[h])[0],b[1]):p(t[h]))&&m instanceof c)return m;return new c(!1)}d=g.call(t)}for(;!(b=d.next()).done;)if((m=l(d,p,b.value,u))&&m instanceof c)return m;return new c(!1)}).stop=function(t){return new c(!0,t)}},"is-array-iterator-method.js":function(t,e,n){var r=t("../internals/well-known-symbol"),i=t("../internals/iterators"),s=r("iterator"),o=Array.prototype;n.exports=function(t){return void 0!==t&&(i.Array===t||o[s]===t)}},"iterators.js":function(t,e,n){n.exports={}},"get-iterator-method.js":function(t,e,n){var r=t("../internals/classof"),i=t("../internals/iterators"),s,o=t("../internals/well-known-symbol")("iterator");n.exports=function(t){if(null!=t)return t[o]||t["@@iterator"]||i[r(t)]}},"call-with-safe-iteration-closing.js":function(t,e,n){var r=t("../internals/an-object");n.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(o){var s=t.return;throw void 0!==s&&r(s.call(t)),o}}},"an-instance.js":function(t,e,n){n.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},"check-correctness-of-iteration.js":function(t,e,n){var r,i=t("../internals/well-known-symbol")("iterator"),s=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){s=!0}};a[i]=function(){return this},Array.from(a,(function(){throw 2}))}catch(l){}n.exports=function(t,e){if(!e&&!s)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(l){}return n}},"inherit-if-required.js":function(t,e,n){var r=t("../internals/is-object"),i=t("../internals/object-set-prototype-of");n.exports=function(t,e,n){var s,o;return i&&"function"==typeof(s=e.constructor)&&s!==n&&r(o=s.prototype)&&o!==n.prototype&&i(t,o),t}},"object-set-prototype-of.js":function(t,e,n){var r=t("../internals/an-object"),i=t("../internals/a-possible-prototype");n.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t=!1,e={},n;try{(n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(e,[]),t=e instanceof Array}catch(s){}return function e(s,o){return r(s),i(o),t?n.call(s,o):s.__proto__=o,s}}():void 0)},"a-possible-prototype.js":function(t,e,n){var r=t("../internals/is-object");n.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},"collection-strong.js":function(t,e,n){"use strict";var r=t("../internals/object-define-property").f,i=t("../internals/object-create"),s=t("../internals/redefine-all"),o=t("../internals/bind-context"),a=t("../internals/an-instance"),l=t("../internals/iterate"),c=t("../internals/define-iterator"),u=t("../internals/set-species"),f=t("../internals/descriptors"),p=t("../internals/internal-metadata").fastKey,d=t("../internals/internal-state"),g=d.set,h=d.getterFor;n.exports={getConstructor:function(t,e,n,c){var u=t((function(t,r){a(t,u,e),g(t,{type:e,index:i(null),first:void 0,last:void 0,size:0}),f||(t.size=0),null!=r&&l(r,t[c],t,n)})),d=h(e),y=function(t,e,n){var r=d(t),i=m(t,e),s,o;return i?i.value=n:(r.last=i={index:o=p(e,!0),key:e,value:n,previous:s=r.last,next:void 0,removed:!1},r.first||(r.first=i),s&&(s.next=i),f?r.size++:t.size++,"F"!==o&&(r.index[o]=i)),t},m=function(t,e){var n=d(t),r=p(e),i;if("F"!==r)return n.index[r];for(i=n.first;i;i=i.next)if(i.key==e)return i};return s(u.prototype,{clear:function t(){for(var e=this,n=d(this),r=n.index,i=n.first;i;)i.removed=!0,i.previous&&(i.previous=i.previous.next=void 0),delete r[i.index],i=i.next;n.first=n.last=void 0,f?n.size=0:this.size=0},delete:function(t){var e=this,n=d(this),r=m(this,t);if(r){var i=r.next,s=r.previous;delete n.index[r.index],r.removed=!0,s&&(s.next=i),i&&(i.previous=s),n.first==r&&(n.first=i),n.last==r&&(n.last=s),f?n.size--:this.size--}return!!r},forEach:function t(e){for(var n=d(this),r=o(e,arguments.length>1?arguments[1]:void 0,3),i;i=i?i.next:n.first;)for(r(i.value,i.key,this);i&&i.removed;)i=i.previous},has:function t(e){return!!m(this,e)}}),s(u.prototype,n?{get:function t(e){var n=m(this,e);return n&&n.value},set:function t(e,n){return y(this,0===e?0:e,n)}}:{add:function t(e){return y(this,e=0===e?0:e,e)}}),f&&r(u.prototype,"size",{get:function(){return d(this).size}}),u},setStrong:function(t,e,n){var r=e+" Iterator",i=h(e),s=h(r);c(t,e,(function(t,e){g(this,{type:r,target:t,state:i(t),kind:e,last:void 0})}),(function(){for(var t=s(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),u(e)}}},"redefine-all.js":function(t,e,n){var r=t("../internals/redefine");n.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},"define-iterator.js":function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/create-iterator-constructor"),s=t("../internals/object-get-prototype-of"),o=t("../internals/object-set-prototype-of"),a=t("../internals/set-to-string-tag"),l=t("../internals/hide"),c=t("../internals/redefine"),u=t("../internals/well-known-symbol"),f=t("../internals/is-pure"),p=t("../internals/iterators"),d=t("../internals/iterators-core"),g=d.IteratorPrototype,h=d.BUGGY_SAFARI_ITERATORS,y=u("iterator"),m="keys",b="values",v="entries",j=function(){return this};n.exports=function(t,e,n,u,d,x,w){i(n,e,u);var S=function(t){if(t===d&&M)return M;if(!h&&t in A)return A[t];switch(t){case m:return function e(){return new n(this,t)};case b:return function e(){return new n(this,t)};case v:return function e(){return new n(this,t)}}return function(){return new n(this)}},k=e+" Iterator",O=!1,A=t.prototype,E=A[y]||A["@@iterator"]||d&&A[d],M=!h&&E||S(d),I="Array"==e&&A.entries||E,R,T,_;if(I&&(R=s(I.call(new t)),g!==Object.prototype&&R.next&&(f||s(R)===g||(o?o(R,g):"function"!=typeof R[y]&&l(R,y,j)),a(R,k,!0,!0),f&&(p[k]=j))),d==b&&E&&E.name!==b&&(O=!0,M=function t(){return E.call(this)}),f&&!w||A[y]===M||l(A,y,M),p[e]=M,d)if(T={values:S(b),keys:x?M:S(m),entries:S(v)},w)for(_ in T)!h&&!O&&_ in A||c(A,_,T[_]);else r({target:e,proto:!0,forced:h||O},T);return T}},"create-iterator-constructor.js":function(t,e,n){"use strict";var r=t("../internals/iterators-core").IteratorPrototype,i=t("../internals/object-create"),s=t("../internals/create-property-descriptor"),o=t("../internals/set-to-string-tag"),a=t("../internals/iterators"),l=function(){return this};n.exports=function(t,e,n){var c=e+" Iterator";return t.prototype=i(r,{next:s(1,n)}),o(t,c,!1,!0),a[c]=l,t}},"iterators-core.js":function(t,e,n){"use strict";var r=t("../internals/object-get-prototype-of"),i=t("../internals/hide"),s=t("../internals/has"),o=t("../internals/well-known-symbol"),a=t("../internals/is-pure"),l=o("iterator"),c=!1,u=function(){return this},f,p,d;[].keys&&("next"in(d=[].keys())?(p=r(r(d)))!==Object.prototype&&(f=p):c=!0),null==f&&(f={}),a||s(f,l)||i(f,l,u),n.exports={IteratorPrototype:f,BUGGY_SAFARI_ITERATORS:c}},"object-get-prototype-of.js":function(t,e,n){var r=t("../internals/has"),i=t("../internals/to-object"),s=t("../internals/shared-key"),o=t("../internals/correct-prototype-getter"),a=s("IE_PROTO"),l=Object.prototype;n.exports=o?Object.getPrototypeOf:function(t){return t=i(t),r(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?l:null}},"correct-prototype-getter.js":function(t,e,n){var r=t("../internals/fails");n.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},"set-species.js":function(t,e,n){"use strict";var r=t("../internals/get-built-in"),i=t("../internals/object-define-property"),s=t("../internals/well-known-symbol"),o=t("../internals/descriptors"),a=s("species");n.exports=function(t){var e=r(t),n=i.f;o&&e&&!e[a]&&n(e,a,{configurable:!0,get:function(){return this}})}},"string-multibyte.js":function(t,e,n){var r=t("../internals/to-integer"),i=t("../internals/require-object-coercible"),s=function(t){return function(e,n){var s=String(i(e)),o=r(n),a=s.length,l,c;return o<0||o>=a?t?"":void 0:(l=s.charCodeAt(o))<55296||l>56319||o+1===a||(c=s.charCodeAt(o+1))<56320||c>57343?t?s.charAt(o):l:t?s.slice(o,o+2):c-56320+(l-55296<<10)+65536}};n.exports={codeAt:s(!1),charAt:s(!0)}},"dom-iterables.js":function(t,e,n){n.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},"add-to-unscopables.js":function(t,e,n){var r=t("../internals/well-known-symbol"),i=t("../internals/object-create"),s=t("../internals/hide"),o=r("unscopables"),a=Array.prototype;null==a[o]&&s(a,o,i(null)),n.exports=function(t){a[o][t]=!0}},"array-from.js":function(t,e,n){"use strict";var r=t("../internals/bind-context"),i=t("../internals/to-object"),s=t("../internals/call-with-safe-iteration-closing"),o=t("../internals/is-array-iterator-method"),a=t("../internals/to-length"),l=t("../internals/create-property"),c=t("../internals/get-iterator-method");n.exports=function t(e){var n=i(e),u="function"==typeof this?this:Array,f=arguments.length,p=f>1?arguments[1]:void 0,d=void 0!==p,g=0,h=c(n),y,m,b,v;if(d&&(p=r(p,f>2?arguments[2]:void 0,2)),null==h||u==Array&&o(h))for(m=new u(y=a(n.length));y>g;g++)l(m,g,d?p(n[g],g):n[g]);else for(v=h.call(n),m=new u;!(b=v.next()).done;g++)l(m,g,d?s(v,p,[b.value,g],!0):b.value);return m.length=g,m}},"array-copy-within.js":function(t,e,n){"use strict";var r=t("../internals/to-object"),i=t("../internals/to-absolute-index"),s=t("../internals/to-length"),o=Math.min;n.exports=[].copyWithin||function t(e,n){var a=r(this),l=s(a.length),c=i(e,l),u=i(n,l),f=arguments.length>2?arguments[2]:void 0,p=o((void 0===f?l:i(f,l))-u,l-c),d=1;for(u<c&&c<u+p&&(d=-1,u+=p-1,c+=p-1);p-- >0;)u in a?a[c]=a[u]:delete a[c],c+=d,u+=d;return a}},"sloppy-array-method.js":function(t,e,n){"use strict";var r=t("../internals/fails");n.exports=function(t,e){var n=[][t];return!n||!r((function(){n.call(null,e||function(){throw 1},1)}))}},"array-fill.js":function(t,e,n){"use strict";var r=t("../internals/to-object"),i=t("../internals/to-absolute-index"),s=t("../internals/to-length");n.exports=function t(e){for(var n=r(this),o=s(n.length),a=arguments.length,l=i(a>1?arguments[1]:void 0,o),c=a>2?arguments[2]:void 0,u=void 0===c?o:i(c,o);u>l;)n[l++]=e;return n}},"flatten-into-array.js":function(t,e,n){"use strict";var r=t("../internals/is-array"),i=t("../internals/to-length"),s=t("../internals/bind-context"),o=function(t,e,n,a,l,c,u,f){for(var p=l,d=0,g=!!u&&s(u,f,3),h;d<a;){if(d in n){if(h=g?g(n[d],d,e):n[d],c>0&&r(h))p=o(t,e,h,i(h.length),p,c-1)-1;else{if(p>=9007199254740991)throw TypeError("Exceed the acceptable array length");t[p]=h}p++}d++}return p};n.exports=o},"array-for-each.js":function(t,e,n){"use strict";var r=t("../internals/array-iteration").forEach,i=t("../internals/sloppy-array-method");n.exports=i("forEach")?function t(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}:[].forEach},"array-last-index-of.js":function(t,e,n){"use strict";var r=t("../internals/to-indexed-object"),i=t("../internals/to-integer"),s=t("../internals/to-length"),o=t("../internals/sloppy-array-method"),a=Math.min,l=[].lastIndexOf,c=!!l&&1/[1].lastIndexOf(1,-0)<0,u=o("lastIndexOf");n.exports=c||u?function t(e){if(c)return l.apply(this,arguments)||0;var n=r(this),o=s(n.length),u=o-1;for(arguments.length>1&&(u=a(u,i(arguments[1]))),u<0&&(u=o+u);u>=0;u--)if(u in n&&n[u]===e)return u||0;return-1}:l},"array-reduce.js":function(t,e,n){var r=t("../internals/a-function"),i=t("../internals/to-object"),s=t("../internals/indexed-object"),o=t("../internals/to-length"),a=function(t){return function(e,n,a,l){r(n);var c=i(e),u=s(c),f=o(c.length),p=t?f-1:0,d=t?-1:1;if(a<2)for(;;){if(p in u){l=u[p],p+=d;break}if(p+=d,t?p<0:f<=p)throw TypeError("Reduce of empty array with no initial value")}for(;t?p>=0:f>p;p+=d)p in u&&(l=n(l,u[p],p,c));return l}};n.exports={left:a(!1),right:a(!0)}},"function-bind.js":function(t,e,n){"use strict";var r=t("../internals/a-function"),i=t("../internals/is-object"),s=[].slice,o={},a=function(t,e,n){if(!(e in o)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";o[e]=Function("C,a","return new C("+r.join(",")+")")}return o[e](t,n)};n.exports=Function.bind||function t(e){var n=r(this),o=s.call(arguments,1),l=function t(){var r=o.concat(s.call(arguments));return this instanceof l?a(n,r.length,r):n.apply(e,r)};return i(n.prototype)&&(l.prototype=n.prototype),l}},"math-log1p.js":function(t,e,n){var r=Math.log;n.exports=Math.log1p||function t(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:r(1+e)}},"math-sign.js":function(t,e,n){n.exports=Math.sign||function t(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},"math-expm1.js":function(t,e,n){var r=Math.expm1,i=Math.exp;n.exports=!r||r(10)>22025.465794806718||r(10)<22025.465794806718||-2e-17!=r(-2e-17)?function t(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:i(e)-1}:r},"math-fround.js":function(t,e,n){var r=t("../internals/math-sign"),i=Math.abs,s=Math.pow,o=s(2,-52),a=s(2,-23),l=s(2,127)*(2-a),c=s(2,-126),u=function(t){return t+1/o-1/o};n.exports=Math.fround||function t(e){var n=i(e),s=r(e),f,p;return n<c?s*u(n/c/a)*c*a:(p=(f=(1+a/o)*n)-(f-n))>l||p!=p?s*(1/0):s*p}},"object-assign.js":function(t,e,n){"use strict";var r=t("../internals/descriptors"),i=t("../internals/fails"),s=t("../internals/object-keys"),a=t("../internals/object-get-own-property-symbols"),l=t("../internals/object-property-is-enumerable"),c=t("../internals/to-object"),u=t("../internals/indexed-object"),f=Object.assign;n.exports=!f||i((function(){var t={},e={},n=o(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=f({},t)[n]||s(f({},e)).join("")!=r}))?function t(e,n){for(var i=c(e),o=arguments.length,f=1,p=a.f,d=l.f;o>f;)for(var g=u(arguments[f++]),h=p?s(g).concat(p(g)):s(g),y=h.length,m=0,b;y>m;)b=h[m++],r&&!d.call(g,b)||(i[b]=g[b]);return i}:f},"object-to-array.js":function(t,e,n){var r=t("../internals/descriptors"),i=t("../internals/object-keys"),s=t("../internals/to-indexed-object"),o=t("../internals/object-property-is-enumerable").f,a=function(t){return function(e){for(var n=s(e),a=i(n),l=a.length,c=0,u=[],f;l>c;)f=a[c++],r&&!o.call(n,f)||u.push(t?[f,n[f]]:n[f]);return u}};n.exports={entries:a(!0),values:a(!1)}},"same-value.js":function(t,e,n){n.exports=Object.is||function t(e,n){return e===n?0!==e||1/e==1/n:e!=e&&n!=n}},"forced-object-prototype-accessors-methods.js":function(t,e,n){"use strict";var r=t("../internals/is-pure"),i=t("../internals/global"),s=t("../internals/fails");n.exports=r||!s((function(){var t=Math.random();__defineSetter__.call(null,t,(function(){})),delete i[t]}))},"is-regexp.js":function(t,e,n){var r=t("../internals/is-object"),i=t("../internals/classof-raw"),s,o=t("../internals/well-known-symbol")("match");n.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},"regexp-flags.js":function(t,e,n){"use strict";var r=t("../internals/an-object");n.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"regexp-exec.js":function(t,e,n){"use strict";var r=t("./regexp-flags"),i=RegExp.prototype.exec,s=String.prototype.replace,o=i,a=(l=/a/,c=/b*/g,i.call(l,"a"),i.call(c,"a"),0!==l.lastIndex||0!==c.lastIndex),l,c,u=void 0!==/()??/.exec("")[1],f;(a||u)&&(o=function t(e){var n=this,o,l,c,f;return u&&(l=new RegExp("^"+n.source+"$(?!\\s)",r.call(n))),a&&(o=n.lastIndex),c=i.call(n,e),a&&c&&(n.lastIndex=n.global?c.index+c[0].length:o),u&&c&&c.length>1&&s.call(c[0],l,(function(){for(f=1;f<arguments.length-2;f++)void 0===arguments[f]&&(c[f]=void 0)})),c}),n.exports=o},"fix-regexp-well-known-symbol-logic.js":function(t,e,n){"use strict";var r=t("../internals/hide"),i=t("../internals/redefine"),s=t("../internals/fails"),o=t("../internals/well-known-symbol"),a=t("../internals/regexp-exec"),l=o("species"),c=!s((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u=!s((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));n.exports=function(t,e,n,f){var p=o(t),d=!s((function(){var e={};return e[p]=function(){return 7},7!=""[t](e)})),g=d&&!s((function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[l]=function(){return n}),n[p](""),!e}));if(!d||!g||"replace"===t&&!c||"split"===t&&!u){var h=/./[p],y=n(p,""[t],(function(t,e,n,r,i){return e.exec===a?d&&!i?{done:!0,value:h.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}})),m=y[0],b=y[1];i(String.prototype,t,m),i(RegExp.prototype,p,2==e?function(t,e){return b.call(t,this,e)}:function(t){return b.call(t,this)}),f&&r(RegExp.prototype[p],"sham",!0)}}},"advance-string-index.js":function(t,e,n){"use strict";var r=t("../internals/string-multibyte").charAt;n.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},"regexp-exec-abstract.js":function(t,e,n){var r=t("./classof-raw"),i=t("./regexp-exec");n.exports=function(t,e){var n=t.exec;if("function"==typeof n){var s=n.call(t,e);if("object"!=typeof s)throw TypeError("RegExp exec method returned something other than an Object or null");return s}if("RegExp"!==r(t))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},"species-constructor.js":function(t,e,n){var r=t("../internals/an-object"),i=t("../internals/a-function"),s,o=t("../internals/well-known-symbol")("species");n.exports=function(t,e){var n=r(t).constructor,s;return void 0===n||null==(s=r(n)[o])?e:i(s)}},"not-a-regexp.js":function(t,e,n){var r=t("../internals/is-regexp");n.exports=function(t){if(r(t))throw TypeError("The method doesn't accept regular expressions");return t}},"correct-is-regexp-logic.js":function(t,e,n){var r,i=t("../internals/well-known-symbol")("match");n.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[i]=!1,"/./"[t](e)}catch(r){}}return!1}},"string-pad.js":function(t,e,n){var r=t("../internals/to-length"),i=t("../internals/string-repeat"),s=t("../internals/require-object-coercible"),o=Math.ceil,a=function(t){return function(e,n,a){var l=String(s(e)),c=l.length,u=void 0===a?" ":String(a),f=r(n),p,d;return f<=c||""==u?l:(p=f-c,(d=i.call(u,o(p/u.length))).length>p&&(d=d.slice(0,p)),t?l+d:d+l)}};n.exports={start:a(!1),end:a(!0)}},"string-repeat.js":function(t,e,n){"use strict";var r=t("../internals/to-integer"),i=t("../internals/require-object-coercible");n.exports="".repeat||function t(e){var n=String(i(this)),s="",o=r(e);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(n+=n))1&o&&(s+=n);return s}},"webkit-string-pad-bug.js":function(t,e,n){var r=t("../internals/user-agent");n.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(r)},"user-agent.js":function(t,e,n){var r=t("../internals/get-built-in");n.exports=r("navigator","userAgent")||""},"string-trim.js":function(t,e,n){var r=t("../internals/require-object-coercible"),i,s="["+t("../internals/whitespaces")+"]",o=RegExp("^"+s+s+"*"),a=RegExp(s+s+"*$"),l=function(t){return function(e){var n=String(r(e));return 1&t&&(n=n.replace(o,"")),2&t&&(n=n.replace(a,"")),n}};n.exports={start:l(1),end:l(2),trim:l(3)}},"whitespaces.js":function(t,e,n){n.exports="\t\n\v\f\r \u2028\u2029\ufeff"},"forced-string-trim-method.js":function(t,e,n){var r=t("../internals/fails"),i=t("../internals/whitespaces"),s="";n.exports=function(t){return r((function(){return!!i[t]()||s[t]()!=s||i[t].name!==t}))}},"create-html.js":function(t,e,n){var r=t("../internals/require-object-coercible"),i=/"/g;n.exports=function(t,e,n,s){var o=String(r(t)),a="<"+e;return""!==n&&(a+=" "+n+'="'+String(s).replace(i,"&quot;")+'"'),a+">"+o+"</"+e+">"}},"forced-string-html-method.js":function(t,e,n){var r=t("../internals/fails");n.exports=function(t){return r((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},"collection-weak.js":function(t,e,n){"use strict";var r=t("../internals/redefine-all"),i=t("../internals/internal-metadata").getWeakData,s=t("../internals/an-object"),o=t("../internals/is-object"),a=t("../internals/an-instance"),l=t("../internals/iterate"),c=t("../internals/array-iteration"),u=t("../internals/has"),f=t("../internals/internal-state"),p=f.set,d=f.getterFor,g=c.find,h=c.findIndex,y=0,m=function(t){return t.frozen||(t.frozen=new b)},b=function(){this.entries=[]},v=function(t,e){return g(t.entries,(function(t){return t[0]===e}))};b.prototype={get:function(t){var e=v(this,t);if(e)return e[1]},has:function(t){return!!v(this,t)},set:function(t,e){var n=v(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=h(this.entries,(function(e){return e[0]===t}));return~e&&this.entries.splice(e,1),!!~e}},n.exports={getConstructor:function(t,e,n,c){var f=t((function(t,r){a(t,f,e),p(t,{type:e,id:y++,frozen:void 0}),null!=r&&l(r,t[c],t,n)})),g=d(e),h=function(t,e,n){var r=g(t),o=i(s(e),!0);return!0===o?m(r).set(e,n):o[r.id]=n,t};return r(f.prototype,{delete:function(t){var e=g(this);if(!o(t))return!1;var n=i(t);return!0===n?m(e).delete(t):n&&u(n,e.id)&&delete n[e.id]},has:function t(e){var n=g(this);if(!o(e))return!1;var r=i(e);return!0===r?m(n).has(e):r&&u(r,n.id)}}),r(f.prototype,n?{get:function t(e){var n=g(this);if(o(e)){var r=i(e);return!0===r?m(n).get(e):r?r[n.id]:void 0}},set:function t(e,n){return h(this,e,n)}}:{add:function t(e){return h(this,e,!0)}}),f}}},"number-is-finite.js":function(t,e,n){var r,i=t("../internals/global").isFinite;n.exports=Number.isFinite||function t(e){return"number"==typeof e&&i(e)}},"is-integer.js":function(t,e,n){var r=t("../internals/is-object"),i=Math.floor;n.exports=function t(e){return!r(e)&&isFinite(e)&&i(e)===e}},"parse-float.js":function(t,e,n){var r=t("../internals/global"),i=t("../internals/string-trim").trim,s=t("../internals/whitespaces"),o=r.parseFloat,a=1/o(s+"-0")!=-1/0;n.exports=a?function t(e){var n=i(String(e)),r=o(n);return 0===r&&"-"==n.charAt(0)?-0:r}:o},"parse-int.js":function(t,e,n){var r=t("../internals/global"),i=t("../internals/string-trim").trim,s=t("../internals/whitespaces"),o=r.parseInt,a=/^[+-]?0[Xx]/,l=8!==o(s+"08")||22!==o(s+"0x16");n.exports=l?function t(e,n){var r=i(String(e));return o(r,n>>>0||(a.test(r)?16:10))}:o},"typed-array-constructor.js":function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/global"),s=t("../internals/descriptors"),o=t("../internals/typed-arrays-constructors-requires-wrappers"),a=t("../internals/array-buffer-view-core"),l=t("../internals/array-buffer"),c=t("../internals/an-instance"),u=t("../internals/create-property-descriptor"),f=t("../internals/hide"),p=t("../internals/to-length"),d=t("../internals/to-index"),g=t("../internals/to-offset"),h=t("../internals/to-primitive"),y=t("../internals/has"),m=t("../internals/classof"),b=t("../internals/is-object"),v=t("../internals/object-create"),j=t("../internals/object-set-prototype-of"),x=t("../internals/object-get-own-property-names").f,w=t("../internals/typed-array-from"),S=t("../internals/array-iteration").forEach,k=t("../internals/set-species"),O=t("../internals/object-define-property"),A=t("../internals/object-get-own-property-descriptor"),E=t("../internals/internal-state"),M=E.get,I=E.set,R=O.f,T=A.f,_=Math.round,P=i.RangeError,F=l.ArrayBuffer,z=l.DataView,N=a.NATIVE_ARRAY_BUFFER_VIEWS,L=a.TYPED_ARRAY_TAG,C=a.TypedArray,D=a.TypedArrayPrototype,W=a.aTypedArrayConstructor,q=a.isTypedArray,U="BYTES_PER_ELEMENT",V="Wrong length",G=function(t,e){for(var n=0,r=e.length,i=new(W(t))(r);r>n;)i[n]=e[n++];return i},B=function(t,e){R(t,e,{get:function(){return M(this)[e]}})},Y=function(t){var e;return t instanceof F||"ArrayBuffer"==(e=m(t))||"SharedArrayBuffer"==e},$=function(t,e){return q(t)&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},H=function t(e,n){return $(e,n=h(n,!0))?u(2,e[n]):T(e,n)},Q=function t(e,n,r){return!($(e,n=h(n,!0))&&b(r)&&y(r,"value"))||y(r,"get")||y(r,"set")||r.configurable||y(r,"writable")&&!r.writable||y(r,"enumerable")&&!r.enumerable?R(e,n,r):(e[n]=r.value,e)};s?(N||(A.f=H,O.f=Q,B(D,"buffer"),B(D,"byteOffset"),B(D,"byteLength"),B(D,"length")),r({target:"Object",stat:!0,forced:!N},{getOwnPropertyDescriptor:H,defineProperty:Q}),n.exports=function(t,e,n,s){var a=t+(s?"Clamped":"")+"Array",l="get"+t,u="set"+t,h=i[a],y=h,m=y&&y.prototype,O={},A=function(t,n){var r=M(t);return r.view[l](n*e+r.byteOffset,!0)},E=function(t,n,r){var i=M(t);s&&(r=(r=_(r))<0?0:r>255?255:255&r),i.view[u](n*e+i.byteOffset,r,!0)},T=function(t,e){R(t,e,{get:function(){return A(this,e)},set:function(t){return E(this,e,t)},enumerable:!0})};N?o&&(y=n((function(t,n,r,i){return c(t,y,a),b(n)?Y(n)?void 0!==i?new h(n,g(r,e),i):void 0!==r?new h(n,g(r,e)):new h(n):q(n)?G(y,n):w.call(y,n):new h(d(n))})),j&&j(y,C),S(x(h),(function(t){t in y||f(y,t,h[t])})),y.prototype=m):(y=n((function(t,n,r,i){c(t,y,a);var s=0,o=0,l,u,f;if(b(n)){if(!Y(n))return q(n)?G(y,n):w.call(y,n);l=n,o=g(r,e);var h=n.byteLength;if(void 0===i){if(h%e)throw P(V);if((u=h-o)<0)throw P(V)}else if((u=p(i)*e)+o>h)throw P(V);f=u/e}else f=d(n),l=new F(u=f*e);for(I(t,{buffer:l,byteOffset:o,byteLength:u,length:f,view:new z(l)});s<f;)T(t,s++)})),j&&j(y,C),m=y.prototype=v(D)),m.constructor!==y&&f(m,"constructor",y),L&&f(m,L,a),O[a]=y,r({global:!0,forced:y!=h,sham:!N},O),U in y||f(y,U,e),U in m||f(m,U,e),k(a)}):n.exports=function(){}},"typed-arrays-constructors-requires-wrappers.js":function(t,e,n){var r=t("../internals/global"),i=t("../internals/fails"),s=t("../internals/check-correctness-of-iteration"),o=t("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,a=r.ArrayBuffer,l=r.Int8Array;n.exports=!o||!i((function(){l(1)}))||!i((function(){new l(-1)}))||!s((function(t){new l,new l(null),new l(1.5),new l(t)}),!0)||i((function(){return 1!==new l(new a(2),1,void 0).length}))},"array-buffer-view-core.js":function(t,e,n){"use strict";var r=t("../internals/descriptors"),i=t("../internals/global"),s=t("../internals/is-object"),o=t("../internals/has"),a=t("../internals/classof"),l=t("../internals/hide"),c=t("../internals/redefine"),u=t("../internals/object-define-property").f,f=t("../internals/object-get-prototype-of"),p=t("../internals/object-set-prototype-of"),d=t("../internals/well-known-symbol"),g=t("../internals/uid"),h=i.DataView,y=h&&h.prototype,m=i.Int8Array,b=m&&m.prototype,v=i.Uint8ClampedArray,j=v&&v.prototype,x=m&&f(m),w=b&&f(b),S=Object.prototype,k=S.isPrototypeOf,O=d("toStringTag"),A=g("TYPED_ARRAY_TAG"),E=!(!i.ArrayBuffer||!h),M=E&&!!p&&"Opera"!==a(i.opera),I=!1,R,T={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},_=function t(e){var n=a(e);return"DataView"===n||o(T,n)},P=function(t){return s(t)&&o(T,a(t))},F=function(t){if(P(t))return t;throw TypeError("Target is not a typed array")},z=function(t){if(p){if(k.call(x,t))return t}else for(var e in T)if(o(T,R)){var n=i[e];if(n&&(t===n||k.call(n,t)))return t}throw TypeError("Target is not a typed array constructor")},N=function(t,e,n){if(r){if(n)for(var s in T){var a=i[s];a&&o(a.prototype,t)&&delete a.prototype[t]}w[t]&&!n||c(w,t,n?e:M&&b[t]||e)}},L=function(t,e,n){var s,a;if(r){if(p){if(n)for(s in T)(a=i[s])&&o(a,t)&&delete a[t];if(x[t]&&!n)return;try{return c(x,t,n?e:M&&m[t]||e)}catch(l){}}for(s in T)!(a=i[s])||a[t]&&!n||c(a,t,e)}};for(R in T)i[R]||(M=!1);if((!M||"function"!=typeof x||x===Function.prototype)&&(x=function t(){throw TypeError("Incorrect invocation")},M))for(R in T)i[R]&&p(i[R],x);if((!M||!w||w===S)&&(w=x.prototype,M))for(R in T)i[R]&&p(i[R].prototype,w);if(M&&f(j)!==w&&p(j,w),r&&!o(w,O))for(R in I=!0,u(w,O,{get:function(){return s(this)?this[A]:void 0}}),T)i[R]&&l(i[R],A,R);E&&p&&f(y)!==S&&p(y,S),n.exports={NATIVE_ARRAY_BUFFER:E,NATIVE_ARRAY_BUFFER_VIEWS:M,TYPED_ARRAY_TAG:I&&A,aTypedArray:F,aTypedArrayConstructor:z,exportProto:N,exportStatic:L,isView:_,isTypedArray:P,TypedArray:x,TypedArrayPrototype:w}},"array-buffer.js":function(t,e){"use strict";var n=t("../internals/global"),r=t("../internals/descriptors"),i=t("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER,s=t("../internals/hide"),o=t("../internals/redefine-all"),a=t("../internals/fails"),l=t("../internals/an-instance"),c=t("../internals/to-integer"),u=t("../internals/to-length"),f=t("../internals/to-index"),p=t("../internals/object-get-own-property-names").f,d=t("../internals/object-define-property").f,g=t("../internals/array-fill"),h=t("../internals/set-to-string-tag"),y=t("../internals/internal-state"),m=y.get,b=y.set,v="ArrayBuffer",j="DataView",x="prototype",w="Wrong length",S="Wrong index",k=n.ArrayBuffer,O=k,A=n.DataView,E=n.Math,M=n.RangeError,I=1/0,R=E.abs,T=E.pow,_=E.floor,P=E.log,F=E.LN2,z=function(t,e,n){var r=new Array(n),i=8*n-e-1,s=(1<<i)-1,o=s>>1,a=23===e?T(2,-24)-T(2,-77):0,l=t<0||0===t&&1/t<0?1:0,c=0,u,f,p;for((t=R(t))!=t||t===1/0?(f=t!=t?1:0,u=s):(u=_(P(t)/F),t*(p=T(2,-u))<1&&(u--,p*=2),(t+=u+o>=1?a/p:a*T(2,1-o))*p>=2&&(u++,p/=2),u+o>=s?(f=0,u=s):u+o>=1?(f=(t*p-1)*T(2,e),u+=o):(f=t*T(2,o-1)*T(2,e),u=0));e>=8;r[c++]=255&f,f/=256,e-=8);for(u=u<<e|f,i+=e;i>0;r[c++]=255&u,u/=256,i-=8);return r[--c]|=128*l,r},N=function(t,e){var n=t.length,r=8*n-e-1,i=(1<<r)-1,s=i>>1,o=r-7,a=n-1,l=t[a--],c=127&l,u;for(l>>=7;o>0;c=256*c+t[a],a--,o-=8);for(u=c&(1<<-o)-1,c>>=-o,o+=e;o>0;u=256*u+t[a],a--,o-=8);if(0===c)c=1-s;else{if(c===i)return u?NaN:l?-1/0:1/0;u+=T(2,e),c-=s}return(l?-1:1)*u*T(2,c-e)},L=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},C=function(t){return[255&t]},D=function(t){return[255&t,t>>8&255]},W=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},q=function(t){return z(t,23,4)},U=function(t){return z(t,52,8)},V=function(t,e){d(t.prototype,e,{get:function(){return m(this)[e]}})},G=function(t,e,n,r){var i,s=f(+n),o=m(t);if(s+e>o.byteLength)throw M(S);var a=m(o.buffer).bytes,l=s+o.byteOffset,c=a.slice(l,l+e);return r?c:c.reverse()},B=function(t,e,n,r,i,s){var o,a=f(+n),l=m(t);if(a+e>l.byteLength)throw M(S);for(var c=m(l.buffer).bytes,u=a+l.byteOffset,p=r(+i),d=0;d<e;d++)c[u+d]=p[s?d:e-d-1]};if(i){if(!a((function(){k(1)}))||!a((function(){new k(-1)}))||a((function(){return new k,new k(1.5),new k(NaN),k.name!=v}))){for(var Y=(O=function t(e){return l(this,O),new k(f(e))}).prototype=k.prototype,$=p(k),H=0,Q;$.length>H;)(Q=$[H++])in O||s(O,Q,k[Q]);Y.constructor=O}var X=new A(new O(2)),J=A.prototype.setInt8;X.setInt8(0,2147483648),X.setInt8(1,2147483649),!X.getInt8(0)&&X.getInt8(1)||o(A.prototype,{setInt8:function t(e,n){J.call(this,e,n<<24>>24)},setUint8:function t(e,n){J.call(this,e,n<<24>>24)}},{unsafe:!0})}else O=function t(e){l(this,O,v);var n=f(e);b(this,{bytes:g.call(new Array(n),0),byteLength:n}),r||(this.byteLength=n)},A=function t(e,n,i){l(this,A,j),l(e,O,j);var s=m(e).byteLength,o=c(n);if(o<0||o>s)throw M("Wrong offset");if(o+(i=void 0===i?s-o:u(i))>s)throw M(w);b(this,{buffer:e,byteLength:i,byteOffset:o}),r||(this.buffer=e,this.byteLength=i,this.byteOffset=o)},r&&(V(O,"byteLength"),V(A,"buffer"),V(A,"byteLength"),V(A,"byteOffset")),o(A.prototype,{getInt8:function t(e){return G(this,1,e)[0]<<24>>24},getUint8:function t(e){return G(this,1,e)[0]},getInt16:function t(e){var n=G(this,2,e,arguments.length>1?arguments[1]:void 0);return(n[1]<<8|n[0])<<16>>16},getUint16:function t(e){var n=G(this,2,e,arguments.length>1?arguments[1]:void 0);return n[1]<<8|n[0]},getInt32:function t(e){return L(G(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function t(e){return L(G(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function t(e){return N(G(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function t(e){return N(G(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function t(e,n){B(this,1,e,C,n)},setUint8:function t(e,n){B(this,1,e,C,n)},setInt16:function t(e,n){B(this,2,e,D,n,arguments.length>2?arguments[2]:void 0)},setUint16:function t(e,n){B(this,2,e,D,n,arguments.length>2?arguments[2]:void 0)},setInt32:function t(e,n){B(this,4,e,W,n,arguments.length>2?arguments[2]:void 0)},setUint32:function t(e,n){B(this,4,e,W,n,arguments.length>2?arguments[2]:void 0)},setFloat32:function t(e,n){B(this,4,e,q,n,arguments.length>2?arguments[2]:void 0)},setFloat64:function t(e,n){B(this,8,e,U,n,arguments.length>2?arguments[2]:void 0)}});h(O,v),h(A,j),e.ArrayBuffer=O,e.DataView=A},"to-index.js":function(t,e,n){var r=t("../internals/to-integer"),i=t("../internals/to-length");n.exports=function(t){if(void 0===t)return 0;var e=r(t),n=i(e);if(e!==n)throw RangeError("Wrong length or index");return n}},"to-offset.js":function(t,e,n){var r=t("../internals/to-integer");n.exports=function(t,e){var n=r(t);if(n<0||n%e)throw RangeError("Wrong offset");return n}},"typed-array-from.js":function(t,e,n){var r=t("../internals/to-object"),i=t("../internals/to-length"),s=t("../internals/get-iterator-method"),o=t("../internals/is-array-iterator-method"),a=t("../internals/bind-context"),l=t("../internals/array-buffer-view-core").aTypedArrayConstructor;n.exports=function t(e){var n=r(e),c=arguments.length,u=c>1?arguments[1]:void 0,f=void 0!==u,p=s(n),d,g,h,y,m;if(null!=p&&!o(p))for(m=p.call(n),n=[];!(y=m.next()).done;)n.push(y.value);for(f&&c>2&&(u=a(u,arguments[2],2)),g=i(n.length),h=new(l(this))(g),d=0;g>d;d++)h[d]=f?u(n[d],d):n[d];return h}}}}}}}}},{extensions:[".js",".json"]})("/node_modules/meteor/ecmascript-runtime-client/legacy.js");Package._define("ecmascript-runtime-client",u,{Symbol:o,Map:a,Set:l})}();

!function(){var e=Package.meteor.Meteor,r=Package.meteor.global,n=Package.meteor.meteorEnv,a=Package.modules.meteorInstall,t=Package.modules.meteorBabelHelpers,l=Package.promise.Promise,o=Package["ecmascript-runtime-client"].Symbol,s=Package["ecmascript-runtime-client"].Map,u=Package["ecmascript-runtime-client"].Set,c,i,f=a({node_modules:{meteor:{base64:{"base64.js":function(e,r,n){n.export({Base64:function(){return f}});for(var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=Object.create(null),l=function(e){return a.charAt(e)},o=function(e){return"="===e?-1:t[e]},s=0;s<a.length;s++)t[l(s)]=s;var u=function(e){if("string"==typeof e){var r=e;e=c(r.length);for(var n=0;n<r.length;n++){var a=r.charCodeAt(n);if(a>255)throw new Error("Not ascii. Base64.encode can only take ascii strings.");e[n]=a}}for(var t=[],o=null,s=null,u=null,i=null,f=0;f<e.length;f++)switch(f%3){case 0:o=e[f]>>2&63,s=(3&e[f])<<4;break;case 1:s|=e[f]>>4&15,u=(15&e[f])<<2;break;case 2:u|=e[f]>>6&3,i=63&e[f],t.push(l(o)),t.push(l(s)),t.push(l(u)),t.push(l(i)),o=null,s=null,u=null,i=null}return null!=o&&(t.push(l(o)),t.push(l(s)),null==u?t.push("="):t.push(l(u)),null==i&&t.push("=")),t.join("")},c=function(e){if("undefined"==typeof Uint8Array||"undefined"==typeof ArrayBuffer){for(var r=[],n=0;n<e;n++)r.push(0);return r.$Uint8ArrayPolyfill=!0,r}return new Uint8Array(new ArrayBuffer(e))},i,f={encode:u,decode:function(e){var r=Math.floor(3*e.length/4);"="==e.charAt(e.length-1)&&(r--,"="==e.charAt(e.length-2)&&r--);for(var n=c(r),a=null,t=null,l=null,s=0,u=0;u<e.length;u++){var i=e.charAt(u),f=o(i);switch(u%4){case 0:if(f<0)throw new Error("invalid base64 string");a=f<<2;break;case 1:if(f<0)throw new Error("invalid base64 string");a|=f>>4,n[s++]=a,t=(15&f)<<4;break;case 2:f>=0&&(t|=f>>2,n[s++]=t,l=(3&f)<<6);break;case 3:f>=0&&(n[s++]=l|f)}}return n},newBinary:c}}}}}},{extensions:[".js",".json"]})("/node_modules/meteor/base64/base64.js");Package._define("base64",f,{Base64:void 0})}();

!function(){var e=Package.meteor.Meteor,n=Package.meteor.global,t=Package.meteor.meteorEnv,r=Package.base64.Base64,u=Package.modules.meteorInstall,a=Package.modules.meteorBabelHelpers,o=Package.promise.Promise,i=Package["ecmascript-runtime-client"].Symbol,c=Package["ecmascript-runtime-client"].Map,f=Package["ecmascript-runtime-client"].Set,l,s,y,m=u({node_modules:{meteor:{ejson:{"ejson.js":function(n,t,u){var a;u.link("@babel/runtime/helpers/typeof",{default:function(e){a=e}},0),u.export({EJSON:function(){return o}});var o={},i={},c=function(e,n){return{}.hasOwnProperty.call(e,n)},f=function(e){return null!=e&&c(e,"callee")},l=function(e){return Number.isNaN(e)||e===1/0||e===-1/0};o.addType=function(e,n){if(c(i,e))throw new Error("Type "+e+" already present");i[e]=n};var s=[{matchJSONValue:function(e){return c(e,"$date")&&1===Object.keys(e).length},matchObject:function(e){return e instanceof Date},toJSONValue:function(e){return{$date:e.getTime()}},fromJSONValue:function(e){return new Date(e.$date)}},{matchJSONValue:function(e){return c(e,"$regexp")&&c(e,"$flags")&&2===Object.keys(e).length},matchObject:function(e){return e instanceof RegExp},toJSONValue:function(e){return{$regexp:e.source,$flags:e.flags}},fromJSONValue:function(e){return new RegExp(e.$regexp,e.$flags.slice(0,50).replace(/[^gimuy]/g,"").replace(/(.)(?=.*\1)/g,""))}},{matchJSONValue:function(e){return c(e,"$InfNaN")&&1===Object.keys(e).length},matchObject:l,toJSONValue:function(e){var n;return{$InfNaN:n=Number.isNaN(e)?0:e===1/0?1:-1}},fromJSONValue:function(e){return e.$InfNaN/0}},{matchJSONValue:function(e){return c(e,"$binary")&&1===Object.keys(e).length},matchObject:function(e){return"undefined"!=typeof Uint8Array&&e instanceof Uint8Array||e&&c(e,"$Uint8ArrayPolyfill")},toJSONValue:function(e){return{$binary:r.encode(e)}},fromJSONValue:function(e){return r.decode(e.$binary)}},{matchJSONValue:function(e){return c(e,"$escape")&&1===Object.keys(e).length},matchObject:function(e){var n=!1;if(e){var t=Object.keys(e).length;1!==t&&2!==t||(n=s.some((function(n){return n.matchJSONValue(e)})))}return n},toJSONValue:function(e){var n={};return Object.keys(e).forEach((function(t){n[t]=o.toJSONValue(e[t])})),{$escape:n}},fromJSONValue:function(e){var n={};return Object.keys(e.$escape).forEach((function(t){n[t]=o.fromJSONValue(e.$escape[t])})),n}},{matchJSONValue:function(e){return c(e,"$type")&&c(e,"$value")&&2===Object.keys(e).length},matchObject:function(e){return o._isCustomType(e)},toJSONValue:function(n){var t=e._noYieldsAllowed((function(){return n.toJSONValue()}));return{$type:n.typeName(),$value:t}},fromJSONValue:function(n){var t=n.$type;if(!c(i,t))throw new Error("Custom EJSON type "+t+" is not defined");var r=i[t];return e._noYieldsAllowed((function(){return r(n.$value)}))}}];o._isCustomType=function(e){return e&&"function"==typeof e.toJSONValue&&"function"==typeof e.typeName&&c(i,e.typeName())},o._getTypes=function(){return i},o._getConverters=function(){return s};var y=function(e){for(var n=0;n<s.length;n++){var t=s[n];if(t.matchObject(e))return t.toJSONValue(e)}},m=function(e){if(null===e)return null;var n=y(e);return void 0!==n?n:"object"!==a(e)?e:(Object.keys(e).forEach((function(n){var t=e[n];if("object"===a(t)||void 0===t||l(t)){var r=y(t);r?e[n]=r:m(t)}})),e)};o._adjustTypesToJSONValue=m,o.toJSONValue=function(e){var n=y(e);if(void 0!==n)return n;var t=e;return"object"===a(e)&&(t=o.clone(e),m(t)),t};var O=function(e){if("object"===a(e)&&null!==e){var n=Object.keys(e);if(n.length<=2&&n.every((function(e){return"string"==typeof e&&"$"===e.substr(0,1)})))for(var t=0;t<s.length;t++){var r=s[t];if(r.matchJSONValue(e))return r.fromJSONValue(e)}}return e},g=function(e){if(null===e)return null;var n=O(e);return n!==e?n:"object"!==a(e)?e:(Object.keys(e).forEach((function(n){var t=e[n];if("object"===a(t)){var r=O(t);if(t!==r)return void(e[n]=r);g(t)}})),e)};o._adjustTypesFromJSONValue=g,o.fromJSONValue=function(e){var n=O(e);return n===e&&"object"===a(e)&&(n=o.clone(e),g(n)),n},o.stringify=function(e,n){var t,r=o.toJSONValue(e),a;n&&(n.canonical||n.indent)?(u.link("./stringify",{default:function(e){a=e}},0),t=a(r,n)):t=JSON.stringify(r);return t},o.parse=function(e){if("string"!=typeof e)throw new Error("EJSON.parse argument should be a string");return o.fromJSONValue(JSON.parse(e))},o.isBinary=function(e){return!!("undefined"!=typeof Uint8Array&&e instanceof Uint8Array||e&&e.$Uint8ArrayPolyfill)},o.equals=function(e,n,t){var r,u=!(!t||!t.keyOrderSensitive),i;if(e===n)return!0;if(Number.isNaN(e)&&Number.isNaN(n))return!0;if(!e||!n)return!1;if("object"!==a(e)||"object"!==a(n))return!1;if(e instanceof Date&&n instanceof Date)return e.valueOf()===n.valueOf();if(o.isBinary(e)&&o.isBinary(n)){if(e.length!==n.length)return!1;for(r=0;r<e.length;r++)if(e[r]!==n[r])return!1;return!0}if("function"==typeof e.equals)return e.equals(n,t);if("function"==typeof n.equals)return n.equals(e,t);if(e instanceof Array){if(!(n instanceof Array))return!1;if(e.length!==n.length)return!1;for(r=0;r<e.length;r++)if(!o.equals(e[r],n[r],t))return!1;return!0}switch(o._isCustomType(e)+o._isCustomType(n)){case 1:return!1;case 2:return o.equals(o.toJSONValue(e),o.toJSONValue(n))}var f=Object.keys(e),l=Object.keys(n);return u?(r=0,i=f.every((function(u){return!(r>=l.length)&&(u===l[r]&&(!!o.equals(e[u],n[l[r]],t)&&(r++,!0)))}))):(r=0,i=f.every((function(u){return!!c(n,u)&&(!!o.equals(e[u],n[u],t)&&(r++,!0))}))),i&&r===l.length},o.clone=function(e){var n;if("object"!==a(e))return e;if(null===e)return null;if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return e;if(o.isBinary(e)){n=o.newBinary(e.length);for(var t=0;t<e.length;t++)n[t]=e[t];return n}return Array.isArray(e)?e.map((function(e){return o.clone(e)})):f(e)?Array.from(e).map((function(e){return o.clone(e)})):"function"==typeof e.clone?e.clone():o._isCustomType(e)?o.fromJSONValue(o.clone(o.toJSONValue(e)),!0):(n={},Object.keys(e).forEach((function(t){n[t]=o.clone(e[t])})),n)},o.newBinary=r.newBinary},"stringify.js":function(e,n,t){var r;function u(e){return JSON.stringify(e)}t.link("@babel/runtime/helpers/typeof",{default:function(e){r=e}},0);var a=function(e,n,t,o,i){var c=n[e];switch(r(c)){case"string":return u(c);case"number":return isFinite(c)?String(c):"null";case"boolean":return String(c);case"object":if(!c)return"null";var f=o+t,s=[];if(Array.isArray(c)||{}.hasOwnProperty.call(c,"callee")){for(var y=c.length,m=0,O;m<y;m+=1)s[m]=a(m,c,t,f,i)||"null";return O=0===s.length?"[]":f?"[\n"+f+s.join(",\n"+f)+"\n"+o+"]":"["+s.join(",")+"]"}var g=Object.keys(c);return i&&(g=g.sort()),g.forEach((function(e){(l=a(e,c,t,f,i))&&s.push(u(e)+(f?": ":":")+l)})),l=0===s.length?"{}":f?"{\n"+f+s.join(",\n"+f)+"\n"+o+"}":"{"+s.join(",")+"}"}},o=function(e,n){var t=Object.assign({indent:"",canonical:!1},n);if(!0===t.indent)t.indent="  ";else if("number"==typeof t.indent){for(var r="",u=0;u<t.indent;u++)r+=" ";t.indent=r}return a("",{"":e},t.indent,"",t.canonical)};t.exportDefault(o)}}}}},{extensions:[".js",".json"]})("/node_modules/meteor/ejson/ejson.js");Package._define("ejson",m,{EJSON:s})}();

!function(){var e=Package.meteor.Meteor,n=Package.meteor.global,r=Package.meteor.meteorEnv,i=Package.ejson.EJSON,o=Package.modules.meteorInstall,d=Package.modules.meteorBabelHelpers,a=Package.promise.Promise,t=Package["ecmascript-runtime-client"].Symbol,f=Package["ecmascript-runtime-client"].Map,c=Package["ecmascript-runtime-client"].Set,l,u,s=o({node_modules:{meteor:{"diff-sequence":{"diff.js":function(n,r,o){o.export({DiffSequence:function(){return a}});var a={},t=Object.prototype.hasOwnProperty;function f(e){for(var n in d.sanitizeForInObject(Object(e)))if(t.call(e,n))return!1;return!0}a.diffQueryChanges=function(e,n,r,i,o){e?a.diffQueryOrderedChanges(n,r,i,o):a.diffQueryUnorderedChanges(n,r,i,o)},a.diffQueryUnorderedChanges=function(e,n,r,o){var d=(o=o||{}).projectionFn||i.clone;if(r.movedBefore)throw new Error("_diffQueryUnordered called with a movedBefore observer!");n.forEach((function(n,o){var t=e.get(o);if(t){if(r.changed&&!i.equals(t,n)){var c=d(n),l=d(t),u=a.makeChangedFields(c,l);f(u)||r.changed(o,u)}}else if(r.added){var s=d(n);delete s._id,r.added(n._id,s)}})),r.removed&&e.forEach((function(e,i){n.has(i)||r.removed(i)}))},a.diffQueryOrderedChanges=function(n,r,o,d){var c=(d=d||{}).projectionFn||i.clone,l={};r.forEach((function(n){l[n._id]&&e._debug("Duplicate _id in new_results"),l[n._id]=!0}));var u={};n.forEach((function(n,r){n._id in u&&e._debug("Duplicate _id in old_results"),u[n._id]=r}));for(var s=[],h=0,g=r.length,m=new Array(g),v=new Array(g),_=function(e){return u[r[e]._id]},y=0;y<g;y++)if(void 0!==u[r[y]._id]){for(var O=h;O>0&&!(_(m[O-1])<_(y));)O--;v[y]=0===O?-1:m[O-1],m[O]=y,O+1>h&&(h=O+1)}for(var b=0===h?-1:m[h-1];b>=0;)s.push(b),b=v[b];s.reverse(),s.push(r.length),n.forEach((function(e){l[e._id]||o.removed&&o.removed(e._id)}));var p=0;s.forEach((function(e){for(var i=r[e]?r[e]._id:null,d,l,s,h,g,m=p;m<e;m++)l=r[m],t.call(u,l._id)?(d=n[u[l._id]],h=c(l),g=c(d),f(s=a.makeChangedFields(h,g))||o.changed&&o.changed(l._id,s),o.movedBefore&&o.movedBefore(l._id,i)):(delete(s=c(l))._id,o.addedBefore&&o.addedBefore(l._id,s,i),o.added&&o.added(l._id,s));i&&(l=r[e],d=n[u[l._id]],h=c(l),g=c(d),f(s=a.makeChangedFields(h,g))||o.changed&&o.changed(l._id,s)),p=e+1}))},a.diffObjects=function(e,n,r){Object.keys(e).forEach((function(i){var o=e[i];t.call(n,i)?r.both&&r.both(i,o,n[i]):r.leftOnly&&r.leftOnly(i,o)})),r.rightOnly&&Object.keys(n).forEach((function(i){var o=n[i];t.call(e,i)||r.rightOnly(i,o)}))},a.diffMaps=function(e,n,r){e.forEach((function(e,i){n.has(i)?r.both&&r.both(i,e,n.get(i)):r.leftOnly&&r.leftOnly(i,e)})),r.rightOnly&&n.forEach((function(n,i){e.has(i)||r.rightOnly(i,n)}))},a.makeChangedFields=function(e,n){var r={};return a.diffObjects(n,e,{leftOnly:function(e,n){r[e]=void 0},rightOnly:function(e,n){r[e]=n},both:function(e,n,o){i.equals(n,o)||(r[e]=o)}}),r},a.applyChanges=function(e,n){Object.keys(n).forEach((function(r){var i=n[r];void 0===i?delete e[r]:e[r]=i}))}}}}}},{extensions:[".js",".json"]})("/node_modules/meteor/diff-sequence/diff.js");Package._define("diff-sequence",s,{DiffSequence:void 0})}();

!function(){var t=Package.meteor.Meteor,n=Package.meteor.global,o=Package.meteor.meteorEnv,e=Package.modules.meteorInstall,a=Package.modules.meteorBabelHelpers,r,i,s=e({node_modules:{meteor:{"geojson-utils":{"main.js":function(t,n){n.GeoJSON=t("./geojson-utils.js")},"geojson-utils.js":function(t,n,o){!function(){var t={};function n(t){for(var n=[],o=[],e=0;e<t[0].length;e++)n.push(t[0][e][1]),o.push(t[0][e][0]);return n=n.sort((function(t,n){return t-n})),o=o.sort((function(t,n){return t-n})),[[n[0],o[0]],[n[n.length-1],o[o.length-1]]]}function e(t,n,o){for(var e=[[0,0]],a=0;a<o.length;a++){for(var r=0;r<o[a].length;r++)e.push(o[a][r]);e.push([0,0])}for(var i=!1,a=0,r=e.length-1;a<e.length;r=a++)e[a][0]>n!=e[r][0]>n&&t<(e[r][1]-e[a][1])*(n-e[a][0])/(e[r][0]-e[a][0])+e[a][1]&&(i=!i);return i}void 0!==o&&o.exports&&(o.exports=t),t.lineStringsIntersect=function(t,n){for(var o=[],e=0;e<=t.coordinates.length-2;++e)for(var a=0;a<=n.coordinates.length-2;++a){var r={x:t.coordinates[e][1],y:t.coordinates[e][0]},i={x:t.coordinates[e+1][1],y:t.coordinates[e+1][0]},s={x:n.coordinates[a][1],y:n.coordinates[a][0]},c={x:n.coordinates[a+1][1],y:n.coordinates[a+1][0]},u,h,d=(c.y-s.y)*(i.x-r.x)-(c.x-s.x)*(i.y-r.y);if(0!=d){var l=((c.x-s.x)*(r.y-s.y)-(c.y-s.y)*(r.x-s.x))/d,g=((i.x-r.x)*(r.y-s.y)-(i.y-r.y)*(r.x-s.x))/d;0<=l&&l<=1&&0<=g&&g<=1&&o.push({type:"Point",coordinates:[r.x+l*(i.x-r.x),r.y+l*(i.y-r.y)]})}}return 0==o.length&&(o=!1),o},t.pointInBoundingBox=function(t,n){return!(t.coordinates[1]<n[0][0]||t.coordinates[1]>n[1][0]||t.coordinates[0]<n[0][1]||t.coordinates[0]>n[1][1])},t.pointInPolygon=function(o,a){for(var r="Polygon"==a.type?[a.coordinates]:a.coordinates,i=!1,s=0;s<r.length;s++)t.pointInBoundingBox(o,n(r[s]))&&(i=!0);if(!i)return!1;for(var c=!1,s=0;s<r.length;s++)e(o.coordinates[1],o.coordinates[0],r[s])&&(c=!0);return c},t.numberToRadius=function(t){return t*Math.PI/180},t.numberToDegree=function(t){return 180*t/Math.PI},t.drawCircle=function(n,o,e){for(var a=[o.coordinates[1],o.coordinates[0]],r=n/1e3/6371,i=[t.numberToRadius(a[0]),t.numberToRadius(a[1])],e=e||15,s=[[a[0],a[1]]],c=0;c<e;c++){var u=2*Math.PI*c/e,h=Math.asin(Math.sin(i[0])*Math.cos(r)+Math.cos(i[0])*Math.sin(r)*Math.cos(u)),d=i[1]+Math.atan2(Math.sin(u)*Math.sin(r)*Math.cos(i[0]),Math.cos(r)-Math.sin(i[0])*Math.sin(h));s[c]=[],s[c][1]=t.numberToDegree(h),s[c][0]=t.numberToDegree(d)}return{type:"Polygon",coordinates:[s]}},t.rectangleCentroid=function(t){var n=t.coordinates[0],o=n[0][0],e=n[0][1],a,r,i,s;return{type:"Point",coordinates:[o+(n[2][0]-o)/2,e+(n[2][1]-e)/2]}},t.pointDistance=function(n,o){var e=n.coordinates[0],a=n.coordinates[1],r=o.coordinates[0],i=o.coordinates[1],s=t.numberToRadius(i-a),c=t.numberToRadius(r-e),u=Math.pow(Math.sin(s/2),2)+Math.cos(t.numberToRadius(a))*Math.cos(t.numberToRadius(i))*Math.pow(Math.sin(c/2),2),h;return 6371*(2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)))*1e3},t.geometryWithinRadius=function(n,o,e){if("Point"==n.type)return t.pointDistance(n,o)<=e;if("LineString"==n.type||"Polygon"==n.type){var a={},r;for(var i in r="Polygon"==n.type?n.coordinates[0]:n.coordinates)if(a.coordinates=r[i],t.pointDistance(a,o)>e)return!1}return!0},t.area=function(t){for(var n=0,o=t.coordinates[0],e=o.length-1,a,r,i=0;i<o.length;e=i++){var a={x:o[i][1],y:o[i][0]},r={x:o[e][1],y:o[e][0]};n+=a.x*r.y,n-=a.y*r.x}return n/=2},t.centroid=function(n){for(var o,e=0,a=0,r=n.coordinates[0],i=r.length-1,s,c,u=0;u<r.length;i=u++){var s={x:r[u][1],y:r[u][0]},c={x:r[i][1],y:r[i][0]};e+=(s.x+c.x)*(o=s.x*c.y-c.x*s.y),a+=(s.y+c.y)*o}return{type:"Point",coordinates:[a/(o=6*t.area(n)),e/o]}},t.simplify=function(t,n){var o,e,a,r,i,s,c,u,h,d,l,g,M,y,f,x,m,p,v;n=n||20,t=t.map((function(t){return{lng:t.coordinates[0],lat:t.coordinates[1]}}));var P=Math.PI/180*.5,b=new Array,T=new Array,I=new Array;if(t.length<3)return t;for(o=t.length,d=360*n/(2*Math.PI*6378137),d*=d,a=0,T[0]=0,I[0]=o-1,e=1;e>0;)if(r=T[e-1],i=I[e-1],e--,i-r>1){for(l=t[i].lng()-t[r].lng(),g=t[i].lat()-t[r].lat(),Math.abs(l)>180&&(l=360-Math.abs(l)),M=(l*=Math.cos(P*(t[i].lat()+t[r].lat())))*l+g*g,s=r+1,c=r,h=-1;s<i;s++)y=t[s].lng()-t[r].lng(),f=t[s].lat()-t[r].lat(),Math.abs(y)>180&&(y=360-Math.abs(y)),x=(y*=Math.cos(P*(t[s].lat()+t[r].lat())))*y+f*f,m=t[s].lng()-t[i].lng(),p=t[s].lat()-t[i].lat(),Math.abs(m)>180&&(m=360-Math.abs(m)),(u=x>=M+(v=(m*=Math.cos(P*(t[s].lat()+t[i].lat())))*m+p*p)?v:v>=M+x?x:(y*g-f*l)*(y*g-f*l)/M)>h&&(c=s,h=u);h<d?(b[a]=r,a++):(T[++e-1]=c,I[e-1]=i,T[++e-1]=r,I[e-1]=c)}else b[a]=r,a++;b[a]=o-1,a++;for(var j=new Array,s=0;s<a;s++)j.push(t[b[s]]);return j.map((function(t){return{type:"Point",coordinates:[t.lng,t.lat]}}))},t.destinationPoint=function(n,o,e){e/=6371,o=t.numberToRadius(o);var a=t.numberToRadius(n.coordinates[0]),r=t.numberToRadius(n.coordinates[1]),i=Math.asin(Math.sin(a)*Math.cos(e)+Math.cos(a)*Math.sin(e)*Math.cos(o)),s=r+Math.atan2(Math.sin(o)*Math.sin(e)*Math.cos(a),Math.cos(e)-Math.sin(a)*Math.sin(i));return s=(s+3*Math.PI)%(2*Math.PI)-Math.PI,{type:"Point",coordinates:[t.numberToDegree(i),t.numberToDegree(s)]}}}()}}}}},{extensions:[".js",".json"]})("/node_modules/meteor/geojson-utils/main.js");Package._define("geojson-utils",s,{GeoJSON:void 0})}();

!function(){var t=Package.meteor.Meteor,e=Package.meteor.global,n=Package.meteor.meteorEnv,i=Package.ejson.EJSON,r=Package.modules.meteorInstall,a=Package.modules.meteorBabelHelpers,o=Package.promise.Promise,c=Package["ecmascript-runtime-client"].Symbol,s=Package["ecmascript-runtime-client"].Map,u=Package["ecmascript-runtime-client"].Set,f,m,p=r({node_modules:{meteor:{"id-map":{"id-map.js":function(t,e,n){n.export({IdMap:function(){return o}});var r=Object.prototype.hasOwnProperty,o=function(){function t(t,e){this.clear(),this._idStringify=t||JSON.stringify,this._idParse=e||JSON.parse}var e=t.prototype;return e.get=function(){function t(t){var e=this._idStringify(t);return this._map[e]}return t}(),e.set=function(){function t(t,e){var n=this._idStringify(t);this._map[n]=e}return t}(),e.remove=function(){function t(t){var e=this._idStringify(t);delete this._map[e]}return t}(),e.has=function(){function t(t){var e=this._idStringify(t);return r.call(this._map,e)}return t}(),e.empty=function(){function t(){for(var t in a.sanitizeForInObject(this._map))return!1;return!0}return t}(),e.clear=function(){function t(){this._map=Object.create(null)}return t}(),e.forEach=function(){function t(t){for(var e=Object.keys(this._map),n=0;n<e.length;n++){var i;if(!1===t.call(null,this._map[e[n]],this._idParse(e[n])))return}}return t}(),e.size=function(){function t(){return Object.keys(this._map).length}return t}(),e.setDefault=function(){function t(t,e){var n=this._idStringify(t);return r.call(this._map,n)?this._map[n]:(this._map[n]=e,e)}return t}(),e.clone=function(){function e(){var e=new t(this._idStringify,this._idParse);return this.forEach((function(t,n){e.set(n,i.clone(t))})),e}return e}(),t}()}}}}},{extensions:[".js",".json"]})("/node_modules/meteor/id-map/id-map.js");Package._define("id-map",p,{IdMap:f})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.modules.meteorInstall,o=Package.modules.meteorBabelHelpers,i=Package.promise.Promise,a=Package["ecmascript-runtime-client"].Symbol,d=Package["ecmascript-runtime-client"].Map,c=Package["ecmascript-runtime-client"].Set,u,s;r({node_modules:{meteor:{random:{"random.js":function(t){if(e.isServer)var n=Npm.require("crypto");var r=function(){function e(){var e=4022871197,t=function(t){t=t.toString();for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)};return t.version="Mash 0.9",t}return function(t){var n=0,r=0,o=0,i=1;0==t.length&&(t=[+new Date]);var a=e();n=a(" "),r=a(" "),o=a(" ");for(var d=0;d<t.length;d++)(n-=a(t[d]))<0&&(n+=1),(r-=a(t[d]))<0&&(r+=1),(o-=a(t[d]))<0&&(o+=1);a=null;var c=function(){var e=2091639*n+2.3283064365386963e-10*i;return n=r,r=o,o=e-(i=0|e)};return c.uint32=function(){return 4294967296*c()},c.fract53=function(){return c()+11102230246251565e-32*(2097152*c()|0)},c.version="Alea 0.9",c.args=t,c}(Array.prototype.slice.call(arguments))},o="23456789ABCDEFGHJKLMNPQRSTWXYZabcdefghijkmnopqrstuvwxyz",i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-_",a=function(e,t){var n=this;if(this.type=e,!a.Type[e])throw new Error("Unknown random generator type: "+e);if(e===a.Type.ALEA){if(!t.seeds)throw new Error("No seeds were provided for Alea PRNG");this.alea=r.apply(null,t.seeds)}};a.Type={NODE_CRYPTO:"NODE_CRYPTO",BROWSER_CRYPTO:"BROWSER_CRYPTO",ALEA:"ALEA"},a.prototype.fraction=function(){var e=this,t;if(this.type===a.Type.ALEA)return this.alea();if(this.type===a.Type.NODE_CRYPTO)return 2.3283064365386963e-10*parseInt(this.hexString(8),16);if(this.type===a.Type.BROWSER_CRYPTO){var n=new Uint32Array(1);return window.crypto.getRandomValues(n),2.3283064365386963e-10*n[0]}throw new Error("Unknown random generator type: "+this.type)},a.prototype.hexString=function(e){var t=this;if(this.type===a.Type.NODE_CRYPTO){var r=Math.ceil(e/2),o,i;try{o=n.randomBytes(r)}catch(d){o=n.pseudoRandomBytes(r)}return o.toString("hex").substring(0,e)}return this._randomString(e,"0123456789abcdef")},a.prototype._randomString=function(e,t){for(var n=this,r=[],o=0;o<e;o++)r[o]=this.choice(t);return r.join("")},a.prototype.id=function(e){var t=this;return void 0===e&&(e=17),this._randomString(e,o)},a.prototype.secret=function(e){var t=this;return void 0===e&&(e=43),this._randomString(e,i)},a.prototype.choice=function(e){var t=Math.floor(this.fraction()*e.length);return"string"==typeof e?e.substr(t,1):e[t]};var d="undefined"!=typeof window&&window.innerHeight||"undefined"!=typeof document&&document.documentElement&&document.documentElement.clientHeight||"undefined"!=typeof document&&document.body&&document.body.clientHeight||1,c="undefined"!=typeof window&&window.innerWidth||"undefined"!=typeof document&&document.documentElement&&document.documentElement.clientWidth||"undefined"!=typeof document&&document.body&&document.body.clientWidth||1,s="undefined"!=typeof navigator&&navigator.userAgent||"";function m(){return new a(a.Type.ALEA,{seeds:[new Date,d,c,s,Math.random()]})}(u=e.isServer?new a(a.Type.NODE_CRYPTO):"undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues?new a(a.Type.BROWSER_CRYPTO):m()).createWithSeeds=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)throw new Error("No seeds were provided");return new a(a.Type.ALEA,{seeds:t})},u.insecure=m()}}}}},{extensions:[".js",".json"]})("/node_modules/meteor/random/random.js"),Package._define("random",{Random:u})}();

!function(){var t=Package.meteor.Meteor,e=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.ejson.EJSON,o=Package["id-map"].IdMap,i=Package.random.Random,u=Package.modules.meteorInstall,a=Package.modules.meteorBabelHelpers,c=Package.promise.Promise,s=Package["ecmascript-runtime-client"].Symbol,f=Package["ecmascript-runtime-client"].Map,l=Package["ecmascript-runtime-client"].Set,m,d,g=u({node_modules:{meteor:{"mongo-id":{"id.js":function(t,e,n){var r,o,i;n.link("@babel/runtime/helpers/typeof",{default:function(t){r=t}},0),n.export({MongoID:function(){return u}}),n.link("meteor/ejson",{EJSON:function(t){o=t}},0),n.link("meteor/random",{Random:function(t){i=t}},1);var u={_looksLikeObjectID:function(t){return 24===t.length&&t.match(/^[0-9a-f]*$/)}};u.ObjectID=function(){function t(t){if(t){if(t=t.toLowerCase(),!u._looksLikeObjectID(t))throw new Error("Invalid hexadecimal string for creating an ObjectID");this._str=t}else this._str=i.hexString(24)}var e=t.prototype;return e.equals=function(){function t(t){return t instanceof u.ObjectID&&this.valueOf()===t.valueOf()}return t}(),e.toString=function(){function t(){return'ObjectID("'+this._str+'")'}return t}(),e.clone=function(){function t(){return new u.ObjectID(this._str)}return t}(),e.typeName=function(){function t(){return"oid"}return t}(),e.getTimestamp=function(){function t(){return Number.parseInt(this._str.substr(0,8),16)}return t}(),e.valueOf=function(){function t(){return this._str}return t}(),e.toJSONValue=function(){function t(){return this.valueOf()}return t}(),e.toHexString=function(){function t(){return this.valueOf()}return t}(),t}(),o.addType("oid",(function(t){return new u.ObjectID(t)})),u.idStringify=function(t){if(t instanceof u.ObjectID)return t.valueOf();if("string"==typeof t)return""===t?t:t.startsWith("-")||t.startsWith("~")||u._looksLikeObjectID(t)||t.startsWith("{")?"-"+t:t;if(void 0===t)return"-";if("object"===r(t)&&null!==t)throw new Error("Meteor does not currently support objects other than ObjectID as ids");return"~"+JSON.stringify(t)},u.idParse=function(t){return""===t?t:"-"===t?void 0:t.startsWith("-")?t.substr(1):t.startsWith("~")?JSON.parse(t.substr(1)):u._looksLikeObjectID(t)?new u.ObjectID(t):t}}}}}},{extensions:[".js",".json"]})("/node_modules/meteor/mongo-id/id.js");Package._define("mongo-id",g,{MongoID:void 0})}();

!function(){var t=Package.meteor.Meteor,e=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.modules.meteorInstall,i=Package.modules.meteorBabelHelpers,o=Package.promise.Promise,u=Package["ecmascript-runtime-client"].Symbol,s=Package["ecmascript-runtime-client"].Map,c=Package["ecmascript-runtime-client"].Set,f,h,l=r({node_modules:{meteor:{"ordered-dict":{"ordered_dict.js":function(t,e,n){function r(t,e,n,r){return{key:t,value:e,next:n,prev:r}}n.export({OrderedDict:function(){return i}});var i=function(){function t(){var t=this;this._dict=Object.create(null),this._first=null,this._last=null,this._size=0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];"function"==typeof n[0]?this._stringify=n.shift():this._stringify=function(t){return t},n.forEach((function(e){return t.putBefore(e[0],e[1],null)}))}var e=t.prototype;return e._k=function(){function t(t){return" "+this._stringify(t)}return t}(),e.empty=function(){function t(){return!this._first}return t}(),e.size=function(){function t(){return this._size}return t}(),e._linkEltIn=function(){function t(t){t.next?(t.prev=t.next.prev,t.next.prev=t,t.prev&&(t.prev.next=t)):(t.prev=this._last,this._last&&(this._last.next=t),this._last=t),null!==this._first&&this._first!==t.next||(this._first=t)}return t}(),e._linkEltOut=function(){function t(t){t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next),t===this._last&&(this._last=t.prev),t===this._first&&(this._first=t.next)}return t}(),e.putBefore=function(){function t(t,e,n){if(this._dict[this._k(t)])throw new Error("Item "+t+" already present in OrderedDict");var i=r(t,e,n?this._dict[this._k(n)]:null);if(void 0===i.next)throw new Error("could not find item to put this one before");this._linkEltIn(i),this._dict[this._k(t)]=i,this._size++}return t}(),e.append=function(){function t(t,e){this.putBefore(t,e,null)}return t}(),e.remove=function(){function t(t){var e=this._dict[this._k(t)];if(void 0===e)throw new Error("Item "+t+" not present in OrderedDict");return this._linkEltOut(e),this._size--,delete this._dict[this._k(t)],e.value}return t}(),e.get=function(){function t(t){if(this.has(t))return this._dict[this._k(t)].value}return t}(),e.has=function(){function t(t){return Object.prototype.hasOwnProperty.call(this._dict,this._k(t))}return t}(),e.forEach=function(){function e(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=0,i=this._first;null!==i;){var o;if(e.call(n,i.value,i.key,r)===t.BREAK)return;i=i.next,r++}}return e}(),e.first=function(){function t(){if(!this.empty())return this._first.key}return t}(),e.firstValue=function(){function t(){if(!this.empty())return this._first.value}return t}(),e.last=function(){function t(){if(!this.empty())return this._last.key}return t}(),e.lastValue=function(){function t(){if(!this.empty())return this._last.value}return t}(),e.prev=function(){function t(t){if(this.has(t)){var e=this._dict[this._k(t)];if(e.prev)return e.prev.key}return null}return t}(),e.next=function(){function t(t){if(this.has(t)){var e=this._dict[this._k(t)];if(e.next)return e.next.key}return null}return t}(),e.moveBefore=function(){function t(t,e){var n=this._dict[this._k(t)],r=e?this._dict[this._k(e)]:null;if(void 0===n)throw new Error("Item to move is not present");if(void 0===r)throw new Error("Could not find element to move this one before");r!==n.next&&(this._linkEltOut(n),n.next=r,this._linkEltIn(n))}return t}(),e.indexOf=function(){function e(e){var n=this,r=null;return this.forEach((function(i,o,u){if(n._k(o)===n._k(e))return r=u,t.BREAK})),r}return e}(),e._checkRep=function(){function t(){var t=this;Object.keys(this._dict).forEach((function(e){var n=t._dict[e];if(n.next===n)throw new Error("Next is a loop");if(n.prev===n)throw new Error("Prev is a loop")}))}return t}(),t}();i.BREAK={break:!0}}}}}},{extensions:[".js",".json"]})("/node_modules/meteor/ordered-dict/ordered_dict.js");Package._define("ordered-dict",l,{OrderedDict:void 0})}();

!function(){var t=Package.meteor.Meteor,n=Package.meteor.global,e=Package.meteor.meteorEnv,r=Package.modules.meteorInstall,i=Package.modules.meteorBabelHelpers,o=Package.promise.Promise,a=Package["ecmascript-runtime-client"].Symbol,u=Package["ecmascript-runtime-client"].Map,s=Package["ecmascript-runtime-client"].Set,c,f,h;r({node_modules:{meteor:{tracker:{"tracker.js":function(){function n(t){c.currentComputation=t,c.active=!!t}function e(){return void 0!==t?t._debug:"undefined"!=typeof console&&console.error?function(){console.error.apply(console,arguments)}:function(){}}function r(n){void 0!==t&&t._suppressed_log_expected()&&t._suppress_log(n-1)}function o(t,n){if(d)throw n;var i=["Exception from Tracker "+t+" function:"];if(n.stack&&n.message&&n.name){var o=n.stack.indexOf(n.message);if(o<0||o>n.name.length+2){var a=n.name+": "+n.message;i.push(a)}}i.push(n.stack),r(i.length);for(var u=0;u<i.length;u++)e()(i[u])}function a(n){return void 0===t||t.isClient?n:function(){var e=arguments;t._noYieldsAllowed((function(){n.apply(null,e)}))}}f=c={},c.active=!1,c.currentComputation=null;var u=1,s=[],h=!1,l=!1,p=!1,d=!1,v=[];function m(){h||(void 0!==t?t._setImmediate(c._runFlush):setTimeout(c._runFlush,0),h=!0)}var _=!1;c.Computation=function(){function t(t,n,e){if(!_)throw new Error("Tracker.Computation constructor is private; use Tracker.autorun");_=!1,this.stopped=!1,this.invalidated=!1,this.firstRun=!0,this._id=u++,this._onInvalidateCallbacks=[],this._onStopCallbacks=[],this._parent=n,this._func=t,this._onError=e,this._recomputing=!1;var r=!0;try{this._compute(),r=!1}finally{this.firstRun=!1,r&&this.stop()}}var e=t.prototype;return e.onInvalidate=function(){function t(t){var n=this;if("function"!=typeof t)throw new Error("onInvalidate requires a function");this.invalidated?c.nonreactive((function(){a(t)(n)})):this._onInvalidateCallbacks.push(t)}return t}(),e.onStop=function(){function t(t){var n=this;if("function"!=typeof t)throw new Error("onStop requires a function");this.stopped?c.nonreactive((function(){a(t)(n)})):this._onStopCallbacks.push(t)}return t}(),e.invalidate=function(){function t(){var t=this;if(!this.invalidated){this._recomputing||this.stopped||(m(),s.push(this)),this.invalidated=!0;for(var n=0,e;e=this._onInvalidateCallbacks[n];n++)c.nonreactive((function(){a(e)(t)}));this._onInvalidateCallbacks=[]}}return t}(),e.stop=function(){function t(){var t=this;if(!this.stopped){this.stopped=!0,this.invalidate();for(var n=0,e;e=this._onStopCallbacks[n];n++)c.nonreactive((function(){a(e)(t)}));this._onStopCallbacks=[]}}return t}(),e._compute=function(){function t(){this.invalidated=!1;var t=c.currentComputation;n(this);var e=p;p=!0;try{a(this._func)(this)}finally{n(t),p=e}}return t}(),e._needsRecompute=function(){function t(){return this.invalidated&&!this.stopped}return t}(),e._recompute=function(){function t(){this._recomputing=!0;try{if(this._needsRecompute())try{this._compute()}catch(t){this._onError?this._onError(t):o("recompute",t)}}finally{this._recomputing=!1}}return t}(),e.flush=function(){function t(){this._recomputing||this._recompute()}return t}(),e.run=function(){function t(){this.invalidate(),this.flush()}return t}(),t}(),c.Dependency=function(){function t(){this._dependentsById=Object.create(null)}var n=t.prototype;return n.depend=function(){function t(t){var n=this;if(!t){if(!c.active)return!1;t=c.currentComputation}var e=t._id;return!(e in this._dependentsById)&&(this._dependentsById[e]=t,t.onInvalidate((function(){delete n._dependentsById[e]})),!0)}return t}(),n.changed=function(){function t(){for(var t in i.sanitizeForInObject(this._dependentsById))this._dependentsById[t].invalidate()}return t}(),n.hasDependents=function(){function t(){for(var t in i.sanitizeForInObject(this._dependentsById))return!0;return!1}return t}(),t}(),c.flush=function(t){c._runFlush({finishSynchronously:!0,throwFirstError:t&&t._throwFirstError})},c.inFlush=function(){return l},c._runFlush=function(t){if(c.inFlush())throw new Error("Can't call Tracker.flush while flushing");if(p)throw new Error("Can't flush inside Tracker.autorun");l=!0,h=!0,d=!!(t=t||{}).throwFirstError;var n=0,e=!1;try{for(;s.length||v.length;){for(;s.length;){var r=s.shift();if(r._recompute(),r._needsRecompute()&&s.unshift(r),!t.finishSynchronously&&++n>1e3)return void(e=!0)}if(v.length){var i=v.shift();try{i()}catch(a){o("afterFlush",a)}}}e=!0}finally{if(e||(l=!1,c._runFlush({finishSynchronously:t.finishSynchronously,throwFirstError:!1})),h=!1,l=!1,s.length||v.length){if(t.finishSynchronously)throw new Error("still have more to do?");setTimeout(m,10)}}},c.autorun=function(t,n){if("function"!=typeof t)throw new Error("Tracker.autorun requires a function argument");n=n||{},_=!0;var e=new c.Computation(t,c.currentComputation,n.onError);return c.active&&c.onInvalidate((function(){e.stop()})),e},c.nonreactive=function(t){var e=c.currentComputation;n(null);try{return t()}finally{n(e)}},c.onInvalidate=function(t){if(!c.active)throw new Error("Tracker.onInvalidate requires a currentComputation");c.currentComputation.onInvalidate(t)},c.afterFlush=function(t){v.push(t),m()}}}}}},{extensions:[".js",".json"]})("/node_modules/meteor/tracker/tracker.js"),Package._define("tracker",{Tracker:c,Deps:f})}();

!function(){var e=Package.meteor.Meteor,r=Package.meteor.global,t=Package.meteor.meteorEnv,n=Package["diff-sequence"].DiffSequence,i=Package.ejson.EJSON,o=Package["geojson-utils"].GeoJSON,a=Package["id-map"].IdMap,s=Package["mongo-id"].MongoID,c=Package["ordered-dict"].OrderedDict,u=Package.random.Random,f=Package.tracker.Tracker,l=Package.tracker.Deps,d=Package.modules.meteorInstall,h=Package.modules.meteorBabelHelpers,p=Package.promise.Promise,m=Package["ecmascript-runtime-client"].Symbol,v=Package["ecmascript-runtime-client"].Map,y=Package["ecmascript-runtime-client"].Set,_,g,b,w,E,$=d({node_modules:{meteor:{minimongo:{"minimongo_client.js":function(e,r,t){t.link("./minimongo_common.js")},"common.js":function(e,r,t){var n,a,s;t.link("@babel/runtime/helpers/toConsumableArray",{default:function(e){n=e}},0),t.link("@babel/runtime/helpers/typeof",{default:function(e){a=e}},1),t.export({hasOwn:function(){return c},ELEMENT_OPERATORS:function(){return u},compileDocumentSelector:function(){return v},equalityElementMatcher:function(){return E},expandArraysInBranches:function(){return j},isIndexable:function(){return S},isNumericKey:function(){return M},isOperatorObject:function(){return C},makeLookupFunction:function(){return x},nothingMatcher:function(){return q},pathsToTree:function(){return F},populateDocumentWithQueryFields:function(){return U},projectionDetails:function(){return Q},regexpElementMatcher:function(){return L}}),t.link("./local_collection.js",{default:function(e){s=e}},0);var c=Object.prototype.hasOwnProperty,u={$lt:P((function(e){return e<0})),$gt:P((function(e){return e>0})),$lte:P((function(e){return e<=0})),$gte:P((function(e){return e>=0})),$mod:{compileElementSelector:function(e){if(!Array.isArray(e)||2!==e.length||"number"!=typeof e[0]||"number"!=typeof e[1])throw Error("argument to $mod must be an array of two numbers");var r=e[0],t=e[1];return function(e){return"number"==typeof e&&e%r===t}}},$in:{compileElementSelector:function(e){if(!Array.isArray(e))throw Error("$in needs an array");var r=e.map((function(e){if(e instanceof RegExp)return L(e);if(C(e))throw Error("cannot nest $ under $in");return E(e)}));return function(e){return void 0===e&&(e=null),r.some((function(r){return r(e)}))}}},$size:{dontExpandLeafArrays:!0,compileElementSelector:function(e){if("string"==typeof e)e=0;else if("number"!=typeof e)throw Error("$size needs a number");return function(r){return Array.isArray(r)&&r.length===e}}},$type:{dontIncludeLeafArrays:!0,compileElementSelector:function(e){if("string"==typeof e){var r={double:1,string:2,object:3,array:4,binData:5,undefined:6,objectId:7,bool:8,date:9,null:10,regex:11,dbPointer:12,javascript:13,symbol:14,javascriptWithScope:15,int:16,timestamp:17,long:18,decimal:19,minKey:-1,maxKey:127};if(!c.call(r,e))throw Error("unknown string alias for $type: "+e);e=r[e]}else{if("number"!=typeof e)throw Error("argument to $type is not a number or a string");if(0===e||e<-1||e>19&&127!==e)throw Error("Invalid numerical $type code: "+e)}return function(r){return void 0!==r&&s._f._type(r)===e}}},$bitsAllSet:{compileElementSelector:function(e){var r=O(e,"$bitsAllSet");return function(e){var t=k(e,r.length);return t&&r.every((function(e,r){return(t[r]&e)===e}))}}},$bitsAnySet:{compileElementSelector:function(e){var r=O(e,"$bitsAnySet");return function(e){var t=k(e,r.length);return t&&r.some((function(e,r){return(~t[r]&e)!==e}))}}},$bitsAllClear:{compileElementSelector:function(e){var r=O(e,"$bitsAllClear");return function(e){var t=k(e,r.length);return t&&r.every((function(e,r){return!(t[r]&e)}))}}},$bitsAnyClear:{compileElementSelector:function(e){var r=O(e,"$bitsAnyClear");return function(e){var t=k(e,r.length);return t&&r.some((function(e,r){return(t[r]&e)!==e}))}}},$regex:{compileElementSelector:function(e,r){if(!("string"==typeof e||e instanceof RegExp))throw Error("$regex has to be a string or RegExp");var t;if(void 0!==r.$options){if(/[^gim]/.test(r.$options))throw new Error("Only the i, m, and g regexp options are supported");var n=e instanceof RegExp?e.source:e;t=new RegExp(n,r.$options)}else t=e instanceof RegExp?e:new RegExp(e);return L(t)}},$elemMatch:{dontExpandLeafArrays:!0,compileElementSelector:function(e,r,t){if(!s._isPlainObject(e))throw Error("$elemMatch need an object");var n=!C(Object.keys(e).filter((function(e){return!c.call(f,e)})).reduce((function(r,t){var n;return Object.assign(r,((n={})[t]=e[t],n))}),{}),!0),i;return i=n?v(e,t,{inElemMatch:!0}):y(e,t),function(e){if(!Array.isArray(e))return!1;for(var r=0;r<e.length;++r){var t=e[r],o=void 0;if(n){if(!S(t))return!1;o=t}else o=[{value:t,dontIterate:!0}];if(i(o).result)return r}return!1}}}},f={$and:function(e,r,t){return h(m(e,r,t))},$or:function(e,r,t){var n=m(e,r,t);return 1===n.length?n[0]:function(e){var r;return{result:n.some((function(r){return r(e).result}))}}},$nor:function(e,r,t){var n=m(e,r,t);return function(e){var r;return{result:n.every((function(r){return!r(e).result}))}}},$where:function(e,r){return r._recordPathUsed(""),r._hasWhere=!0,e instanceof Function||(e=Function("obj","return "+e)),function(r){return{result:e.call(r,r)}}},$comment:function(){return function(){return{result:!0}}}},l={$eq:function(e){return b(E(e))},$not:function(e,r,t){return I(y(e,t))},$ne:function(e){return I(b(E(e)))},$nin:function(e){return I(b(u.$in.compileElementSelector(e)))},$exists:function(e){var r=b((function(e){return void 0!==e}));return e?r:I(r)},$options:function(e,r){if(!c.call(r,"$regex"))throw Error("$options needs a $regex");return $},$maxDistance:function(e,r){if(!r.$near)throw Error("$maxDistance needs a $near");return $},$all:function(e,r,t){if(!Array.isArray(e))throw Error("$all requires array");if(0===e.length)return q;var n=e.map((function(e){if(C(e))throw Error("no $ expressions in $all");return y(e,t)}));return p(n)},$near:function(e,r,t,n){if(!n)throw Error("$near can't be inside another $ operator");var i,u,f;if(t._hasGeoQuery=!0,s._isPlainObject(e)&&c.call(e,"$geometry"))i=e.$maxDistance,u=e.$geometry,f=function(e){return e?e.type?"Point"===e.type?o.pointDistance(u,e):o.geometryWithinRadius(e,u,i)?0:i+1:o.pointDistance(u,{type:"Point",coordinates:R(e)}):null};else{if(i=r.$maxDistance,!S(e))throw Error("$near argument must be coordinate pair or GeoJSON");u=R(e),f=function(e){return S(e)?w(u,e):null}}return function(e){var r={result:!1};return j(e).every((function(e){var n;if(!t._isUpdate){if("object"!==a(e.value))return!0;if(null===(n=f(e.value))||n>i)return!0;if(void 0!==r.distance&&r.distance<=n)return!0}return r.result=!0,r.distance=n,e.arrayIndices?r.arrayIndices=e.arrayIndices:delete r.arrayIndices,!t._isUpdate})),r}}};function d(e){return 0===e.length?$:1===e.length?e[0]:function(r){var t={};return t.result=e.every((function(e){var n=e(r);return n.result&&void 0!==n.distance&&void 0===t.distance&&(t.distance=n.distance),n.result&&n.arrayIndices&&(t.arrayIndices=n.arrayIndices),n.result})),t.result||(delete t.distance,delete t.arrayIndices),t}}var h=d,p=d;function m(e,r,t){if(!Array.isArray(e)||0===e.length)throw Error("$and/$or/$nor must be nonempty array");return e.map((function(e){if(!s._isPlainObject(e))throw Error("$or/$and/$nor entries need to be full objects");return v(e,r,{inElemMatch:t})}))}function v(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=Object.keys(e).map((function(n){var i=e[n];if("$"===n.substr(0,1)){if(!c.call(f,n))throw new Error("Unrecognized logical operator: "+n);return r._isSimple=!1,f[n](i,r,t.inElemMatch)}if(t.inElemMatch||r._recordPathUsed(n),"function"!=typeof i){var o=x(n),a=y(i,r,t.isRoot);return function(e){return a(o(e))}}})).filter(Boolean);return h(n)}function y(e,r,t){return e instanceof RegExp?(r._isSimple=!1,b(L(e))):C(e)?B(e,r,t):b(E(e))}function b(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(t){var n=r.dontExpandLeafArrays?t:j(t,r.dontIncludeLeafArrays),i={};return i.result=n.some((function(r){var t=e(r.value);return"number"==typeof t&&(r.arrayIndices||(r.arrayIndices=[t]),t=!0),t&&r.arrayIndices&&(i.arrayIndices=r.arrayIndices),t})),i}}function w(e,r){var t=R(e),n=R(r);return Math.hypot(t[0]-n[0],t[1]-n[1])}function E(e){if(C(e))throw Error("Can't create equalityValueSelector for operator object");return null==e?function(e){return null==e}:function(r){return s._f._equal(e,r)}}function $(e){return{result:!0}}function j(e,r){var t=[];return e.forEach((function(e){var n=Array.isArray(e.value);r&&n&&!e.dontIterate||t.push({arrayIndices:e.arrayIndices,value:e.value}),n&&!e.dontIterate&&e.value.forEach((function(r,n){t.push({arrayIndices:(e.arrayIndices||[]).concat(n),value:r})}))})),t}function O(e,r){if(Number.isInteger(e)&&e>=0)return new Uint8Array(new Int32Array([e]).buffer);if(i.isBinary(e))return new Uint8Array(e.buffer);if(Array.isArray(e)&&e.every((function(e){return Number.isInteger(e)&&e>=0}))){var t=new ArrayBuffer(1+(Math.max.apply(Math,n(e))>>3)),o=new Uint8Array(t);return e.forEach((function(e){o[e>>3]|=1<<(7&e)})),o}throw Error("operand to "+r+" must be a numeric bitmask (representable as a non-negative 32-bit signed integer), a bindata bitmask or an array with bit positions (non-negative integers)")}function k(e,r){if(Number.isSafeInteger(e)){var t=new ArrayBuffer(Math.max(r,2*Uint32Array.BYTES_PER_ELEMENT)),n=new Uint32Array(t,0,2);return n[0]=e%4294967296|0,n[1]=e/4294967296|0,e<0&&(n=new Uint8Array(t,2)).forEach((function(e,r){n[r]=255})),new Uint8Array(t)}return!!i.isBinary(e)&&new Uint8Array(e.buffer)}function A(e,r,t){Object.keys(e).forEach((function(e){if(e.length>r.length&&0===e.indexOf(r+".")||r.length>e.length&&0===r.indexOf(e+"."))throw new Error("cannot infer query fields to set, both paths '"+e+"' and '"+r+"' are matched");if(e===r)throw new Error("cannot infer query fields to set, path '"+r+"' is matched twice")})),e[r]=t}function I(e){return function(r){return{result:!e(r).result}}}function S(e){return Array.isArray(e)||s._isPlainObject(e)}function M(e){return/^[0-9]+$/.test(e)}function C(e,r){if(!s._isPlainObject(e))return!1;var t=void 0;return Object.keys(e).forEach((function(n){var i="$"===n.substr(0,1);if(void 0===t)t=i;else if(t!==i){if(!r)throw new Error("Inconsistent operator: "+JSON.stringify(e));t=!1}})),!!t}function P(e){return{compileElementSelector:function(r){if(Array.isArray(r))return function(){return!1};void 0===r&&(r=null);var t=s._f._type(r);return function(n){return void 0===n&&(n=null),s._f._type(n)===t&&e(s._f._cmp(n,r))}}}}function x(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e.split("."),i=t.length?t[0]:"",o=t.length>1&&x(t.slice(1).join("."),r),a=function(e){return e.dontIterate||delete e.dontIterate,e.arrayIndices&&!e.arrayIndices.length&&delete e.arrayIndices,e};return function(e){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(Array.isArray(e)){if(!(M(i)&&i<e.length))return[];c=c.concat(+i,"x")}var u=e[i];if(!o)return[a({arrayIndices:c,dontIterate:Array.isArray(e)&&Array.isArray(u),value:u})];if(!S(u))return Array.isArray(e)?[]:[a({arrayIndices:c,value:void 0})];var f=[],l=function(e){f.push.apply(f,n(e))};return l(o(u,c)),!Array.isArray(u)||M(t[1])&&r.forSort||u.forEach((function(e,r){s._isPlainObject(e)&&l(o(e,c.concat(r)))})),f}}function q(e){return{result:!1}}function B(e,r,t){var n=Object.keys(e).map((function(n){var i=e[n],o=["$lt","$lte","$gt","$gte"].includes(n)&&"number"==typeof i,a=["$ne","$eq"].includes(n)&&i!==Object(i),s=["$in","$nin"].includes(n)&&Array.isArray(i)&&!i.some((function(e){return e===Object(e)}));if(o||s||a||(r._isSimple=!1),c.call(l,n))return l[n](i,e,r,t);if(c.call(u,n)){var f=u[n];return b(f.compileElementSelector(i,e,r),f)}throw new Error("Unrecognized operator: "+n)}));return p(n)}function F(e,r,t){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return e.forEach((function(e){var i=e.split("."),o=n,a;if(i.slice(0,-1).every((function(r,n){if(c.call(o,r)){if(o[r]!==Object(o[r])&&(o[r]=t(o[r],i.slice(0,n+1).join("."),e),o[r]!==Object(o[r])))return!1}else o[r]={};return o=o[r],!0}))){var s=i[i.length-1];c.call(o,s)?o[s]=t(o[s],e,e):o[s]=r(e)}})),n}function R(e){return Array.isArray(e)?e.slice():[e.x,e.y]}function D(e,r,t){t&&Object.getPrototypeOf(t)===Object.prototype?T(e,r,t):t instanceof RegExp||A(e,r,t)}function T(e,r,t){var n=Object.keys(t),i=n.filter((function(e){return"$"!==e[0]}));if(i.length>0||!n.length){if(n.length!==i.length)throw new Error("unknown operator: "+i[0]);K(t,r),A(e,r,t)}else Object.keys(t).forEach((function(n){var i=t[n];"$eq"===n?D(e,r,i):"$all"===n&&i.forEach((function(t){return D(e,r,t)}))}))}function U(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.getPrototypeOf(e)===Object.prototype?Object.keys(e).forEach((function(t){var n=e[t];"$and"===t?n.forEach((function(e){return U(e,r)})):"$or"===t?1===n.length&&U(n[0],r):"$"!==t[0]&&D(r,t,n)})):s._selectorIsId(e)&&A(r,"_id",e),r}function Q(e){var r=Object.keys(e).sort();1===r.length&&"_id"===r[0]||r.includes("_id")&&e._id||(r=r.filter((function(e){return"_id"!==e})));var t=null;r.forEach((function(r){var n=!!e[r];if(null===t&&(t=n),t!==n)throw g("You cannot currently mix including and excluding fields.")}));var n=F(r,(function(e){return t}),(function(e,r,t){var n,i;throw g("both "+t+" and "+r+" found in fields option, using both of them may trigger unexpected behavior. Did you mean to use only one of them?")}));return{including:t,tree:n}}function L(e){return function(r){return r instanceof RegExp?r.toString()===e.toString():"string"==typeof r&&(e.lastIndex=0,e.test(r))}}function N(e,r){if(e.includes("."))throw new Error("The dotted field '"+e+"' in '"+r+"."+e+" is not valid for storage.");if("$"===e[0])throw new Error("The dollar ($) prefixed field  '"+r+"."+e+" is not valid for storage.")}function K(e,r){e&&Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).forEach((function(t){N(t,r),K(e[t],r+"."+t)}))}_={makeLookupFunction:x},g=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"string"==typeof e&&r.field&&(e+=" for field '"+r.field+"'");var t=new Error(e);return t.name="MinimongoError",t}},"cursor.js":function(e,r,t){var n,o;t.export({default:function(){return a}}),t.link("./local_collection.js",{default:function(e){n=e}},0),t.link("./common.js",{hasOwn:function(e){o=e}},1);var a=function(){function e(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.collection=e,this.sorter=null,this.matcher=new w.Matcher(r),n._selectorIsIdPerhapsAsObject(r)?this._selectorId=o.call(r,"_id")?r._id:r:(this._selectorId=void 0,(this.matcher.hasGeoQuery()||t.sort)&&(this.sorter=new w.Sorter(t.sort||[]))),this.skip=t.skip||0,this.limit=t.limit,this.fields=t.fields,this._projectionFn=n._compileProjection(this.fields||{}),this._transform=n.wrapTransform(t.transform),void 0!==f&&(this.reactive=void 0===t.reactive||t.reactive)}var r=e.prototype;return r.count=function(){function e(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.reactive&&this._depend({added:!0,removed:!0},!0),this._getRawObjects({ordered:!0,applySkipLimit:e}).length}return e}(),r.fetch=function(){function e(){var e=[];return this.forEach((function(r){e.push(r)})),e}return e}(),r[m.iterator]=function(){var e=this;this.reactive&&this._depend({addedBefore:!0,removed:!0,changed:!0,movedBefore:!0});var r=0,t=this._getRawObjects({ordered:!0});return{next:function(){if(r<t.length){var n=e._projectionFn(t[r++]);return e._transform&&(n=e._transform(n)),{value:n}}return{done:!0}}}},r.forEach=function(){function e(e,r){var t=this;this.reactive&&this._depend({addedBefore:!0,removed:!0,changed:!0,movedBefore:!0}),this._getRawObjects({ordered:!0}).forEach((function(n,i){n=t._projectionFn(n),t._transform&&(n=t._transform(n)),e.call(r,n,i,t)}))}return e}(),r.getTransform=function(){function e(){return this._transform}return e}(),r.map=function(){function e(e,r){var t=this,n=[];return this.forEach((function(i,o){n.push(e.call(r,i,o,t))})),n}return e}(),r.observe=function(){function e(e){return n._observeFromObserveChanges(this,e)}return e}(),r.observeChanges=function(){function e(e){var r=this,t=n._observeChangesCallbacksAreOrdered(e);if(!e._allow_unordered&&!t&&(this.skip||this.limit))throw new Error("Must use an ordered observe with skip or limit (i.e. 'addedBefore' for observeChanges or 'addedAt' for observe, instead of 'added').");if(this.fields&&(0===this.fields._id||!1===this.fields._id))throw Error("You may not observe a cursor with {fields: {_id: 0}}");var o,a={cursor:this,dirty:!1,distances:this.matcher.hasGeoQuery()&&t&&new n._IdMap,matcher:this.matcher,ordered:t,projectionFn:this._projectionFn,resultsSnapshot:null,sorter:t&&this.sorter},s;this.reactive&&(s=this.collection.next_qid++,this.collection.queries[s]=a),a.results=this._getRawObjects({ordered:t,distances:a.distances}),this.collection.paused&&(a.resultsSnapshot=t?[]:new n._IdMap);var c=function(e){if(!e)return function(){};var t=r;return function(){var r=this;if(!t.collection.paused){var n=arguments;t.collection._observeQueue.queueTask((function(){e.apply(r,n)}))}}};a.added=c(e.added),a.changed=c(e.changed),a.removed=c(e.removed),t&&(a.addedBefore=c(e.addedBefore),a.movedBefore=c(e.movedBefore)),e._suppress_initial||this.collection.paused||a.results.forEach((function(e){var n=i.clone(e);delete n._id,t&&a.addedBefore(e._id,r._projectionFn(n),null),a.added(e._id,r._projectionFn(n))}));var u=Object.assign(new n.ObserveHandle,{collection:this.collection,stop:function(){r.reactive&&delete r.collection.queries[s]}});return this.reactive&&f.active&&f.onInvalidate((function(){u.stop()})),this.collection._observeQueue.drain(),u}return e}(),r.rewind=function(){function e(){}return e}(),r._depend=function(){function e(e,r){if(f.active){var t=new f.Dependency,n=t.changed.bind(t);t.depend();var i={_allow_unordered:r,_suppress_initial:!0};["added","addedBefore","changed","movedBefore","removed"].forEach((function(r){e[r]&&(i[r]=n)})),this.observeChanges(i)}}return e}(),r._getCollectionName=function(){function e(){return this.collection.name}return e}(),r._getRawObjects=function(){function e(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!1!==r.applySkipLimit,i=r.ordered?[]:new n._IdMap,o;if(void 0!==this._selectorId){if(t&&this.skip)return i;var a=this.collection._docs.get(this._selectorId);return a&&(r.ordered?i.push(a):i.set(this._selectorId,a)),i}return this.matcher.hasGeoQuery()&&r.ordered&&(r.distances?(o=r.distances).clear():o=new n._IdMap),this.collection._docs.forEach((function(n,a){var s=e.matcher.documentMatches(n);return s.result&&(r.ordered?(i.push(n),o&&void 0!==s.distance&&o.set(a,s.distance)):i.set(a,n)),!t||(!e.limit||e.skip||e.sorter||i.length!==e.limit)})),r.ordered?(this.sorter&&i.sort(this.sorter.getComparator({distances:o})),t&&(this.limit||this.skip)?i.slice(this.skip,this.limit?this.limit+this.skip:i.length):i):i}return e}(),r._publishCursor=function(){function e(e){if(!Package.mongo)throw new Error("Can't publish from Minimongo without the `mongo` package.");if(!this.collection.name)throw new Error("Can't publish a cursor from a collection without a name.");return Package.mongo.Mongo.Collection._publishCursor(this,e,this.collection.name)}return e}(),e}()},"local_collection.js":function(r,t,o){var l,d,h,p,m,v,y,_,b,E,$;o.link("@babel/runtime/helpers/toConsumableArray",{default:function(e){l=e}},0),o.link("@babel/runtime/helpers/typeof",{default:function(e){d=e}},1),o.link("@babel/runtime/helpers/inheritsLoose",{default:function(e){h=e}},2),o.export({default:function(){return j}}),o.link("./cursor.js",{default:function(e){p=e}},0),o.link("./observe_handle.js",{default:function(e){m=e}},1),o.link("./common.js",{hasOwn:function(e){v=e},isIndexable:function(e){y=e},isNumericKey:function(e){_=e},isOperatorObject:function(e){b=e},populateDocumentWithQueryFields:function(e){E=e},projectionDetails:function(e){$=e}},2);var j=function(){function r(t){this.name=t,this._docs=new r._IdMap,this._observeQueue=new e._SynchronousQueue,this.next_qid=1,this.queries=Object.create(null),this._savedOriginals=null,this.paused=!1}var t=r.prototype;return t.find=function(){function e(e,t){return 0===arguments.length&&(e={}),new r.Cursor(this,e,t)}return e}(),t.findOne=function(){function e(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return 0===arguments.length&&(e={}),r.limit=1,this.find(e,r).fetch()[0]}return e}(),t.insert=function(){function t(t,n){var o=this;I(t=i.clone(t)),v.call(t,"_id")||(t._id=r._useOID?new s.ObjectID:u.id());var a=t._id;if(this._docs.has(a))throw g("Duplicate _id '"+a+"'");this._saveOriginal(a,void 0),this._docs.set(a,t);var c=[];return Object.keys(this.queries).forEach((function(e){var n=o.queries[e];if(!n.dirty){var i=n.matcher.documentMatches(t);i.result&&(n.distances&&void 0!==i.distance&&n.distances.set(a,i.distance),n.cursor.skip||n.cursor.limit?c.push(e):r._insertInResults(n,t))}})),c.forEach((function(e){o.queries[e]&&o._recomputeResults(o.queries[e])})),this._observeQueue.drain(),n&&e.defer((function(){n(null,a)})),a}return t}(),t.pauseObservers=function(){function e(){var e=this;this.paused||(this.paused=!0,Object.keys(this.queries).forEach((function(r){var t=e.queries[r];t.resultsSnapshot=i.clone(t.results)})))}return e}(),t.remove=function(){function t(t,n){var o=this;if(this.paused&&!this._savedOriginals&&i.equals(t,{})){var a=this._docs.size();return this._docs.clear(),Object.keys(this.queries).forEach((function(e){var r=o.queries[e];r.ordered?r.results=[]:r.results.clear()})),n&&e.defer((function(){n(null,a)})),a}var s=new w.Matcher(t),c=[];this._eachPossiblyMatchingDoc(t,(function(e,r){s.documentMatches(e).result&&c.push(r)}));for(var u=[],f=[],l=function(e){var r=c[e],t=o._docs.get(r);Object.keys(o.queries).forEach((function(e){var r=o.queries[e];r.dirty||r.matcher.documentMatches(t).result&&(r.cursor.skip||r.cursor.limit?u.push(e):f.push({qid:e,doc:t}))})),o._saveOriginal(r,t),o._docs.remove(r)},d=0;d<c.length;d++)l(d);f.forEach((function(e){var t=o.queries[e.qid];t&&(t.distances&&t.distances.remove(e.doc._id),r._removeFromResults(t,e.doc))})),u.forEach((function(e){var r=o.queries[e];r&&o._recomputeResults(r)})),this._observeQueue.drain();var h=c.length;return n&&e.defer((function(){n(null,h)})),h}return t}(),t.resumeObservers=function(){function e(){var e=this;this.paused&&(this.paused=!1,Object.keys(this.queries).forEach((function(t){var n=e.queries[t];n.dirty?(n.dirty=!1,e._recomputeResults(n,n.resultsSnapshot)):r._diffQueryChanges(n.ordered,n.resultsSnapshot,n.results,n,{projectionFn:n.projectionFn}),n.resultsSnapshot=null})),this._observeQueue.drain())}return e}(),t.retrieveOriginals=function(){function e(){if(!this._savedOriginals)throw new Error("Called retrieveOriginals without saveOriginals");var e=this._savedOriginals;return this._savedOriginals=null,e}return e}(),t.saveOriginals=function(){function e(){if(this._savedOriginals)throw new Error("Called saveOriginals twice without retrieveOriginals");this._savedOriginals=new r._IdMap}return e}(),t.update=function(){function t(t,n,o,a){var s=this;!a&&o instanceof Function&&(a=o,o=null),o||(o={});var c=new w.Matcher(t,!0),u={},f=new r._IdMap,l=r._idsMatchedBySelector(t);Object.keys(this.queries).forEach((function(e){var t=s.queries[e];if((t.cursor.skip||t.cursor.limit)&&!s.paused){if(t.results instanceof r._IdMap)return void(u[e]=t.results.clone());if(!(t.results instanceof Array))throw new Error("Assertion failed: query.results not an array");var n=function(e){if(f.has(e._id))return f.get(e._id);var r=l&&!l.some((function(r){return i.equals(r,e._id)}))?e:i.clone(e);return f.set(e._id,r),r};u[e]=t.results.map(n)}}));var d={},h=0,p,m;if(this._eachPossiblyMatchingDoc(t,(function(e,r){var t=c.documentMatches(e);return!(t.result&&(s._saveOriginal(r,e),s._modifyAndNotify(e,n,d,t.arrayIndices),++h,!o.multi))})),Object.keys(d).forEach((function(e){var r=s.queries[e];r&&s._recomputeResults(r,u[e])})),this._observeQueue.drain(),0===h&&o.upsert){var v=r._createUpsertDocument(t,n);!v._id&&o.insertedId&&(v._id=o.insertedId),p=this.insert(v),h=1}return o._returnObject?(m={numberAffected:h},void 0!==p&&(m.insertedId=p)):m=h,a&&e.defer((function(){a(null,m)})),m}return t}(),t.upsert=function(){function e(e,r,t,n){return n||"function"!=typeof t||(n=t,t={}),this.update(e,r,Object.assign({},t,{upsert:!0,_returnObject:!0}),n)}return e}(),t._eachPossiblyMatchingDoc=function(){function e(e,t){var n=this,i=r._idsMatchedBySelector(e);i?i.some((function(e){var r=n._docs.get(e);if(r)return!1===t(r,e)})):this._docs.forEach(t)}return e}(),t._modifyAndNotify=function(){function e(e,t,n,o){var a=this,s={};Object.keys(this.queries).forEach((function(r){var t=a.queries[r];t.dirty||(t.ordered?s[r]=t.matcher.documentMatches(e).result:s[r]=t.results.has(e._id))}));var c=i.clone(e);r._modify(e,t,{arrayIndices:o}),Object.keys(this.queries).forEach((function(t){var i=a.queries[t];if(!i.dirty){var o=i.matcher.documentMatches(e),u=o.result,f=s[t];u&&i.distances&&void 0!==o.distance&&i.distances.set(e._id,o.distance),i.cursor.skip||i.cursor.limit?(f||u)&&(n[t]=!0):f&&!u?r._removeFromResults(i,e):!f&&u?r._insertInResults(i,e):f&&u&&r._updateInResults(i,e,c)}}))}return e}(),t._recomputeResults=function(){function e(e,t){this.paused?e.dirty=!0:(this.paused||t||(t=e.results),e.distances&&e.distances.clear(),e.results=e.cursor._getRawObjects({distances:e.distances,ordered:e.ordered}),this.paused||r._diffQueryChanges(e.ordered,t,e.results,e,{projectionFn:e.projectionFn}))}return e}(),t._saveOriginal=function(){function e(e,r){this._savedOriginals&&(this._savedOriginals.has(e)||this._savedOriginals.set(e,i.clone(r)))}return e}(),r}();j.Cursor=p,j.ObserveHandle=m,j._CachingChangeObserver=function(){function e(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.callbacks&&j._observeChangesCallbacksAreOrdered(r.callbacks);if(v.call(r,"ordered")){if(this.ordered=r.ordered,r.callbacks&&r.ordered!==t)throw Error("ordered option doesn't match callbacks")}else{if(!r.callbacks)throw Error("must provide ordered or callbacks");this.ordered=t}var o=r.callbacks||{};this.ordered?(this.docs=new c(s.idStringify),this.applyChange={addedBefore:function(r,t,n){var a=i.clone(t);a._id=r,o.addedBefore&&o.addedBefore.call(e,r,t,n),o.added&&o.added.call(e,r,t),e.docs.putBefore(r,a,n||null)},movedBefore:function(r,t){var n=e.docs.get(r);o.movedBefore&&o.movedBefore.call(e,r,t),e.docs.moveBefore(r,t||null)}}):(this.docs=new j._IdMap,this.applyChange={added:function(r,t){var n=i.clone(t);o.added&&o.added.call(e,r,t),n._id=r,e.docs.set(r,n)}}),this.applyChange.changed=function(r,t){var a=e.docs.get(r);if(!a)throw new Error("Unknown id for changed: "+r);o.changed&&o.changed.call(e,r,i.clone(t)),n.applyChanges(a,t)},this.applyChange.removed=function(r){o.removed&&o.removed.call(e,r),e.docs.remove(r)}}return e}(),j._IdMap=function(e){function r(){return e.call(this,s.idStringify,s.idParse)||this}return h(r,e),r}(a),j.wrapTransform=function(e){if(!e)return null;if(e.__wrappedTransform__)return e;var r=function(r){if(!v.call(r,"_id"))throw new Error("can only transform documents with _id");var t=r._id,n=f.nonreactive((function(){return e(r)}));if(!j._isPlainObject(n))throw new Error("transform must return object");if(v.call(n,"_id")){if(!i.equals(n._id,t))throw new Error("transformed document can't have different _id")}else n._id=t;return n};return r.__wrappedTransform__=!0,r},j._binarySearch=function(e,r,t){for(var n=0,i=r.length;i>0;){var o=Math.floor(i/2);e(t,r[n+o])>=0?(n+=o+1,i-=o+1):i=o}return n},j._checkSupportedProjection=function(e){if(e!==Object(e)||Array.isArray(e))throw g("fields option must be an object");Object.keys(e).forEach((function(r){if(r.split(".").includes("$"))throw g("Minimongo doesn't support $ operator in projections yet.");var t=e[r];if("object"===d(t)&&["$elemMatch","$meta","$slice"].some((function(e){return v.call(t,e)})))throw g("Minimongo doesn't support operators in projections yet.");if(![1,0,!0,!1].includes(t))throw g("Projection values should be one of 1, 0, true, or false")}))},j._compileProjection=function(e){j._checkSupportedProjection(e);var r=void 0===e._id||e._id,t=$(e),n=function(e,r){if(Array.isArray(e))return e.map((function(e){return n(e,r)}));var o=t.including?{}:i.clone(e);return Object.keys(r).forEach((function(a){if(v.call(e,a)){var s=r[a];s===Object(s)?e[a]===Object(e[a])&&(o[a]=n(e[a],s)):t.including?o[a]=i.clone(e[a]):delete o[a]}})),o};return function(e){var i=n(e,t.tree);return r&&v.call(e,"_id")&&(i._id=e._id),!r&&v.call(i,"_id")&&delete i._id,i}},j._createUpsertDocument=function(e,r){var t=E(e),n=j._isModificationMod(r),i={};if(t._id&&(i._id=t._id,delete t._id),j._modify(i,{$set:t}),j._modify(i,r,{isInsert:!0}),n)return i;var o=Object.assign({},r);return i._id&&(o._id=i._id),o},j._diffObjects=function(e,r,t){return n.diffObjects(e,r,t)},j._diffQueryChanges=function(e,r,t,i,o){return n.diffQueryChanges(e,r,t,i,o)},j._diffQueryOrderedChanges=function(e,r,t,i){return n.diffQueryOrderedChanges(e,r,t,i)},j._diffQueryUnorderedChanges=function(e,r,t,i){return n.diffQueryUnorderedChanges(e,r,t,i)},j._findInOrderedResults=function(e,r){if(!e.ordered)throw new Error("Can't call _findInOrderedResults on unordered query");for(var t=0;t<e.results.length;t++)if(e.results[t]===r)return t;throw Error("object missing from query")},j._idsMatchedBySelector=function(e){if(j._selectorIsId(e))return[e];if(!e)return null;if(v.call(e,"_id"))return j._selectorIsId(e._id)?[e._id]:e._id&&Array.isArray(e._id.$in)&&e._id.$in.length&&e._id.$in.every(j._selectorIsId)?e._id.$in:null;if(Array.isArray(e.$and))for(var r=0;r<e.$and.length;++r){var t=j._idsMatchedBySelector(e.$and[r]);if(t)return t}return null},j._insertInResults=function(e,r){var t=i.clone(r);if(delete t._id,e.ordered){if(e.sorter){var n=j._insertInSortedList(e.sorter.getComparator({distances:e.distances}),e.results,r),o=e.results[n+1];o=o?o._id:null,e.addedBefore(r._id,e.projectionFn(t),o)}else e.addedBefore(r._id,e.projectionFn(t),null),e.results.push(r);e.added(r._id,e.projectionFn(t))}else e.added(r._id,e.projectionFn(t)),e.results.set(r._id,r)},j._insertInSortedList=function(e,r,t){if(0===r.length)return r.push(t),0;var n=j._binarySearch(e,r,t);return r.splice(n,0,t),n},j._isModificationMod=function(e){var r=!1,t=!1;if(Object.keys(e).forEach((function(e){"$"===e.substr(0,1)?r=!0:t=!0})),r&&t)throw new Error("Update parameter cannot have both modifier and non-modifier fields.");return r},j._isPlainObject=function(e){return e&&3===j._f._type(e)},j._modify=function(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!j._isPlainObject(r))throw g("Modifier must be an object");r=i.clone(r);var n=b(r),o=n?i.clone(e):r;if(n){if(Object.keys(r).forEach((function(e){var n=t.isInsert&&"$setOnInsert"===e,i=O[n?"$set":e],a=r[e];if(!i)throw g("Invalid modifier specified "+e);Object.keys(a).forEach((function(r){var n=a[r];if(""===r)throw g("An empty update path is not valid.");var s=r.split(".");if(!s.every(Boolean))throw g("The update path '"+r+"' contains an empty field name, which is not allowed.");var c=M(o,s,{arrayIndices:t.arrayIndices,forbidArray:"$rename"===e,noCreate:k[e]});i(c,s.pop(),n,r,o)}))})),e._id&&!i.equals(e._id,o._id))throw g('After applying the update to the document {_id: "'+e._id+"\", ...}, the (immutable) field '_id' was found to have been altered to _id: \""+o._id+'"')}else{if(e._id&&r._id&&!i.equals(e._id,r._id))throw g('The _id field cannot be changed from {_id: "'+e._id+'"} to {_id: "'+r._id+'"}');I(r)}Object.keys(e).forEach((function(r){"_id"!==r&&delete e[r]})),Object.keys(o).forEach((function(r){e[r]=o[r]}))},j._observeFromObserveChanges=function(e,r){var t=e.getTransform()||function(e){return e},o=!!r._suppress_initial,a;if(j._observeCallbacksAreOrdered(r)){var s=!r._no_indices;a={addedBefore:function(e,n,i){if(!o&&(r.addedAt||r.added)){var a=t(Object.assign(n,{_id:e}));r.addedAt?r.addedAt(a,s?i?this.docs.indexOf(i):this.docs.size():-1,i):r.added(a)}},changed:function(e,o){if(r.changedAt||r.changed){var a=i.clone(this.docs.get(e));if(!a)throw new Error("Unknown id for changed: "+e);var c=t(i.clone(a));n.applyChanges(a,o),r.changedAt?r.changedAt(t(a),c,s?this.docs.indexOf(e):-1):r.changed(t(a),c)}},movedBefore:function(e,n){if(r.movedTo){var o=s?this.docs.indexOf(e):-1,a=s?n?this.docs.indexOf(n):this.docs.size():-1;a>o&&--a,r.movedTo(t(i.clone(this.docs.get(e))),o,a,n||null)}},removed:function(e){if(r.removedAt||r.removed){var n=t(this.docs.get(e));r.removedAt?r.removedAt(n,s?this.docs.indexOf(e):-1):r.removed(n)}}}}else a={added:function(e,n){!o&&r.added&&r.added(t(Object.assign(n,{_id:e})))},changed:function(e,o){if(r.changed){var a=this.docs.get(e),s=i.clone(a);n.applyChanges(s,o),r.changed(t(s),t(i.clone(a)))}},removed:function(e){r.removed&&r.removed(t(this.docs.get(e)))}};var c=new j._CachingChangeObserver({callbacks:a}),u=e.observeChanges(c.applyChange);return o=!1,u},j._observeCallbacksAreOrdered=function(e){if(e.added&&e.addedAt)throw new Error("Please specify only one of added() and addedAt()");if(e.changed&&e.changedAt)throw new Error("Please specify only one of changed() and changedAt()");if(e.removed&&e.removedAt)throw new Error("Please specify only one of removed() and removedAt()");return!!(e.addedAt||e.changedAt||e.movedTo||e.removedAt)},j._observeChangesCallbacksAreOrdered=function(e){if(e.added&&e.addedBefore)throw new Error("Please specify only one of added() and addedBefore()");return!(!e.addedBefore&&!e.movedBefore)},j._removeFromResults=function(e,r){if(e.ordered){var t=j._findInOrderedResults(e,r);e.removed(r._id),e.results.splice(t,1)}else{var n=r._id;e.removed(r._id),e.results.remove(n)}},j._selectorIsId=function(e){return"number"==typeof e||"string"==typeof e||e instanceof s.ObjectID},j._selectorIsIdPerhapsAsObject=function(e){return j._selectorIsId(e)||j._selectorIsId(e&&e._id)&&1===Object.keys(e).length},j._updateInResults=function(e,r,t){if(!i.equals(r._id,t._id))throw new Error("Can't change a doc's _id while updating");var o=e.projectionFn,a=n.makeChangedFields(o(r),o(t));if(e.ordered){var s=j._findInOrderedResults(e,r);if(Object.keys(a).length&&e.changed(r._id,a),e.sorter){e.results.splice(s,1);var c=j._insertInSortedList(e.sorter.getComparator({distances:e.distances}),e.results,r);if(s!==c){var u=e.results[c+1];u=u?u._id:null,e.movedBefore&&e.movedBefore(r._id,u)}}}else Object.keys(a).length&&(e.changed(r._id,a),e.results.set(r._id,r))};var O={$currentDate:function(e,r,t){if("object"===d(t)&&v.call(t,"$type")){if("date"!==t.$type)throw g("Minimongo does currently only support the date type in $currentDate modifiers",{field:r})}else if(!0!==t)throw g("Invalid $currentDate modifier",{field:r});e[r]=new Date},$min:function(e,r,t){if("number"!=typeof t)throw g("Modifier $min allowed for numbers only",{field:r});if(r in e){if("number"!=typeof e[r])throw g("Cannot apply $min modifier to non-number",{field:r});e[r]>t&&(e[r]=t)}else e[r]=t},$max:function(e,r,t){if("number"!=typeof t)throw g("Modifier $max allowed for numbers only",{field:r});if(r in e){if("number"!=typeof e[r])throw g("Cannot apply $max modifier to non-number",{field:r});e[r]<t&&(e[r]=t)}else e[r]=t},$inc:function(e,r,t){if("number"!=typeof t)throw g("Modifier $inc allowed for numbers only",{field:r});if(r in e){if("number"!=typeof e[r])throw g("Cannot apply $inc modifier to non-number",{field:r});e[r]+=t}else e[r]=t},$set:function(e,r,t){if(e!==Object(e)){var n=g("Cannot set property on non-object field",{field:r});throw n.setPropertyError=!0,n}if(null===e){var i=g("Cannot set property on null",{field:r});throw i.setPropertyError=!0,i}I(t),e[r]=t},$setOnInsert:function(e,r,t){},$unset:function(e,r,t){void 0!==e&&(e instanceof Array?r in e&&(e[r]=null):delete e[r])},$push:function(e,r,t){if(void 0===e[r]&&(e[r]=[]),!(e[r]instanceof Array))throw g("Cannot apply $push modifier to non-array",{field:r});if(!t||!t.$each)return I(t),void e[r].push(t);var n=t.$each;if(!(n instanceof Array))throw g("$each must be an array",{field:r});I(n);var i=void 0;if("$position"in t){if("number"!=typeof t.$position)throw g("$position must be a numeric value",{field:r});if(t.$position<0)throw g("$position in $push must be zero or positive",{field:r});i=t.$position}var o=void 0;if("$slice"in t){if("number"!=typeof t.$slice)throw g("$slice must be a numeric value",{field:r});o=t.$slice}var a=void 0;if(t.$sort){if(void 0===o)throw g("$sort requires $slice to be present",{field:r});a=new w.Sorter(t.$sort).getComparator(),n.forEach((function(e){if(3!==j._f._type(e))throw g("$push like modifiers using $sort require all elements to be objects",{field:r})}))}if(void 0===i)n.forEach((function(t){e[r].push(t)}));else{var s,c=[i,0];n.forEach((function(e){c.push(e)})),(s=e[r]).splice.apply(s,c)}a&&e[r].sort(a),void 0!==o&&(e[r]=0===o?[]:o<0?e[r].slice(o):e[r].slice(0,o))},$pushAll:function(e,r,t){if(!("object"===d(t)&&t instanceof Array))throw g("Modifier $pushAll/pullAll allowed for arrays only");I(t);var n=e[r];if(void 0===n)e[r]=t;else{if(!(n instanceof Array))throw g("Cannot apply $pushAll modifier to non-array",{field:r});n.push.apply(n,l(t))}},$addToSet:function(e,r,t){var n=!1,i;"object"===d(t)&&("$each"===Object.keys(t)[0]&&(n=!0));var o=n?t.$each:[t];I(o);var a=e[r];if(void 0===a)e[r]=o;else{if(!(a instanceof Array))throw g("Cannot apply $addToSet modifier to non-array",{field:r});o.forEach((function(e){a.some((function(r){return j._f._equal(e,r)}))||a.push(e)}))}},$pop:function(e,r,t){if(void 0!==e){var n=e[r];if(void 0!==n){if(!(n instanceof Array))throw g("Cannot apply $pop modifier to non-array",{field:r});"number"==typeof t&&t<0?n.splice(0,1):n.pop()}}},$pull:function(e,r,t){if(void 0!==e){var n=e[r];if(void 0!==n){if(!(n instanceof Array))throw g("Cannot apply $pull/pullAll modifier to non-array",{field:r});var i;if(null==t||"object"!==d(t)||t instanceof Array)i=n.filter((function(e){return!j._f._equal(e,t)}));else{var o=new w.Matcher(t);i=n.filter((function(e){return!o.documentMatches(e).result}))}e[r]=i}}},$pullAll:function(e,r,t){if(!("object"===d(t)&&t instanceof Array))throw g("Modifier $pushAll/pullAll allowed for arrays only",{field:r});if(void 0!==e){var n=e[r];if(void 0!==n){if(!(n instanceof Array))throw g("Cannot apply $pull/pullAll modifier to non-array",{field:r});e[r]=n.filter((function(e){return!t.some((function(r){return j._f._equal(e,r)}))}))}}},$rename:function(e,r,t,n,i){if(n===t)throw g("$rename source must differ from target",{field:r});if(null===e)throw g("$rename source field invalid",{field:r});if("string"!=typeof t)throw g("$rename target must be a string",{field:r});if(t.includes("\0"))throw g("The 'to' field for $rename cannot contain an embedded null byte",{field:r});if(void 0!==e){var o=e[r];delete e[r];var a=t.split("."),s=M(i,a,{forbidArray:!0});if(null===s)throw g("$rename target field invalid",{field:r});s[a.pop()]=o}},$bit:function(e,r,t){throw g("$bit is not supported",{field:r})},$v:function(){}},k={$pop:!0,$pull:!0,$pullAll:!0,$rename:!0,$unset:!0},A={$:"start with '$'",".":"contain '.'","\0":"contain null bytes"};function I(e){e&&"object"===d(e)&&JSON.stringify(e,(function(e,r){return S(e),r}))}function S(e){var r;if("string"==typeof e&&(r=e.match(/^\$|\.|\0/)))throw g("Key "+e+" must not "+A[r[0]])}function M(e,r){for(var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=!1,i=0;i<r.length;i++){var o=i===r.length-1,a=r[i];if(!y(e)){if(t.noCreate)return;var s=g("cannot use the part '"+a+"' to traverse "+e);throw s.setPropertyError=!0,s}if(e instanceof Array){if(t.forbidArray)return null;if("$"===a){if(n)throw g("Too many positional (i.e. '$') elements");if(!t.arrayIndices||!t.arrayIndices.length)throw g("The positional operator did not find the match needed from the query");a=t.arrayIndices[0],n=!0}else{if(!_(a)){if(t.noCreate)return;throw g("can't append to array using string field name ["+a+"]")}a=parseInt(a)}if(o&&(r[i]=a),t.noCreate&&a>=e.length)return;for(;e.length<a;)e.push(null);if(!o)if(e.length===a)e.push({});else if("object"!==d(e[a]))throw g("can't modify field '"+r[i+1]+"' of list value "+JSON.stringify(e[a]))}else if(S(a),!(a in e)){if(t.noCreate)return;o||(e[a]={})}if(o)return e;e=e[a]}}},"matcher.js":function(e,r,t){var n,o,a,c;t.export({default:function(){return u}}),t.link("./local_collection.js",{default:function(e){n=e}},0),t.link("./common.js",{compileDocumentSelector:function(e){o=e},hasOwn:function(e){a=e},nothingMatcher:function(e){c=e}},1);var u=function(){function e(e,r){this._paths={},this._hasGeoQuery=!1,this._hasWhere=!1,this._isSimple=!0,this._matchingDocument=void 0,this._selector=null,this._docMatcher=this._compileSelector(e),this._isUpdate=r}var r=e.prototype;return r.documentMatches=function(){function e(e){if(e!==Object(e))throw Error("documentMatches needs a document");return this._docMatcher(e)}return e}(),r.hasGeoQuery=function(){function e(){return this._hasGeoQuery}return e}(),r.hasWhere=function(){function e(){return this._hasWhere}return e}(),r.isSimple=function(){function e(){return this._isSimple}return e}(),r._compileSelector=function(){function e(e){if(e instanceof Function)return this._isSimple=!1,this._selector=e,this._recordPathUsed(""),function(r){return{result:!!e.call(r)}};if(n._selectorIsId(e))return this._selector={_id:e},this._recordPathUsed("_id"),function(r){return{result:i.equals(r._id,e)}};if(!e||a.call(e,"_id")&&!e._id)return this._isSimple=!1,c;if(Array.isArray(e)||i.isBinary(e)||"boolean"==typeof e)throw new Error("Invalid selector: "+e);return this._selector=i.clone(e),o(e,this,{isRoot:!0})}return e}(),r._getPaths=function(){function e(){return Object.keys(this._paths)}return e}(),r._recordPathUsed=function(){function e(e){this._paths[e]=!0}return e}(),e}();n._f={_type:function(e){return"number"==typeof e?1:"string"==typeof e?2:"boolean"==typeof e?8:Array.isArray(e)?4:null===e?10:e instanceof RegExp?11:"function"==typeof e?13:e instanceof Date?9:i.isBinary(e)?5:e instanceof s.ObjectID?7:3},_equal:function(e,r){return i.equals(e,r,{keyOrderSensitive:!0})},_typeorder:function(e){return[-1,1,2,3,4,5,-1,6,7,8,0,9,-1,100,2,100,1,8,1][e]},_cmp:function(e,r){if(void 0===e)return void 0===r?0:-1;if(void 0===r)return 1;var t=n._f._type(e),i=n._f._type(r),o=n._f._typeorder(t),a=n._f._typeorder(i);if(o!==a)return o<a?-1:1;if(t!==i)throw Error("Missing type coercion logic in _cmp");if(7===t&&(t=i=2,e=e.toHexString(),r=r.toHexString()),9===t&&(t=i=1,e=e.getTime(),r=r.getTime()),1===t)return e-r;if(2===i)return e<r?-1:e===r?0:1;if(3===t){var s=function(e){var r=[];return Object.keys(e).forEach((function(t){r.push(t,e[t])})),r};return n._f._cmp(s(e),s(r))}if(4===t)for(var c=0;;c++){if(c===e.length)return c===r.length?0:-1;if(c===r.length)return 1;var u=n._f._cmp(e[c],r[c]);if(0!==u)return u}if(5===t){if(e.length!==r.length)return e.length-r.length;for(var f=0;f<e.length;f++){if(e[f]<r[f])return-1;if(e[f]>r[f])return 1}return 0}if(8===t)return e?r?0:1:r?-1:0;if(10===t)return 0;if(11===t)throw Error("Sorting not supported on regular expression");if(13===t)throw Error("Sorting not supported on Javascript code");throw Error("Unknown type to sort")}}},"minimongo_common.js":function(e,r,t){var n,i,o;t.link("./local_collection.js",{default:function(e){n=e}},0),t.link("./matcher.js",{default:function(e){i=e}},1),t.link("./sorter.js",{default:function(e){o=e}},2),b=n,w={LocalCollection:n,Matcher:i,Sorter:o}},"observe_handle.js":function(e,r,t){t.export({default:function(){return n}});var n=function(){function e(){}return e}()},"sorter.js":function(e,r,t){var n,i,o,a,s,c,u,f;t.link("@babel/runtime/helpers/typeof",{default:function(e){n=e}},0),t.export({default:function(){return l}}),t.link("./common.js",{ELEMENT_OPERATORS:function(e){i=e},equalityElementMatcher:function(e){o=e},expandArraysInBranches:function(e){a=e},hasOwn:function(e){s=e},isOperatorObject:function(e){c=e},makeLookupFunction:function(e){u=e},regexpElementMatcher:function(e){f=e}},0);var l=function(){function e(e){var r=this;this._sortSpecParts=[],this._sortFunction=null;var t=function(e,t){if(!e)throw Error("sort keys must be non-empty");if("$"===e.charAt(0))throw Error("unsupported sort key: "+e);r._sortSpecParts.push({ascending:t,lookup:u(e,{forSort:!0}),path:e})};if(e instanceof Array)e.forEach((function(e){"string"==typeof e?t(e,!0):t(e[0],"desc"!==e[1])}));else if("object"===n(e))Object.keys(e).forEach((function(r){t(r,e[r]>=0)}));else{if("function"!=typeof e)throw Error("Bad sort specification: "+JSON.stringify(e));this._sortFunction=e}if(!this._sortFunction){if(this.affectedByModifier){var i={};this._sortSpecParts.forEach((function(e){i[e.path]=1})),this._selectorForAffectedByModifier=new w.Matcher(i)}this._keyComparator=d(this._sortSpecParts.map((function(e,t){return r._keyFieldComparator(t)})))}}var r=e.prototype;return r.getComparator=function(){function e(e){if(this._sortSpecParts.length||!e||!e.distances)return this._getBaseComparator();var r=e.distances;return function(e,t){if(!r.has(e._id))throw Error("Missing distance for "+e._id);if(!r.has(t._id))throw Error("Missing distance for "+t._id);return r.get(e._id)-r.get(t._id)}}return e}(),r._compareKeys=function(){function e(e,r){if(e.length!==this._sortSpecParts.length||r.length!==this._sortSpecParts.length)throw Error("Key has wrong length");return this._keyComparator(e,r)}return e}(),r._generateKeysFromDoc=function(){function e(e,r){if(0===this._sortSpecParts.length)throw new Error("can't generate keys without a spec");var t=function(e){return e.join(",")+","},n=null,i=this._sortSpecParts.map((function(r){var i=a(r.lookup(e),!0);i.length||(i=[{value:void 0}]);var o=Object.create(null),c=!1;if(i.forEach((function(e){if(e.arrayIndices){c=!0;var r=t(e.arrayIndices);if(s.call(o,r))throw Error("duplicate path: "+r);if(o[r]=e.value,n&&!s.call(n,r))throw Error("cannot index parallel arrays")}else{if(i.length>1)throw Error("multiple branches but no array used?");o[""]=e.value}})),n){if(!s.call(o,"")&&Object.keys(n).length!==Object.keys(o).length)throw Error("cannot index parallel arrays!")}else c&&(n={},Object.keys(o).forEach((function(e){n[e]=!0})));return o}));if(n)Object.keys(n).forEach((function(e){var t=i.map((function(r){if(s.call(r,""))return r[""];if(!s.call(r,e))throw Error("missing path?");return r[e]}));r(t)}));else{var o=i.map((function(e){if(!s.call(e,""))throw Error("no value in sole key case?");return e[""]}));r(o)}}return e}(),r._getBaseComparator=function(){function e(){var e=this;return this._sortFunction?this._sortFunction:this._sortSpecParts.length?function(r,t){var n=e._getMinKeyFromDoc(r),i=e._getMinKeyFromDoc(t);return e._compareKeys(n,i)}:function(e,r){return 0}}return e}(),r._getMinKeyFromDoc=function(){function e(e){var r=this,t=null;return this._generateKeysFromDoc(e,(function(e){null!==t?r._compareKeys(e,t)<0&&(t=e):t=e})),t}return e}(),r._getPaths=function(){function e(){return this._sortSpecParts.map((function(e){return e.path}))}return e}(),r._keyFieldComparator=function(){function e(e){var r=!this._sortSpecParts[e].ascending;return function(t,n){var i=b._f._cmp(t[e],n[e]);return r?-i:i}}return e}(),e}();function d(e){return function(r,t){for(var n=0;n<e.length;++n){var i=e[n](r,t);if(0!==i)return i}return 0}}}}}}},{extensions:[".js",".json"]})("/node_modules/meteor/minimongo/minimongo_client.js");Package._define("minimongo",$,{LocalCollection:b,Minimongo:w,MinimongoTest:_,MinimongoError:g})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.ejson.EJSON,a=Package.modules.meteorInstall,i=Package.modules.meteorBabelHelpers,c=Package.promise.Promise,o=Package["ecmascript-runtime-client"].Symbol,u=Package["ecmascript-runtime-client"].Map,s=Package["ecmascript-runtime-client"].Set,f,l,h,p=a({node_modules:{meteor:{check:{"match.js":function(t,n,a){var c,o,u;a.link("@babel/runtime/helpers/toConsumableArray",{default:function(e){c=e}},0),a.link("@babel/runtime/helpers/typeof",{default:function(e){o=e}},1),a.export({check:function(){return l},Match:function(){return h}}),a.link("./isPlainObject",{isPlainObject:function(e){u=e}},0);var s=new e.EnvironmentVariable,f=Object.prototype.hasOwnProperty;function l(e,t){var n=s.getOrNullIfOutsideFiber();n&&n.checking(e);var r=k(e,t);if(r){var a=new h.Error(r.message);throw r.path&&(a.message+=" in field "+r.path,a.path=r.path),a}}var h={Optional:function(e){return new p(e)},Maybe:function(e){return new g(e)},OneOf:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new m(t)},Any:["__any__"],Where:function(e){return new d(e)},ObjectIncluding:function(e){return new y(e)},ObjectWithValues:function(e){return new b(e)},Integer:["__integer__"],Error:e.makeErrorType("Match.Error",(function(t){this.message="Match error: "+t,this.path="",this.sanitizedError=new e.Error(400,"Match failed")})),test:function(e,t){return!k(e,t)},_failIfArgumentsAreNotAllChecked:function(e,t,n,r){var a=new j(n,r),i=s.withValue(a,(function(){return e.apply(t,n)}));return a.throwUnlessAllArgumentsHaveBeenChecked(),i}},p=function(){function e(e){this.pattern=e}return e}(),g=function(){function e(e){this.pattern=e}return e}(),m=function(){function e(e){if(!e||0===e.length)throw new Error("Must provide at least one choice to Match.OneOf");this.choices=e}return e}(),d=function(){function e(e){this.condition=e}return e}(),y=function(){function e(e){this.pattern=e}return e}(),b=function(){function e(e){this.pattern=e}return e}(),v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===e)return"null";if(t.onlyShowType)return o(e);if("object"!==o(e))return r.stringify(e);try{JSON.stringify(e)}catch(n){if("TypeError"===n.name)return o(e)}return r.stringify(e)},O=[[String,"string"],[Number,"number"],[Boolean,"boolean"],[Function,"function"],[void 0,"undefined"]],k=function(e,t){if(t===h.Any)return!1;for(var n=0;n<O.length;++n)if(t===O[n][0])return o(e)!==O[n][1]&&{message:"Expected "+O[n][1]+", got "+v(e,{onlyShowType:!0}),path:""};if(null===t)return null!==e&&{message:"Expected null, got "+v(e),path:""};if("string"==typeof t||"number"==typeof t||"boolean"==typeof t)return e!==t&&{message:"Expected "+t+", got "+v(e),path:""};if(t===h.Integer)return("number"!=typeof e||(0|e)!==e)&&{message:"Expected Integer, got "+v(e),path:""};if(t===Object&&(t=h.ObjectIncluding({})),t instanceof Array){if(1!==t.length)return{message:"Bad pattern: arrays must have one type element "+v(t),path:""};if(!Array.isArray(e)&&!_(e))return{message:"Expected array, got "+v(e),path:""};for(var r=0,a=e.length;r<a;r++){var c=k(e[r],t[0]);if(c)return c.path=E(r,c.path),c}return!1}if(t instanceof d){var s;try{s=t.condition(e)}catch(V){if(!(V instanceof h.Error))throw V;return{message:V.message,path:V.path}}return!s&&{message:"Failed Match.Where validation",path:""}}if(t instanceof g?t=h.OneOf(void 0,null,t.pattern):t instanceof p&&(t=h.OneOf(void 0,t.pattern)),t instanceof m){for(var l=0;l<t.choices.length;++l){var j;if(!k(e,t.choices[l]))return!1}return{message:"Failed Match.OneOf, Match.Maybe or Match.Optional validation",path:""}}if(t instanceof Function)return!(e instanceof t)&&{message:"Expected "+(t.name||"particular constructor"),path:""};var w=!1,P;if(t instanceof y&&(w=!0,t=t.pattern),t instanceof b&&(w=!0,P=[t.pattern],t={}),"object"!==o(t))return{message:"Bad pattern: unknown pattern type",path:""};if("object"!==o(e))return{message:"Expected object, got "+o(e),path:""};if(null===e)return{message:"Expected object, got null",path:""};if(!u(e))return{message:"Expected plain object",path:""};var A=Object.create(null),M=Object.create(null);for(var x in Object.keys(t).forEach((function(e){var n=t[e];n instanceof p||n instanceof g?M[e]=n.pattern:A[e]=n})),i.sanitizeForInObject(Object(e))){var N=e[x];if(f.call(A,x)){var S=k(N,A[x]);if(S)return S.path=E(x,S.path),S;delete A[x]}else if(f.call(M,x)){var I=k(N,M[x]);if(I)return I.path=E(x,I.path),I}else{if(!w)return{message:"Unknown key",path:x};if(P){var B=k(N,P[0]);if(B)return B.path=E(x,B.path),B}}}var F=Object.keys(A);return F.length?{message:"Missing key '"+F[0]+"'",path:""}:void 0},j=function(){function e(e,t){this.args=c(e),this.args.reverse(),this.description=t}var t=e.prototype;return t.checking=function(){function e(e){this._checkingOneValue(e)||(Array.isArray(e)||_(e))&&Array.prototype.forEach.call(e,this._checkingOneValue.bind(this))}return e}(),t._checkingOneValue=function(){function e(e){for(var t=0;t<this.args.length;++t)if(e===this.args[t]||Number.isNaN(e)&&Number.isNaN(this.args[t]))return this.args.splice(t,1),!0;return!1}return e}(),t.throwUnlessAllArgumentsHaveBeenChecked=function(){function e(){if(this.args.length>0)throw new Error("Did not check() all arguments during "+this.description)}return e}(),e}(),w=["do","if","in","for","let","new","try","var","case","else","enum","eval","false","null","this","true","void","with","break","catch","class","const","super","throw","while","yield","delete","export","import","public","return","static","switch","typeof","default","extends","finally","package","private","continue","debugger","function","arguments","interface","protected","implements","instanceof"],E=function(e,t){return"number"==typeof e||e.match(/^[0-9]+$/)?e="["+e+"]":(!e.match(/^[a-z_$][0-9a-z_$]*$/i)||w.indexOf(e)>=0)&&(e=JSON.stringify([e])),t&&"["!==t[0]?e+"."+t:e+t},P=function(e){return"object"===o(e)&&null!==e},A=function(e){return P(e)&&"[object Arguments]"===Object.prototype.toString.call(e)},_=A(function(){return arguments}())?A:function(e){return P(e)&&"function"==typeof e.callee}},"isPlainObject.js":function(e,t,n){n.export({isPlainObject:function(){return s}});var r,a={}.toString,i=Object.prototype.hasOwnProperty,c=i.toString,o=c.call(Object),u=Object.getPrototypeOf,s=function(e){var t,n;return!(!e||"[object Object]"!==a.call(e))&&(!(t=u(e))||"function"==typeof(n=i.call(t,"constructor")&&t.constructor)&&c.call(n)===o)}}}}}},{extensions:[".js",".json"]})("/node_modules/meteor/check/match.js");Package._define("check",p,{check:f,Match:l})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,i=Package.meteor.meteorEnv,r=Package.random.Random,o=Package.modules.meteorInstall,n=Package.modules.meteorBabelHelpers,m=Package.promise.Promise,a=Package["ecmascript-runtime-client"].Symbol,u=Package["ecmascript-runtime-client"].Map,s=Package["ecmascript-runtime-client"].Set,c,h,l=o({node_modules:{meteor:{retry:{"retry.js":function(t,i,o){o.export({Retry:function(){return n}});var n=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseTimeout,i=void 0===t?1e3:t,r=e.exponent,o=void 0===r?2.2:r,n=e.maxTimeout,m=void 0===n?3e5:n,a=e.minTimeout,u=void 0===a?10:a,s=e.minCount,c=void 0===s?2:s,h=e.fuzz,l=void 0===h?.5:h;this.baseTimeout=i,this.exponent=o,this.maxTimeout=m,this.minTimeout=u,this.minCount=c,this.fuzz=l,this.retryTimer=null}var i=t.prototype;return i.clear=function(){function e(){this.retryTimer&&clearTimeout(this.retryTimer),this.retryTimer=null}return e}(),i._timeout=function(){function e(e){return e<this.minCount?this.minTimeout:Math.min(this.maxTimeout,this.baseTimeout*Math.pow(this.exponent,e))*(r.fraction()*this.fuzz+(1-this.fuzz/2));var t}return e}(),i.retryLater=function(){function t(t,i){var r=this._timeout(t);return this.retryTimer&&clearTimeout(this.retryTimer),this.retryTimer=e.setTimeout(i,r),r}return t}(),t}()}}}}},{extensions:[".js",".json"]})("/node_modules/meteor/retry/retry.js");Package._define("retry",l,{Retry:c})}();

!function(){var e=Package.meteor.Meteor,n=Package.meteor.global,t=Package.meteor.meteorEnv,o=Package.modules.meteorInstall,i=Package.modules.meteorBabelHelpers,r=Package.promise.Promise,a=Package["ecmascript-runtime-client"].Symbol,c=Package["ecmascript-runtime-client"].Map,l=Package["ecmascript-runtime-client"].Set,s,u,k=o({node_modules:{meteor:{"callback-hook":{"hook.js":function(n,t,o){o.export({Hook:function(){return r}});var i=Object.prototype.hasOwnProperty,r=function(){function n(e){if(e=e||{},this.nextCallbackId=0,this.callbacks=Object.create(null),this.bindEnvironment=!0,!1===e.bindEnvironment&&(this.bindEnvironment=!1),e.exceptionHandler)this.exceptionHandler=e.exceptionHandler;else if(e.debugPrintExceptions){if("string"!=typeof e.debugPrintExceptions)throw new Error("Hook option debugPrintExceptions should be a string");this.exceptionHandler=e.debugPrintExceptions}}var t=n.prototype;return t.register=function(){function n(n){var t=this,o=this.exceptionHandler||function(e){throw e};n=this.bindEnvironment?e.bindEnvironment(n,o):a(n,o);var i=this.nextCallbackId++;return this.callbacks[i]=n,{callback:n,stop:function(){delete t.callbacks[i]}}}return n}(),t.each=function(){function n(n){e._nodeCodeMustBeInFiber();for(var t=Object.keys(this.callbacks),o=0;o<t.length;++o){var r=t[o],a;if(i.call(this.callbacks,r))if(!n(this.callbacks[r]))break}}return n}(),n}();function a(n,t,o){if(!t||"string"==typeof t){var i=t||"callback of async function";t=function(n){e._debug("Exception in "+i,n)}}return function(){try{for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];var a=n.apply(o,i)}catch(c){t(c)}return a}}}}}}},{extensions:[".js",".json"]})("/node_modules/meteor/callback-hook/hook.js");Package._define("callback-hook",k,{Hook:s})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.check.check,a=Package.check.Match,i=Package.random.Random,o=Package.ejson.EJSON,s=Package.tracker.Tracker,c=Package.tracker.Deps,u=Package.retry.Retry,l=Package.modules.meteorInstall,d=Package.modules.meteorBabelHelpers,m=Package.promise.Promise,h=Package["ecmascript-runtime-client"].Symbol,f=Package["ecmascript-runtime-client"].Map,_=Package["ecmascript-runtime-client"].Set,b,p=l({node_modules:{meteor:{"ddp-common":{"namespace.js":function(){b={}},"heartbeat.js":function(){b.Heartbeat=function(){function t(e){this.heartbeatInterval=e.heartbeatInterval,this.heartbeatTimeout=e.heartbeatTimeout,this._sendPing=e.sendPing,this._onTimeout=e.onTimeout,this._seenPacket=!1,this._heartbeatIntervalHandle=null,this._heartbeatTimeoutHandle=null}var n=t.prototype;return n.stop=function(){function e(){this._clearHeartbeatIntervalTimer(),this._clearHeartbeatTimeoutTimer()}return e}(),n.start=function(){function e(){this.stop(),this._startHeartbeatIntervalTimer()}return e}(),n._startHeartbeatIntervalTimer=function(){function t(){var t=this;this._heartbeatIntervalHandle=e.setInterval((function(){return t._heartbeatIntervalFired()}),this.heartbeatInterval)}return t}(),n._startHeartbeatTimeoutTimer=function(){function t(){var t=this;this._heartbeatTimeoutHandle=e.setTimeout((function(){return t._heartbeatTimeoutFired()}),this.heartbeatTimeout)}return t}(),n._clearHeartbeatIntervalTimer=function(){function t(){this._heartbeatIntervalHandle&&(e.clearInterval(this._heartbeatIntervalHandle),this._heartbeatIntervalHandle=null)}return t}(),n._clearHeartbeatTimeoutTimer=function(){function t(){this._heartbeatTimeoutHandle&&(e.clearTimeout(this._heartbeatTimeoutHandle),this._heartbeatTimeoutHandle=null)}return t}(),n._heartbeatIntervalFired=function(){function e(){this._seenPacket||this._heartbeatTimeoutHandle||(this._sendPing(),this._startHeartbeatTimeoutTimer()),this._seenPacket=!1}return e}(),n._heartbeatTimeoutFired=function(){function e(){this._heartbeatTimeoutHandle=null,this._onTimeout()}return e}(),n.messageReceived=function(){function e(){this._seenPacket=!0,this._heartbeatTimeoutHandle&&this._clearHeartbeatTimeoutTimer()}return e}(),t}()},"utils.js":function(t,n,r){"use strict";var a;r.link("@babel/runtime/helpers/typeof",{default:function(e){a=e}},0),r.export({hasOwn:function(){return i},slice:function(){return s},keys:function(){return c},isEmpty:function(){return u},last:function(){return l}});var i=Object.prototype.hasOwnProperty,s=Array.prototype.slice;function c(e){return Object.keys(Object(e))}function u(e){if(null==e)return!0;if(Array.isArray(e)||"string"==typeof e)return 0===e.length;for(var t in d.sanitizeForInObject(e))if(i.call(e,t))return!1;return!0}function l(e,t,n){if(null!=e)return null==t||n?e[e.length-1]:s.call(e,Math.max(e.length-t,0))}b.SUPPORTED_DDP_VERSIONS=["1","pre2","pre1"],b.parseDDP=function(t){try{var n=JSON.parse(t)}catch(r){return e._debug("Discarding message with invalid JSON",t),null}return null===n||"object"!==a(n)?(e._debug("Discarding non-object DDP message",t),null):(i.call(n,"cleared")&&(i.call(n,"fields")||(n.fields={}),n.cleared.forEach((function(e){n.fields[e]=void 0})),delete n.cleared),["fields","params","result"].forEach((function(e){i.call(n,e)&&(n[e]=o._adjustTypesFromJSONValue(n[e]))})),n)},b.stringifyDDP=function(e){var t=o.clone(e);if(i.call(e,"fields")){var n=[];Object.keys(e.fields).forEach((function(r){var a;void 0===e.fields[r]&&(n.push(r),delete t.fields[r])})),u(n)||(t.cleared=n),u(t.fields)&&delete t.fields}if(["fields","params","result"].forEach((function(e){i.call(t,e)&&(t[e]=o._adjustTypesToJSONValue(t[e]))})),e.id&&"string"!=typeof e.id)throw new Error("Message id is not a string");return JSON.stringify(t)}},"method_invocation.js":function(){b.MethodInvocation=function(){function e(e){this.isSimulation=e.isSimulation,this._unblock=e.unblock||function(){},this._calledUnblock=!1,this.userId=e.userId,this._setUserId=e.setUserId||function(){},this.connection=e.connection,this.randomSeed=e.randomSeed,this.randomStream=null}var t=e.prototype;return t.unblock=function(){function e(){this._calledUnblock=!0,this._unblock()}return e}(),t.setUserId=function(){function e(e){if(this._calledUnblock)throw new Error("Can't call setUserId in a method after calling unblock");this.userId=e,this._setUserId(e)}return e}(),e}()},"random_stream.js":function(){function e(){return i.hexString(20)}b.RandomStream=function(){function t(t){this.seed=[].concat(t.seed||e()),this.sequences=Object.create(null)}var n;return t.prototype._sequence=function(){function e(e){var t=this,n=this.sequences[e]||null;if(null===n){for(var r=this.seed.concat(e),a=0;a<r.length;a++)"function"==typeof r[a]&&(r[a]=r[a]());this.sequences[e]=n=i.createWithSeeds.apply(null,r)}return n}return e}(),t}(),b.RandomStream.get=function(e,t){if(t||(t="default"),!e)return i.insecure;var n=e.randomStream;return n||(e.randomStream=n=new b.RandomStream({seed:e.randomSeed})),n._sequence(t)},b.makeRpcSeed=function(e,t){var n;return b.RandomStream.get(e,"/rpc/"+t).hexString(20)}}}}}},{extensions:[".js",".json"]});p("/node_modules/meteor/ddp-common/namespace.js"),p("/node_modules/meteor/ddp-common/heartbeat.js"),p("/node_modules/meteor/ddp-common/utils.js"),p("/node_modules/meteor/ddp-common/method_invocation.js"),p("/node_modules/meteor/ddp-common/random_stream.js"),Package._define("ddp-common",{DDPCommon:b})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,o=Package.meteor.meteorEnv,a=Package.modules.meteorInstall,n=Package.modules.meteorBabelHelpers,r=Package.promise.Promise,i=Package["ecmascript-runtime-client"].Symbol,l=Package["ecmascript-runtime-client"].Map,c=Package["ecmascript-runtime-client"].Set,d,s,u=a({node_modules:{meteor:{reload:{"reload.js":function(t,o,a){var n;a.link("@babel/runtime/helpers/typeof",{default:function(e){n=e}},0),a.export({Reload:function(){return r}});var r={},i="Meteor_Reload",l={},c,d=null;try{(d=window.sessionStorage)?(d.setItem("__dummy__","1"),d.removeItem("__dummy__")):d=null}catch(f){d=null}r._getData=function(){return d&&d.getItem(i)},d&&(c=r._getData(),d.removeItem(i)),c||(c="{}");var s={};try{s=JSON.parse(c),"object"!==n(s)&&(e._debug("Got bad data on reload. Ignoring."),s={})}catch(_){e._debug("Got invalid JSON on reload. Ignoring.")}s.reload&&"object"===n(s.data)&&(l=s.data);var u=[];r._onMigrate=function(e,t){t||(t=e,e=void 0),u.push({name:e,callback:t})},r._migrationData=function(e){return l[e]};var m=function(e,t){e=e||function(){},t=t||{};for(var o={},a=u.slice(0),n=!0;a.length;){var r=a.shift(),i=r.callback(e,t);i[0]||(n=!1),i.length>1&&r.name&&(o[r.name]=i[1])}return n||t.immediateMigration?o:null};r._migrate=function(t,o){var a=m(t,o);if(null===a)return!1;try{var n=JSON.stringify({data:a,reload:!0})}catch(_){throw e._debug("Couldn't serialize data for migration",a),_}if(d)try{d.setItem(i,n)}catch(_){e._debug("Couldn't save data for migration to sessionStorage",_)}else e._debug("Browser does not support sessionStorage. Not saving migration state.");return!0},r._withFreshProvidersForTest=function(e){var t=u.slice(0);u=[];try{e()}finally{u=t}};var g=!1;r._reload=function(t){function o(){setTimeout(n,1)}function a(){window.location.hash||window.location.href.endsWith("#")?window.location.reload():window.location.replace(window.location.href)}function n(){r._migrate(o,t)&&(e.isCordova?WebAppLocalServer.switchToPendingVersion((function(){a()})):a())}t=t||{},g||(g=!0,o())}}}}}},{extensions:[".js",".json"]})("/node_modules/meteor/reload/reload.js");Package._define("reload",u,{Reload:void 0})}();

!function(){var t=Package.meteor.Meteor,e=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.retry.Retry,o=Package.modules.meteorInstall,i=Package.modules.meteorBabelHelpers,s=Package.promise.Promise,a=Package["ecmascript-runtime-client"].Symbol,u=Package["ecmascript-runtime-client"].Map,c=Package["ecmascript-runtime-client"].Set,l,f;o({node_modules:{meteor:{"socket-stream-client":{"sockjs-0.3.4.js":function(t,e,n){var r;n.link("@babel/runtime/helpers/typeof",{default:function(t){r=t}},0),l=function(){var t=document,e=window,n={},o=function(){};o.prototype.addEventListener=function(t,e){this._listeners||(this._listeners={}),t in this._listeners||(this._listeners[t]=[]);var r=this._listeners[t];-1===n.arrIndexOf(r,e)&&r.push(e)},o.prototype.removeEventListener=function(t,e){if(this._listeners&&t in this._listeners){var r=this._listeners[t],o=n.arrIndexOf(r,e);-1===o||(r.length>1?this._listeners[t]=r.slice(0,o).concat(r.slice(o+1)):delete this._listeners[t])}},o.prototype.dispatchEvent=function(t){var e=t.type,n=Array.prototype.slice.call(arguments,0);if(this["on"+e]&&this["on"+e].apply(this,n),this._listeners&&e in this._listeners)for(var r=0;r<this._listeners[e].length;r++)this._listeners[e][r].apply(this,n)};var s=function(t,e){if(this.type=t,void 0!==e)for(var n in i.sanitizeForInObject(e))e.hasOwnProperty(n)&&(this[n]=e[n])};s.prototype.toString=function(){var t=[];for(var e in i.sanitizeForInObject(this))if(this.hasOwnProperty(e)){var n=this[e];"function"==typeof n&&(n="[function]"),t.push(e+"="+n)}return"SimpleEvent("+t.join(", ")+")"};var a=function(t){var e=this;this._events=t||[],this._listeners={}};a.prototype.emit=function(t){var e=this;if(e._verifyType(t),!e._nuked){var n=Array.prototype.slice.call(arguments,1);if(e["on"+t]&&e["on"+t].apply(e,n),t in e._listeners)for(var r=0;r<e._listeners[t].length;r++)e._listeners[t][r].apply(e,n)}},a.prototype.on=function(t,e){var n=this;this._verifyType(t),this._nuked||(t in this._listeners||(this._listeners[t]=[]),this._listeners[t].push(e))},a.prototype._verifyType=function(t){var e=this;-1===n.arrIndexOf(this._events,t)&&n.log("Event "+JSON.stringify(t)+" not listed "+JSON.stringify(this._events)+" in "+this)},a.prototype.nuke=function(){var t=this;this._nuked=!0;for(var e=0;e<this._events.length;e++)delete this[this._events[e]];this._listeners={}};var u="abcdefghijklmnopqrstuvwxyz0123456789_";n.random_string=function(t,e){e=e||u.length;var n,r=[];for(n=0;n<t;n++)r.push(u.substr(Math.floor(Math.random()*e),1));return r.join("")},n.random_number=function(t){return Math.floor(Math.random()*t)},n.random_number_string=function(t){var e=(""+(t-1)).length,r;return(Array(e+1).join("0")+n.random_number(t)).slice(-e)},n.getOrigin=function(t){var e;return(t+="/").split("/").slice(0,3).join("/")},n.isSameOriginUrl=function(t,n){return n||(n=e.location.href),t.split("/").slice(0,3).join("/")===n.split("/").slice(0,3).join("/")},n.isSameOriginScheme=function(t,n){return n||(n=e.location.href),t.split(":")[0]===n.split(":")[0]},n.getParentDomain=function(t){return/^[0-9.]*$/.test(t)?t:/^\[/.test(t)?t:/[.]/.test(t)?t.split(".").slice(1).join("."):t;var e},n.objectExtend=function(t,e){for(var n in i.sanitizeForInObject(e))e.hasOwnProperty(n)&&(t[n]=e[n]);return t};var c="_jp";n.polluteGlobalNamespace=function(){"_jp"in e||(e._jp={})},n.closeFrame=function(t,e){return"c"+JSON.stringify([t,e])},n.userSetCode=function(t){return 1e3===t||t>=3e3&&t<=4999},n.countRTO=function(t){var e;return e=t>100?3*t:t+200},n.log=function(){e.console&&console.log&&console.log.apply&&console.log.apply(console,arguments)},n.bind=function(t,e){return t.bind?t.bind(e):function(){return t.apply(e,arguments)}},n.flatUrl=function(t){return-1===t.indexOf("?")&&-1===t.indexOf("#")},n.amendUrl=function(e,r){var o;if(void 0===r)o=t.location;else{var i=/^([a-z0-9.+-]+:)/i.exec(r);if(i){var s=i[0].toLowerCase(),a=r.substring(s.length),u=/[a-z0-9\.-]+(:[0-9]+)?/.exec(a);if(u)var c=u[0]}if(!s||!c)throw new Error("relativeTo must be an absolute url");o={protocol:s,host:c}}if(!e)throw new Error("Wrong url for SockJS");if(!n.flatUrl(e))throw new Error("Only basic urls are supported in SockJS");0===e.indexOf("//")&&(e=o.protocol+e),0===e.indexOf("/")&&(e=o.protocol+"//"+o.host+e);var l=(e=e.replace(/[/]+$/,"")).split("/");return("http:"===l[0]&&/:80$/.test(l[2])||"https:"===l[0]&&/:443$/.test(l[2]))&&(l[2]=l[2].replace(/:(80|443)$/,"")),e=l.join("/")},n.arrIndexOf=function(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1},n.arrSkip=function(t,e){var r=n.arrIndexOf(t,e),o;return-1===r?t.slice():t.slice(0,r).concat(t.slice(r+1))},n.isArray=Array.isArray||function(t){return{}.toString.call(t).indexOf("Array")>=0},n.delay=function(t,e){return"function"==typeof t&&(e=t,t=0),setTimeout(e,t)};var l=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f={"\0":"\\u0000","":"\\u0001","":"\\u0002","":"\\u0003","":"\\u0004","":"\\u0005","":"\\u0006","":"\\u0007","\b":"\\b","\t":"\\t","\n":"\\n","\v":"\\u000b","\f":"\\f","\r":"\\r","":"\\u000e","":"\\u000f","":"\\u0010","":"\\u0011","":"\\u0012","":"\\u0013","":"\\u0014","":"\\u0015","":"\\u0016","":"\\u0017","":"\\u0018","":"\\u0019","":"\\u001a","":"\\u001b","":"\\u001c","":"\\u001d","":"\\u001e","":"\\u001f",'"':'\\"',"\\":"\\\\","":"\\u007f","":"\\u0080","":"\\u0081","":"\\u0082","":"\\u0083","":"\\u0084","":"\\u0085","":"\\u0086","":"\\u0087","":"\\u0088","":"\\u0089","":"\\u008a","":"\\u008b","":"\\u008c","":"\\u008d","":"\\u008e","":"\\u008f","":"\\u0090","":"\\u0091","":"\\u0092","":"\\u0093","":"\\u0094","":"\\u0095","":"\\u0096","":"\\u0097","":"\\u0098","":"\\u0099","":"\\u009a","":"\\u009b","":"\\u009c","":"\\u009d","":"\\u009e","":"\\u009f","":"\\u00ad","":"\\u0600","":"\\u0601","":"\\u0602","":"\\u0603","":"\\u0604","":"\\u070f","":"\\u17b4","":"\\u17b5","":"\\u200c","":"\\u200d","":"\\u200e","":"\\u200f","\u2028":"\\u2028","\u2029":"\\u2029","":"\\u202a","":"\\u202b","":"\\u202c","":"\\u202d","":"\\u202e","":"\\u202f","":"\\u2060","":"\\u2061","":"\\u2062","":"\\u2063","":"\\u2064","":"\\u2065","":"\\u2066","":"\\u2067","":"\\u2068","":"\\u2069","":"\\u206a","":"\\u206b","":"\\u206c","":"\\u206d","":"\\u206e","":"\\u206f","\ufeff":"\\ufeff","":"\\ufff0","":"\\ufff1","":"\\ufff2","":"\\ufff3","":"\\ufff4","":"\\ufff5","":"\\ufff6","":"\\ufff7","":"\\ufff8","":"\\ufff9","":"\\ufffa","":"\\ufffb","":"\\ufffc","":"\\ufffd","":"\\ufffe","":"\\uffff"},d=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,h,p=JSON&&JSON.stringify||function(t){return l.lastIndex=0,l.test(t)&&(t=t.replace(l,(function(t){return f[t]}))),'"'+t+'"'},_=function(t){var e,n={},r=[];for(e=0;e<65536;e++)r.push(String.fromCharCode(e));return t.lastIndex=0,r.join("").replace(t,(function(t){return n[t]="\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4),""})),t.lastIndex=0,n};n.quote=function(t){var e=p(t);return d.lastIndex=0,d.test(e)?(h||(h=_(d)),e.replace(d,(function(t){return h[t]}))):e};var m=["websocket","xdr-streaming","xhr-streaming","iframe-eventsource","iframe-htmlfile","xdr-polling","xhr-polling","iframe-xhr-polling","jsonp-polling"];n.probeProtocols=function(){for(var t={},e=0;e<m.length;e++){var n=m[e];t[n]=T[n]&&T[n].enabled()}return t},n.detectProtocols=function(t,e,n){var r={},o=[];e||(e=m);for(var i=0;i<e.length;i++){var s=e[i];r[s]=t[s]}var a=function(t){var e=t.shift();r[e]?o.push(e):t.length>0&&a(t)};return!1!==n.websocket&&a(["websocket"]),r["xhr-streaming"]&&!n.null_origin?o.push("xhr-streaming"):!r["xdr-streaming"]||n.cookie_needed||n.null_origin?a(["iframe-eventsource","iframe-htmlfile"]):o.push("xdr-streaming"),r["xhr-polling"]&&!n.null_origin?o.push("xhr-polling"):!r["xdr-polling"]||n.cookie_needed||n.null_origin?a(["iframe-xhr-polling","jsonp-polling"]):o.push("xdr-polling"),o};var v="_sockjs_global";n.createHook=function(){var t="a"+n.random_string(8);if(!(v in e)){var r={};e[v]=function(t){return t in r||(r[t]={id:t,del:function(){delete r[t]}}),r[t]}}return e[v](t)},n.attachMessage=function(t){n.attachEvent("message",t)},n.attachEvent=function(n,r){void 0!==e.addEventListener?e.addEventListener(n,r,!1):(t.attachEvent("on"+n,r),e.attachEvent("on"+n,r))},n.detachMessage=function(t){n.detachEvent("message",t)},n.detachEvent=function(n,r){void 0!==e.addEventListener?e.removeEventListener(n,r,!1):(t.detachEvent("on"+n,r),e.detachEvent("on"+n,r))};var b={},y=!1,g=function(){for(var t in i.sanitizeForInObject(b))b[t](),delete b[t]},w=function(){y||(y=!0,g())};n.attachEvent("unload",w),n.unload_add=function(t){var e=n.random_string(8);return b[e]=t,y&&n.delay(g),e},n.unload_del=function(t){t in b&&delete b[t]},n.createIframe=function(e,r){var o=t.createElement("iframe"),i,s,a=function(){clearTimeout(i);try{o.onload=null}catch(t){}o.onerror=null},u=function(){o&&(a(),setTimeout((function(){o&&o.parentNode.removeChild(o),o=null}),0),n.unload_del(s))},c=function(t){o&&(u(),r(t))},l=function(t,e){try{o&&o.contentWindow&&o.contentWindow.postMessage(t,e)}catch(n){}};return o.src=e,o.style.display="none",o.style.position="absolute",o.onerror=function(){c("onerror")},o.onload=function(){clearTimeout(i),i=setTimeout((function(){c("onload timeout")}),2e3)},t.body.appendChild(o),i=setTimeout((function(){c("timeout")}),15e3),s=n.unload_add(u),{post:l,cleanup:u,loaded:a}},n.createHtmlfile=function(t,r){var o=new ActiveXObject("htmlfile"),i,s,a,u=function(){clearTimeout(i)},c=function(){o&&(u(),n.unload_del(s),a.parentNode.removeChild(a),a=o=null,CollectGarbage())},l=function(t){o&&(c(),r(t))},f=function(t,e){try{a&&a.contentWindow&&a.contentWindow.postMessage(t,e)}catch(n){}};o.open(),o.write('<html><script>document.domain="'+document.domain+'";<\/script></html>'),o.close(),o.parentWindow._jp=e._jp;var d=o.createElement("div");return o.body.appendChild(d),a=o.createElement("iframe"),d.appendChild(a),a.src=t,i=setTimeout((function(){l("timeout")}),15e3),s=n.unload_add(c),{post:f,cleanup:c,loaded:u}};var S=function(){},C,k;(S.prototype=new a(["chunk","finish"]))._start=function(t,r,o,s){var a=this;try{a.xhr=new XMLHttpRequest}catch(c){}if(!a.xhr)try{a.xhr=new e.ActiveXObject("Microsoft.XMLHTTP")}catch(c){}(e.ActiveXObject||e.XDomainRequest)&&(r+=(-1===r.indexOf("?")?"?":"&")+"t="+ +new Date),a.unload_ref=n.unload_add((function(){a._cleanup(!0)}));try{a.xhr.open(t,r,!0)}catch(l){return a.emit("finish",0,""),void a._cleanup()}if(s&&s.no_credentials||(a.xhr.withCredentials="true"),s&&s.headers)for(var u in i.sanitizeForInObject(s.headers))a.xhr.setRequestHeader(u,s.headers[u]);a.xhr.onreadystatechange=function(){if(a.xhr){var t=a.xhr;switch(t.readyState){case 3:try{var e=t.status,n=t.responseText}catch(t){}1223===e&&(e=204),n&&n.length>0&&a.emit("chunk",e,n);break;case 4:var e;1223===(e=t.status)&&(e=204),a.emit("finish",e,t.responseText),a._cleanup(!1)}}},a.xhr.send(o)},S.prototype._cleanup=function(t){var e=this;if(this.xhr){if(n.unload_del(this.unload_ref),this.xhr.onreadystatechange=function(){},t)try{this.xhr.abort()}catch(r){}this.unload_ref=this.xhr=null}},S.prototype.close=function(){var t=this;this.nuke(),this._cleanup(!0)},(n.XHRCorsObject=function(){var t=this,e=arguments;n.delay((function(){t._start.apply(t,e)}))}).prototype=new S,(n.XHRLocalObject=function(t,e,r){var o=this;n.delay((function(){o._start(t,e,r,{no_credentials:!0})}))}).prototype=new S;var O=n.XDRObject=function(t,e,r){var o=this;n.delay((function(){o._start(t,e,r)}))};O.prototype=new a(["chunk","finish"]),O.prototype._start=function(t,e,r){var o=this,i=new XDomainRequest;e+=(-1===e.indexOf("?")?"?":"&")+"t="+ +new Date;var s=i.ontimeout=i.onerror=function(){o.emit("finish",0,""),o._cleanup(!1)};i.onprogress=function(){o.emit("chunk",200,i.responseText)},i.onload=function(){o.emit("finish",200,i.responseText),o._cleanup(!1)},o.xdr=i,o.unload_ref=n.unload_add((function(){o._cleanup(!0)}));try{o.xdr.open(t,e),o.xdr.send(r)}catch(a){s()}},O.prototype._cleanup=function(t){var e=this;if(this.xdr){if(n.unload_del(this.unload_ref),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,t)try{this.xdr.abort()}catch(r){}this.unload_ref=this.xdr=null}},O.prototype.close=function(){var t=this;this.nuke(),this._cleanup(!0)},n.isXHRCorsCapable=function(){return e.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest?1:e.XDomainRequest&&t.domain?2:U.enabled()?3:4};var T=function(t,e,r){if(!(this instanceof T))return new T(t,e,r);var o=this,i;o._options={devel:!1,debug:!1,protocols_whitelist:[],info:void 0,rtt:void 0},r&&n.objectExtend(o._options,r),o._base_url=n.amendUrl(t),o._server=o._options.server||n.random_number_string(1e3),o._options.protocols_whitelist&&o._options.protocols_whitelist.length?i=o._options.protocols_whitelist:(i="string"==typeof e&&e.length>0?[e]:n.isArray(e)?e:null)&&o._debug('Deprecated API: Use "protocols_whitelist" option instead of supplying protocol list as a second parameter to SockJS constructor.'),o._protocols=[],o.protocol=null,o.readyState=T.CONNECTING,o._ir=z(o._base_url),o._ir.onfinish=function(t,e){o._ir=null,t?(o._options.info&&(t=n.objectExtend(t,o._options.info)),o._options.rtt&&(e=o._options.rtt),o._applyInfo(t,e,i),o._didClose()):o._didClose(1002,"Can't connect to server",!0)}};T.prototype=new o,T.version="0.3.4",T.CONNECTING=0,T.OPEN=1,T.CLOSING=2,T.CLOSED=3,T.prototype._debug=function(){this._options.debug&&n.log.apply(n,arguments)},T.prototype._dispatchOpen=function(){var t=this;this.readyState===T.CONNECTING?(this._transport_tref&&(clearTimeout(this._transport_tref),this._transport_tref=null),this.readyState=T.OPEN,this.dispatchEvent(new s("open"))):this._didClose(1006,"Server lost session")},T.prototype._dispatchMessage=function(t){var e=this;this.readyState===T.OPEN&&this.dispatchEvent(new s("message",{data:t}))},T.prototype._dispatchHeartbeat=function(t){var e=this;this.readyState===T.OPEN&&this.dispatchEvent(new s("heartbeat",{}))},T.prototype._didClose=function(t,e,r){var o=this;if(o.readyState!==T.CONNECTING&&o.readyState!==T.OPEN&&o.readyState!==T.CLOSING)throw new Error("INVALID_STATE_ERR");o._ir&&(o._ir.nuke(),o._ir=null),o._transport&&(o._transport.doCleanup(),o._transport=null);var i=new s("close",{code:t,reason:e,wasClean:n.userSetCode(t)});if(!n.userSetCode(t)&&o.readyState===T.CONNECTING&&!r){if(o._try_next_protocol(i))return;i=new s("close",{code:2e3,reason:"All transports failed",wasClean:!1,last_event:i})}o.readyState=T.CLOSED,n.delay((function(){o.dispatchEvent(i)}))},T.prototype._didMessage=function(t){var e=this,n;switch(t.slice(0,1)){case"o":this._dispatchOpen();break;case"a":for(var r=JSON.parse(t.slice(1)||"[]"),o=0;o<r.length;o++)this._dispatchMessage(r[o]);break;case"m":var r=JSON.parse(t.slice(1)||"null");this._dispatchMessage(r);break;case"c":var r=JSON.parse(t.slice(1)||"[]");this._didClose(r[0],r[1]);break;case"h":this._dispatchHeartbeat()}},T.prototype._try_next_protocol=function(e){var r=this;for(r.protocol&&(r._debug("Closed transport:",r.protocol,""+e),r.protocol=null),r._transport_tref&&(clearTimeout(r._transport_tref),r._transport_tref=null);;){var o=r.protocol=r._protocols.shift();if(!o)return!1;if(T[o]&&!0===T[o].need_body&&(!t.body||void 0!==t.readyState&&"complete"!==t.readyState))return r._protocols.unshift(o),r.protocol="waiting-for-load",n.attachEvent("load",(function(){r._try_next_protocol()})),!0;if(T[o]&&T[o].enabled(r._options)){var i=T[o].roundTrips||1,s=(r._options.rto||0)*i||5e3;r._transport_tref=n.delay(s,(function(){r.readyState===T.CONNECTING&&r._didClose(2007,"Transport timeouted")}));var a=n.random_string(8),u=r._base_url+"/"+r._server+"/"+a;return r._debug("Opening transport:",o," url:"+u," RTO:"+r._options.rto),r._transport=new T[o](r,u,r._base_url),!0}r._debug("Skipping transport:",o)}},T.prototype.close=function(t,e){var r=this;if(t&&!n.userSetCode(t))throw new Error("INVALID_ACCESS_ERR");return(this.readyState===T.CONNECTING||this.readyState===T.OPEN)&&(this.readyState=T.CLOSING,this._didClose(t||1e3,e||"Normal closure"),!0)},T.prototype.send=function(t){var e=this;if(this.readyState===T.CONNECTING)throw new Error("INVALID_STATE_ERR");return this.readyState===T.OPEN&&this._transport.doSend(n.quote(""+t)),!0},T.prototype._applyInfo=function(e,r,o){var i=this;this._options.info=e,this._options.rtt=r,this._options.rto=n.countRTO(r),this._options.info.null_origin=!t.domain,e.base_url&&(this._base_url=n.amendUrl(e.base_url,this._base_url));var s=n.probeProtocols();this._protocols=n.detectProtocols(s,o,e),n.isSameOriginScheme(this._base_url)||2!==n.isXHRCorsCapable()||(this._protocols=["jsonp-polling"])};var x=T.websocket=function(t,r){var o=this,i=r+"/websocket";i="https"===i.slice(0,5)?"wss"+i.slice(5):"ws"+i.slice(4),o.ri=t,o.url=i;var s=e.WebSocket||e.MozWebSocket;o.ws=new s(o.url),o.ws.onmessage=function(t){o.ri._didMessage(t.data)},o.unload_ref=n.unload_add((function(){o.ws.close()})),o.ws.onclose=function(){o.ri._didMessage(n.closeFrame(1006,"WebSocket connection broken"))}};x.prototype.doSend=function(t){this.ws.send("["+t+"]")},x.prototype.doCleanup=function(){var t=this,e=this.ws;e&&(e.onmessage=e.onclose=null,e.close(),n.unload_del(this.unload_ref),this.unload_ref=this.ri=this.ws=null)},x.enabled=function(){return!(!e.WebSocket&&!e.MozWebSocket)},x.roundTrips=2;var j=function(){};j.prototype.send_constructor=function(t){var e=this;this.send_buffer=[],this.sender=t},j.prototype.doSend=function(t){var e=this;this.send_buffer.push(t),this.send_stop||this.send_schedule()},j.prototype.send_schedule_wait=function(){var t=this,e;t.send_stop=function(){t.send_stop=null,clearTimeout(e)},e=n.delay(25,(function(){t.send_stop=null,t.send_schedule()}))},j.prototype.send_schedule=function(){var t=this;if(t.send_buffer.length>0){var e="["+t.send_buffer.join(",")+"]";t.send_stop=t.sender(t.trans_url,e,(function(e,n){t.send_stop=null,!1===e?t.ri._didClose(1006,"Sending error "+n):t.send_schedule_wait()})),t.send_buffer=[]}},j.prototype.send_destructor=function(){var t=this;this._send_stop&&this._send_stop(),this._send_stop=null};var E=function(e,r,o){var i=this;if(!("_send_form"in this)){var s=this._send_form=t.createElement("form"),a;(a=this._send_area=t.createElement("textarea")).name="d",s.style.display="none",s.style.position="absolute",s.method="POST",s.enctype="application/x-www-form-urlencoded",s.acceptCharset="UTF-8",s.appendChild(a),t.body.appendChild(s)}var s=this._send_form,a=this._send_area,u="a"+n.random_string(8),c;s.target=u,s.action=e+"/jsonp_send?i="+u;try{c=t.createElement('<iframe name="'+u+'">')}catch(f){(c=t.createElement("iframe")).name=u}c.id=u,s.appendChild(c),c.style.display="none";try{a.value=r}catch(d){n.log("Your browser is seriously broken. Go home! "+d.message)}s.submit();var l=function(t){c.onerror&&(c.onreadystatechange=c.onerror=c.onload=null,n.delay(500,(function(){c.parentNode.removeChild(c),c=null})),a.value="",o(!0))};return c.onerror=c.onload=l,c.onreadystatechange=function(t){"complete"==c.readyState&&l()},l},N=function(t){return function(e,n,r){var o;return new t("POST",e+"/xhr_send",n).onfinish=function(t,e){r(200===t||204===t,"http status "+t)},function(t){r(!1,t)}}},M=function(e,r){var o,i=t.createElement("script"),s,a=function(t){s&&(s.parentNode.removeChild(s),s=null),i&&(clearTimeout(o),i.parentNode.removeChild(i),i.onreadystatechange=i.onerror=i.onload=i.onclick=null,i=null,r(t),r=null)},u=!1,c=null;if(i.id="a"+n.random_string(8),i.src=e,i.type="text/javascript",i.charset="UTF-8",i.onerror=function(t){c||(c=setTimeout((function(){u||a(n.closeFrame(1006,"JSONP script loaded abnormally (onerror)"))}),1e3))},i.onload=function(t){a(n.closeFrame(1006,"JSONP script loaded abnormally (onload)"))},i.onreadystatechange=function(t){if(/loaded|closed/.test(i.readyState)){if(i&&i.htmlFor&&i.onclick){u=!0;try{i.onclick()}catch(e){}}i&&a(n.closeFrame(1006,"JSONP script loaded abnormally (onreadystatechange)"))}},void 0===i.async&&t.attachEvent)if(/opera/i.test(navigator.userAgent))(s=t.createElement("script")).text="try{var a = document.getElementById('"+i.id+"'); if(a)a.onerror();}catch(x){};",i.async=s.async=!1;else{try{i.htmlFor=i.id,i.event="onclick"}catch(f){}i.async=!0}void 0!==i.async&&(i.async=!0),o=setTimeout((function(){a(n.closeFrame(1006,"JSONP script loaded abnormally (timeout)"))}),35e3);var l=t.getElementsByTagName("head")[0];return l.insertBefore(i,l.firstChild),s&&l.insertBefore(s,l.firstChild),a},I=T["jsonp-polling"]=function(t,e){n.polluteGlobalNamespace();var r=this;this.ri=t,this.trans_url=e,this.send_constructor(E),this._schedule_recv()};I.prototype=new j,I.prototype._schedule_recv=function(){var t=this,e=function(e){t._recv_stop=null,e&&(t._is_closing||t.ri._didMessage(e)),t._is_closing||t._schedule_recv()};t._recv_stop=R(t.trans_url+"/jsonp",M,e)},I.enabled=function(){return!0},I.need_body=!0,I.prototype.doCleanup=function(){var t=this;this._is_closing=!0,this._recv_stop&&this._recv_stop(),this.ri=this._recv_stop=null,this.send_destructor()};var R=function(t,r,o){var i="a"+n.random_string(6),s=t+"?c="+escape("_jp."+i),a=0,u,c=r(s,(function(t){switch(a){case 0:delete e._jp[i],o(t);break;case 1:o(t),a=2;break;case 2:delete e._jp[i]}})),l;return e._jp[i]=c,function(){e._jp[i]&&(a=1,e._jp[i](n.closeFrame(1e3,"JSONP user aborted read")))}},P=function(){};(P.prototype=new j).run=function(t,e,n,r,o){var i=this;this.ri=t,this.trans_url=e,this.send_constructor(N(o)),this.poll=new tt(t,r,e+n,o)},P.prototype.doCleanup=function(){var t=this;this.poll&&(this.poll.abort(),this.poll=null)};var L=T["xhr-streaming"]=function(t,e){this.run(t,e,"/xhr_streaming",it,n.XHRCorsObject)};L.prototype=new P,L.enabled=function(){return e.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest&&!/opera/i.test(navigator.userAgent)},L.roundTrips=2,L.need_body=!0;var A=T["xdr-streaming"]=function(t,e){this.run(t,e,"/xhr_streaming",it,n.XDRObject)};A.prototype=new P,A.enabled=function(){return!!e.XDomainRequest},A.roundTrips=2;var X=T["xhr-polling"]=function(t,e){this.run(t,e,"/xhr",it,n.XHRCorsObject)};X.prototype=new P,X.enabled=L.enabled,X.roundTrips=2;var H=T["xdr-polling"]=function(t,e){this.run(t,e,"/xhr",it,n.XDRObject)};H.prototype=new P,H.enabled=A.enabled,H.roundTrips=2;var U=function(){},D;U.prototype.i_constructor=function(t,e,r){var o=this;o.ri=t,o.origin=n.getOrigin(r),o.base_url=r,o.trans_url=e;var i=r+"/iframe.html";o.ri._options.devel&&(i+="?t="+ +new Date),o.window_id=n.random_string(8),i+="#"+o.window_id,o.iframeObj=n.createIframe(i,(function(t){o.ri._didClose(1006,"Unable to load an iframe ("+t+")")})),o.onmessage_cb=n.bind(o.onmessage,o),n.attachMessage(o.onmessage_cb)},U.prototype.doCleanup=function(){var t=this;if(this.iframeObj){n.detachMessage(this.onmessage_cb);try{this.iframeObj.iframe.contentWindow&&this.postMessage("c")}catch(e){}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessage_cb=this.iframeObj=null}},U.prototype.onmessage=function(t){var e=this;if(t.origin===this.origin){var n=t.data.slice(0,8),r=t.data.slice(8,9),o=t.data.slice(9);if(n===this.window_id)switch(r){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([T.version,this.protocol,this.trans_url,this.base_url]));break;case"t":this.ri._didMessage(o)}}},U.prototype.postMessage=function(t,e){var n=this;this.iframeObj.post(this.window_id+t+(e||""),this.origin)},U.prototype.doSend=function(t){this.postMessage("m",t)},U.enabled=function(){var t=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("Konqueror");return("function"==typeof e.postMessage||"object"===r(e.postMessage))&&!t};var J=function(t,r){parent!==e?parent.postMessage(D+t+(r||""),"*"):n.log("Can't postMessage, no parent window.",t,r)},W=function(){};W.prototype._didClose=function(t,e){J("t",n.closeFrame(t,e))},W.prototype._didMessage=function(t){J("t",t)},W.prototype._doSend=function(t){this._transport.doSend(t)},W.prototype._doCleanup=function(){this._transport.doCleanup()},n.parent_origin=void 0,T.bootstrap_iframe=function(){var r;D=t.location.hash.slice(1);var o=function(t){if(t.source===parent&&(void 0===n.parent_origin&&(n.parent_origin=t.origin),t.origin===n.parent_origin)){var o=t.data.slice(0,8),i=t.data.slice(8,9),s=t.data.slice(9);if(o===D)switch(i){case"s":var a=JSON.parse(s),u=a[0],c=a[1],l=a[2],f=a[3];if(u!==T.version&&n.log('Incompatibile SockJS! Main site uses: "'+u+'", the iframe: "'+T.version+'".'),!n.flatUrl(l)||!n.flatUrl(f))return void n.log("Only basic urls are supported in SockJS");if(!n.isSameOriginUrl(l)||!n.isSameOriginUrl(f))return void n.log("Can't connect to different domain from within an iframe. ("+JSON.stringify([e.location.href,l,f])+")");(r=new W)._transport=new W[c](r,l,f);break;case"m":r._doSend(s);break;case"c":r&&r._doCleanup(),r=null}}};n.attachMessage(o),J("s")};var F=function(t,e){var r=this;n.delay((function(){r.doXhr(t,e)}))};(F.prototype=new a(["finish"])).doXhr=function(t,e){var o=this,i=(new Date).getTime(),s=new e("GET",t+"/info?cb="+n.random_string(10)),a=n.delay(8e3,(function(){s.ontimeout()}));s.onfinish=function(t,e){if(clearTimeout(a),a=null,200===t){var n=(new Date).getTime()-i,s=JSON.parse(e);"object"!==r(s)&&(s={}),o.emit("finish",s,n)}else o.emit("finish")},s.ontimeout=function(){s.close(),o.emit("finish")}};var G=function(e){var r=this,o=function(){var t=new U;t.protocol="w-iframe-info-receiver";var n=function(e){if("string"==typeof e&&"m"===e.substr(0,1)){var n=JSON.parse(e.substr(1)),o=n[0],i=n[1];r.emit("finish",o,i)}else r.emit("finish");t.doCleanup(),t=null},o={_options:{},_didClose:n,_didMessage:n};t.i_constructor(o,e,e)};t.body?o():n.attachEvent("load",o)};G.prototype=new a(["finish"]);var q=function(){var t=this;n.delay((function(){t.emit("finish",{},2e3)}))};q.prototype=new a(["finish"]);var z=function(t){if(n.isSameOriginUrl(t))return new F(t,n.XHRLocalObject);switch(n.isXHRCorsCapable()){case 1:return new F(t,n.XHRLocalObject);case 2:return n.isSameOriginScheme(t)?new F(t,n.XDRObject):new q;case 3:return new G(t);default:return new q}},B;(W["w-iframe-info-receiver"]=function(t,e,r){var o;new F(r,n.XHRLocalObject).onfinish=function(e,n){t._didMessage("m"+JSON.stringify([e,n])),t._didClose()}}).prototype.doCleanup=function(){};var $=T["iframe-eventsource"]=function(){var t=this;t.protocol="w-iframe-eventsource",t.i_constructor.apply(t,arguments)},V;$.prototype=new U,$.enabled=function(){return"EventSource"in e&&U.enabled()},$.need_body=!0,$.roundTrips=3,(W["w-iframe-eventsource"]=function(t,e){this.run(t,e,"/eventsource",et,n.XHRLocalObject)}).prototype=new P;var K=T["iframe-xhr-polling"]=function(){var t=this;t.protocol="w-iframe-xhr-polling",t.i_constructor.apply(t,arguments)},Y;K.prototype=new U,K.enabled=function(){return e.XMLHttpRequest&&U.enabled()},K.need_body=!0,K.roundTrips=3,(W["w-iframe-xhr-polling"]=function(t,e){this.run(t,e,"/xhr",it,n.XHRLocalObject)}).prototype=new P;var Q=T["iframe-htmlfile"]=function(){var t=this;t.protocol="w-iframe-htmlfile",t.i_constructor.apply(t,arguments)},Z;Q.prototype=new U,Q.enabled=function(){return U.enabled()},Q.need_body=!0,Q.roundTrips=3,(W["w-iframe-htmlfile"]=function(t,e){this.run(t,e,"/htmlfile",ot,n.XHRLocalObject)}).prototype=new P;var tt=function(t,e,n,r){var o=this;this.ri=t,this.Receiver=e,this.recv_url=n,this.AjaxObject=r,this._scheduleRecv()};tt.prototype._scheduleRecv=function(){var t=this,e=t.poll=new t.Receiver(t.recv_url,t.AjaxObject),n=0;e.onmessage=function(e){n+=1,t.ri._didMessage(e.data)},e.onclose=function(n){t.poll=e=e.onmessage=e.onclose=null,t.poll_is_closing||("permanent"===n.reason?t.ri._didClose(1006,"Polling error ("+n.reason+")"):t._scheduleRecv())}},tt.prototype.abort=function(){var t=this;this.poll_is_closing=!0,this.poll&&this.poll.abort()};var et=function(t){var e=this,r=new EventSource(t);r.onmessage=function(t){e.dispatchEvent(new s("message",{data:unescape(t.data)}))},e.es_close=r.onerror=function(t,o){var i=o?"user":2!==r.readyState?"network":"permanent";e.es_close=r.onmessage=r.onerror=null,r.close(),r=null,n.delay(200,(function(){e.dispatchEvent(new s("close",{reason:i}))}))}},nt;et.prototype=new o,et.prototype.abort=function(){var t=this;this.es_close&&this.es_close({},!0)};var rt=function(){if(void 0===nt)if("ActiveXObject"in e)try{nt=!!new ActiveXObject("htmlfile")}catch(t){}else nt=!1;return nt},ot=function(t){var r=this;n.polluteGlobalNamespace(),r.id="a"+n.random_string(6,26),t+=(-1===t.indexOf("?")?"?":"&")+"c="+escape("_jp."+r.id);var o=rt()?n.createHtmlfile:n.createIframe,i;e._jp[r.id]={start:function(){i.loaded()},message:function(t){r.dispatchEvent(new s("message",{data:t}))},stop:function(){r.iframe_close({},"network")}},r.iframe_close=function(t,n){i.cleanup(),r.iframe_close=i=null,delete e._jp[r.id],r.dispatchEvent(new s("close",{reason:n}))},i=o(t,(function(t){r.iframe_close({},"permanent")}))};ot.prototype=new o,ot.prototype.abort=function(){var t=this;this.iframe_close&&this.iframe_close({},"user")};var it=function(t,e){var n=this,r=0;n.xo=new e("POST",t,null),n.xo.onchunk=function(t,e){if(200===t)for(;;){var o=e.slice(r),i=o.indexOf("\n");if(-1===i)break;r+=i+1;var a=o.slice(0,i);n.dispatchEvent(new s("message",{data:a}))}},n.xo.onfinish=function(t,e){n.xo.onchunk(t,e),n.xo=null;var r=200===t?"network":"permanent";n.dispatchEvent(new s("close",{reason:r}))}};return it.prototype=new o,it.prototype.abort=function(){var t=this;this.xo&&(this.xo.close(),this.dispatchEvent(new s("close",{reason:"user"})),this.xo=null)},T.getUtils=function(){return n},T.getIframeTransport=function(){return U},T}(),"_sockjs_onload"in window&&setTimeout(_sockjs_onload,1),"function"==typeof define&&define.amd&&define("sockjs",[],(function(){return l}))},"browser.js":function(t,e,n){var r,o,i,a,u,c;n.link("@babel/runtime/helpers/objectSpread2",{default:function(t){r=t}},0),n.link("@babel/runtime/helpers/assertThisInitialized",{default:function(t){o=t}},1),n.link("@babel/runtime/helpers/inheritsLoose",{default:function(t){i=t}},2),n.export({ClientStream:function(){return f}}),n.link("./urls.js",{toSockjsUrl:function(t){a=t},toWebsocketUrl:function(t){u=t}},0),n.link("./common.js",{StreamClientCommon:function(t){c=t}},1),n.link("./sockjs-0.3.4.js");var f=function(t){function e(e,n){var r;return(r=t.call(this,n)||this)._initCommon(r.options),r.HEARTBEAT_TIMEOUT=1e5,r.rawUrl=e,r.socket=null,r.lastError=null,r.heartbeatTimer=null,"undefined"!=typeof window&&window.addEventListener&&window.addEventListener("online",r._online.bind(o(r)),!1),r._launchConnection(),r}i(e,t);var c=e.prototype;return c.send=function(){function t(t){this.currentStatus.connected&&this.socket.send(t)}return t}(),c._changeUrl=function(){function t(t){this.rawUrl=t}return t}(),c._connected=function(){function t(){this.connectionTimer&&(clearTimeout(this.connectionTimer),this.connectionTimer=null),this.currentStatus.connected||(this.currentStatus.status="connected",this.currentStatus.connected=!0,this.currentStatus.retryCount=0,this.statusChanged(),this.forEachCallback("reset",(function(t){t()})))}return t}(),c._cleanup=function(){function t(t){this._clearConnectionAndHeartbeatTimers(),this.socket&&(this.socket.onmessage=this.socket.onclose=this.socket.onerror=this.socket.onheartbeat=function(){},this.socket.close(),this.socket=null),this.forEachCallback("disconnect",(function(e){e(t)}))}return t}(),c._clearConnectionAndHeartbeatTimers=function(){function t(){this.connectionTimer&&(clearTimeout(this.connectionTimer),this.connectionTimer=null),this.heartbeatTimer&&(clearTimeout(this.heartbeatTimer),this.heartbeatTimer=null)}return t}(),c._heartbeat_timeout=function(){function t(){console.log("Connection timeout. No sockjs heartbeat received."),this._lostConnection(new this.ConnectionError("Heartbeat timed out"))}return t}(),c._heartbeat_received=function(){function t(){this._forcedToDisconnect||(this.heartbeatTimer&&clearTimeout(this.heartbeatTimer),this.heartbeatTimer=setTimeout(this._heartbeat_timeout.bind(this),this.HEARTBEAT_TIMEOUT))}return t}(),c._sockjsProtocolsWhitelist=function(){function t(){var t=["xdr-polling","xhr-polling","iframe-xhr-polling","jsonp-polling"],e;return navigator&&/iPhone|iPad|iPod/.test(navigator.userAgent)&&/OS 4_|OS 5_/.test(navigator.userAgent)||(t=["websocket"].concat(t)),t}return t}(),c._launchConnection=function(){function t(){var t=this;this._cleanup();var e=r({protocols_whitelist:this._sockjsProtocolsWhitelist()},this.options._sockjsOptions),o="function"==typeof l;this.socket=o?new l(a(this.rawUrl),void 0,e):new WebSocket(u(this.rawUrl)),this.socket.onopen=function(e){t.lastError=null,t._connected()},this.socket.onmessage=function(e){t.lastError=null,t._heartbeat_received(),t.currentStatus.connected&&t.forEachCallback("message",(function(t){t(e.data)}))},this.socket.onclose=function(){s.resolve(t.lastError&&!o&&n.dynamicImport("./sockjs-0.3.4.js")).done((function(){t._lostConnection()}))},this.socket.onerror=function(e){var n=t.lastError;t.lastError=e,n||console.log("stream error",e,(new Date).toDateString())},this.socket.onheartbeat=function(){t.lastError=null,t._heartbeat_received()},this.connectionTimer&&clearTimeout(this.connectionTimer),this.connectionTimer=setTimeout((function(){t._lostConnection(new t.ConnectionError("DDP connection timed out"))}),this.CONNECT_TIMEOUT)}return t}(),e}(c)},"common.js":function(t,e,n){var r,o;n.link("@babel/runtime/helpers/objectSpread2",{default:function(t){r=t}},0),n.export({StreamClientCommon:function(){return s}}),n.link("meteor/retry",{Retry:function(t){o=t}},0);var i=new Error("forced reconnect"),s=function(){function t(t){this.options=r({retry:!0},t||null),this.ConnectionError=t&&t.ConnectionError||Error}var e=t.prototype;return e.on=function(){function t(t,e){if("message"!==t&&"reset"!==t&&"disconnect"!==t)throw new Error("unknown event type: "+t);this.eventCallbacks[t]||(this.eventCallbacks[t]=[]),this.eventCallbacks[t].push(e)}return t}(),e.forEachCallback=function(){function t(t,e){this.eventCallbacks[t]&&this.eventCallbacks[t].length&&this.eventCallbacks[t].forEach(e)}return t}(),e._initCommon=function(){function t(t){var e=this;t=t||Object.create(null),this.CONNECT_TIMEOUT=t.connectTimeoutMs||1e4,this.eventCallbacks=Object.create(null),this._forcedToDisconnect=!1,this.currentStatus={status:"connecting",connected:!1,retryCount:0},Package.tracker&&(this.statusListeners=new Package.tracker.Tracker.Dependency),this.statusChanged=function(){e.statusListeners&&e.statusListeners.changed()},this._retry=new o,this.connectionTimer=null}return t}(),e.reconnect=function(){function t(t){(t=t||Object.create(null)).url&&this._changeUrl(t.url),t._sockjsOptions&&(this.options._sockjsOptions=t._sockjsOptions),this.currentStatus.connected?(t._force||t.url)&&this._lostConnection(i):("connecting"===this.currentStatus.status&&this._lostConnection(),this._retry.clear(),this.currentStatus.retryCount-=1,this._retryNow())}return t}(),e.disconnect=function(){function t(t){t=t||Object.create(null),this._forcedToDisconnect||(t._permanent&&(this._forcedToDisconnect=!0),this._cleanup(),this._retry.clear(),this.currentStatus={status:t._permanent?"failed":"offline",connected:!1,retryCount:0},t._permanent&&t._error&&(this.currentStatus.reason=t._error),this.statusChanged())}return t}(),e._lostConnection=function(){function t(t){this._cleanup(t),this._retryLater(t)}return t}(),e._online=function(){function t(){"offline"!=this.currentStatus.status&&this.reconnect()}return t}(),e._retryLater=function(){function t(t){var e=0;this.options.retry||t===i?(e=this._retry.retryLater(this.currentStatus.retryCount,this._retryNow.bind(this)),this.currentStatus.status="waiting",this.currentStatus.retryTime=(new Date).getTime()+e):(this.currentStatus.status="failed",delete this.currentStatus.retryTime),this.currentStatus.connected=!1,this.statusChanged()}return t}(),e._retryNow=function(){function t(){this._forcedToDisconnect||(this.currentStatus.retryCount+=1,this.currentStatus.status="connecting",this.currentStatus.connected=!1,delete this.currentStatus.retryTime,this.statusChanged(),this._launchConnection())}return t}(),e.status=function(){function t(){return this.statusListeners&&this.statusListeners.depend(),this.currentStatus}return t}(),t}()},"urls.js":function(e,n,r){function o(e,n,r){n||(n="http"),"sockjs"!==r&&e.startsWith("/")&&(e=t.absoluteUrl(e.substr(1)));var o=e.match(/^ddp(i?)\+sockjs:\/\//),i=e.match(/^http(s?):\/\//),s;if(o){var a=e.substr(o[0].length);s="i"===o[1]?n:n+"s";var u=a.indexOf("/"),c=-1===u?a:a.substr(0,u),l=-1===u?"":a.substr(u);return s+"://"+(c=c.replace(/\*/g,(function(){return Math.floor(10*Math.random())})))+l}if(i){s=i[1]?n+"s":n;var f=e.substr(i[0].length);e=s+"://"+f}return-1!==e.indexOf("://")||e.startsWith("/")||(e=n+"://"+e),(e=t._relativeToSiteRootUrl(e)).endsWith("/")?e+r:e+"/"+r}function i(t){return o(t,"http","sockjs")}function s(t){return o(t,"ws","websocket")}r.export({toSockjsUrl:function(){return i},toWebsocketUrl:function(){return s}})}}}}},{extensions:[".js",".json"]})("/node_modules/meteor/socket-stream-client/sockjs-0.3.4.js"),Package._define("socket-stream-client")}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.check.check,o=Package.check.Match,i=Package.random.Random,s=Package.ejson.EJSON,a=Package.tracker.Tracker,c=Package.tracker.Deps,u=Package.retry.Retry,d=Package["id-map"].IdMap,l=Package["callback-hook"].Hook,h=Package["ddp-common"].DDPCommon,f=Package.reload.Reload,_=Package["diff-sequence"].DiffSequence,m=Package["mongo-id"].MongoID,g=Package.modules.meteorInstall,v=Package.modules.meteorBabelHelpers,p=Package.promise.Promise,b=Package["ecmascript-runtime-client"].Symbol,k=Package["ecmascript-runtime-client"].Map,y=Package["ecmascript-runtime-client"].Set,D,M,w=g({node_modules:{meteor:{"ddp-client":{client:{"client.js":function(e,t,n){n.link("../common/namespace.js",{DDP:"DDP"},0),n.link("../common/livedata_connection"),n.link("./client_convenience")},"client_convenience.js":function(e,t,n){var r,o;n.link("../common/namespace.js",{DDP:function(e){r=e}},0),n.link("meteor/meteor",{Meteor:function(e){o=e}},1),o.refresh=function(){};var i="/";"undefined"!=typeof __meteor_runtime_config__&&__meteor_runtime_config__.DDP_DEFAULT_CONNECTION_URL&&(i=__meteor_runtime_config__.DDP_DEFAULT_CONNECTION_URL);var s=new u;function a(e){if(o._debug(e),Package.reload){var t,n=(Package.reload.Reload._migrationData("livedata")||Object.create(null)).DDPVersionNegotiationFailures||0;++n,Package.reload.Reload._onMigrate("livedata",(function(){return[!0,{DDPVersionNegotiationFailures:n}]})),s.retryLater(n,(function(){Package.reload.Reload._reload()}))}}o.connection=r.connect(i,{onDDPVersionNegotiationFailure:a}),["subscribe","methods","call","apply","status","reconnect","disconnect"].forEach((function(e){o[e]=o.connection[e].bind(o.connection)})),o.default_connection=o.connection,o.connect=r.connect}},common:{"MethodInvoker.js":function(e,t,n){n.export({default:function(){return r}});var r=function(){function e(e){this.methodId=e.methodId,this.sentMessage=!1,this._callback=e.callback,this._connection=e.connection,this._message=e.message,this._onResultReceived=e.onResultReceived||function(){},this._wait=e.wait,this.noRetry=e.noRetry,this._methodResult=null,this._dataVisible=!1,this._connection._methodInvokers[this.methodId]=this}var t=e.prototype;return t.sendMessage=function(){function e(){if(this.gotResult())throw new Error("sendingMethod is called on method with result");this._dataVisible=!1,this.sentMessage=!0,this._wait&&(this._connection._methodsBlockingQuiescence[this.methodId]=!0),this._connection._send(this._message)}return e}(),t._maybeInvokeCallback=function(){function e(){this._methodResult&&this._dataVisible&&(this._callback(this._methodResult[0],this._methodResult[1]),delete this._connection._methodInvokers[this.methodId],this._connection._outstandingMethodFinished())}return e}(),t.receiveResult=function(){function e(e,t){if(this.gotResult())throw new Error("Methods should only receive results once");this._methodResult=[e,t],this._onResultReceived(e,t),this._maybeInvokeCallback()}return e}(),t.dataVisible=function(){function e(){this._dataVisible=!0,this._maybeInvokeCallback()}return e}(),t.gotResult=function(){function e(){return!!this._methodResult}return e}(),e}()},"livedata_connection.js":function(e,t,n){var r,o,i,s,a,c,u,l,h,f,m,g,v,p,b,k,y,D;if(n.link("@babel/runtime/helpers/toConsumableArray",{default:function(e){r=e}},0),n.link("@babel/runtime/helpers/typeof",{default:function(e){o=e}},1),n.link("@babel/runtime/helpers/objectSpread2",{default:function(e){i=e}},2),n.link("@babel/runtime/helpers/inheritsLoose",{default:function(e){s=e}},3),n.export({Connection:function(){return E}}),n.link("meteor/meteor",{Meteor:function(e){a=e}},0),n.link("meteor/ddp-common",{DDPCommon:function(e){c=e}},1),n.link("meteor/tracker",{Tracker:function(e){u=e}},2),n.link("meteor/ejson",{EJSON:function(e){l=e}},3),n.link("meteor/random",{Random:function(e){h=e}},4),n.link("meteor/callback-hook",{Hook:function(e){f=e}},5),n.link("meteor/mongo-id",{MongoID:function(e){m=e}},6),n.link("./namespace.js",{DDP:function(e){g=e}},7),n.link("./MethodInvoker.js",{default:function(e){v=e}},8),n.link("meteor/ddp-common/utils.js",{hasOwn:function(e){p=e},slice:function(e){b=e},keys:function(e){k=e},isEmpty:function(e){y=e},last:function(e){D=e}},9),a.isServer)var M=Npm.require("fibers"),w=Npm.require("fibers/future");var S=function(e){function t(){return e.call(this,m.idStringify,m.idParse)||this}return s(t,e),t}(d),E=function(){function t(t,n){var r=this;if(this.options=n=i({onConnected:function(){},onDDPVersionNegotiationFailure:function(e){a._debug(e)},heartbeatInterval:17500,heartbeatTimeout:15e3,npmFayeOptions:Object.create(null),reloadWithOutstanding:!1,supportedDDPVersions:c.SUPPORTED_DDP_VERSIONS,retry:!0,respondToPings:!0,bufferedWritesInterval:5,bufferedWritesMaxAge:500},n),r.onReconnect=null,"object"===o(t))r._stream=t;else{var s,d=e("meteor/socket-stream-client").ClientStream;r._stream=new d(t,{retry:n.retry,ConnectionError:g.ConnectionError,headers:n.headers,_sockjsOptions:n._sockjsOptions,_dontPrintErrors:n._dontPrintErrors,connectTimeoutMs:n.connectTimeoutMs,npmFayeOptions:n.npmFayeOptions})}r._lastSessionId=null,r._versionSuggestion=null,r._version=null,r._stores=Object.create(null),r._methodHandlers=Object.create(null),r._nextMethodId=1,r._supportedDDPVersions=n.supportedDDPVersions,r._heartbeatInterval=n.heartbeatInterval,r._heartbeatTimeout=n.heartbeatTimeout,r._methodInvokers=Object.create(null),r._outstandingMethodBlocks=[],r._documentsWrittenByStub=Object.create(null),r._serverDocuments=Object.create(null),r._afterUpdateCallbacks=[],r._messagesBufferedUntilQuiescence=[],r._methodsBlockingQuiescence=Object.create(null),r._subsBeingRevived=Object.create(null),r._resetStores=!1,r._updatesForUnknownStores=Object.create(null),r._retryMigrate=null,r.__flushBufferedWrites=a.bindEnvironment(r._flushBufferedWrites,"flushing DDP buffered writes",r),r._bufferedWrites=Object.create(null),r._bufferedWritesFlushAt=null,r._bufferedWritesFlushHandle=null,r._bufferedWritesInterval=n.bufferedWritesInterval,r._bufferedWritesMaxAge=n.bufferedWritesMaxAge,r._subscriptions=Object.create(null),r._userId=null,r._userIdDeps=new u.Dependency,a.isClient&&Package.reload&&!n.reloadWithOutstanding&&Package.reload.Reload._onMigrate((function(e){if(r._readyToMigrate())return[!0];if(r._retryMigrate)throw new Error("Two migrations in progress?");return r._retryMigrate=e,!1}));var l=function(){r._heartbeat&&(r._heartbeat.stop(),r._heartbeat=null)};a.isServer?(r._stream.on("message",a.bindEnvironment(this.onMessage.bind(this),"handling DDP message")),r._stream.on("reset",a.bindEnvironment(this.onReset.bind(this),"handling DDP reset")),r._stream.on("disconnect",a.bindEnvironment(l,"handling DDP disconnect"))):(r._stream.on("message",this.onMessage.bind(this)),r._stream.on("reset",this.onReset.bind(this)),r._stream.on("disconnect",l))}var n=t.prototype;return n.registerStore=function(){function e(e,t){var n=this;if(e in this._stores)return!1;var r=Object.create(null);["update","beginUpdate","endUpdate","saveOriginals","retrieveOriginals","getDoc","_getCollection"].forEach((function(e){r[e]=function(){if(t[e])return t[e].apply(t,arguments)}})),this._stores[e]=r;var o=this._updatesForUnknownStores[e];return o&&(r.beginUpdate(o.length,!1),o.forEach((function(e){r.update(e)})),r.endUpdate(),delete this._updatesForUnknownStores[e]),!0}return e}(),n.subscribe=function(){function e(e){var t=this,n=b.call(arguments,1),r=Object.create(null),o,i;if(n.length){var s=n[n.length-1];"function"==typeof s?r.onReady=n.pop():s&&[s.onReady,s.onError,s.onStop].some((function(e){return"function"==typeof e}))&&(r=n.pop())}k(t._subscriptions).some((function(r){var i=t._subscriptions[r];if(i.inactive&&i.name===e&&l.equals(i.params,n))return o=i})),o?(i=o.id,o.inactive=!1,r.onReady&&(o.ready?r.onReady():o.readyCallback=r.onReady),r.onError&&(o.errorCallback=r.onError),r.onStop&&(o.stopCallback=r.onStop)):(i=h.id(),t._subscriptions[i]={id:i,name:e,params:l.clone(n),inactive:!1,ready:!1,readyDeps:new u.Dependency,readyCallback:r.onReady,errorCallback:r.onError,stopCallback:r.onStop,connection:t,remove:function(){delete this.connection._subscriptions[this.id],this.ready&&this.readyDeps.changed()},stop:function(){this.connection._send({msg:"unsub",id:i}),this.remove(),r.onStop&&r.onStop()}},t._send({msg:"sub",id:i,name:e,params:n}));var a={stop:function(){p.call(t._subscriptions,i)&&t._subscriptions[i].stop()},ready:function(){if(!p.call(t._subscriptions,i))return!1;var e=t._subscriptions[i];return e.readyDeps.depend(),e.ready},subscriptionId:i};return u.active&&u.onInvalidate((function(e){p.call(t._subscriptions,i)&&(t._subscriptions[i].inactive=!0),u.afterFlush((function(){p.call(t._subscriptions,i)&&t._subscriptions[i].inactive&&a.stop()}))})),a}return e}(),n._subscribeAndWait=function(){function e(e,t,n){var r=this,o=new w,i=!1,s;return(t=t||[]).push({onReady:function(){i=!0,o.return()},onError:function(e){i?n&&n.onLateError&&n.onLateError(e):o.throw(e)}}),s=this.subscribe.apply(this,[e].concat(t)),o.wait(),s}return e}(),n.methods=function(){function e(e){var t=this;k(e).forEach((function(n){var r=e[n];if("function"!=typeof r)throw new Error("Method '"+n+"' must be a function");if(t._methodHandlers[n])throw new Error("A method named '"+n+"' is already defined");t._methodHandlers[n]=r}))}return e}(),n.call=function(){function e(e){var t=b.call(arguments,1);if(t.length&&"function"==typeof t[t.length-1])var n=t.pop();return this.apply(e,t,n)}return e}(),n.apply=function(){function e(e,t,n,r){var o=this;r||"function"!=typeof n||(r=n,n=Object.create(null)),n=n||Object.create(null),r&&(r=a.bindEnvironment(r,"delivering result of invoking '"+e+"'")),t=l.clone(t);var i=g._CurrentMethodInvocation.get(),s=i&&i.isSimulation,u=null,d=function(){return null===u&&(u=c.makeRpcSeed(i,e)),u},h=o._methodHandlers[e];if(h){var f=function(e){o.setUserId(e)},_=new c.MethodInvocation({isSimulation:!0,userId:o.userId(),setUserId:f,randomSeed:function(){return d()}});s||o._saveOriginals();try{var m=g._CurrentMethodInvocation.withValue(_,(function(){return a.isServer?a._noYieldsAllowed((function(){return h.apply(_,l.clone(t))})):h.apply(_,l.clone(t))}))}catch(E){var p=E}}if(s){if(r)return void r(p,m);if(p)throw p;return m}var b=""+o._nextMethodId++;h&&o._retrieveAndStoreOriginals(b);var k={msg:"method",method:e,params:t,id:b};if(p){if(n.throwStubExceptions)throw p;p._expectedByTest||a._debug("Exception while simulating the effect of invoking '"+e+"'",p)}if(!r)if(a.isClient)r=function(t){t&&a._debug("Error invoking Method '"+e+"'",t)};else{var M=new w;r=M.resolver()}null!==u&&(k.randomSeed=u);var S=new v({methodId:b,callback:r,connection:o,onResultReceived:n.onResultReceived,wait:!!n.wait,message:k,noRetry:!!n.noRetry});return n.wait?o._outstandingMethodBlocks.push({wait:!0,methods:[S]}):((y(o._outstandingMethodBlocks)||D(o._outstandingMethodBlocks).wait)&&o._outstandingMethodBlocks.push({wait:!1,methods:[]}),D(o._outstandingMethodBlocks).methods.push(S)),1===o._outstandingMethodBlocks.length&&S.sendMessage(),M?M.wait():n.returnStubValue?m:void 0}return e}(),n._saveOriginals=function(){function e(){var e=this;this._waitingForQuiescence()||this._flushBufferedWrites(),k(this._stores).forEach((function(t){e._stores[t].saveOriginals()}))}return e}(),n._retrieveAndStoreOriginals=function(){function e(e){var t=this;if(t._documentsWrittenByStub[e])throw new Error("Duplicate methodId in _retrieveAndStoreOriginals");var n=[];k(t._stores).forEach((function(r){var o=t._stores[r].retrieveOriginals();o&&o.forEach((function(o,i){n.push({collection:r,id:i}),p.call(t._serverDocuments,r)||(t._serverDocuments[r]=new S);var s=t._serverDocuments[r].setDefault(i,Object.create(null));s.writtenByStubs?s.writtenByStubs[e]=!0:(s.document=o,s.flushCallbacks=[],s.writtenByStubs=Object.create(null),s.writtenByStubs[e]=!0)}))})),y(n)||(t._documentsWrittenByStub[e]=n)}return e}(),n._unsubscribeAll=function(){function e(){var e=this;k(this._subscriptions).forEach((function(t){var n=e._subscriptions[t];"meteor_autoupdate_clientVersions"!==n.name&&n.stop()}))}return e}(),n._send=function(){function e(e){this._stream.send(c.stringifyDDP(e))}return e}(),n._lostConnection=function(){function e(e){this._stream._lostConnection(e)}return e}(),n.status=function(){function e(){var e;return(e=this._stream).status.apply(e,arguments)}return e}(),n.reconnect=function(){function e(){var e;return(e=this._stream).reconnect.apply(e,arguments)}return e}(),n.disconnect=function(){function e(){var e;return(e=this._stream).disconnect.apply(e,arguments)}return e}(),n.close=function(){function e(){return this._stream.disconnect({_permanent:!0})}return e}(),n.userId=function(){function e(){return this._userIdDeps&&this._userIdDeps.depend(),this._userId}return e}(),n.setUserId=function(){function e(e){this._userId!==e&&(this._userId=e,this._userIdDeps&&this._userIdDeps.changed())}return e}(),n._waitingForQuiescence=function(){function e(){return!y(this._subsBeingRevived)||!y(this._methodsBlockingQuiescence)}return e}(),n._anyMethodsAreOutstanding=function(){function e(){var e=this._methodInvokers;return k(e).some((function(t){return e[t].sentMessage}))}return e}(),n._livedata_connected=function(){function e(e){var t=this;if("pre1"!==t._version&&0!==t._heartbeatInterval&&(t._heartbeat=new c.Heartbeat({heartbeatInterval:t._heartbeatInterval,heartbeatTimeout:t._heartbeatTimeout,onTimeout:function(){t._lostConnection(new g.ConnectionError("DDP heartbeat timed out"))},sendPing:function(){t._send({msg:"ping"})}}),t._heartbeat.start()),t._lastSessionId&&(t._resetStores=!0),"string"==typeof e.session){var n=t._lastSessionId===e.session;t._lastSessionId=e.session}if(!n){if(t._updatesForUnknownStores=Object.create(null),t._resetStores&&(t._documentsWrittenByStub=Object.create(null),t._serverDocuments=Object.create(null)),t._afterUpdateCallbacks=[],t._subsBeingRevived=Object.create(null),k(t._subscriptions).forEach((function(e){t._subscriptions[e].ready&&(t._subsBeingRevived[e]=!0)})),t._methodsBlockingQuiescence=Object.create(null),t._resetStores){var r=t._methodInvokers;k(r).forEach((function(e){var n=r[e];n.gotResult()?t._afterUpdateCallbacks.push((function(){return n.dataVisible.apply(n,arguments)})):n.sentMessage&&(t._methodsBlockingQuiescence[n.methodId]=!0)}))}t._messagesBufferedUntilQuiescence=[],t._waitingForQuiescence()||(t._resetStores&&(k(t._stores).forEach((function(e){var n=t._stores[e];n.beginUpdate(0,!0),n.endUpdate()})),t._resetStores=!1),t._runAfterUpdateCallbacks())}}return e}(),n._processOneDataMessage=function(){function e(e,t){var n=e.msg;"added"===n?this._process_added(e,t):"changed"===n?this._process_changed(e,t):"removed"===n?this._process_removed(e,t):"ready"===n?this._process_ready(e,t):"updated"===n?this._process_updated(e,t):"nosub"===n||a._debug("discarding unknown livedata data message type",e)}return e}(),n._livedata_data=function(){function e(e){var t=this;if(t._waitingForQuiescence()){if(t._messagesBufferedUntilQuiescence.push(e),"nosub"===e.msg&&delete t._subsBeingRevived[e.id],e.subs&&e.subs.forEach((function(e){delete t._subsBeingRevived[e]})),e.methods&&e.methods.forEach((function(e){delete t._methodsBlockingQuiescence[e]})),t._waitingForQuiescence())return;var n=t._messagesBufferedUntilQuiescence;k(n).forEach((function(e){t._processOneDataMessage(n[e],t._bufferedWrites)})),t._messagesBufferedUntilQuiescence=[]}else t._processOneDataMessage(e,t._bufferedWrites);var r="added"===e.msg||"changed"===e.msg||"removed"===e.msg;if(0!==t._bufferedWritesInterval&&r){if(null===t._bufferedWritesFlushAt)t._bufferedWritesFlushAt=(new Date).valueOf()+t._bufferedWritesMaxAge;else if(t._bufferedWritesFlushAt<(new Date).valueOf())return void t._flushBufferedWrites();t._bufferedWritesFlushHandle&&clearTimeout(t._bufferedWritesFlushHandle),t._bufferedWritesFlushHandle=setTimeout(t.__flushBufferedWrites,t._bufferedWritesInterval)}else t._flushBufferedWrites()}return e}(),n._flushBufferedWrites=function(){function e(){var e=this;this._bufferedWritesFlushHandle&&(clearTimeout(this._bufferedWritesFlushHandle),this._bufferedWritesFlushHandle=null),this._bufferedWritesFlushAt=null;var t=this._bufferedWrites;this._bufferedWrites=Object.create(null),this._performWrites(t)}return e}(),n._performWrites=function(){function e(e){var t=this;!t._resetStores&&y(e)||(k(t._stores).forEach((function(n){t._stores[n].beginUpdate(p.call(e,n)?e[n].length:0,t._resetStores)})),t._resetStores=!1,k(e).forEach((function(n){var o=e[n],i=t._stores[n];if(i)o.forEach((function(e){i.update(e)}));else{var s,a=t._updatesForUnknownStores;p.call(a,n)||(a[n]=[]),(s=a[n]).push.apply(s,r(o))}})),k(t._stores).forEach((function(e){t._stores[e].endUpdate()}))),t._runAfterUpdateCallbacks()}return e}(),n._runAfterUpdateCallbacks=function(){function e(){var e=this,t=this._afterUpdateCallbacks;this._afterUpdateCallbacks=[],t.forEach((function(e){e()}))}return e}(),n._pushUpdate=function(){function e(e,t,n){p.call(e,t)||(e[t]=[]),e[t].push(n)}return e}(),n._getServerDoc=function(){function e(e,t){var n=this,r;return p.call(this._serverDocuments,e)&&this._serverDocuments[e].get(t)||null}return e}(),n._process_added=function(){function e(e,t){var n=this,r=m.idParse(e.id),o=this._getServerDoc(e.collection,r);if(o){var i=void 0!==o.document;if(o.document=e.fields||Object.create(null),o.document._id=r,this._resetStores){var s=this._stores[e.collection].getDoc(e.id);void 0!==s&&(e.fields=s),this._pushUpdate(t,e.collection,e)}else if(i)throw new Error("Server sent add for existing id: "+e.id)}else this._pushUpdate(t,e.collection,e)}return e}(),n._process_changed=function(){function e(e,t){var n=this,r=this._getServerDoc(e.collection,m.idParse(e.id));if(r){if(void 0===r.document)throw new Error("Server sent changed for nonexisting id: "+e.id);_.applyChanges(r.document,e.fields)}else this._pushUpdate(t,e.collection,e)}return e}(),n._process_removed=function(){function e(e,t){var n=this,r=this._getServerDoc(e.collection,m.idParse(e.id));if(r){if(void 0===r.document)throw new Error("Server sent removed for nonexisting id:"+e.id);r.document=void 0}else this._pushUpdate(t,e.collection,{msg:"removed",collection:e.collection,id:e.id})}return e}(),n._process_updated=function(){function e(e,t){var n=this;e.methods.forEach((function(e){var r=n._documentsWrittenByStub[e];k(r).forEach((function(o){var i=r[o],s=n._getServerDoc(i.collection,i.id);if(!s)throw new Error("Lost serverDoc for "+JSON.stringify(i));if(!s.writtenByStubs[e])throw new Error("Doc "+JSON.stringify(i)+" not written by  method "+e);delete s.writtenByStubs[e],y(s.writtenByStubs)&&(n._pushUpdate(t,i.collection,{msg:"replace",id:m.idStringify(i.id),replace:s.document}),s.flushCallbacks.forEach((function(e){e()})),n._serverDocuments[i.collection].remove(i.id))})),delete n._documentsWrittenByStub[e];var o=n._methodInvokers[e];if(!o)throw new Error("No callback invoker for method "+e);n._runWhenAllServerDocsAreFlushed((function(){return o.dataVisible.apply(o,arguments)}))}))}return e}(),n._process_ready=function(){function e(e,t){var n=this;e.subs.forEach((function(e){n._runWhenAllServerDocsAreFlushed((function(){var t=n._subscriptions[e];t&&(t.ready||(t.ready=!0,t.readyCallback&&t.readyCallback(),t.readyDeps.changed()))}))}))}return e}(),n._runWhenAllServerDocsAreFlushed=function(){function e(e){var t=this,n=function(){t._afterUpdateCallbacks.push(e)},r=0,o=function(){0===--r&&n()};k(t._serverDocuments).forEach((function(e){t._serverDocuments[e].forEach((function(e){var n;k(e.writtenByStubs).some((function(e){var n=t._methodInvokers[e];return n&&n.sentMessage}))&&(++r,e.flushCallbacks.push(o))}))})),0===r&&n()}return e}(),n._livedata_nosub=function(){function e(e){var t=this;if(this._livedata_data(e),p.call(this._subscriptions,e.id)){var n=this._subscriptions[e.id].errorCallback,r=this._subscriptions[e.id].stopCallback;this._subscriptions[e.id].remove();var o=function(e){return e&&e.error&&new a.Error(e.error.error,e.error.reason,e.error.details)};n&&e.error&&n(o(e)),r&&r(o(e))}}return e}(),n._livedata_result=function(){function e(e){var t=this;if(y(this._bufferedWrites)||this._flushBufferedWrites(),y(this._outstandingMethodBlocks))a._debug("Received method result but no methods outstanding");else{for(var n=this._outstandingMethodBlocks[0].methods,r,o=0;o<n.length&&(r=n[o]).methodId!==e.id;o++);r?(n.splice(o,1),p.call(e,"error")?r.receiveResult(new a.Error(e.error.error,e.error.reason,e.error.details)):r.receiveResult(void 0,e.result)):a._debug("Can't match method response to original method call",e)}}return e}(),n._outstandingMethodFinished=function(){function e(){var e=this;if(!this._anyMethodsAreOutstanding()){if(!y(this._outstandingMethodBlocks)){var t=this._outstandingMethodBlocks.shift();if(!y(t.methods))throw new Error("No methods outstanding but nonempty block: "+JSON.stringify(t));y(this._outstandingMethodBlocks)||this._sendOutstandingMethods()}this._maybeMigrate()}}return e}(),n._sendOutstandingMethods=function(){function e(){var e=this;y(this._outstandingMethodBlocks)||this._outstandingMethodBlocks[0].methods.forEach((function(e){e.sendMessage()}))}return e}(),n._livedata_error=function(){function e(e){a._debug("Received error from server: ",e.reason),e.offendingMessage&&a._debug("For: ",e.offendingMessage)}return e}(),n._callOnReconnectAndSendAppropriateOutstandingMethods=function(){function e(){var e=this,t=e._outstandingMethodBlocks;if(e._outstandingMethodBlocks=[],e.onReconnect&&e.onReconnect(),g._reconnectHook.each((function(t){return t(e),!0})),!y(t)){if(y(e._outstandingMethodBlocks))return e._outstandingMethodBlocks=t,void e._sendOutstandingMethods();D(e._outstandingMethodBlocks).wait||t[0].wait||(t[0].methods.forEach((function(t){D(e._outstandingMethodBlocks).methods.push(t),1===e._outstandingMethodBlocks.length&&t.sendMessage()})),t.shift()),t.forEach((function(t){e._outstandingMethodBlocks.push(t)}))}}return e}(),n._readyToMigrate=function(){function e(){return y(this._methodInvokers)}return e}(),n._maybeMigrate=function(){function e(){var e=this;this._retryMigrate&&this._readyToMigrate()&&(this._retryMigrate(),this._retryMigrate=null)}return e}(),n.onMessage=function(){function e(e){try{var t=c.parseDDP(e)}catch(r){return void a._debug("Exception while parsing DDP",r)}if(this._heartbeat&&this._heartbeat.messageReceived(),null!==t&&t.msg)if("connected"===t.msg)this._version=this._versionSuggestion,this._livedata_connected(t),this.options.onConnected();else if("failed"===t.msg)if(this._supportedDDPVersions.indexOf(t.version)>=0)this._versionSuggestion=t.version,this._stream.reconnect({_force:!0});else{var n="DDP version negotiation failed; server requested version "+t.version;this._stream.disconnect({_permanent:!0,_error:n}),this.options.onDDPVersionNegotiationFailure(n)}else"ping"===t.msg&&this.options.respondToPings?this._send({msg:"pong",id:t.id}):"pong"===t.msg||(["added","changed","removed","ready","updated"].includes(t.msg)?this._livedata_data(t):"nosub"===t.msg?this._livedata_nosub(t):"result"===t.msg?this._livedata_result(t):"error"===t.msg?this._livedata_error(t):a._debug("discarding unknown livedata message type",t));else t&&t.server_id||a._debug("discarding invalid livedata message",t)}return e}(),n.onReset=function(){function e(){var e=this,t={msg:"connect"};if(this._lastSessionId&&(t.session=this._lastSessionId),t.version=this._versionSuggestion||this._supportedDDPVersions[0],this._versionSuggestion=t.version,t.support=this._supportedDDPVersions,this._send(t),this._outstandingMethodBlocks.length>0){var n=this._outstandingMethodBlocks[0].methods;this._outstandingMethodBlocks[0].methods=n.filter((function(e){return e.sentMessage&&e.noRetry&&e.receiveResult(new a.Error("invocation-failed","Method invocation might have failed due to dropped connection. Failing because `noRetry` option was passed to Meteor.apply.")),!(e.sentMessage&&e.noRetry)}))}this._outstandingMethodBlocks.length>0&&0===this._outstandingMethodBlocks[0].methods.length&&this._outstandingMethodBlocks.shift(),k(this._methodInvokers).forEach((function(t){e._methodInvokers[t].sentMessage=!1})),this._callOnReconnectAndSendAppropriateOutstandingMethods(),k(this._subscriptions).forEach((function(t){var n=e._subscriptions[t];e._send({msg:"sub",id:t,name:n.name,params:n.params})}))}return e}(),t}()},"namespace.js":function(e,t,n){var r,o,i,s;n.export({DDP:function(){return c}}),n.link("meteor/ddp-common",{DDPCommon:function(e){r=e}},0),n.link("meteor/meteor",{Meteor:function(e){o=e}},1),n.link("meteor/ddp-common/utils.js",{keys:function(e){i=e}},2),n.link("./livedata_connection.js",{Connection:function(e){s=e}},3);var a=[],c={};function u(e){this.message=e}c._CurrentMethodInvocation=new o.EnvironmentVariable,c._CurrentPublicationInvocation=new o.EnvironmentVariable,c._CurrentInvocation=c._CurrentMethodInvocation,c.ConnectionError=o.makeErrorType("DDP.ConnectionError",u),c.ForcedReconnectError=o.makeErrorType("DDP.ForcedReconnectError",(function(){})),c.randomStream=function(e){var t=c._CurrentMethodInvocation.get();return r.RandomStream.get(t,e)},c.connect=function(e,t){var n=new s(e,t);return a.push(n),n},c._reconnectHook=new l({bindEnvironment:!1}),c.onReconnect=function(e){return c._reconnectHook.register(e)},c._allSubscriptionsReady=function(){return a.every((function(e){return i(e._subscriptions).every((function(t){return e._subscriptions[t].ready}))}))}}}}}}},{extensions:[".js",".json"]})("/node_modules/meteor/ddp-client/client/client.js");Package._define("ddp-client",w,{DDP:D})}();

!function(){var a=Package["ddp-client"].DDP;Package._define("ddp",{DDP:a})}();

Package._define("ddp-server");

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,r=Package.meteor.meteorEnv,n=Package.minimongo.LocalCollection,o=Package.minimongo.Minimongo,i=Package.check.check,a=Package.check.Match,c=Package.ejson.EJSON,s=Package["ddp-client"].DDP,l=Package.modules.meteorInstall,d=Package.modules.meteorBabelHelpers,u=Package.promise.Promise,f=Package["ecmascript-runtime-client"].Symbol,h=Package["ecmascript-runtime-client"].Map,_=Package["ecmascript-runtime-client"].Set,v,m;l({node_modules:{meteor:{"allow-deny":{"allow-deny.js":function(){var t=Object.prototype.hasOwnProperty,r=(v={CollectionPrototype:{}}).CollectionPrototype;r.allow=function(e){u(this,"allow",e)},r.deny=function(e){u(this,"deny",e)},r._defineMutationMethods=function(r){var n=this;if(r=r||{},n._restricted=!1,n._insecure=void 0,n._validators={insert:{allow:[],deny:[]},update:{allow:[],deny:[]},remove:{allow:[],deny:[]},upsert:{allow:[],deny:[]},fetch:[],fetchAllFields:!1},n._name&&(n._prefix="/"+n._name+"/",n._connection&&(n._connection===e.server||e.isClient))){var o={};["insert","update","remove"].forEach((function(c){var s=n._prefix+c;if(r.useExisting){var l=e.isClient?"_methodHandlers":"method_handlers";if(n._connection[l]&&"function"==typeof n._connection[l][s])return}o[s]=function(){i(arguments,[a.Any]);var r=Array.from(arguments);try{var o=null;if("insert"!==c||t.call(r[0],"_id")||(o=n._makeNewID()),this.isSimulation)return null!==o&&(r[0]._id=o),n._collection[c].apply(n._collection,r);if("insert"!==c&&f(r[0],c),n._restricted){if(0===n._validators[c].allow.length)throw new e.Error(403,"Access denied. No allow validators set on restricted collection for method '"+c+"'.");var s="_validated"+c.charAt(0).toUpperCase()+c.slice(1);return r.unshift(this.userId),"insert"===c&&r.push(o),n[s].apply(n,r)}if(n._isInsecure())return null!==o&&(r[0]._id=o),n._collection[c].apply(n._collection,r);throw new e.Error(403,"Access denied")}catch(l){throw"MongoError"===l.name||"MinimongoError"===l.name?new e.Error(409,l.toString()):l}}})),n._connection.methods(o)}},r._updateFetch=function(e){var t=this;if(!this._validators.fetchAllFields)if(e){var r=Object.create(null),n=function(e){return e&&e.forEach((function(e){return r[e]=1}))};n(this._validators.fetch),n(e),this._validators.fetch=Object.keys(r)}else this._validators.fetchAllFields=!0,this._validators.fetch=null},r._isInsecure=function(){var e=this;return void 0===this._insecure?!!Package.insecure:this._insecure},r._validatedInsert=function(t,r,n){var o=this;if(this._validators.insert.deny.some((function(e){return e(t,d(e,r,n))})))throw new e.Error(403,"Access denied");if(this._validators.insert.allow.every((function(e){return!e(t,d(e,r,n))})))throw new e.Error(403,"Access denied");null!==n&&(r._id=n),this._collection.insert.call(this._collection,r)},r._validatedUpdate=function(r,a,c,s){var d=this;if(i(c,Object),s=Object.assign(Object.create(null),s),!n._selectorIsIdPerhapsAsObject(a))throw new Error("validated update should be of a single ID");if(s.upsert)throw new e.Error(403,"Access denied. Upserts not allowed in a restricted collection.");var u="Access denied. In a restricted collection you can only update documents, not replace them. Use a Mongo update operator, such as '$set'.",f=Object.keys(c),h={};if(0===f.length)throw new e.Error(403,u);f.forEach((function(r){var n=c[r];if("$"!==r.charAt(0))throw new e.Error(403,u);if(!t.call(o,r))throw new e.Error(403,"Access denied. Operator "+r+" not allowed in a restricted collection.");Object.keys(n).forEach((function(e){-1!==e.indexOf(".")&&(e=e.substring(0,e.indexOf("."))),h[e]=!0}))}));var _=Object.keys(h),v={transform:null};this._validators.fetchAllFields||(v.fields={},this._validators.fetch.forEach((function(e){v.fields[e]=1})));var m=this._collection.findOne(a,v);if(!m)return 0;if(this._validators.update.deny.some((function(e){var t=l(e,m);return e(r,t,_,c)})))throw new e.Error(403,"Access denied");if(this._validators.update.allow.every((function(e){var t=l(e,m);return!e(r,t,_,c)})))throw new e.Error(403,"Access denied");return s._forbidReplace=!0,this._collection.update.call(this._collection,a,c,s)};var o={$inc:1,$set:1,$unset:1,$addToSet:1,$pop:1,$pullAll:1,$pull:1,$pushAll:1,$push:1,$bit:1};function l(e,t){return e.transform?e.transform(t):t}function d(e,t,r){var n=t;return e.transform&&(n=c.clone(t),null!==r&&(n._id=r),n=e.transform(n)),n}function u(e,r,o){var i=/^(?:insert|update|remove|fetch|transform)$/;if(Object.keys(o).forEach((function(e){if(!i.test(e))throw new Error(r+": Invalid key: "+e)})),e._restricted=!0,["insert","update","remove"].forEach((function(i){if(t.call(o,i)){if(!(o[i]instanceof Function))throw new Error(r+": Value for `"+i+"` must be a function");void 0===o.transform?o[i].transform=e._transform:o[i].transform=n.wrapTransform(o.transform),e._validators[i][r].push(o[i])}})),o.update||o.remove||o.fetch){if(o.fetch&&!(o.fetch instanceof Array))throw new Error(r+": Value for `fetch` must be an array");e._updateFetch(o.fetch)}}function f(t,r){if(!n._selectorIsIdPerhapsAsObject(t))throw new e.Error(403,"Not permitted. Untrusted code may only "+r+" documents by ID.")}function h(){var e,t=(s._CurrentMethodInvocation||s._CurrentInvocation).get();return t&&t.isSimulation}r._validatedRemove=function(t,r){var n=this,o={transform:null};this._validators.fetchAllFields||(o.fields={},this._validators.fetch.forEach((function(e){o.fields[e]=1})));var i=this._collection.findOne(r,o);if(!i)return 0;if(this._validators.remove.deny.some((function(e){return e(t,l(e,i))})))throw new e.Error(403,"Access denied");if(this._validators.remove.allow.every((function(e){return!e(t,l(e,i))})))throw new e.Error(403,"Access denied");return this._collection.remove.call(this._collection,r)},r._callMutatorMethod=function(){function t(t,r,n){var o;!e.isClient||n||h()||(n=function(r){r&&e._debug(t+" failed: "+(r.reason||r.stack))}),("update"===t||"remove"===t)&&!h()&&f(r[0],t);var i=this._prefix+t;return this._connection.apply(i,r,{returnStubValue:!0},n)}return t}()}}}}},{extensions:[".js",".json"]})("/node_modules/meteor/allow-deny/allow-deny.js"),Package._define("allow-deny",{AllowDeny:v})}();

Package._define("insecure");

!function(){var e=Package.meteor.Meteor,n=Package.meteor.global,o=Package.meteor.meteorEnv,t=Package["allow-deny"].AllowDeny,r=Package.random.Random,i=Package.ejson.EJSON,c=Package.minimongo.LocalCollection,l=Package.minimongo.Minimongo,a=Package["ddp-client"].DDP,s=Package.tracker.Tracker,d=Package.tracker.Deps,u=Package["diff-sequence"].DiffSequence,f=Package["mongo-id"].MongoID,_=Package.check.check,h=Package.check.Match,m=Package.modules.meteorInstall,g=Package.modules.meteorBabelHelpers,p=Package.promise.Promise,v=Package["ecmascript-runtime-client"].Symbol,w=Package["ecmascript-runtime-client"].Map,C=Package["ecmascript-runtime-client"].Set,b,O=m({node_modules:{meteor:{mongo:{"local_collection_driver.js":function(e,n,o){o.export({LocalCollectionDriver:function(){return t}});var t=new(function(){function e(){this.noConnCollections=Object.create(null)}var n;return e.prototype.open=function(){function e(e,n){return e?n?(n._mongo_livedata_collections||(n._mongo_livedata_collections=Object.create(null)),r(e,n._mongo_livedata_collections)):r(e,this.noConnCollections):new c}return e}(),e}());function r(e,n){return e in n?n[e]:n[e]=new c(e)}},"collection.js":function(n,o,l){(function(o){var l;function s(e,n){return e&&function(o,t){o?e(o):e(o,"function"==typeof n?n(t):t)}}function d(e){if(e.length&&(void 0===e[e.length-1]||e[e.length-1]instanceof Function))return e.pop()}o.link("@babel/runtime/helpers/objectSpread2",{default:function(e){l=e}},0),(b={}).Collection=function(){function o(o,t){var i=this;if(o||null===o||(e._debug("Warning: creating anonymous collection. It will not be saved or synchronized over the network. (Pass null for the collection name to turn off this warning.)"),o=null),null!==o&&"string"!=typeof o)throw new Error("First argument to new Mongo.Collection must be a string or null");switch(t&&t.methods&&(t={connection:t}),t&&t.manager&&!t.connection&&(t.connection=t.manager),(t=l({connection:void 0,idGeneration:"STRING",transform:null,_driver:void 0,_preventAutopublish:!1},t)).idGeneration){case"MONGO":this._makeNewID=function(){var e=o?a.randomStream("/collection/"+o):r.insecure;return new b.ObjectID(e.hexString(24))};break;case"STRING":default:this._makeNewID=function(){var e;return(o?a.randomStream("/collection/"+o):r.insecure).id()}}if(this._transform=c.wrapTransform(t.transform),o&&null!==t.connection?t.connection?this._connection=t.connection:e.isClient?this._connection=e.connection:this._connection=e.server:this._connection=null,!t._driver)if(o&&this._connection===e.server&&"undefined"!=typeof MongoInternals&&MongoInternals.defaultRemoteCollectionDriver)t._driver=MongoInternals.defaultRemoteCollectionDriver();else{var s,d=n("./local_collection_driver.js").LocalCollectionDriver;t._driver=d}if(this._collection=t._driver.open(o,this._connection),this._name=o,this._driver=t._driver,this._maybeSetUpReplication(o,t),!1!==t.defineMutationMethods)try{this._defineMutationMethods({useExisting:!0===t._suppressSameNameError})}catch(u){if(u.message==="A method named '/"+o+"/insert' is already defined")throw new Error('There is already a collection named "'+o+'"');throw u}Package.autopublish&&!t._preventAutopublish&&this._connection&&this._connection.publish&&this._connection.publish(null,(function(){return i.find()}),{is_auto:!0})}return o}(),Object.assign(b.Collection.prototype,{_maybeSetUpReplication:function(e,n){var o=n._suppressSameNameError,t=void 0!==o&&o,r=this,c;if(r._connection&&r._connection.registerStore&&!r._connection.registerStore(e,{beginUpdate:function(e,n){(e>1||n)&&r._collection.pauseObservers(),n&&r._collection.remove({})},update:function(e){var n=f.idParse(e.id),o=r._collection.findOne(n);if("replace"!==e.msg)if("added"===e.msg){if(o)throw new Error("Expected not to find a document already present for an add");r._collection.insert(l({_id:n},e.fields))}else if("removed"===e.msg){if(!o)throw new Error("Expected to find a document already present for removed");r._collection.remove(n)}else{if("changed"!==e.msg)throw new Error("I don't know how to deal with this message");if(!o)throw new Error("Expected to find a document to change");var t=Object.keys(e.fields);if(t.length>0){var c={};t.forEach((function(n){var t=e.fields[n];i.equals(o[n],t)||(void 0===t?(c.$unset||(c.$unset={}),c.$unset[n]=1):(c.$set||(c.$set={}),c.$set[n]=t))})),Object.keys(c).length>0&&r._collection.update(n,c)}}else{var a=e.replace;a?o?r._collection.update(n,a):r._collection.insert(a):o&&r._collection.remove(n)}},endUpdate:function(){r._collection.resumeObservers()},saveOriginals:function(){r._collection.saveOriginals()},retrieveOriginals:function(){return r._collection.retrieveOriginals()},getDoc:function(e){return r.findOne(e)},_getCollection:function(){return r}})){var a='There is already a collection named "'+e+'"';if(!0!==t)throw new Error(a);console.warn?console.warn(a):console.log(a)}},_getFindSelector:function(e){return 0==e.length?{}:e[0]},_getFindOptions:function(e){var n=this;return e.length<2?{transform:this._transform}:(_(e[1],h.Optional(h.ObjectIncluding({fields:h.Optional(h.OneOf(Object,void 0)),sort:h.Optional(h.OneOf(Object,Array,Function,void 0)),limit:h.Optional(h.OneOf(Number,void 0)),skip:h.Optional(h.OneOf(Number,void 0))}))),l({transform:this._transform},e[1]))},find:function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return this._collection.find(this._getFindSelector(n),this._getFindOptions(n))},findOne:function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return this._collection.findOne(this._getFindSelector(n),this._getFindOptions(n))}}),Object.assign(b.Collection,{_publishCursor:function(e,n,o){var t=e.observeChanges({added:function(e,t){n.added(o,e,t)},changed:function(e,t){n.changed(o,e,t)},removed:function(e){n.removed(o,e)}});return n.onStop((function(){t.stop()})),t},_rewriteSelector:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.fallbackId;if(c._selectorIsId(e)&&(e={_id:e}),Array.isArray(e))throw new Error("Mongo selector can't be an array.");return!e||"_id"in e&&!e._id?{_id:o||r.id()}:e}}),Object.assign(b.Collection.prototype,{insert:function(e,n){if(!e)throw new Error("insert requires an argument");if("_id"in(e=Object.create(Object.getPrototypeOf(e),Object.getOwnPropertyDescriptors(e)))){if(!e._id||!("string"==typeof e._id||e._id instanceof b.ObjectID))throw new Error("Meteor requires document _id fields to be non-empty strings or ObjectIDs")}else{var o=!0,t;if(this._isRemoteCollection())a._CurrentMethodInvocation.get()||(o=!1);o&&(e._id=this._makeNewID())}var r=function(n){return e._id?e._id:(e._id=n,n)},i=s(n,r),c;if(this._isRemoteCollection())return r(this._callMutatorMethod("insert",[e],i));try{var l;return r(this._collection.insert(e,i))}catch(d){if(n)return n(d),null;throw d}},update:function(e,n){for(var o=arguments.length,t=new Array(o>2?o-2:0),r=2;r<o;r++)t[r-2]=arguments[r];var i=d(t),c=l({},t[0]||null),a;if(c&&c.upsert)if(c.insertedId){if(!("string"==typeof c.insertedId||c.insertedId instanceof b.ObjectID))throw new Error("insertedId must be string or ObjectID");a=c.insertedId}else e&&e._id||(a=this._makeNewID(),c.generatedId=!0,c.insertedId=a);e=b.Collection._rewriteSelector(e,{fallbackId:a});var u=s(i);if(this._isRemoteCollection()){var f=[e,n,c];return this._callMutatorMethod("update",f,u)}try{return this._collection.update(e,n,c,u)}catch(_){if(i)return i(_),null;throw _}},remove:function(e,n){e=b.Collection._rewriteSelector(e);var o=s(n);if(this._isRemoteCollection())return this._callMutatorMethod("remove",[e],o);try{return this._collection.remove(e,o)}catch(t){if(n)return n(t),null;throw t}},_isRemoteCollection:function(){return this._connection&&this._connection!==e.server},upsert:function(e,n,o,t){return t||"function"!=typeof o||(t=o,o={}),this.update(e,n,l({},o,{_returnObject:!0,upsert:!0}),t)},_ensureIndex:function(e,n){var o=this;if(!this._collection._ensureIndex)throw new Error("Can only call _ensureIndex on server collections");this._collection._ensureIndex(e,n)},_dropIndex:function(e){var n=this;if(!this._collection._dropIndex)throw new Error("Can only call _dropIndex on server collections");this._collection._dropIndex(e)},_dropCollection:function(){var e=this;if(!this._collection.dropCollection)throw new Error("Can only call _dropCollection on server collections");this._collection.dropCollection()},_createCappedCollection:function(e,n){var o=this;if(!this._collection._createCappedCollection)throw new Error("Can only call _createCappedCollection on server collections");this._collection._createCappedCollection(e,n)},rawCollection:function(){var e=this;if(!this._collection.rawCollection)throw new Error("Can only call rawCollection on server collections");return this._collection.rawCollection()},rawDatabase:function(){var e=this;if(!this._driver.mongo||!this._driver.mongo.db)throw new Error("Can only call rawDatabase on server collections");return this._driver.mongo.db}}),b.ObjectID=f.ObjectID,b.Cursor=c.Cursor,b.Collection.Cursor=b.Cursor,b.Collection.ObjectID=b.ObjectID,e.Collection=b.Collection,Object.assign(e.Collection.prototype,t.CollectionPrototype)}).call(this,l)}}}}},{extensions:[".js",".json"]});O("/node_modules/meteor/mongo/local_collection_driver.js"),O("/node_modules/meteor/mongo/collection.js"),Package._define("mongo",{Mongo:b})}();

Package._define("blaze-html-templates");

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,r=Package.meteor.meteorEnv,n=Package.tracker.Tracker,a=Package.tracker.Deps,i;(function(){(i=function(e,t){if(!(this instanceof i))return new i(e,t);this.curValue=e,this.equalsFunc=t,this.dep=new n.Dependency})._isEqual=function(e,t){var r=e,n;return e===t&&(!e||"number"==typeof e||"boolean"==typeof e||"string"==typeof e)},i.prototype.get=function(){return n.active&&this.dep.depend(),this.curValue},i.prototype.set=function(e){var t=this.curValue;(this.equalsFunc||i._isEqual)(t,e)||(this.curValue=e,this.dep.changed())},i.prototype.toString=function(){return"ReactiveVar{"+this.get()+"}"},i.prototype._numListeners=function(){var e=0;for(var t in this.dep._dependentsById)e++;return e}}).call(this),Package._define("reactive-var",{ReactiveVar:i})}();

Package._define("standard-minifier-css");

Package._define("standard-minifier-js");

Package._define("typescript");

Package._define("shell-server");

Package._define("ddp-rate-limiter");

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,o=Package.meteor.meteorEnv,a=Package.random.Random;(function(){var o=Object.prototype.hasOwnProperty,r="_localstorage_test_"+a.id(),n,l;try{(l=t.localStorage)&&(l.setItem(r,r),n=l.getItem(r),l.removeItem(r))}catch(c){}r===n&&(e.isServer?e._localStorage=l:["getItem","setItem","removeItem"].forEach((function(e){this[e]=function(){return l[e].apply(l,arguments)}}),e._localStorage={})),e._localStorage||(e.isClient&&e._debug("You are running a browser with no localStorage or userData support. Logging in from one tab will not cause another tab to be logged in."),e._localStorage=Object.create({setItem:function(e,t){this[e]=t},removeItem:function(e){delete this[e]},getItem:function(e){return o.call(this,e)?this[e]:null}}))}).call(this),Package._define("localstorage")}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.modules.meteorInstall,i=Package.modules.meteorBabelHelpers,o,a,s,u=r({node_modules:{meteor:{jquery:{"main.js":function(e,t){var n=this;try{var r=e("jquery")}catch(i){r=e("./jquery.js")}t.$=t.jQuery=r,this.$=this.$||r,this.jQuery=this.jQuery||r},"jquery.js":function(e,t,n){
/*!
 * jQuery JavaScript Library v1.12.1
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-02-22T19:07Z
 */
!function(e,t){"object"==typeof n&&"object"==typeof n.exports?n.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,(function(e,t){var n=[],r=e.document,i=n.slice,o=n.concat,a=n.push,s=n.indexOf,u={},l=u.toString,c=u.hasOwnProperty,f={},d="1.12.1",p=function(e,t){return new p.fn.init(e,t)},h=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,m=/^-ms-/,g=/-([\da-z])/gi,v=function(e,t){return t.toUpperCase()};function y(e){var t=!!e&&"length"in e&&e.length,n=p.type(e);return"function"!==n&&!p.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}p.fn=p.prototype={jquery:d,constructor:p,selector:"",length:0,toArray:function(){return i.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:i.call(this)},pushStack:function(e){var t=p.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return p.each(this,e)},map:function(e){return this.pushStack(p.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(i.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:n.sort,splice:n.splice},p.extend=p.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||p.isFunction(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(i=arguments[s]))for(r in i)e=a[r],a!==(n=i[r])&&(l&&n&&(p.isPlainObject(n)||(t=p.isArray(n)))?(t?(t=!1,o=e&&p.isArray(e)?e:[]):o=e&&p.isPlainObject(e)?e:{},a[r]=p.extend(l,o,n)):void 0!==n&&(a[r]=n));return a},p.extend({expando:"jQuery"+(d+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===p.type(e)},isArray:Array.isArray||function(e){return"array"===p.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){var t=e&&e.toString();return!p.isArray(e)&&t-parseFloat(t)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==p.type(e)||e.nodeType||p.isWindow(e))return!1;try{if(e.constructor&&!c.call(e,"constructor")&&!c.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(!f.ownFirst)for(t in e)return c.call(e,t);for(t in e);return void 0===t||c.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?u[l.call(e)]||"object":typeof e},globalEval:function(t){t&&p.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(m,"ms-").replace(g,v)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,r=0;if(y(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(h,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(y(Object(e))?p.merge(n,"string"==typeof e?[e]:e):a.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(s)return s.call(t,e,n);for(r=t.length,n=n?n<0?Math.max(0,r+n):n:0;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;)e[i++]=t[r++];if(n!=n)for(;void 0!==t[r];)e[i++]=t[r++];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;o<a;o++)(r=!t(e[o],o))!==s&&i.push(e[o]);return i},map:function(e,t,n){var r,i,a=0,s=[];if(y(e))for(r=e.length;a<r;a++)null!=(i=t(e[a],a,n))&&s.push(i);else for(a in e)null!=(i=t(e[a],a,n))&&s.push(i);return o.apply([],s)},guid:1,proxy:function(e,t){var n,r,o;if("string"==typeof t&&(o=e[t],t=e,e=o),p.isFunction(e))return n=i.call(arguments,2),(r=function(){return e.apply(t||this,n.concat(i.call(arguments)))}).guid=e.guid=e.guid||p.guid++,r},now:function(){return+new Date},support:f}),"function"==typeof Symbol&&(p.fn[Symbol.iterator]=n[Symbol.iterator]),p.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){u["[object "+t+"]"]=t.toLowerCase()}));var x=
/*!
 * Sizzle CSS Selector Engine v2.2.1
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-10-17
 */
function(e){var t,n,r,i,o,a,s,u,l,c,f,d,p,h,m,g,v,y,x,b="sizzle"+1*new Date,w=e.document,T=0,C=0,E=oe(),k=oe(),N=oe(),S=function(e,t){return e===t&&(f=!0),0},j=1<<31,A={}.hasOwnProperty,D=[],L=D.pop,H=D.push,q=D.push,_=D.slice,M=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},F="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",O="[\\x20\\t\\r\\n\\f]",P="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",R="\\["+O+"*("+P+")(?:"+O+"*([*^$|!~]?=)"+O+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+P+"))|)"+O+"*\\]",B=":("+P+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+R+")*)|.*)\\)|)",W=new RegExp(O+"+","g"),$=new RegExp("^"+O+"+|((?:^|[^\\\\])(?:\\\\.)*)"+O+"+$","g"),I=new RegExp("^"+O+"*,"+O+"*"),z=new RegExp("^"+O+"*([>+~]|"+O+")"+O+"*"),X=new RegExp("="+O+"*([^\\]'\"]*?)"+O+"*\\]","g"),U=new RegExp(B),V=new RegExp("^"+P+"$"),Q={ID:new RegExp("^#("+P+")"),CLASS:new RegExp("^\\.("+P+")"),TAG:new RegExp("^("+P+"|[*])"),ATTR:new RegExp("^"+R),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+O+"*(even|odd|(([+-]|)(\\d*)n|)"+O+"*(?:([+-]|)"+O+"*(\\d+)|))"+O+"*\\)|)","i"),bool:new RegExp("^(?:"+F+")$","i"),needsContext:new RegExp("^"+O+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+O+"*((?:-\\d)?\\d*)"+O+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,G=/^[^{]+\{\s*\[native \w/,K=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Z=/[+~]/,ee=/'|\\/g,te=new RegExp("\\\\([\\da-f]{1,6}"+O+"?|("+O+")|.)","ig"),ne=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},re=function(){d()};try{q.apply(D=_.call(w.childNodes),w.childNodes),D[w.childNodes.length].nodeType}catch(Ce){q={apply:D.length?function(e,t){H.apply(e,_.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function ie(e,t,r,i){var o,s,l,c,f,h,v,y,T=t&&t.ownerDocument,C=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==C&&9!==C&&11!==C)return r;if(!i&&((t?t.ownerDocument||t:w)!==p&&d(t),t=t||p,m)){if(11!==C&&(h=K.exec(e)))if(o=h[1]){if(9===C){if(!(l=t.getElementById(o)))return r;if(l.id===o)return r.push(l),r}else if(T&&(l=T.getElementById(o))&&x(t,l)&&l.id===o)return r.push(l),r}else{if(h[2])return q.apply(r,t.getElementsByTagName(e)),r;if((o=h[3])&&n.getElementsByClassName&&t.getElementsByClassName)return q.apply(r,t.getElementsByClassName(o)),r}if(n.qsa&&!N[e+" "]&&(!g||!g.test(e))){if(1!==C)T=t,y=e;else if("object"!==t.nodeName.toLowerCase()){for((c=t.getAttribute("id"))?c=c.replace(ee,"\\$&"):t.setAttribute("id",c=b),s=(v=a(e)).length,f=V.test(c)?"#"+c:"[id='"+c+"']";s--;)v[s]=f+" "+me(v[s]);y=v.join(","),T=Z.test(e)&&pe(t.parentNode)||t}if(y)try{return q.apply(r,T.querySelectorAll(y)),r}catch(E){}finally{c===b&&t.removeAttribute("id")}}}return u(e.replace($,"$1"),t,r,i)}function oe(){var e=[];function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}return t}function ae(e){return e[b]=!0,e}function se(e){var t=p.createElement("div");try{return!!e(t)}catch(Ce){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ue(e,t){for(var n=e.split("|"),i=n.length;i--;)r.attrHandle[n[i]]=t}function le(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||j)-(~e.sourceIndex||j);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function ce(e){return function(t){var n;return"input"===t.nodeName.toLowerCase()&&t.type===e}}function fe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function de(e){return ae((function(t){return t=+t,ae((function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))}))}))}function pe(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=ie.support={},o=ie.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},d=ie.setDocument=function(e){var t,i,a=e?e.ownerDocument||e:w;return a!==p&&9===a.nodeType&&a.documentElement?(h=(p=a).documentElement,m=!o(p),(i=p.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",re,!1):i.attachEvent&&i.attachEvent("onunload",re)),n.attributes=se((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=se((function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=G.test(p.getElementsByClassName),n.getById=se((function(e){return h.appendChild(e).id=b,!p.getElementsByName||!p.getElementsByName(b).length})),n.getById?(r.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n=t.getElementById(e);return n?[n]:[]}},r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}}):(delete r.find.ID,r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&m)return t.getElementsByClassName(e)},v=[],g=[],(n.qsa=G.test(p.querySelectorAll))&&(se((function(e){h.appendChild(e).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+O+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+O+"*(?:value|"+F+")"),e.querySelectorAll("[id~="+b+"-]").length||g.push("~="),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+b+"+*").length||g.push(".#.+[+~]")})),se((function(e){var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+O+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")}))),(n.matchesSelector=G.test(y=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&se((function(e){n.disconnectedMatch=y.call(e,"div"),y.call(e,"[s!='']:x"),v.push("!=",B)})),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),t=G.test(h.compareDocumentPosition),x=t||G.test(h.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},S=t?function(e,t){if(e===t)return f=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===p||e.ownerDocument===w&&x(w,e)?-1:t===p||t.ownerDocument===w&&x(w,t)?1:c?M(c,e)-M(c,t):0:4&r?-1:1)}:function(e,t){if(e===t)return f=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e===p?-1:t===p?1:i?-1:o?1:c?M(c,e)-M(c,t):0;if(i===o)return le(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?le(a[r],s[r]):a[r]===w?-1:s[r]===w?1:0},p):p},ie.matches=function(e,t){return ie(e,null,null,t)},ie.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&d(e),t=t.replace(X,"='$1']"),n.matchesSelector&&m&&!N[t+" "]&&(!v||!v.test(t))&&(!g||!g.test(t)))try{var r=y.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(Ce){}return ie(t,p,null,[e]).length>0},ie.contains=function(e,t){return(e.ownerDocument||e)!==p&&d(e),x(e,t)},ie.attr=function(e,t){(e.ownerDocument||e)!==p&&d(e);var i=r.attrHandle[t.toLowerCase()],o=i&&A.call(r.attrHandle,t.toLowerCase())?i(e,t,!m):void 0;return void 0!==o?o:n.attributes||!m?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},ie.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ie.uniqueSort=function(e){var t,r=[],i=0,o=0;if(f=!n.detectDuplicates,c=!n.sortStable&&e.slice(0),e.sort(S),f){for(;t=e[o++];)t===e[o]&&(i=r.push(o));for(;i--;)e.splice(r[i],1)}return c=null,e},i=ie.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=i(t);return n},(r=ie.selectors={cacheLength:50,createPseudo:ae,match:Q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ie.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ie.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Q.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&U.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=E[e+" "];return t||(t=new RegExp("(^|"+O+")"+e+"("+O+"|$)"))&&E(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var i=ie.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(W," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,f,d,p,h,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!u&&!s,x=!1;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&y){for(x=(p=(l=(c=(f=(d=g)[b]||(d[b]={}))[d.uniqueID]||(f[d.uniqueID]={}))[e]||[])[0]===T&&l[1])&&l[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(x=p=0)||h.pop();)if(1===d.nodeType&&++x&&d===t){c[e]=[T,p,x];break}}else if(y&&(x=p=(l=(c=(f=(d=t)[b]||(d[b]={}))[d.uniqueID]||(f[d.uniqueID]={}))[e]||[])[0]===T&&l[1]),!1===x)for(;(d=++p&&d&&d[m]||(x=p=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++x||(y&&((c=(f=d[b]||(d[b]={}))[d.uniqueID]||(f[d.uniqueID]={}))[e]=[T,x]),d!==t)););return(x-=i)===r||x%r==0&&x/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||ie.error("unsupported pseudo: "+e);return i[b]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?ae((function(e,n){for(var r,o=i(e,t),a=o.length;a--;)e[r=M(e,o[a])]=!(n[r]=o[a])})):function(e){return i(e,0,n)}):i}},pseudos:{not:ae((function(e){var t=[],n=[],r=s(e.replace($,"$1"));return r[b]?ae((function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))})):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}})),has:ae((function(e){return function(t){return ie(e,t).length>0}})),contains:ae((function(e){return e=e.replace(te,ne),function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}})),lang:ae((function(e){return V.test(e||"")||ie.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:de((function(){return[0]})),last:de((function(e,t){return[t-1]})),eq:de((function(e,t,n){return[n<0?n+t:n]})),even:de((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:de((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:de((function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e})),gt:de((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=ce(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=fe(t);function he(){}function me(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function ge(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=C++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,u,l,c=[T,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if((s=(u=(l=t[b]||(t[b]={}))[t.uniqueID]||(l[t.uniqueID]={}))[r])&&s[0]===T&&s[1]===o)return c[2]=s[2];if(u[r]=c,c[2]=e(t,n,a))return!0}}}function ve(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function ye(e,t,n){for(var r=0,i=t.length;r<i;r++)ie(e,t[r],n);return n}function xe(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function be(e,t,n,r,i,o){return r&&!r[b]&&(r=be(r)),i&&!i[b]&&(i=be(i,o)),ae((function(o,a,s,u){var l,c,f,d=[],p=[],h=a.length,m=o||ye(t||"*",s.nodeType?[s]:s,[]),g=!e||!o&&t?m:xe(m,d,e,s,u),v=n?i||(o?e:h||r)?[]:a:g;if(n&&n(g,v,s,u),r)for(l=xe(v,p),r(l,[],s,u),c=l.length;c--;)(f=l[c])&&(v[p[c]]=!(g[p[c]]=f));if(o){if(i||e){if(i){for(l=[],c=v.length;c--;)(f=v[c])&&l.push(g[c]=f);i(null,v=[],l,u)}for(c=v.length;c--;)(f=v[c])&&(l=i?M(o,f):d[c])>-1&&(o[l]=!(a[l]=f))}}else v=xe(v===a?v.splice(h,v.length):v),i?i(null,a,v,u):q.apply(a,v)}))}function we(e){for(var t,n,i,o=e.length,a=r.relative[e[0].type],s=a||r.relative[" "],u=a?1:0,c=ge((function(e){return e===t}),s,!0),f=ge((function(e){return M(t,e)>-1}),s,!0),d=[function(e,n,r){var i=!a&&(r||n!==l)||((t=n).nodeType?c(e,n,r):f(e,n,r));return t=null,i}];u<o;u++)if(n=r.relative[e[u].type])d=[ge(ve(d),n)];else{if((n=r.filter[e[u].type].apply(null,e[u].matches))[b]){for(i=++u;i<o&&!r.relative[e[i].type];i++);return be(u>1&&ve(d),u>1&&me(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace($,"$1"),n,u<i&&we(e.slice(u,i)),i<o&&we(e=e.slice(i)),i<o&&me(e))}d.push(n)}return ve(d)}function Te(e,t){var n=t.length>0,i=e.length>0,o=function(o,a,s,u,c){var f,h,g,v=0,y="0",x=o&&[],b=[],w=l,C=o||i&&r.find.TAG("*",c),E=T+=null==w?1:Math.random()||.1,k=C.length;for(c&&(l=a===p||a||c);y!==k&&null!=(f=C[y]);y++){if(i&&f){for(h=0,a||f.ownerDocument===p||(d(f),s=!m);g=e[h++];)if(g(f,a||p,s)){u.push(f);break}c&&(T=E)}n&&((f=!g&&f)&&v--,o&&x.push(f))}if(v+=y,n&&y!==v){for(h=0;g=t[h++];)g(x,b,a,s);if(o){if(v>0)for(;y--;)x[y]||b[y]||(b[y]=L.call(u));b=xe(b)}q.apply(u,b),c&&!o&&b.length>0&&v+t.length>1&&ie.uniqueSort(u)}return c&&(T=E,l=w),x};return n?ae(o):o}return he.prototype=r.filters=r.pseudos,r.setFilters=new he,a=ie.tokenize=function(e,t){var n,i,o,a,s,u,l,c=k[e+" "];if(c)return t?0:c.slice(0);for(s=e,u=[],l=r.preFilter;s;){for(a in n&&!(i=I.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),n=!1,(i=z.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace($," ")}),s=s.slice(n.length)),r.filter)!(i=Q[a].exec(s))||l[a]&&!(i=l[a](i))||(n=i.shift(),o.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?ie.error(e):k(e,u).slice(0)},s=ie.compile=function(e,t){var n,r=[],i=[],o=N[e+" "];if(!o){for(t||(t=a(e)),n=t.length;n--;)(o=we(t[n]))[b]?r.push(o):i.push(o);(o=N(e,Te(i,r))).selector=e}return o},u=ie.select=function(e,t,i,o){var u,l,c,f,d,p="function"==typeof e&&e,h=!o&&a(e=p.selector||e);if(i=i||[],1===h.length){if((l=h[0]=h[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&n.getById&&9===t.nodeType&&m&&r.relative[l[1].type]){if(!(t=(r.find.ID(c.matches[0].replace(te,ne),t)||[])[0]))return i;p&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(u=Q.needsContext.test(e)?0:l.length;u--&&(c=l[u],!r.relative[f=c.type]);)if((d=r.find[f])&&(o=d(c.matches[0].replace(te,ne),Z.test(l[0].type)&&pe(t.parentNode)||t))){if(l.splice(u,1),!(e=o.length&&me(l)))return q.apply(i,o),i;break}}return(p||s(e,h))(o,t,!m,i,!t||Z.test(e)&&pe(t.parentNode)||t),i},n.sortStable=b.split("").sort(S).join("")===b,n.detectDuplicates=!!f,d(),n.sortDetached=se((function(e){return 1&e.compareDocumentPosition(p.createElement("div"))})),se((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||ue("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&se((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||ue("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),se((function(e){return null==e.getAttribute("disabled")}))||ue(F,(function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null})),ie}(e);p.find=x,p.expr=x.selectors,p.expr[":"]=p.expr.pseudos,p.uniqueSort=p.unique=x.uniqueSort,p.text=x.getText,p.isXMLDoc=x.isXML,p.contains=x.contains;var b=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&p(e).is(n))break;r.push(e)}return r},w=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},T=p.expr.match.needsContext,C=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,E=/^.[^:#\[\.,]*$/;function k(e,t,n){if(p.isFunction(t))return p.grep(e,(function(e,r){return!!t.call(e,r,e)!==n}));if(t.nodeType)return p.grep(e,(function(e){return e===t!==n}));if("string"==typeof t){if(E.test(t))return p.filter(t,e,n);t=p.filter(t,e)}return p.grep(e,(function(e){return p.inArray(e,t)>-1!==n}))}p.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?p.find.matchesSelector(r,e)?[r]:[]:p.find.matches(e,p.grep(t,(function(e){return 1===e.nodeType})))},p.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(p(e).filter((function(){for(t=0;t<i;t++)if(p.contains(r[t],this))return!0})));for(t=0;t<i;t++)p.find(e,r[t],n);return(n=this.pushStack(i>1?p.unique(n):n)).selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(k(this,e||[],!1))},not:function(e){return this.pushStack(k(this,e||[],!0))},is:function(e){return!!k(this,"string"==typeof e&&T.test(e)?p(e):e||[],!1).length}});var N,S=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,j;(p.fn.init=function(e,t,n){var i,o;if(!e)return this;if(n=n||N,"string"==typeof e){if(!(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:S.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof p?t[0]:t,p.merge(this,p.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:r,!0)),C.test(i[1])&&p.isPlainObject(t))for(i in t)p.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}if((o=r.getElementById(i[2]))&&o.parentNode){if(o.id!==i[2])return N.find(e);this.length=1,this[0]=o}return this.context=r,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):p.isFunction(e)?void 0!==n.ready?n.ready(e):e(p):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),p.makeArray(e,this))}).prototype=p.fn,N=p(r);var A=/^(?:parents|prev(?:Until|All))/,D={children:!0,contents:!0,next:!0,prev:!0};function L(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}p.fn.extend({has:function(e){var t,n=p(e,this),r=n.length;return this.filter((function(){for(t=0;t<r;t++)if(p.contains(this,n[t]))return!0}))},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=T.test(e)||"string"!=typeof e?p(e,t||this.context):0;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&p.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?p.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?p.inArray(this[0],p(e)):p.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(p.uniqueSort(p.merge(this.get(),p(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),p.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return b(e,"parentNode")},parentsUntil:function(e,t,n){return b(e,"parentNode",n)},next:function(e){return L(e,"nextSibling")},prev:function(e){return L(e,"previousSibling")},nextAll:function(e){return b(e,"nextSibling")},prevAll:function(e){return b(e,"previousSibling")},nextUntil:function(e,t,n){return b(e,"nextSibling",n)},prevUntil:function(e,t,n){return b(e,"previousSibling",n)},siblings:function(e){return w((e.parentNode||{}).firstChild,e)},children:function(e){return w(e.firstChild)},contents:function(e){return p.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:p.merge([],e.childNodes)}},(function(e,t){p.fn[e]=function(n,r){var i=p.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=p.filter(r,i)),this.length>1&&(D[e]||(i=p.uniqueSort(i)),A.test(e)&&(i=i.reverse())),this.pushStack(i)}}));var H=/\S+/g,q,_;function M(e){var t={};return p.each(e.match(H)||[],(function(e,n){t[n]=!0})),t}function F(){r.addEventListener?(r.removeEventListener("DOMContentLoaded",O),e.removeEventListener("load",O)):(r.detachEvent("onreadystatechange",O),e.detachEvent("onload",O))}function O(){(r.addEventListener||"load"===e.event.type||"complete"===r.readyState)&&(F(),p.ready())}for(_ in p.Callbacks=function(e){e="string"==typeof e?M(e):p.extend({},e);var t,n,r,i,o=[],a=[],s=-1,u=function(){for(i=e.once,r=t=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=o.length,n=!1);e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},l={add:function(){return o&&(n&&!t&&(s=o.length-1,a.push(n)),function t(n){p.each(n,(function(n,r){p.isFunction(r)?e.unique&&l.has(r)||o.push(r):r&&r.length&&"string"!==p.type(r)&&t(r)}))}(arguments),n&&!t&&u()),this},remove:function(){return p.each(arguments,(function(e,t){for(var n;(n=p.inArray(t,o,n))>-1;)o.splice(n,1),n<=s&&s--})),this},has:function(e){return e?p.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=!0,n||l.disable(),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||u()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l},p.extend({Deferred:function(e){var t=[["resolve","done",p.Callbacks("once memory"),"resolved"],["reject","fail",p.Callbacks("once memory"),"rejected"],["notify","progress",p.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return p.Deferred((function(n){p.each(t,(function(t,o){var a=p.isFunction(e[t])&&e[t];i[o[1]]((function(){var e=a&&a.apply(this,arguments);e&&p.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===r?n.promise():this,a?[e]:arguments)}))})),e=null})).promise()},promise:function(e){return null!=e?p.extend(e,r):r}},i={};return r.pipe=r.then,p.each(t,(function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add((function(){n=s}),t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith})),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=i.call(arguments),r=n.length,o=1!==r||e&&p.isFunction(e.promise)?r:0,a=1===o?e:p.Deferred(),s=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?i.call(arguments):r,n===u?a.notifyWith(t,n):--o||a.resolveWith(t,n)}},u,l,c;if(r>1)for(u=new Array(r),l=new Array(r),c=new Array(r);t<r;t++)n[t]&&p.isFunction(n[t].promise)?n[t].promise().progress(s(t,l,u)).done(s(t,c,n)).fail(a.reject):--o;return o||a.resolveWith(c,n),a.promise()}}),p.fn.ready=function(e){return p.ready.promise().done(e),this},p.extend({isReady:!1,readyWait:1,holdReady:function(e){e?p.readyWait++:p.ready(!0)},ready:function(e){(!0===e?--p.readyWait:p.isReady)||(p.isReady=!0,!0!==e&&--p.readyWait>0||(q.resolveWith(r,[p]),p.fn.triggerHandler&&(p(r).triggerHandler("ready"),p(r).off("ready"))))}}),p.ready.promise=function(t){if(!q)if(q=p.Deferred(),"complete"===r.readyState||"loading"!==r.readyState&&!r.documentElement.doScroll)e.setTimeout(p.ready);else if(r.addEventListener)r.addEventListener("DOMContentLoaded",O),e.addEventListener("load",O);else{r.attachEvent("onreadystatechange",O),e.attachEvent("onload",O);var n=!1;try{n=null==e.frameElement&&r.documentElement}catch(i){}n&&n.doScroll&&function t(){if(!p.isReady){try{n.doScroll("left")}catch(i){return e.setTimeout(t,50)}F(),p.ready()}}()}return q.promise(t)},p.ready.promise(),p(f))break;f.ownFirst="0"===_,f.inlineBlockNeedsLayout=!1,p((function(){var e,t,n,i;(n=r.getElementsByTagName("body")[0])&&n.style&&(t=r.createElement("div"),(i=r.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),void 0!==t.style.zoom&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",f.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(i))})),function(){var e=r.createElement("div");f.deleteExpando=!0;try{delete e.test}catch(t){f.deleteExpando=!1}e=null}();var P=function(e){var t=p.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return(1===n||9===n)&&(!t||!0!==t&&e.getAttribute("classid")===t)},R=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,B=/([A-Z])/g,W;function $(e,t,n){if(void 0===n&&1===e.nodeType){var r="data-"+t.replace(B,"-$1").toLowerCase();if("string"==typeof(n=e.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:R.test(n)?p.parseJSON(n):n)}catch(i){}p.data(e,t,n)}else n=void 0}return n}function I(e){var t;for(t in e)if(("data"!==t||!p.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function z(e,t,r,i){if(P(e)){var o,a,s=p.expando,u=e.nodeType,l=u?p.cache:e,c=u?e[s]:e[s]&&s;if(c&&l[c]&&(i||l[c].data)||void 0!==r||"string"!=typeof t)return c||(c=u?e[s]=n.pop()||p.guid++:s),l[c]||(l[c]=u?{}:{toJSON:p.noop}),"object"!=typeof t&&"function"!=typeof t||(i?l[c]=p.extend(l[c],t):l[c].data=p.extend(l[c].data,t)),a=l[c],i||(a.data||(a.data={}),a=a.data),void 0!==r&&(a[p.camelCase(t)]=r),"string"==typeof t?null==(o=a[t])&&(o=a[p.camelCase(t)]):o=a,o}}function X(e,t,n){if(P(e)){var r,i,o=e.nodeType,a=o?p.cache:e,s=o?e[p.expando]:p.expando;if(a[s]){if(t&&(r=n?a[s]:a[s].data)){i=(t=p.isArray(t)?t.concat(p.map(t,p.camelCase)):t in r?[t]:(t=p.camelCase(t))in r?[t]:t.split(" ")).length;for(;i--;)delete r[t[i]];if(n?!I(r):!p.isEmptyObject(r))return}(n||(delete a[s].data,I(a[s])))&&(o?p.cleanData([e],!0):f.deleteExpando||a!=a.window?delete a[s]:a[s]=void 0)}}}p.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?p.cache[e[p.expando]]:e[p.expando])&&!I(e)},data:function(e,t,n){return z(e,t,n)},removeData:function(e,t){return X(e,t)},_data:function(e,t,n){return z(e,t,n,!0)},_removeData:function(e,t){return X(e,t,!0)}}),p.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=p.data(o),1===o.nodeType&&!p._data(o,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&$(o,r=p.camelCase(r.slice(5)),i[r]);p._data(o,"parsedAttrs",!0)}return i}return"object"==typeof e?this.each((function(){p.data(this,e)})):arguments.length>1?this.each((function(){p.data(this,e,t)})):o?$(o,e,p.data(o,e)):void 0},removeData:function(e){return this.each((function(){p.removeData(this,e)}))}}),p.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=p._data(e,t),n&&(!r||p.isArray(n)?r=p._data(e,t,p.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=p.queue(e,t),r=n.length,i=n.shift(),o=p._queueHooks(e,t),a=function(){p.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return p._data(e,n)||p._data(e,n,{empty:p.Callbacks("once memory").add((function(){p._removeData(e,t+"queue"),p._removeData(e,n)}))})}}),p.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?p.queue(this[0],e):void 0===t?this:this.each((function(){var n=p.queue(this,e,t);p._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&p.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){p.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=p.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=p._data(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}}),f.shrinkWrapBlocks=function(){return null!=W?W:(W=!1,(t=r.getElementsByTagName("body")[0])&&t.style?(e=r.createElement("div"),(n=r.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",t.appendChild(n).appendChild(e),void 0!==e.style.zoom&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(r.createElement("div")).style.width="5px",W=3!==e.offsetWidth),t.removeChild(n),W):void 0);var e,t,n};var U=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,V=new RegExp("^(?:([+-])=|)("+U+")([a-z%]*)$","i"),Q=["Top","Right","Bottom","Left"],Y=function(e,t){return e=t||e,"none"===p.css(e,"display")||!p.contains(e.ownerDocument,e)};function J(e,t,n,r){var i,o=1,a=20,s=r?function(){return r.cur()}:function(){return p.css(e,t,"")},u=s(),l=n&&n[3]||(p.cssNumber[t]?"":"px"),c=(p.cssNumber[t]||"px"!==l&&+u)&&V.exec(p.css(e,t));if(c&&c[3]!==l){l=l||c[3],n=n||[],c=+u||1;do{c/=o=o||".5",p.style(e,t,c+l)}while(o!==(o=s()/u)&&1!==o&&--a)}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var G=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===p.type(n))for(s in i=!0,n)G(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,p.isFunction(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(p(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},K=/^(?:checkbox|radio)$/i,Z=/<([\w:-]+)/,ee=/^$|\/(?:java|ecma)script/i,te=/^\s+/,ne="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video",re,ie,oe;function ae(e){var t=ne.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}re=r.createElement("div"),ie=r.createDocumentFragment(),oe=r.createElement("input"),re.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",f.leadingWhitespace=3===re.firstChild.nodeType,f.tbody=!re.getElementsByTagName("tbody").length,f.htmlSerialize=!!re.getElementsByTagName("link").length,f.html5Clone="<:nav></:nav>"!==r.createElement("nav").cloneNode(!0).outerHTML,oe.type="checkbox",oe.checked=!0,ie.appendChild(oe),f.appendChecked=oe.checked,re.innerHTML="<textarea>x</textarea>",f.noCloneChecked=!!re.cloneNode(!0).lastChild.defaultValue,ie.appendChild(re),(oe=r.createElement("input")).setAttribute("type","radio"),oe.setAttribute("checked","checked"),oe.setAttribute("name","t"),re.appendChild(oe),f.checkClone=re.cloneNode(!0).cloneNode(!0).lastChild.checked,f.noCloneEvent=!!re.addEventListener,re[p.expando]=1,f.attributes=!re.getAttribute(p.expando);var se={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:f.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};function ue(e,t){var n,r,i=0,o=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],n=e.childNodes||e;null!=(r=n[i]);i++)!t||p.nodeName(r,t)?o.push(r):p.merge(o,ue(r,t));return void 0===t||t&&p.nodeName(e,t)?p.merge([e],o):o}function le(e,t){for(var n,r=0;null!=(n=e[r]);r++)p._data(n,"globalEval",!t||p._data(t[r],"globalEval"))}se.optgroup=se.option,se.tbody=se.tfoot=se.colgroup=se.caption=se.thead,se.th=se.td;var ce=/<|&#?\w+;/,fe=/<tbody/i;function de(e){K.test(e.type)&&(e.defaultChecked=e.checked)}function pe(e,t,n,r,i){for(var o,a,s,u,l,c,d,h=e.length,m=ae(t),g=[],v=0;v<h;v++)if((a=e[v])||0===a)if("object"===p.type(a))p.merge(g,a.nodeType?[a]:a);else if(ce.test(a)){for(u=u||m.appendChild(t.createElement("div")),l=(Z.exec(a)||["",""])[1].toLowerCase(),d=se[l]||se._default,u.innerHTML=d[1]+p.htmlPrefilter(a)+d[2],o=d[0];o--;)u=u.lastChild;if(!f.leadingWhitespace&&te.test(a)&&g.push(t.createTextNode(te.exec(a)[0])),!f.tbody)for(o=(a="table"!==l||fe.test(a)?"<table>"!==d[1]||fe.test(a)?0:u:u.firstChild)&&a.childNodes.length;o--;)p.nodeName(c=a.childNodes[o],"tbody")&&!c.childNodes.length&&a.removeChild(c);for(p.merge(g,u.childNodes),u.textContent="";u.firstChild;)u.removeChild(u.firstChild);u=m.lastChild}else g.push(t.createTextNode(a));for(u&&m.removeChild(u),f.appendChecked||p.grep(ue(g,"input"),de),v=0;a=g[v++];)if(r&&p.inArray(a,r)>-1)i&&i.push(a);else if(s=p.contains(a.ownerDocument,a),u=ue(m.appendChild(a),"script"),s&&le(u),n)for(o=0;a=u[o++];)ee.test(a.type||"")&&n.push(a);return u=null,m}!function(){var t,n,i=r.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(f[t]=n in e)||(i.setAttribute(n,"t"),f[t]=!1===i.attributes[n].expando);i=null}();var he=/^(?:input|select|textarea)$/i,me=/^key/,ge=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ve=/^(?:focusinfocus|focusoutblur)$/,ye=/^([^.]*)(?:\.(.+)|)/;function xe(){return!0}function be(){return!1}function we(){try{return r.activeElement}catch(e){}}function Te(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Te(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=be;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return p().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=p.guid++)),e.each((function(){p.event.add(this,t,i,r,n)}))}p.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,l,c,f,d,h,m,g,v=p._data(e);if(v){for(n.handler&&(n=(u=n).handler,i=u.selector),n.guid||(n.guid=p.guid++),(a=v.events)||(a=v.events={}),(c=v.handle)||((c=v.handle=function(e){return void 0===p||e&&p.event.triggered===e.type?void 0:p.event.dispatch.apply(c.elem,arguments)}).elem=e),s=(t=(t||"").match(H)||[""]).length;s--;)h=g=(o=ye.exec(t[s])||[])[1],m=(o[2]||"").split(".").sort(),h&&(l=p.event.special[h]||{},h=(i?l.delegateType:l.bindType)||h,l=p.event.special[h]||{},f=p.extend({type:h,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&p.expr.match.needsContext.test(i),namespace:m.join(".")},u),(d=a[h])||((d=a[h]=[]).delegateCount=0,l.setup&&!1!==l.setup.call(e,r,m,c)||(e.addEventListener?e.addEventListener(h,c,!1):e.attachEvent&&e.attachEvent("on"+h,c))),l.add&&(l.add.call(e,f),f.handler.guid||(f.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,f):d.push(f),p.event.global[h]=!0);e=null}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,d,h,m,g,v=p.hasData(e)&&p._data(e);if(v&&(c=v.events)){for(l=(t=(t||"").match(H)||[""]).length;l--;)if(h=g=(s=ye.exec(t[l])||[])[1],m=(s[2]||"").split(".").sort(),h){for(f=p.event.special[h]||{},d=c[h=(r?f.delegateType:f.bindType)||h]||[],s=s[2]&&new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=o=d.length;o--;)a=d[o],!i&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(d.splice(o,1),a.selector&&d.delegateCount--,f.remove&&f.remove.call(e,a));u&&!d.length&&(f.teardown&&!1!==f.teardown.call(e,m,v.handle)||p.removeEvent(e,h,v.handle),delete c[h])}else for(h in c)p.event.remove(e,h+t[l],n,r,!0);p.isEmptyObject(c)&&(delete v.handle,p._removeData(e,"events"))}},trigger:function(t,n,i,o){var a,s,u,l,f,d,h,m=[i||r],g=c.call(t,"type")?t.type:t,v=c.call(t,"namespace")?t.namespace.split("."):[];if(u=d=i=i||r,3!==i.nodeType&&8!==i.nodeType&&!ve.test(g+p.event.triggered)&&(g.indexOf(".")>-1&&(v=g.split("."),g=v.shift(),v.sort()),s=g.indexOf(":")<0&&"on"+g,(t=t[p.expando]?t:new p.Event(g,"object"==typeof t&&t)).isTrigger=o?2:3,t.namespace=v.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:p.makeArray(n,[t]),f=p.event.special[g]||{},o||!f.trigger||!1!==f.trigger.apply(i,n))){if(!o&&!f.noBubble&&!p.isWindow(i)){for(l=f.delegateType||g,ve.test(l+g)||(u=u.parentNode);u;u=u.parentNode)m.push(u),d=u;d===(i.ownerDocument||r)&&m.push(d.defaultView||d.parentWindow||e)}for(h=0;(u=m[h++])&&!t.isPropagationStopped();)t.type=h>1?l:f.bindType||g,(a=(p._data(u,"events")||{})[t.type]&&p._data(u,"handle"))&&a.apply(u,n),(a=s&&u[s])&&a.apply&&P(u)&&(t.result=a.apply(u,n),!1===t.result&&t.preventDefault());if(t.type=g,!o&&!t.isDefaultPrevented()&&(!f._default||!1===f._default.apply(m.pop(),n))&&P(i)&&s&&i[g]&&!p.isWindow(i)){(d=i[s])&&(i[s]=null),p.event.triggered=g;try{i[g]()}catch(y){}p.event.triggered=void 0,d&&(i[s]=d)}return t.result}},dispatch:function(e){e=p.event.fix(e);var t,n,r,o,a,s=[],u=i.call(arguments),l=(p._data(this,"events")||{})[e.type]||[],c=p.event.special[e.type]||{};if(u[0]=e,e.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,e)){for(s=p.event.handlers.call(this,e,l),t=0;(o=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,n=0;(a=o.handlers[n++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(a.namespace)||(e.handleObj=a,e.data=a.data,void 0!==(r=((p.event.special[a.origType]||{}).handle||a.handler).apply(o.elem,u))&&!1===(e.result=r)&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,u=e.target;if(s&&u.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(!0!==u.disabled||"click"!==e.type)){for(r=[],n=0;n<s;n++)void 0===r[i=(o=t[n]).selector+" "]&&(r[i]=o.needsContext?p(i,this).index(u)>-1:p.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&a.push({elem:u,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[p.expando])return e;var t,n,i,o=e.type,a=e,s=this.fixHooks[o];for(s||(this.fixHooks[o]=s=ge.test(o)?this.mouseHooks:me.test(o)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,e=new p.Event(a),t=i.length;t--;)e[n=i[t]]=a[n];return e.target||(e.target=a.srcElement||r),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,a):e},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,o,a=t.button,s=t.fromElement;return null==e.pageX&&null!=t.clientX&&(o=(i=e.target.ownerDocument||r).documentElement,n=i.body,e.pageX=t.clientX+(o&&o.scrollLeft||n&&n.scrollLeft||0)-(o&&o.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(o&&o.scrollTop||n&&n.scrollTop||0)-(o&&o.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?t.toElement:s),e.which||void 0===a||(e.which=1&a?1:2&a?3:4&a?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==we()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===we()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(p.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(e){return p.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n){var r=p.extend(new p.Event,n,{type:e,isSimulated:!0});p.event.trigger(r,null,t),r.isDefaultPrevented()&&n.preventDefault()}},p.removeEvent=r.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)}:function(e,t,n){var r="on"+t;e.detachEvent&&(void 0===e[r]&&(e[r]=null),e.detachEvent(r,n))},p.Event=function(e,t){if(!(this instanceof p.Event))return new p.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?xe:be):this.type=e,t&&p.extend(this,t),this.timeStamp=e&&e.timeStamp||p.now(),this[p.expando]=!0},p.Event.prototype={constructor:p.Event,isDefaultPrevented:be,isPropagationStopped:be,isImmediatePropagationStopped:be,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=xe,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=xe,e&&!this.isSimulated&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=xe,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},p.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){p.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||p.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}})),f.submit||(p.event.special.submit={setup:function(){if(p.nodeName(this,"form"))return!1;p.event.add(this,"click._submit keypress._submit",(function(e){var t=e.target,n=p.nodeName(t,"input")||p.nodeName(t,"button")?p.prop(t,"form"):void 0;n&&!p._data(n,"submit")&&(p.event.add(n,"submit._submit",(function(e){e._submitBubble=!0})),p._data(n,"submit",!0))}))},postDispatch:function(e){e._submitBubble&&(delete e._submitBubble,this.parentNode&&!e.isTrigger&&p.event.simulate("submit",this.parentNode,e))},teardown:function(){if(p.nodeName(this,"form"))return!1;p.event.remove(this,"._submit")}}),f.change||(p.event.special.change={setup:function(){if(he.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(p.event.add(this,"propertychange._change",(function(e){"checked"===e.originalEvent.propertyName&&(this._justChanged=!0)})),p.event.add(this,"click._change",(function(e){this._justChanged&&!e.isTrigger&&(this._justChanged=!1),p.event.simulate("change",this,e)}))),!1;p.event.add(this,"beforeactivate._change",(function(e){var t=e.target;he.test(t.nodeName)&&!p._data(t,"change")&&(p.event.add(t,"change._change",(function(e){!this.parentNode||e.isSimulated||e.isTrigger||p.event.simulate("change",this.parentNode,e)})),p._data(t,"change",!0))}))},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return p.event.remove(this,"._change"),!he.test(this.nodeName)}}),f.focusin||p.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){p.event.simulate(t,e.target,p.event.fix(e))};p.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=p._data(r,t);i||r.addEventListener(e,n,!0),p._data(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=p._data(r,t)-1;i?p._data(r,t,i):(r.removeEventListener(e,n,!0),p._removeData(r,t))}}})),p.fn.extend({on:function(e,t,n,r){return Te(this,e,t,n,r)},one:function(e,t,n,r){return Te(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,p(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=be),this.each((function(){p.event.remove(this,e,n,t)}))},trigger:function(e,t){return this.each((function(){p.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return p.event.trigger(e,t,n,!0)}});var Ce=/ jQuery\d+="(?:null|\d+)"/g,Ee=new RegExp("<(?:"+ne+")[\\s/>]","i"),ke=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Ne=/<script|<style|<link/i,Se=/checked\s*(?:[^=]|=\s*.checked.)/i,je=/^true\/(.*)/,Ae=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,De,Le=ae(r).appendChild(r.createElement("div"));function He(e,t){return p.nodeName(e,"table")&&p.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function qe(e){return e.type=(null!==p.find.attr(e,"type"))+"/"+e.type,e}function _e(e){var t=je.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function Me(e,t){if(1===t.nodeType&&p.hasData(e)){var n,r,i,o=p._data(e),a=p._data(t,o),s=o.events;if(s)for(n in delete a.handle,a.events={},s)for(r=0,i=s[n].length;r<i;r++)p.event.add(t,n,s[n][r]);a.data&&(a.data=p.extend({},a.data))}}function Fe(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!f.noCloneEvent&&t[p.expando]){for(r in(i=p._data(t)).events)p.removeEvent(t,r,i.handle);t.removeAttribute(p.expando)}"script"===n&&t.text!==e.text?(qe(t).text=e.text,_e(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),f.html5Clone&&e.innerHTML&&!p.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&K.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}}function Oe(e,t,n,r){t=o.apply([],t);var i,a,s,u,l,c,d=0,h=e.length,m=h-1,g=t[0],v=p.isFunction(g);if(v||h>1&&"string"==typeof g&&!f.checkClone&&Se.test(g))return e.each((function(i){var o=e.eq(i);v&&(t[0]=g.call(this,i,o.html())),Oe(o,t,n,r)}));if(h&&(i=(c=pe(t,e[0].ownerDocument,!1,e,r)).firstChild,1===c.childNodes.length&&(c=i),i||r)){for(s=(u=p.map(ue(c,"script"),qe)).length;d<h;d++)a=c,d!==m&&(a=p.clone(a,!0,!0),s&&p.merge(u,ue(a,"script"))),n.call(e[d],a,d);if(s)for(l=u[u.length-1].ownerDocument,p.map(u,_e),d=0;d<s;d++)a=u[d],ee.test(a.type||"")&&!p._data(a,"globalEval")&&p.contains(l,a)&&(a.src?p._evalUrl&&p._evalUrl(a.src):p.globalEval((a.text||a.textContent||a.innerHTML||"").replace(Ae,"")));c=i=null}return e}function Pe(e,t,n){for(var r,i=t?p.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||p.cleanData(ue(r)),r.parentNode&&(n&&p.contains(r.ownerDocument,r)&&le(ue(r,"script")),r.parentNode.removeChild(r));return e}p.extend({htmlPrefilter:function(e){return e.replace(ke,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s,u=p.contains(e.ownerDocument,e);if(f.html5Clone||p.isXMLDoc(e)||!Ee.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Le.innerHTML=e.outerHTML,Le.removeChild(o=Le.firstChild)),!(f.noCloneEvent&&f.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||p.isXMLDoc(e)))for(r=ue(o),s=ue(e),a=0;null!=(i=s[a]);++a)r[a]&&Fe(i,r[a]);if(t)if(n)for(s=s||ue(e),r=r||ue(o),a=0;null!=(i=s[a]);a++)Me(i,r[a]);else Me(e,o);return(r=ue(o,"script")).length>0&&le(r,!u&&ue(e,"script")),r=s=i=null,o},cleanData:function(e,t){for(var r,i,o,a,s=0,u=p.expando,l=p.cache,c=f.attributes,d=p.event.special;null!=(r=e[s]);s++)if((t||P(r))&&(a=(o=r[u])&&l[o])){if(a.events)for(i in a.events)d[i]?p.event.remove(r,i):p.removeEvent(r,i,a.handle);l[o]&&(delete l[o],c||void 0===r.removeAttribute?r[u]=void 0:r.removeAttribute(u),n.push(o))}}}),p.fn.extend({domManip:Oe,detach:function(e){return Pe(this,e,!0)},remove:function(e){return Pe(this,e)},text:function(e){return G(this,(function(e){return void 0===e?p.text(this):this.empty().append((this[0]&&this[0].ownerDocument||r).createTextNode(e))}),null,e,arguments.length)},append:function(){return Oe(this,arguments,(function(e){var t;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||He(this,e).appendChild(e)}))},prepend:function(){return Oe(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=He(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Oe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Oe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&p.cleanData(ue(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&p.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return p.clone(this,e,t)}))},html:function(e){return G(this,(function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Ce,""):void 0;if("string"==typeof e&&!Ne.test(e)&&(f.htmlSerialize||!Ee.test(e))&&(f.leadingWhitespace||!te.test(e))&&!se[(Z.exec(e)||["",""])[1].toLowerCase()]){e=p.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(p.cleanData(ue(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Oe(this,arguments,(function(t){var n=this.parentNode;p.inArray(this,e)<0&&(p.cleanData(ue(this)),n&&n.replaceChild(t,this))}),e)}}),p.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){p.fn[e]=function(e){for(var n,r=0,i=[],o=p(e),s=o.length-1;r<=s;r++)n=r===s?this:this.clone(!0),p(o[r])[t](n),a.apply(i,n.get());return this.pushStack(i)}}));var Re,Be={HTML:"block",BODY:"block"};function We(e,t){var n=p(t.createElement(e)).appendTo(t.body),r=p.css(n[0],"display");return n.detach(),r}function $e(e){var t=r,n=Be[e];return n||("none"!==(n=We(e,t))&&n||((t=((Re=(Re||p("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentWindow||Re[0].contentDocument).document).write(),t.close(),n=We(e,t),Re.detach()),Be[e]=n),n}var Ie=/^margin/,ze=new RegExp("^("+U+")(?!px)[a-z%]+$","i"),Xe=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in i=n.apply(e,r||[]),t)e.style[o]=a[o];return i},Ue=r.documentElement;!function(){var t,n,i,o,a,s,u=r.createElement("div"),l=r.createElement("div");function c(){var c,f,d=r.documentElement;d.appendChild(u),l.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",t=i=s=!1,n=a=!0,e.getComputedStyle&&(f=e.getComputedStyle(l),t="1%"!==(f||{}).top,s="2px"===(f||{}).marginLeft,i="4px"===(f||{width:"4px"}).width,l.style.marginRight="50%",n="4px"===(f||{marginRight:"4px"}).marginRight,(c=l.appendChild(r.createElement("div"))).style.cssText=l.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",l.style.width="1px",a=!parseFloat((e.getComputedStyle(c)||{}).marginRight),l.removeChild(c)),l.style.display="none",(o=0===l.getClientRects().length)&&(l.style.display="",l.innerHTML="<table><tr><td></td><td>t</td></tr></table>",(c=l.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(o=0===c[0].offsetHeight)&&(c[0].style.display="",c[1].style.display="none",o=0===c[0].offsetHeight)),d.removeChild(u)}l.style&&(l.style.cssText="float:left;opacity:.5",f.opacity="0.5"===l.style.opacity,f.cssFloat=!!l.style.cssFloat,l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",f.clearCloneStyle="content-box"===l.style.backgroundClip,(u=r.createElement("div")).style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",l.innerHTML="",u.appendChild(l),f.boxSizing=""===l.style.boxSizing||""===l.style.MozBoxSizing||""===l.style.WebkitBoxSizing,p.extend(f,{reliableHiddenOffsets:function(){return null==t&&c(),o},boxSizingReliable:function(){return null==t&&c(),i},pixelMarginRight:function(){return null==t&&c(),n},pixelPosition:function(){return null==t&&c(),t},reliableMarginRight:function(){return null==t&&c(),a},reliableMarginLeft:function(){return null==t&&c(),s}}))}();var Ve,Qe,Ye=/^(top|right|bottom|left)$/;function Je(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}e.getComputedStyle?(Ve=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},Qe=function(e,t,n){var r,i,o,a,s=e.style;return""!==(a=(n=n||Ve(e))?n.getPropertyValue(t)||n[t]:void 0)&&void 0!==a||p.contains(e.ownerDocument,e)||(a=p.style(e,t)),n&&!f.pixelMarginRight()&&ze.test(a)&&Ie.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o),void 0===a?a:a+""}):Ue.currentStyle&&(Ve=function(e){return e.currentStyle},Qe=function(e,t,n){var r,i,o,a,s=e.style;return null==(a=(n=n||Ve(e))?n[t]:void 0)&&s&&s[t]&&(a=s[t]),ze.test(a)&&!Ye.test(t)&&(r=s.left,(o=(i=e.runtimeStyle)&&i.left)&&(i.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=r,o&&(i.left=o)),void 0===a?a:a+""||"auto"});var Ge=/alpha\([^)]*\)/i,Ke=/opacity\s*=\s*([^)]*)/i,Ze=/^(none|table(?!-c[ea]).+)/,et=new RegExp("^("+U+")(.*)$","i"),tt={position:"absolute",visibility:"hidden",display:"block"},nt={letterSpacing:"0",fontWeight:"400"},rt=["Webkit","O","Moz","ms"],it=r.createElement("div").style;function ot(e){if(e in it)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=rt.length;n--;)if((e=rt[n]+t)in it)return e}function at(e,t){for(var n,r,i,o=[],a=0,s=e.length;a<s;a++)(r=e[a]).style&&(o[a]=p._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&Y(r)&&(o[a]=p._data(r,"olddisplay",$e(r.nodeName)))):(i=Y(r),(n&&"none"!==n||!i)&&p._data(r,"olddisplay",i?n:p.css(r,"display"))));for(a=0;a<s;a++)(r=e[a]).style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function st(e,t,n){var r=et.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function ut(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=p.css(e,n+Q[o],!0,i)),r?("content"===n&&(a-=p.css(e,"padding"+Q[o],!0,i)),"margin"!==n&&(a-=p.css(e,"border"+Q[o]+"Width",!0,i))):(a+=p.css(e,"padding"+Q[o],!0,i),"padding"!==n&&(a+=p.css(e,"border"+Q[o]+"Width",!0,i)));return a}function lt(t,n,i){var o=!0,a="width"===n?t.offsetWidth:t.offsetHeight,s=Ve(t),u=f.boxSizing&&"border-box"===p.css(t,"boxSizing",!1,s);if(r.msFullscreenElement&&e.top!==e&&t.getClientRects().length&&(a=Math.round(100*t.getBoundingClientRect()[n])),a<=0||null==a){if(((a=Qe(t,n,s))<0||null==a)&&(a=t.style[n]),ze.test(a))return a;o=u&&(f.boxSizingReliable()||a===t.style[n]),a=parseFloat(a)||0}return a+ut(t,n,i||(u?"border":"content"),o,s)+"px"}function ct(e,t,n,r,i){return new ct.prototype.init(e,t,n,r,i)}p.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Qe(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:f.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=p.camelCase(t),u=e.style;if(t=p.cssProps[s]||(p.cssProps[s]=ot(s)||s),a=p.cssHooks[t]||p.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:u[t];if("string"===(o=typeof n)&&(i=V.exec(n))&&i[1]&&(n=J(e,t,i),o="number"),null!=n&&n==n&&("number"===o&&(n+=i&&i[3]||(p.cssNumber[s]?"":"px")),f.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),!(a&&"set"in a&&void 0===(n=a.set(e,n,r)))))try{u[t]=n}catch(l){}}},css:function(e,t,n,r){var i,o,a,s=p.camelCase(t);return t=p.cssProps[s]||(p.cssProps[s]=ot(s)||s),(a=p.cssHooks[t]||p.cssHooks[s])&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=Qe(e,t,r)),"normal"===o&&t in nt&&(o=nt[t]),""===n||n?(i=parseFloat(o),!0===n||isFinite(i)?i||0:o):o}}),p.each(["height","width"],(function(e,t){p.cssHooks[t]={get:function(e,n,r){if(n)return Ze.test(p.css(e,"display"))&&0===e.offsetWidth?Xe(e,tt,(function(){return lt(e,t,r)})):lt(e,t,r)},set:function(e,n,r){var i=r&&Ve(e);return st(e,n,r?ut(e,t,r,f.boxSizing&&"border-box"===p.css(e,"boxSizing",!1,i),i):0)}}})),f.opacity||(p.cssHooks.opacity={get:function(e,t){return Ke.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=p.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===p.trim(o.replace(Ge,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=Ge.test(o)?o.replace(Ge,i):o+" "+i)}}),p.cssHooks.marginRight=Je(f.reliableMarginRight,(function(e,t){if(t)return Xe(e,{display:"inline-block"},Qe,[e,"marginRight"])})),p.cssHooks.marginLeft=Je(f.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Qe(e,"marginLeft"))||(p.contains(e.ownerDocument,e)?e.getBoundingClientRect().left-Xe(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})):0))+"px"})),p.each({margin:"",padding:"",border:"Width"},(function(e,t){p.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+Q[r]+t]=o[r]||o[r-2]||o[0];return i}},Ie.test(e)||(p.cssHooks[e+t].set=st)})),p.fn.extend({css:function(e,t){return G(this,(function(e,t,n){var r,i,o={},a=0;if(p.isArray(t)){for(r=Ve(e),i=t.length;a<i;a++)o[t[a]]=p.css(e,t[a],!1,r);return o}return void 0!==n?p.style(e,t,n):p.css(e,t)}),e,t,arguments.length>1)},show:function(){return at(this,!0)},hide:function(){return at(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){Y(this)?p(this).show():p(this).hide()}))}}),p.Tween=ct,ct.prototype={constructor:ct,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||p.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(p.cssNumber[n]?"":"px")},cur:function(){var e=ct.propHooks[this.prop];return e&&e.get?e.get(this):ct.propHooks._default.get(this)},run:function(e){var t,n=ct.propHooks[this.prop];return this.options.duration?this.pos=t=p.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ct.propHooks._default.set(this),this}},ct.prototype.init.prototype=ct.prototype,ct.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=p.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){p.fx.step[e.prop]?p.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[p.cssProps[e.prop]]&&!p.cssHooks[e.prop]?e.elem[e.prop]=e.now:p.style(e.elem,e.prop,e.now+e.unit)}}},ct.propHooks.scrollTop=ct.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},p.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},p.fx=ct.prototype.init,p.fx.step={};var ft,dt,pt=/^(?:toggle|show|hide)$/,ht=/queueHooks$/;function mt(){return e.setTimeout((function(){ft=void 0})),ft=p.now()}function gt(e,t){var n,r={height:e},i=0;for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=Q[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function vt(e,t,n){for(var r,i=(bt.tweeners[t]||[]).concat(bt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function yt(e,t,n){var r,i,o,a,s,u,l,c,d=this,h={},m=e.style,g=e.nodeType&&Y(e),v=p._data(e,"fxshow");for(r in n.queue||(null==(s=p._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,d.always((function(){d.always((function(){s.unqueued--,p.queue(e,"fx").length||s.empty.fire()}))}))),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[m.overflow,m.overflowX,m.overflowY],"inline"===(c="none"===(l=p.css(e,"display"))?p._data(e,"olddisplay")||$e(e.nodeName):l)&&"none"===p.css(e,"float")&&(f.inlineBlockNeedsLayout&&"inline"!==$e(e.nodeName)?m.zoom=1:m.display="inline-block")),n.overflow&&(m.overflow="hidden",f.shrinkWrapBlocks()||d.always((function(){m.overflow=n.overflow[0],m.overflowX=n.overflow[1],m.overflowY=n.overflow[2]}))),t)if(i=t[r],pt.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}h[r]=v&&v[r]||p.style(e,r)}else l=void 0;if(p.isEmptyObject(h))"inline"===("none"===l?$e(e.nodeName):l)&&(m.display=l);else for(r in v?"hidden"in v&&(g=v.hidden):v=p._data(e,"fxshow",{}),o&&(v.hidden=!g),g?p(e).show():d.done((function(){p(e).hide()})),d.done((function(){var t;for(t in p._removeData(e,"fxshow"),h)p.style(e,t,h[t])})),h)a=vt(g?v[r]:0,r,d),r in v||(v[r]=a.start,g&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}function xt(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=p.camelCase(n)],o=e[n],p.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=p.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}function bt(e,t,n){var r,i,o=0,a=bt.prefilters.length,s=p.Deferred().always((function(){delete u.elem})),u=function(){if(i)return!1;for(var t=ft||mt(),n=Math.max(0,l.startTime+l.duration-t),r,o=1-(n/l.duration||0),a=0,u=l.tweens.length;a<u;a++)l.tweens[a].run(o);return s.notifyWith(e,[l,o,n]),o<1&&u?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:p.extend({},t),opts:p.extend(!0,{specialEasing:{},easing:p.easing._default},n),originalProperties:t,originalOptions:n,startTime:ft||mt(),duration:n.duration,tweens:[],createTween:function(t,n){var r=p.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return t?(s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l,t])):s.rejectWith(e,[l,t]),this}}),c=l.props;for(xt(c,l.opts.specialEasing);o<a;o++)if(r=bt.prefilters[o].call(l,e,c,l.opts))return p.isFunction(r.stop)&&(p._queueHooks(l.elem,l.opts.queue).stop=p.proxy(r.stop,r)),r;return p.map(c,vt,l),p.isFunction(l.opts.start)&&l.opts.start.call(e,l),p.fx.timer(p.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}p.Animation=p.extend(bt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return J(n.elem,e,V.exec(t),n),n}]},tweener:function(e,t){p.isFunction(e)?(t=e,e=["*"]):e=e.match(H);for(var n,r=0,i=e.length;r<i;r++)n=e[r],bt.tweeners[n]=bt.tweeners[n]||[],bt.tweeners[n].unshift(t)},prefilters:[yt],prefilter:function(e,t){t?bt.prefilters.unshift(e):bt.prefilters.push(e)}}),p.speed=function(e,t,n){var r=e&&"object"==typeof e?p.extend({},e):{complete:n||!n&&t||p.isFunction(e)&&e,duration:e,easing:n&&t||t&&!p.isFunction(t)&&t};return r.duration=p.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in p.fx.speeds?p.fx.speeds[r.duration]:p.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){p.isFunction(r.old)&&r.old.call(this),r.queue&&p.dequeue(this,r.queue)},r},p.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Y).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=p.isEmptyObject(e),o=p.speed(t,n,r),a=function(){var t=bt(this,p.extend({},e),o);(i||p._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each((function(){var t=!0,i=null!=e&&e+"queueHooks",o=p.timers,a=p._data(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&ht.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||p.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=p._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=p.timers,a=r?r.length:0;for(n.finish=!0,p.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish}))}}),p.each(["toggle","show","hide"],(function(e,t){var n=p.fn[t];p.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(gt(t,!0),e,r,i)}})),p.each({slideDown:gt("show"),slideUp:gt("hide"),slideToggle:gt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){p.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}})),p.timers=[],p.fx.tick=function(){var e,t=p.timers,n=0;for(ft=p.now();n<t.length;n++)(e=t[n])()||t[n]!==e||t.splice(n--,1);t.length||p.fx.stop(),ft=void 0},p.fx.timer=function(e){p.timers.push(e),e()?p.fx.start():p.timers.pop()},p.fx.interval=13,p.fx.start=function(){dt||(dt=e.setInterval(p.fx.tick,p.fx.interval))},p.fx.stop=function(){e.clearInterval(dt),dt=null},p.fx.speeds={slow:600,fast:200,_default:400},p.fn.delay=function(t,n){return t=p.fx&&p.fx.speeds[t]||t,n=n||"fx",this.queue(n,(function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}}))},function(){var e,t=r.createElement("input"),n=r.createElement("div"),i=r.createElement("select"),o=i.appendChild(r.createElement("option"));(n=r.createElement("div")).setAttribute("className","t"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=n.getElementsByTagName("a")[0],t.setAttribute("type","checkbox"),n.appendChild(t),(e=n.getElementsByTagName("a")[0]).style.cssText="top:1px",f.getSetAttribute="t"!==n.className,f.style=/top/.test(e.getAttribute("style")),f.hrefNormalized="/a"===e.getAttribute("href"),f.checkOn=!!t.value,f.optSelected=o.selected,f.enctype=!!r.createElement("form").enctype,i.disabled=!0,f.optDisabled=!o.disabled,(t=r.createElement("input")).setAttribute("value",""),f.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),f.radioValue="t"===t.value}();var wt=/\r/g;p.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=p.isFunction(e),this.each((function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,p(this).val()):e)?i="":"number"==typeof i?i+="":p.isArray(i)&&(i=p.map(i,(function(e){return null==e?"":e+""}))),(t=p.valHooks[this.type]||p.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))}))):i?(t=p.valHooks[i.type]||p.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(wt,""):null==n?"":n:void 0}}),p.extend({valHooks:{option:{get:function(e){var t=p.find.attr(e,"value");return null!=t?t:p.trim(p.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||i<0,a=o?null:[],s=o?i+1:r.length,u=i<0?s:o?i:0;u<s;u++)if(((n=r[u]).selected||u===i)&&(f.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!p.nodeName(n.parentNode,"optgroup"))){if(t=p(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=p.makeArray(t),a=i.length;a--;)if(r=i[a],p.inArray(p.valHooks.option.get(r),o)>=0)try{r.selected=n=!0}catch(s){r.scrollHeight}else r.selected=!1;return n||(e.selectedIndex=-1),i}}}}),p.each(["radio","checkbox"],(function(){p.valHooks[this]={set:function(e,t){if(p.isArray(t))return e.checked=p.inArray(p(e).val(),t)>-1}},f.checkOn||(p.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}));var Tt,Ct,Et=p.expr.attrHandle,kt=/^(?:checked|selected)$/i,Nt=f.getSetAttribute,St=f.input;p.fn.extend({attr:function(e,t){return G(this,p.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){p.removeAttr(this,e)}))}}),p.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?p.prop(e,t,n):(1===o&&p.isXMLDoc(e)||(t=t.toLowerCase(),i=p.attrHooks[t]||(p.expr.match.bool.test(t)?Ct:Tt)),void 0!==n?null===n?void p.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=p.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!f.radioValue&&"radio"===t&&p.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(H);if(o&&1===e.nodeType)for(;n=o[i++];)r=p.propFix[n]||n,p.expr.match.bool.test(n)?St&&Nt||!kt.test(n)?e[r]=!1:e[p.camelCase("default-"+n)]=e[r]=!1:p.attr(e,n,""),e.removeAttribute(Nt?n:r)}}),Ct={set:function(e,t,n){return!1===t?p.removeAttr(e,n):St&&Nt||!kt.test(n)?e.setAttribute(!Nt&&p.propFix[n]||n,n):e[p.camelCase("default-"+n)]=e[n]=!0,n}},p.each(p.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=Et[t]||p.find.attr;St&&Nt||!kt.test(t)?Et[t]=function(e,t,r){var i,o;return r||(o=Et[t],Et[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,Et[t]=o),i}:Et[t]=function(e,t,n){if(!n)return e[p.camelCase("default-"+t)]?t.toLowerCase():null}})),St&&Nt||(p.attrHooks.value={set:function(e,t,n){if(!p.nodeName(e,"input"))return Tt&&Tt.set(e,t,n);e.defaultValue=t}}),Nt||(Tt={set:function(e,t,n){var r=e.getAttributeNode(n);if(r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="","value"===n||t===e.getAttribute(n))return t}},Et.id=Et.name=Et.coords=function(e,t,n){var r;if(!n)return(r=e.getAttributeNode(t))&&""!==r.value?r.value:null},p.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);if(n&&n.specified)return n.value},set:Tt.set},p.attrHooks.contenteditable={set:function(e,t,n){Tt.set(e,""!==t&&t,n)}},p.each(["width","height"],(function(e,t){p.attrHooks[t]={set:function(e,n){if(""===n)return e.setAttribute(t,"auto"),n}}}))),f.style||(p.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var jt=/^(?:input|select|textarea|button|object)$/i,At=/^(?:a|area)$/i;p.fn.extend({prop:function(e,t){return G(this,p.prop,e,t,arguments.length>1)},removeProp:function(e){return e=p.propFix[e]||e,this.each((function(){try{this[e]=void 0,delete this[e]}catch(t){}}))}}),p.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&p.isXMLDoc(e)||(t=p.propFix[t]||t,i=p.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=p.find.attr(e,"tabindex");return t?parseInt(t,10):jt.test(e.nodeName)||At.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),f.hrefNormalized||p.each(["href","src"],(function(e,t){p.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}})),f.optSelected||(p.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),p.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){p.propFix[this.toLowerCase()]=this})),f.enctype||(p.propFix.enctype="encoding");var Dt=/[\t\r\n\f]/g;function Lt(e){return p.attr(e,"class")||""}p.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,u=0;if(p.isFunction(e))return this.each((function(t){p(this).addClass(e.call(this,t,Lt(this)))}));if("string"==typeof e&&e)for(t=e.match(H)||[];n=this[u++];)if(i=Lt(n),r=1===n.nodeType&&(" "+i+" ").replace(Dt," ")){for(a=0;o=t[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=p.trim(r))&&p.attr(n,"class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,u=0;if(p.isFunction(e))return this.each((function(t){p(this).removeClass(e.call(this,t,Lt(this)))}));if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(H)||[];n=this[u++];)if(i=Lt(n),r=1===n.nodeType&&(" "+i+" ").replace(Dt," ")){for(a=0;o=t[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");i!==(s=p.trim(r))&&p.attr(n,"class",s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):p.isFunction(e)?this.each((function(n){p(this).toggleClass(e.call(this,n,Lt(this),t),t)})):this.each((function(){var t,r,i,o;if("string"===n)for(r=0,i=p(this),o=e.match(H)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==n||((t=Lt(this))&&p._data(this,"__className__",t),p.attr(this,"class",t||!1===e?"":p._data(this,"__className__")||""))}))},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+Lt(n)+" ").replace(Dt," ").indexOf(t)>-1)return!0;return!1}}),p.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),(function(e,t){p.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}})),p.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}});var Ht=e.location,qt=p.now(),_t=/\?/,Mt=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;p.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,r=null,i=p.trim(t+"");return i&&!p.trim(i.replace(Mt,(function(e,t,i,o){return n&&t&&(r=0),0===r?e:(n=i||t,r+=!o-!i,"")})))?Function("return "+i)():p.error("Invalid JSON: "+t)},p.parseXML=function(t){var n,r;if(!t||"string"!=typeof t)return null;try{e.DOMParser?n=(r=new e.DOMParser).parseFromString(t,"text/xml"):((n=new e.ActiveXObject("Microsoft.XMLDOM")).async="false",n.loadXML(t))}catch(i){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||p.error("Invalid XML: "+t),n};var Ft=/#.*$/,Ot=/([?&])_=[^&]*/,Pt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Rt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Bt=/^(?:GET|HEAD)$/,Wt=/^\/\//,$t=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,It={},zt={},Xt="*/".concat("*"),Ut=Ht.href,Vt=$t.exec(Ut.toLowerCase())||[];function Qt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(H)||[];if(p.isFunction(n))for(;r=o[i++];)"+"===r.charAt(0)?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Yt(e,t,n,r){var i={},o=e===zt;function a(s){var u;return i[s]=!0,p.each(e[s]||[],(function(e,s){var l=s(t,n,r);return"string"!=typeof l||o||i[l]?o?!(u=l):void 0:(t.dataTypes.unshift(l),a(l),!1)})),u}return a(t.dataTypes[0])||!i["*"]&&a("*")}function Jt(e,t){var n,r,i=p.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&p.extend(!0,e,n),e}function Gt(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(a in s)if(s[a]&&s[a].test(i)){u.unshift(a);break}if(u[0]in n)o=u[0];else{for(a in n){if(!u[0]||e.converters[a+" "+u[0]]){o=a;break}r||(r=a)}o=o||r}if(o)return o!==u[0]&&u.unshift(o),n[o]}function Kt(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(f){return{state:"parsererror",error:a?f:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}function Zt(e){return e.style&&e.style.display||p.css(e,"display")}function en(e){for(;e&&1===e.nodeType;){if("none"===Zt(e)||"hidden"===e.type)return!0;e=e.parentNode}return!1}p.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ut,type:"GET",isLocal:Rt.test(Vt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Xt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":p.parseJSON,"text xml":p.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Jt(Jt(e,p.ajaxSettings),t):Jt(p.ajaxSettings,e)},ajaxPrefilter:Qt(It),ajaxTransport:Qt(zt),ajax:function(t,n){"object"==typeof t&&(n=t,t=void 0),n=n||{};var r,i,o,a,s,u,l,c,f=p.ajaxSetup({},n),d=f.context||f,h=f.context&&(d.nodeType||d.jquery)?p(d):p.event,m=p.Deferred(),g=p.Callbacks("once memory"),v=f.statusCode||{},y={},x={},b=0,w="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!c)for(c={};t=Pt.exec(a);)c[t[1].toLowerCase()]=t[2];t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=x[n]=x[n]||e,y[e]=t),this},overrideMimeType:function(e){return b||(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(b<2)for(t in e)v[t]=[v[t],e[t]];else T.always(e[T.status]);return this},abort:function(e){var t=e||w;return l&&l.abort(t),C(0,t),this}};if(m.promise(T).complete=g.add,T.success=T.done,T.error=T.fail,f.url=((t||f.url||Ut)+"").replace(Ft,"").replace(Wt,Vt[1]+"//"),f.type=n.method||n.type||f.method||f.type,f.dataTypes=p.trim(f.dataType||"*").toLowerCase().match(H)||[""],null==f.crossDomain&&(r=$t.exec(f.url.toLowerCase()),f.crossDomain=!(!r||r[1]===Vt[1]&&r[2]===Vt[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(Vt[3]||("http:"===Vt[1]?"80":"443")))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=p.param(f.data,f.traditional)),Yt(It,f,n,T),2===b)return T;for(i in(u=p.event&&f.global)&&0==p.active++&&p.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Bt.test(f.type),o=f.url,f.hasContent||(f.data&&(o=f.url+=(_t.test(o)?"&":"?")+f.data,delete f.data),!1===f.cache&&(f.url=Ot.test(o)?o.replace(Ot,"$1_="+qt++):o+(_t.test(o)?"&":"?")+"_="+qt++)),f.ifModified&&(p.lastModified[o]&&T.setRequestHeader("If-Modified-Since",p.lastModified[o]),p.etag[o]&&T.setRequestHeader("If-None-Match",p.etag[o])),(f.data&&f.hasContent&&!1!==f.contentType||n.contentType)&&T.setRequestHeader("Content-Type",f.contentType),T.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Xt+"; q=0.01":""):f.accepts["*"]),f.headers)T.setRequestHeader(i,f.headers[i]);if(f.beforeSend&&(!1===f.beforeSend.call(d,T,f)||2===b))return T.abort();for(i in w="abort",{success:1,error:1,complete:1})T[i](f[i]);if(l=Yt(zt,f,n,T)){if(T.readyState=1,u&&h.trigger("ajaxSend",[T,f]),2===b)return T;f.async&&f.timeout>0&&(s=e.setTimeout((function(){T.abort("timeout")}),f.timeout));try{b=1,l.send(y,C)}catch(E){if(!(b<2))throw E;C(-1,E)}}else C(-1,"No Transport");function C(t,n,r,i){var c,y,x,w,C,E=n;2!==b&&(b=2,s&&e.clearTimeout(s),l=void 0,a=i||"",T.readyState=t>0?4:0,c=t>=200&&t<300||304===t,r&&(w=Gt(f,T,r)),w=Kt(f,w,T,c),c?(f.ifModified&&((C=T.getResponseHeader("Last-Modified"))&&(p.lastModified[o]=C),(C=T.getResponseHeader("etag"))&&(p.etag[o]=C)),204===t||"HEAD"===f.type?E="nocontent":304===t?E="notmodified":(E=w.state,y=w.data,c=!(x=w.error))):(x=E,!t&&E||(E="error",t<0&&(t=0))),T.status=t,T.statusText=(n||E)+"",c?m.resolveWith(d,[y,E,T]):m.rejectWith(d,[T,E,x]),T.statusCode(v),v=void 0,u&&h.trigger(c?"ajaxSuccess":"ajaxError",[T,f,c?y:x]),g.fireWith(d,[T,E]),u&&(h.trigger("ajaxComplete",[T,f]),--p.active||p.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return p.get(e,t,n,"json")},getScript:function(e,t){return p.get(e,void 0,t,"script")}}),p.each(["get","post"],(function(e,t){p[t]=function(e,n,r,i){return p.isFunction(n)&&(i=i||r,r=n,n=void 0),p.ajax(p.extend({url:e,type:t,dataType:i,data:n,success:r},p.isPlainObject(e)&&e))}})),p._evalUrl=function(e){return p.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},p.fn.extend({wrapAll:function(e){if(p.isFunction(e))return this.each((function(t){p(this).wrapAll(e.call(this,t))}));if(this[0]){var t=p(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e})).append(this)}return this},wrapInner:function(e){return p.isFunction(e)?this.each((function(t){p(this).wrapInner(e.call(this,t))})):this.each((function(){var t=p(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=p.isFunction(e);return this.each((function(n){p(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(){return this.parent().each((function(){p.nodeName(this,"body")||p(this).replaceWith(this.childNodes)})).end()}}),p.expr.filters.hidden=function(e){return f.reliableHiddenOffsets()?e.offsetWidth<=0&&e.offsetHeight<=0&&!e.getClientRects().length:en(e)},p.expr.filters.visible=function(e){return!p.expr.filters.hidden(e)};var tn=/%20/g,nn=/\[\]$/,rn=/\r?\n/g,on=/^(?:submit|button|image|reset|file)$/i,an=/^(?:input|select|textarea|keygen)/i;function sn(e,t,n,r){var i;if(p.isArray(t))p.each(t,(function(t,i){n||nn.test(e)?r(e,i):sn(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)}));else if(n||"object"!==p.type(t))r(e,t);else for(i in t)sn(e+"["+i+"]",t[i],n,r)}p.param=function(e,t){var n,r=[],i=function(e,t){t=p.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=p.ajaxSettings&&p.ajaxSettings.traditional),p.isArray(e)||e.jquery&&!p.isPlainObject(e))p.each(e,(function(){i(this.name,this.value)}));else for(n in e)sn(n,e[n],t,i);return r.join("&").replace(tn,"+")},p.fn.extend({serialize:function(){return p.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=p.prop(this,"elements");return e?p.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!p(this).is(":disabled")&&an.test(this.nodeName)&&!on.test(e)&&(this.checked||!K.test(e))})).map((function(e,t){var n=p(this).val();return null==n?null:p.isArray(n)?p.map(n,(function(e){return{name:t.name,value:e.replace(rn,"\r\n")}})):{name:t.name,value:n.replace(rn,"\r\n")}})).get()}}),p.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return this.isLocal?dn():r.documentMode>8?fn():/^(get|post|head|put|delete|options)$/i.test(this.type)&&fn()||dn()}:fn;var un=0,ln={},cn=p.ajaxSettings.xhr();function fn(){try{return new e.XMLHttpRequest}catch(t){}}function dn(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}e.attachEvent&&e.attachEvent("onunload",(function(){for(var e in ln)ln[e](void 0,!0)})),f.cors=!!cn&&"withCredentials"in cn,(cn=f.ajax=!!cn)&&p.ajaxTransport((function(t){var n;if(!t.crossDomain||f.cors)return{send:function(r,i){var o,a=t.xhr(),s=++un;if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)a[o]=t.xhrFields[o];for(o in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)void 0!==r[o]&&a.setRequestHeader(o,r[o]+"");a.send(t.hasContent&&t.data||null),n=function(e,r){var o,u,l;if(n&&(r||4===a.readyState))if(delete ln[s],n=void 0,a.onreadystatechange=p.noop,r)4!==a.readyState&&a.abort();else{l={},o=a.status,"string"==typeof a.responseText&&(l.text=a.responseText);try{u=a.statusText}catch(c){u=""}o||!t.isLocal||t.crossDomain?1223===o&&(o=204):o=l.text?200:404}l&&i(o,u,l,a.getAllResponseHeaders())},t.async?4===a.readyState?e.setTimeout(n):a.onreadystatechange=ln[s]=n:n()},abort:function(){n&&n(void 0,!0)}}})),p.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),p.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return p.globalEval(e),e}}}),p.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)})),p.ajaxTransport("script",(function(e){if(e.crossDomain){var t,n=r.head||p("head")[0]||r.documentElement;return{send:function(i,o){(t=r.createElement("script")).async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||o(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}}));var pn=[],hn=/(=)\?(?=&|$)|\?\?/;p.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=pn.pop()||p.expando+"_"+qt++;return this[e]=!0,e}}),p.ajaxPrefilter("json jsonp",(function(t,n,r){var i,o,a,s=!1!==t.jsonp&&(hn.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&hn.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=p.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(hn,"$1"+i):!1!==t.jsonp&&(t.url+=(_t.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||p.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always((function(){void 0===o?p(e).removeProp(i):e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,pn.push(i)),a&&p.isFunction(o)&&o(a[0]),a=o=void 0})),"script"})),f.createHTMLDocument=function(){if(!r.implementation.createHTMLDocument)return!1;var e=r.implementation.createHTMLDocument("");return e.body.innerHTML="<form></form><form></form>",2===e.body.childNodes.length}(),p.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||(f.createHTMLDocument?r.implementation.createHTMLDocument(""):r);var i=C.exec(e),o=!n&&[];return i?[t.createElement(i[1])]:(i=pe([e],t,o),o&&o.length&&p(o).remove(),p.merge([],i.childNodes))};var mn=p.fn.load;function gn(e){return p.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}p.fn.load=function(e,t,n){if("string"!=typeof e&&mn)return mn.apply(this,arguments);var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=p.trim(e.slice(s,e.length)),e=e.slice(0,s)),p.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&p.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done((function(e){o=arguments,a.html(r?p("<div>").append(p.parseHTML(e)).find(r):e)})).always(n&&function(e,t){a.each((function(){n.apply(a,o||[e.responseText,t,e])}))}),this},p.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){p.fn[t]=function(e){return this.on(t,e)}})),p.expr.filters.animated=function(e){return p.grep(p.timers,(function(t){return e===t.elem})).length},p.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l,c=p.css(e,"position"),f=p(e),d={};"static"===c&&(e.style.position="relative"),s=f.offset(),o=p.css(e,"top"),u=p.css(e,"left"),(l=("absolute"===c||"fixed"===c)&&p.inArray("auto",[o,u])>-1)?(a=(r=f.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),p.isFunction(t)&&(t=t.call(e,n,p.extend({},s))),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+i),"using"in t?t.using.call(e,d):f.css(d)}},p.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){p.offset.setOffset(this,e,t)}));var t,n,r={top:0,left:0},i=this[0],o=i&&i.ownerDocument;return o?(t=o.documentElement,p.contains(t,i)?(void 0!==i.getBoundingClientRect&&(r=i.getBoundingClientRect()),n=gn(o),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r):void 0},position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===p.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),p.nodeName(e[0],"html")||(n=e.offset()),n.top+=p.css(e[0],"borderTopWidth",!0),n.left+=p.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-p.css(r,"marginTop",!0),left:t.left-n.left-p.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&!p.nodeName(e,"html")&&"static"===p.css(e,"position");)e=e.offsetParent;return e||Ue}))}}),p.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n=/Y/.test(t);p.fn[e]=function(r){return G(this,(function(e,r,i){var o=gn(e);if(void 0===i)return o?t in o?o[t]:o.document.documentElement[r]:e[r];o?o.scrollTo(n?p(o).scrollLeft():i,n?i:p(o).scrollTop()):e[r]=i}),e,r,arguments.length,null)}})),p.each(["top","left"],(function(e,t){p.cssHooks[t]=Je(f.pixelPosition,(function(e,n){if(n)return n=Qe(e,t),ze.test(n)?p(e).position()[t]+"px":n}))})),p.each({Height:"height",Width:"width"},(function(e,t){p.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,r){p.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===i?"margin":"border");return G(this,(function(t,n,r){var i;return p.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?p.css(t,n,a):p.style(t,n,r,a)}),t,o?r:void 0,o,null)}}))})),p.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),p.fn.size=function(){return this.length},p.fn.andSelf=p.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],(function(){return p}));var vn=e.jQuery,yn=e.$;return p.noConflict=function(t){return e.$===p&&(e.$=yn),t&&e.jQuery===p&&(e.jQuery=vn),p},t||(e.jQuery=e.$=p),p}))}}}}},{extensions:[".js",".json"]})("/node_modules/meteor/jquery/main.js");Package._define("jquery",u,{$:o,jQuery:void 0})}();

!function(){var n,t;(function(){n={}}).call(this),function(){(function(){var t=this,r=t._,e={},u=Array.prototype,i=Object.prototype,a=Function.prototype,c=u.push,o=u.slice,l=u.concat,f=i.toString,s=i.hasOwnProperty,p=u.forEach,h=u.map,v=u.reduce,y=u.reduceRight,d=u.filter,g=u.every,m=u.some,b=u.indexOf,_=u.lastIndexOf,w=Array.isArray,x=Object.keys,j=a.bind,A=function(n){return n instanceof A?n:this instanceof A?void(this._wrapped=n):new A(n)};void 0!==n?("undefined"!=typeof module&&module.exports&&(n=module.exports=A),n._=A):t._=A,A.VERSION="1.5.2";var O=function(n){return"[object Arguments]"===f.call(n)};O(arguments)||(O=function(n){return!(!n||!s.call(n,"callee")||"function"!=typeof n.callee)});var E=function(n){return n.length===+n.length&&(O(n)||n.constructor!==Object)},k=A.each=A.forEach=function(n,t,r){if(null!=n)if(p&&n.forEach===p)n.forEach(t,r);else if(E(n)){for(var u=0,i=n.length;u<i;u++)if(t.call(r,n[u],u,n)===e)return}else for(var a=A.keys(n),u=0,i=a.length;u<i;u++)if(t.call(r,n[a[u]],a[u],n)===e)return};A.map=A.collect=function(n,t,r){var e=[];return null==n?e:h&&n.map===h?n.map(t,r):(k(n,(function(n,u,i){e.push(t.call(r,n,u,i))})),e)};var F="Reduce of empty array with no initial value";A.reduce=A.foldl=A.inject=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),v&&n.reduce===v)return e&&(t=A.bind(t,e)),u?n.reduce(t,r):n.reduce(t);if(k(n,(function(n,i,a){u?r=t.call(e,r,n,i,a):(r=n,u=!0)})),!u)throw new TypeError(F);return r},A.reduceRight=A.foldr=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),y&&n.reduceRight===y)return e&&(t=A.bind(t,e)),u?n.reduceRight(t,r):n.reduceRight(t);var i=n.length;if(!E(n)){var a=A.keys(n);i=a.length}if(k(n,(function(c,o,l){o=a?a[--i]:--i,u?r=t.call(e,r,n[o],o,l):(r=n[o],u=!0)})),!u)throw new TypeError(F);return r},A.find=A.detect=function(n,t,r){var e;return M(n,(function(n,u,i){if(t.call(r,n,u,i))return e=n,!0})),e},A.filter=A.select=function(n,t,r){var e=[];return null==n?e:d&&n.filter===d?n.filter(t,r):(k(n,(function(n,u,i){t.call(r,n,u,i)&&e.push(n)})),e)},A.reject=function(n,t,r){return A.filter(n,(function(n,e,u){return!t.call(r,n,e,u)}),r)},A.every=A.all=function(n,t,r){t||(t=A.identity);var u=!0;return null==n?u:g&&n.every===g?n.every(t,r):(k(n,(function(n,i,a){if(!(u=u&&t.call(r,n,i,a)))return e})),!!u)};var M=A.some=A.any=function(n,t,r){t||(t=A.identity);var u=!1;return null==n?u:m&&n.some===m?n.some(t,r):(k(n,(function(n,i,a){if(u||(u=t.call(r,n,i,a)))return e})),!!u)};A.contains=A.include=function(n,t){return null!=n&&(b&&n.indexOf===b?-1!=n.indexOf(t):M(n,(function(n){return n===t})))},A.invoke=function(n,t){var r=o.call(arguments,2),e=A.isFunction(t);return A.map(n,(function(n){return(e?t:n[t]).apply(n,r)}))},A.pluck=function(n,t){return A.map(n,(function(n){return n[t]}))},A.where=function(n,t,r){return A.isEmpty(t)?r?void 0:[]:A[r?"find":"filter"](n,(function(n){for(var r in t)if(t[r]!==n[r])return!1;return!0}))},A.findWhere=function(n,t){return A.where(n,t,!0)},A.max=function(n,t,r){if(!t&&A.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.max.apply(Math,n);if(!t&&A.isEmpty(n))return-1/0;var e={computed:-1/0,value:-1/0};return k(n,(function(n,u,i){var a=t?t.call(r,n,u,i):n;a>e.computed&&(e={value:n,computed:a})})),e.value},A.min=function(n,t,r){if(!t&&A.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.min.apply(Math,n);if(!t&&A.isEmpty(n))return 1/0;var e={computed:1/0,value:1/0};return k(n,(function(n,u,i){var a=t?t.call(r,n,u,i):n;a<e.computed&&(e={value:n,computed:a})})),e.value},A.shuffle=function(n){var t,r=0,e=[];return k(n,(function(n){t=A.random(r++),e[r-1]=e[t],e[t]=n})),e},A.sample=function(n,t,r){return arguments.length<2||r?n[A.random(n.length-1)]:A.shuffle(n).slice(0,Math.max(0,t))};var R=function(n){return A.isFunction(n)?n:function(t){return t[n]}};A.sortBy=function(n,t,r){var e=R(t);return A.pluck(A.map(n,(function(n,t,u){return{value:n,index:t,criteria:e.call(r,n,t,u)}})).sort((function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||void 0===r)return 1;if(r<e||void 0===e)return-1}return n.index-t.index})),"value")};var S=function(n){return function(t,r,e){var u={},i=null==r?A.identity:R(r);return k(t,(function(r,a){var c=i.call(e,r,a,t);n(u,c,r)})),u}};A.groupBy=S((function(n,t,r){(A.has(n,t)?n[t]:n[t]=[]).push(r)})),A.indexBy=S((function(n,t,r){n[t]=r})),A.countBy=S((function(n,t){A.has(n,t)?n[t]++:n[t]=1})),A.sortedIndex=function(n,t,r,e){for(var u=(r=null==r?A.identity:R(r)).call(e,t),i=0,a=n.length;i<a;){var c=i+a>>>1;r.call(e,n[c])<u?i=c+1:a=c}return i},A.toArray=function(n){return n?A.isArray(n)?o.call(n):E(n)?A.map(n,A.identity):A.values(n):[]},A.size=function(n){return null==n?0:E(n)?n.length:A.keys(n).length},A.first=A.head=A.take=function(n,t,r){if(null!=n)return null==t||r?n[0]:o.call(n,0,t)},A.initial=function(n,t,r){return o.call(n,0,n.length-(null==t||r?1:t))},A.last=function(n,t,r){if(null!=n)return null==t||r?n[n.length-1]:o.call(n,Math.max(n.length-t,0))},A.rest=A.tail=A.drop=function(n,t,r){return o.call(n,null==t||r?1:t)},A.compact=function(n){return A.filter(n,A.identity)};var I=function(n,t,r){return t&&A.every(n,A.isArray)?l.apply(r,n):(k(n,(function(n){A.isArray(n)||A.isArguments(n)?t?c.apply(r,n):I(n,t,r):r.push(n)})),r)};A.flatten=function(n,t){return I(n,t,[])},A.without=function(n){return A.difference(n,o.call(arguments,1))},A.uniq=A.unique=function(n,t,r,e){A.isFunction(t)&&(e=r,r=t,t=!1);var u=r?A.map(n,r,e):n,i=[],a=[];return k(u,(function(r,e){(t?e&&a[a.length-1]===r:A.contains(a,r))||(a.push(r),i.push(n[e]))})),i},A.union=function(){return A.uniq(A.flatten(arguments,!0))},A.intersection=function(n){var t=o.call(arguments,1);return A.filter(A.uniq(n),(function(n){return A.every(t,(function(t){return A.indexOf(t,n)>=0}))}))},A.difference=function(n){var t=l.apply(u,o.call(arguments,1));return A.filter(n,(function(n){return!A.contains(t,n)}))},A.zip=function(){for(var n=A.max(A.pluck(arguments,"length").concat(0)),t=new Array(n),r=0;r<n;r++)t[r]=A.pluck(arguments,""+r);return t},A.object=function(n,t){if(null==n)return{};for(var r={},e=0,u=n.length;e<u;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},A.indexOf=function(n,t,r){if(null==n)return-1;var e=0,u=n.length;if(r){if("number"!=typeof r)return n[e=A.sortedIndex(n,t)]===t?e:-1;e=r<0?Math.max(0,u+r):r}if(b&&n.indexOf===b)return n.indexOf(t,r);for(;e<u;e++)if(n[e]===t)return e;return-1},A.lastIndexOf=function(n,t,r){if(null==n)return-1;var e=null!=r;if(_&&n.lastIndexOf===_)return e?n.lastIndexOf(t,r):n.lastIndexOf(t);for(var u=e?r:n.length;u--;)if(n[u]===t)return u;return-1},A.range=function(n,t,r){arguments.length<=1&&(t=n||0,n=0),r=arguments[2]||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=0,i=new Array(e);u<e;)i[u++]=n,n+=r;return i};var T=function(){};A.bind=function(n,t){var r,e;if(j&&n.bind===j)return j.apply(n,o.call(arguments,1));if(!A.isFunction(n))throw new TypeError;return r=o.call(arguments,2),e=function(){if(!(this instanceof e))return n.apply(t,r.concat(o.call(arguments)));T.prototype=n.prototype;var u=new T;T.prototype=null;var i=n.apply(u,r.concat(o.call(arguments)));return Object(i)===i?i:u}},A.partial=function(n){var t=o.call(arguments,1);return function(){return n.apply(this,t.concat(o.call(arguments)))}},A.bindAll=function(n){var t=o.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return k(t,(function(t){n[t]=A.bind(n[t],n)})),n},A.memoize=function(n,t){var r={};return t||(t=A.identity),function(){var e=t.apply(this,arguments);return A.has(r,e)?r[e]:r[e]=n.apply(this,arguments)}},A.delay=function(n,t){var r=o.call(arguments,2);return setTimeout((function(){return n.apply(null,r)}),t)},A.defer=function(n){return A.delay.apply(A,[n,1].concat(o.call(arguments,1)))},A.throttle=function(n,t,r){var e,u,i,a=null,c=0;r||(r={});var o=function(){c=!1===r.leading?0:new Date,a=null,i=n.apply(e,u)};return function(){var l=new Date;c||!1!==r.leading||(c=l);var f=t-(l-c);return e=this,u=arguments,f<=0?(clearTimeout(a),a=null,c=l,i=n.apply(e,u)):a||!1===r.trailing||(a=setTimeout(o,f)),i}},A.debounce=function(n,t,r){var e,u,i,a,c;return function(){i=this,u=arguments,a=new Date;var o=function(){var l=new Date-a;l<t?e=setTimeout(o,t-l):(e=null,r||(c=n.apply(i,u)))},l=r&&!e;return e||(e=setTimeout(o,t)),l&&(c=n.apply(i,u)),c}},A.once=function(n){var t=!1,r;return function(){return t?r:(t=!0,r=n.apply(this,arguments),n=null,r)}},A.wrap=function(n,t){return function(){var r=[n];return c.apply(r,arguments),t.apply(this,r)}},A.compose=function(){var n=arguments;return function(){for(var t=arguments,r=n.length-1;r>=0;r--)t=[n[r].apply(this,t)];return t[0]}},A.after=function(n,t){return function(){if(--n<1)return t.apply(this,arguments)}},A.keys=x||function(n){if(n!==Object(n))throw new TypeError("Invalid object");var t=[];for(var r in n)A.has(n,r)&&t.push(r);return t},A.values=function(n){for(var t=A.keys(n),r=t.length,e=new Array(r),u=0;u<r;u++)e[u]=n[t[u]];return e},A.pairs=function(n){for(var t=A.keys(n),r=t.length,e=new Array(r),u=0;u<r;u++)e[u]=[t[u],n[t[u]]];return e},A.invert=function(n){for(var t={},r=A.keys(n),e=0,u=r.length;e<u;e++)t[n[r[e]]]=r[e];return t},A.functions=A.methods=function(n){var t=[];for(var r in n)A.isFunction(n[r])&&t.push(r);return t.sort()},A.extend=function(n){return k(o.call(arguments,1),(function(t){if(t)for(var r in t)n[r]=t[r]})),n},A.pick=function(n){var t={},r=l.apply(u,o.call(arguments,1));return k(r,(function(r){r in n&&(t[r]=n[r])})),t},A.omit=function(n){var t={},r=l.apply(u,o.call(arguments,1));for(var e in n)A.contains(r,e)||(t[e]=n[e]);return t},A.defaults=function(n){return k(o.call(arguments,1),(function(t){if(t)for(var r in t)void 0===n[r]&&(n[r]=t[r])})),n},A.clone=function(n){return A.isObject(n)?A.isArray(n)?n.slice():A.extend({},n):n},A.tap=function(n,t){return t(n),n};var N=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;n instanceof A&&(n=n._wrapped),t instanceof A&&(t=t._wrapped);var u=f.call(n);if(u!=f.call(t))return!1;switch(u){case"[object String]":return n==String(t);case"[object Number]":return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case"[object Date]":case"[object Boolean]":return+n==+t;case"[object RegExp]":return n.source==t.source&&n.global==t.global&&n.multiline==t.multiline&&n.ignoreCase==t.ignoreCase}if("object"!=typeof n||"object"!=typeof t)return!1;for(var i=r.length;i--;)if(r[i]==n)return e[i]==t;var a=n.constructor,c=t.constructor;if(a!==c&&!(A.isFunction(a)&&a instanceof a&&A.isFunction(c)&&c instanceof c))return!1;r.push(n),e.push(t);var o=0,l=!0;if("[object Array]"==u){if(l=(o=n.length)==t.length)for(;o--&&(l=N(n[o],t[o],r,e)););}else{for(var s in n)if(A.has(n,s)&&(o++,!(l=A.has(t,s)&&N(n[s],t[s],r,e))))break;if(l){for(s in t)if(A.has(t,s)&&!o--)break;l=!o}}return r.pop(),e.pop(),l};A.isEqual=function(n,t){return N(n,t,[],[])},A.isEmpty=function(n){if(null==n)return!0;if(A.isArray(n)||A.isString(n))return 0===n.length;for(var t in n)if(A.has(n,t))return!1;return!0},A.isElement=function(n){return!(!n||1!==n.nodeType)},A.isArray=w||function(n){return"[object Array]"==f.call(n)},A.isObject=function(n){return n===Object(n)},k(["Arguments","Function","String","Number","Date","RegExp"],(function(n){A["is"+n]=function(t){return f.call(t)=="[object "+n+"]"}})),A.isArguments(arguments)||(A.isArguments=function(n){return!(!n||!A.has(n,"callee"))}),"function"!=typeof/./&&(A.isFunction=function(n){return"function"==typeof n}),A.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},A.isNaN=function(n){return A.isNumber(n)&&n!=+n},A.isBoolean=function(n){return!0===n||!1===n||"[object Boolean]"==f.call(n)},A.isNull=function(n){return null===n},A.isUndefined=function(n){return void 0===n},A.has=function(n,t){return s.call(n,t)},A.noConflict=function(){return t._=r,this},A.identity=function(n){return n},A.times=function(n,t,r){for(var e=Array(Math.max(0,n)),u=0;u<n;u++)e[u]=t.call(r,u);return e},A.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))};var q={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};q.unescape=A.invert(q.escape);var B={escape:new RegExp("["+A.keys(q.escape).join("")+"]","g"),unescape:new RegExp("("+A.keys(q.unescape).join("|")+")","g")};A.each(["escape","unescape"],(function(n){A[n]=function(t){return null==t?"":(""+t).replace(B[n],(function(t){return q[n][t]}))}})),A.result=function(n,t){if(null!=n){var r=n[t];return A.isFunction(r)?r.call(n):r}},A.mixin=function(n){k(A.functions(n),(function(t){var r=A[t]=n[t];A.prototype[t]=function(){var n=[this._wrapped];return c.apply(n,arguments),U.call(this,r.apply(A,n))}}))};var D=0;A.uniqueId=function(n){var t=++D+"";return n?n+t:t},A.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var z=/(.)^/,C={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},P=/\\|'|\r|\n|\t|\u2028|\u2029/g;A.template=function(n,t,r){var e;r=A.defaults({},r,A.templateSettings);var u=new RegExp([(r.escape||z).source,(r.interpolate||z).source,(r.evaluate||z).source].join("|")+"|$","g"),i=0,a="__p+='";n.replace(u,(function(t,r,e,u,c){return a+=n.slice(i,c).replace(P,(function(n){return"\\"+C[n]})),r&&(a+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'"),e&&(a+="'+\n((__t=("+e+"))==null?'':__t)+\n'"),u&&(a+="';\n"+u+"\n__p+='"),i=c+t.length,t})),a+="';\n",r.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{e=new Function(r.variable||"obj","_",a)}catch(o){throw o.source=a,o}if(t)return e(t,A);var c=function(n){return e.call(this,n,A)};return c.source="function("+(r.variable||"obj")+"){\n"+a+"}",c},A.chain=function(n){return A(n).chain()};var U=function(n){return this._chain?A(n).chain():n};A.mixin(A),k(["pop","push","reverse","shift","sort","splice","unshift"],(function(n){var t=u[n];A.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!=n&&"splice"!=n||0!==r.length||delete r[0],U.call(this,r)}})),k(["concat","join","slice"],(function(n){var t=u[n];A.prototype[n]=function(){return U.call(this,t.apply(this._wrapped,arguments))}})),A.extend(A.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this)}.call(this),function(){t=n._}.call(this),Package._define("underscore",{_:t})}();

!function(){var e=Package.meteor.Meteor,n=Package.meteor.global,r=Package.meteor.meteorEnv,t=Package.tracker.Tracker,i=Package.tracker.Deps,o=Package["mongo-id"].MongoID,a=Package["diff-sequence"].DiffSequence,c=Package.underscore._,f=Package.random.Random,u,d,s,l;(function(){var e=function(){u._suppressWarnings?u._suppressWarnings--:("undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments),u._loggedWarnings++)};function n(e){return e instanceof Array||c.isArray(e)}var r=o.idStringify,i=o.idParse;u={_suppressWarnings:0,_loggedWarnings:0,observe:function(e,r){var i=null,o=null,f=[],u=t.autorun((function(){var u=e();t.nonreactive((function(){var e;if(o&&(f=c.map(i.fetch(),(function(e){return{_id:e._id,item:e}})),o.stop(),o=null),u)if(n(u))e=s(f,u,r);else{if(!v(u))throw a();var t=l(f,u,r);e=t[0],o=t[1]}else e=d(f,r);p(f,e,r),i=u,f=e}))}));return{stop:function(){u.stop(),o&&o.stop()}}},fetch:function(e){if(e){if(n(e))return e;if(v(e))return e.fetch();throw a()}return[]}};var a=function(){return new Error("{{#each}} currently only accepts arrays, cursors or falsey values.")},v=function(e){return e&&c.isObject(e)&&c.isFunction(e.observe)&&c.isFunction(e.fetch)},p=function(e,n,t){var o=Package["diff-sequence"].DiffSequence.diffQueryOrderedChanges,a=[],f=[],u={},d={},s={},l=e.length;c.each(n,(function(e,n){f.push({_id:e._id}),d[r(e._id)]=n})),c.each(e,(function(e,n){a.push({_id:e._id}),u[r(e._id)]=n,s[r(e._id)]=n})),o(a,f,{addedBefore:function(e,i,o){var a=o?s[r(o)]:l;o&&c.each(s,(function(e,n){e>=a&&s[n]++})),l++,s[r(e)]=a,t.addedAt(e,n[d[r(e)]].item,a,o)},movedBefore:function(e,i){if(e!==i){var o=s[r(e)],a=i?s[r(i)]:l;a>o&&a--,c.each(s,(function(e,n){o<e&&e<a?s[n]--:a<=e&&e<o&&s[n]++})),s[r(e)]=a,t.movedTo(e,n[d[r(e)]].item,o,a,i)}},removed:function(n){var i=s[r(n)];c.each(s,(function(e,n){e>=i&&s[n]--})),delete s[r(n)],l--,t.removedAt(n,e[u[r(n)]].item,i)}}),c.each(d,(function(r,o){var a=i(o);if(c.has(u,o)){var f=n[r].item,d=e[u[o]].item;"object"!=typeof f&&f===d||t.changedAt(a,f,d,r)}}))};d=function(e,n){return[]},s=function(n,t,i){var o={},a;return c.map(t,(function(n,i){var a;if("string"==typeof n)a="-"+n;else if("number"==typeof n||"boolean"==typeof n||null==n)a=n;else{if("object"!=typeof n)throw new Error("{{#each}} doesn't support arrays with elements of type "+typeof n);a=n&&"_id"in n?n._id:i}var c=r(a);return o[c]?(n&&"object"==typeof n&&"_id"in n&&e("duplicate id "+a+" in",t),a=f.id()):o[c]=!0,{_id:a,item:n}}))},l=function(e,n,r){var t=!0,i=[],o=n.observe({addedAt:function(e,n,o){if(t){if(null!==o)throw new Error("Expected initial data from observe in order");i.push({_id:e._id,item:e})}else r.addedAt(e._id,e,n,o)},changedAt:function(e,n,t){r.changedAt(e._id,e,n,t)},removedAt:function(e,n){r.removedAt(e._id,e,n)},movedTo:function(e,n,t,i){r.movedTo(e._id,e,n,t,i)}});return t=!1,[i,o]}}).call(this),Package._define("observe-sequence",{ObserveSequence:u})}();

!function(){var e=Package.tracker.Tracker,a=Package.tracker.Deps;Package._define("deps",{Tracker:e,Deps:a})}();

!function(){var t=Package.meteor.Meteor,e=Package.meteor.global,i=Package.meteor.meteorEnv,r=Package.tracker.Tracker,n=Package.tracker.Deps,o,a,s;(function(){o={},a=function(t){return t},s=Array.prototype.slice}).call(this),function(){var t=Object.prototype.hasOwnProperty,e=function(e,i){for(var r in i)t.call(i,r)&&(e[r]=i[r]);return e};o.Visitor=function(t){e(this,t)},o.Visitor.def=function(t){e(this.prototype,t)},o.Visitor.extend=function(t){var i=this,r=function t(){o.Visitor.apply(this,arguments)};return r.prototype=new this,r.extend=this.extend,r.def=this.def,t&&e(r.prototype,t),r},o.Visitor.def({visit:function(t){if(null==t)return this.visitNull.apply(this,arguments);if("object"==typeof t){if(t.htmljsType)switch(t.htmljsType){case o.Tag.htmljsType:return this.visitTag.apply(this,arguments);case o.CharRef.htmljsType:return this.visitCharRef.apply(this,arguments);case o.Comment.htmljsType:return this.visitComment.apply(this,arguments);case o.Raw.htmljsType:return this.visitRaw.apply(this,arguments);default:throw new Error("Unknown htmljs type: "+t.htmljsType)}return o.isArray(t)?this.visitArray.apply(this,arguments):this.visitObject.apply(this,arguments)}if("string"==typeof t||"boolean"==typeof t||"number"==typeof t)return this.visitPrimitive.apply(this,arguments);if("function"==typeof t)return this.visitFunction.apply(this,arguments);throw new Error("Unexpected object in htmljs: "+t)},visitNull:function(t){},visitPrimitive:function(t){},visitArray:function(t){},visitComment:function(t){},visitCharRef:function(t){},visitRaw:function(t){},visitTag:function(t){},visitObject:function(t){throw new Error("Unexpected object in htmljs: "+t)},visitFunction:function(t){throw new Error("Unexpected function in htmljs: "+t)}}),o.TransformingVisitor=o.Visitor.extend(),o.TransformingVisitor.def({visitNull:a,visitPrimitive:a,visitArray:function(t){for(var e=s.call(arguments),i=t,r=0;r<t.length;r++){var n=t[r];e[0]=n;var o=this.visit.apply(this,e);o!==n&&(i===t&&(i=t.slice()),i[r]=o)}return i},visitComment:a,visitCharRef:a,visitRaw:a,visitObject:a,visitFunction:a,visitTag:function(t){var e=t.children,i=s.call(arguments);i[0]=e;var r=this.visitChildren.apply(this,i),n=t.attrs;i[0]=n;var a=this.visitAttributes.apply(this,i);if(a===n&&r===e)return t;var l=o.getTag(t.tagName).apply(null,r);return l.attrs=a,l},visitChildren:function(t){return this.visitArray.apply(this,arguments)},visitAttributes:function(t){if(o.isArray(t)){for(var i=s.call(arguments),r=t,n=0;n<t.length;n++){var a=t[n];i[0]=a;var l=this.visitAttributes.apply(this,i);l!==a&&(r===t&&(r=t.slice()),r[n]=l)}return r}if(t&&o.isConstructedObject(t))throw new Error("The basic HTML.TransformingVisitor does not support foreign objects in attributes.  Define a custom visitAttributes for this case.");var u=t,f=u;if(u){var c=[null,null];for(var h in c.push.apply(c,arguments),u){var p=u[h];c[0]=h,c[1]=p;var m=this.visitAttribute.apply(this,c);m!==p&&(f===u&&(f=e({},u)),f[h]=m)}}return f},visitAttribute:function(t,e,i){var r=s.call(arguments,2);return r[0]=e,this.visit.apply(this,r)}}),o.ToTextVisitor=o.Visitor.extend(),o.ToTextVisitor.def({visitNull:function(t){return""},visitPrimitive:function(t){var e=String(t);return this.textMode===o.TEXTMODE.RCDATA?e.replace(/&/g,"&amp;").replace(/</g,"&lt;"):this.textMode===o.TEXTMODE.ATTRIBUTE?e.replace(/&/g,"&amp;").replace(/"/g,"&quot;"):e},visitArray:function(t){for(var e=[],i=0;i<t.length;i++)e.push(this.visit(t[i]));return e.join("")},visitComment:function(t){throw new Error("Can't have a comment here")},visitCharRef:function(t){return this.textMode===o.TEXTMODE.RCDATA||this.textMode===o.TEXTMODE.ATTRIBUTE?t.html:t.str},visitRaw:function(t){return t.value},visitTag:function(t){return this.visit(this.toHTML(t))},visitObject:function(t){throw new Error("Unexpected object in htmljs in toText: "+t)},toHTML:function(t){return o.toHTML(t)}}),o.ToHTMLVisitor=o.Visitor.extend(),o.ToHTMLVisitor.def({visitNull:function(t){return""},visitPrimitive:function(t){var e;return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;")},visitArray:function(t){for(var e=[],i=0;i<t.length;i++)e.push(this.visit(t[i]));return e.join("")},visitComment:function(t){return"\x3c!--"+t.sanitizedValue+"--\x3e"},visitCharRef:function(t){return t.html},visitRaw:function(t){return t.value},visitTag:function(t){var e=[],i=t.tagName,r=t.children,n=t.attrs;if(n)for(var a in n=o.flattenAttributes(n))if("value"===a&&"textarea"===i)r=[n[a],r];else{var s=this.toText(n[a],o.TEXTMODE.ATTRIBUTE);e.push(" "+a+'="'+s+'"')}var l="<"+i+e.join("")+">",u=[],f;if("textarea"===i){for(var c=0;c<r.length;c++)u.push(this.toText(r[c],o.TEXTMODE.RCDATA));"\n"===(f=u.join("")).slice(0,1)&&(f="\n"+f)}else{for(var c=0;c<r.length;c++)u.push(this.visit(r[c]));f=u.join("")}var h=l+f;return!r.length&&o.isVoidElement(i)||(h+="</"+i+">"),h},visitObject:function(t){throw new Error("Unexpected object in htmljs in toHTML: "+t)},toText:function(t,e){return o.toText(t,e)}})}.call(this),function(){o.Tag=function(){},o.Tag.prototype.tagName="",o.Tag.prototype.attrs=null,o.Tag.prototype.children=Object.freeze?Object.freeze([]):[],o.Tag.prototype.htmljsType=o.Tag.htmljsType=["Tag"];var t=function(t){var e=function(){var t=this instanceof o.Tag?this:new e,i=0,r=arguments.length&&arguments[0];if(r&&"object"==typeof r)if(o.isConstructedObject(r)){if(r instanceof o.Attrs){var n=r.value;1===n.length?t.attrs=n[0]:n.length>1&&(t.attrs=n),i++}}else t.attrs=r,i++;return i<arguments.length&&(t.children=s.call(arguments,i)),t};return e.prototype=new o.Tag,e.prototype.constructor=e,e.prototype.tagName=t,e},e=o.Attrs=function(){var t=this instanceof e?this:new e;return t.value=s.call(arguments),t};o.getTag=function(e){var i=o.getSymbolName(e);if(i===e)throw new Error("Use the lowercase or camelCase form of '"+e+"' here");return o[i]||(o[i]=t(e)),o[i]},o.ensureTag=function(t){o.getTag(t)},o.isTagEnsured=function(t){return o.isKnownElement(t)},o.getSymbolName=function(t){return t.toUpperCase().replace(/-/g,"_")},o.knownElementNames="a abbr acronym address applet area article aside audio b base basefont bdi bdo big blockquote body br button canvas caption center cite code col colgroup command data datagrid datalist dd del details dfn dir div dl dt em embed eventsource fieldset figcaption figure font footer form frame frameset h1 h2 h3 h4 h5 h6 head header hgroup hr html i iframe img input ins isindex kbd keygen label legend li link main map mark menu meta meter nav noframes noscript object ol optgroup option output p param pre progress q rp rt ruby s samp script section select small source span strike strong style sub summary sup table tbody td textarea tfoot th thead time title tr track tt u ul var video wbr".split(" "),o.knownSVGElementNames="altGlyph altGlyphDef altGlyphItem animate animateColor animateMotion animateTransform circle clipPath color-profile cursor defs desc ellipse feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence filter font font-face font-face-format font-face-name font-face-src font-face-uri foreignObject g glyph glyphRef hkern image line linearGradient marker mask metadata missing-glyph path pattern polygon polyline radialGradient rect set stop style svg switch symbol text textPath title tref tspan use view vkern".split(" "),o.knownElementNames=o.knownElementNames.concat(o.knownSVGElementNames),o.voidElementNames="area base br col command embed hr img input keygen link meta param source track wbr".split(" ");var i={yes:!0},r=function(t){for(var e={},r=0;r<t.length;r++)e[t[r]]=i;return e},n=r(o.voidElementNames),a=r(o.knownElementNames),l=r(o.knownSVGElementNames);o.isKnownElement=function(t){return a[t]===i},o.isKnownSVGElement=function(t){return l[t]===i},o.isVoidElement=function(t){return n[t]===i};for(var u=0;u<o.knownElementNames.length;u++)o.ensureTag(o.knownElementNames[u]);var f=o.CharRef=function(t){if(!(this instanceof f))return new f(t);if(!(t&&t.html&&t.str))throw new Error("HTML.CharRef must be constructed with ({html:..., str:...})");this.html=t.html,this.str=t.str};f.prototype.htmljsType=f.htmljsType=["CharRef"];var c=o.Comment=function(t){if(!(this instanceof c))return new c(t);if("string"!=typeof t)throw new Error("HTML.Comment must be constructed with a string");this.value=t,this.sanitizedValue=t.replace(/^-|--+|-$/g,"")};c.prototype.htmljsType=c.htmljsType=["Comment"];var h=o.Raw=function(t){if(!(this instanceof h))return new h(t);if("string"!=typeof t)throw new Error("HTML.Raw must be constructed with a string");this.value=t};h.prototype.htmljsType=h.htmljsType=["Raw"],o.isArray=function(t){return t instanceof Array},o.isConstructedObject=function(t){return t&&"object"==typeof t&&t.constructor!==Object&&"function"==typeof t.constructor&&t instanceof t.constructor},o.isNully=function(t){if(null==t)return!0;if(o.isArray(t)){for(var e=0;e<t.length;e++)if(!o.isNully(t[e]))return!1;return!0}return!1},o.isValidAttributeName=function(t){return/^[:_A-Za-z][:_A-Za-z0-9.\-]*/.test(t)},o.flattenAttributes=function(t){if(!t)return t;var e=o.isArray(t);if(e&&0===t.length)return null;for(var i={},r=0,n=e?t.length:1;r<n;r++){var a=e?t[r]:t;if("object"!=typeof a||o.isConstructedObject(a))throw new Error("Expected plain JS object as attrs, found: "+a);for(var s in a){if(!o.isValidAttributeName(s))throw new Error("Illegal HTML attribute name: "+s);var l=a[s];o.isNully(l)||(i[s]=l)}}return i},o.toHTML=function(t){return(new o.ToHTMLVisitor).visit(t)},o.TEXTMODE={STRING:1,RCDATA:2,ATTRIBUTE:3},o.toText=function(t,e){if(!e)throw new Error("textMode required for HTML.toText");if(e!==o.TEXTMODE.STRING&&e!==o.TEXTMODE.RCDATA&&e!==o.TEXTMODE.ATTRIBUTE)throw new Error("Unknown textMode: "+e);var i;return new o.ToTextVisitor({textMode:e}).visit(t)}}.call(this),Package._define("htmljs",{HTML:o})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.tracker.Tracker,i=Package.tracker.Deps,a=Package.check.check,o=Package.check.Match,s=Package.underscore._,u=Package["observe-sequence"].ObserveSequence,l=Package["reactive-var"].ReactiveVar,c=Package["ordered-dict"].OrderedDict,d=Package.htmljs.HTML,p=Package.modules.meteorInstall,f=Package.modules.meteorBabelHelpers,h=Package.promise.Promise,m=Package["ecmascript-runtime-client"].Symbol,w=Package["ecmascript-runtime-client"].Map,_=Package["ecmascript-runtime-client"].Set,v,g,b,y,E,V=p({node_modules:{meteor:{blaze:{"preamble.js":function(){var e,t;(v={})._escape=(e={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;","`":"&#x60;","&":"&amp;"},t=function(t){return e[t]},function(e){return e.replace(/[&<>"'`]/g,t)}),v._warn=function(e){e="Warning: "+e,"undefined"!=typeof console&&console.warn&&console.warn(e)};var n=Function.prototype.bind;v._bind=n?function(e,t){if(2===arguments.length)return n.call(e,t);for(var r=new Array(arguments.length),i=0;i<r.length;i++)r[i]=arguments[i];return n.apply(e,r.slice(1))}:s.bind},"dombackend.js":function(){var e={};v._DOMBackend=e;var t="undefined"!=typeof jQuery?jQuery:"undefined"!=typeof Package?Package.jquery&&Package.jquery.jQuery:null;if(!t)throw new Error("jQuery not found");e._$jq=t,e.parseHTML=function(e){return t.parseHTML(e)||[]},e.Events={delegateEvents:function(e,n,r,i){t(e).on(n,r,i)},undelegateEvents:function(e,n,r){t(e).off(n,"**",r)},bindEventCapturer:function(n,r,i,a){var o=t(n),s=function(e){var r;(e=t.event.fix(e)).currentTarget=e.target,t(e.currentTarget).is(o.find(i))&&a.call(n,e)};a._meteorui_wrapper=s,r=e.Events.parseEventType(r),n.addEventListener(r,s,!0)},unbindEventCapturer:function(t,n,r){n=e.Events.parseEventType(n),t.removeEventListener(n,r._meteorui_wrapper,!0)},parseEventType:function(e){var t=e.indexOf(".");return t>=0?e.slice(0,t):e}};var n=function(){},r=function(e){this.next=this,this.prev=this,this.func=e};r.prototype.linkBefore=function(e){this.prev=e.prev,this.next=e,e.prev.next=this,e.prev=this},r.prototype.unlink=function(){this.prev.next=this.next,this.next.prev=this.prev},r.prototype.go=function(){var e=this.func;e&&e()},r.prototype.stop=r.prototype.unlink,e.Teardown={_JQUERY_EVENT_NAME:"blaze_teardown_watcher",_CB_PROP:"$blaze_teardown_callbacks",onElementTeardown:function(i,a){var o=new r(a),s=e.Teardown._CB_PROP;return i[s]||(i[s]=new r,t(i).on(e.Teardown._JQUERY_EVENT_NAME,n)),o.linkBefore(i[s]),o},tearDownElement:function(e){for(var n=[],r=e.getElementsByTagName("*"),i=0;i<r.length;i++)n.push(r[i]);n.push(e),t.cleanData(n)}},t.event.special[e.Teardown._JQUERY_EVENT_NAME]={setup:function(){},teardown:function(){var t=this,n=this[e.Teardown._CB_PROP];if(n){for(var r=n.next;r!==n;)r.go(),r=r.next;n.go(),this[e.Teardown._CB_PROP]=null}}},e.findBySelector=function(e,n){return t(e,n)}},"domrange.js":function(){var e=Object.freeze?Object.freeze([]):[];v._DOMRange=function(n){if(!(this instanceof t))return new t(n);var r=n||e;if(!r||"number"!=typeof r.length)throw new Error("Expected array");for(var i=0;i<r.length;i++)this._memberIn(r[i]);this.members=r,this.emptyRangePlaceholder=null,this.attached=!1,this.parentElement=null,this.parentRange=null,this.attachedCallbacks=e};var t=v._DOMRange;t._USE_COMMENT_PLACEHOLDERS=function(){var e=!1,t=document.createTextNode("");try{t.someProp=!0}catch(n){e=!0}return e}(),t._insert=function(e,n,r,i){var a=e;a instanceof t?a.attach(n,r,i):i?t._moveNodeWithHooks(a,n,r):t._insertNodeWithHooks(a,n,r)},t._remove=function(e){var n=e;n instanceof t?n.detach():t._removeNodeWithHooks(n)},t._removeNodeWithHooks=function(e){e.parentNode&&(1===e.nodeType&&e.parentNode._uihooks&&e.parentNode._uihooks.removeElement?e.parentNode._uihooks.removeElement(e):e.parentNode.removeChild(e))},t._insertNodeWithHooks=function(e,t,n){n=n||null,1===e.nodeType&&t._uihooks&&t._uihooks.insertElement?t._uihooks.insertElement(e,n):t.insertBefore(e,n)},t._moveNodeWithHooks=function(e,t,n){e.parentNode===t&&(n=n||null,1===e.nodeType&&t._uihooks&&t._uihooks.moveElement?t._uihooks.moveElement(e,n):t.insertBefore(e,n))},t.forElement=function(e){if(1!==e.nodeType)throw new Error("Expected element, found: "+e);for(var t=null;e&&!t;)(t=e.$blaze_range||null)||(e=e.parentNode);return t},t.prototype.attach=function(e,n,r,i){if((r||i)&&(this.parentElement!==e||!this.attached))throw new Error("Can only move or replace an attached DOMRange, and only under the same parent element");var a=this.members;if(a.length){this.emptyRangePlaceholder=null;for(var o=0;o<a.length;o++)t._insert(a[o],e,n,r)}else{var s=t._USE_COMMENT_PLACEHOLDERS?document.createComment(""):document.createTextNode("");this.emptyRangePlaceholder=s,e.insertBefore(s,n||null)}if(this.attached=!0,this.parentElement=e,!r&&!i)for(var o=0;o<this.attachedCallbacks.length;o++){var u=this.attachedCallbacks[o];u.attached&&u.attached(this,e)}},t.prototype.setMembers=function(e){var t=e;if(!t||"number"!=typeof t.length)throw new Error("Expected array");for(var n=this.members,r=0;r<n.length;r++)this._memberOut(n[r]);for(var r=0;r<t.length;r++)this._memberIn(t[r]);if(this.attached){if(t.length||n.length){var i=this.lastNode().nextSibling,a=this.parentElement;this.detach(!0),this.members=t,this.attach(a,i,!1,!0)}}else this.members=t},t.prototype.firstNode=function(){if(!this.attached)throw new Error("Must be attached");if(!this.members.length)return this.emptyRangePlaceholder;var e=this.members[0];return e instanceof t?e.firstNode():e},t.prototype.lastNode=function(){if(!this.attached)throw new Error("Must be attached");if(!this.members.length)return this.emptyRangePlaceholder;var e=this.members[this.members.length-1];return e instanceof t?e.lastNode():e},t.prototype.detach=function(e){if(!this.attached)throw new Error("Must be attached");var n=this.parentElement,r=this.members;if(r.length)for(var i=0;i<r.length;i++)t._remove(r[i]);else{var a=this.emptyRangePlaceholder;this.parentElement.removeChild(a),this.emptyRangePlaceholder=null}if(!e){this.attached=!1,this.parentElement=null;for(var i=0;i<this.attachedCallbacks.length;i++){var o=this.attachedCallbacks[i];o.detached&&o.detached(this,n)}}},t.prototype.addMember=function(e,n,r){var i=this.members;if(!(n>=0&&n<=i.length))throw new Error("Bad index in range.addMember: "+n);if(r||this._memberIn(e),this.attached)if(0===i.length)this.setMembers([e]);else{var a;if(n===i.length)a=this.lastNode().nextSibling;else{var o=i[n];a=o instanceof t?o.firstNode():o}i.splice(n,0,e),t._insert(e,this.parentElement,a,r)}else i.splice(n,0,e)},t.prototype.removeMember=function(n,r){var i=this.members;if(!(n>=0&&n<i.length))throw new Error("Bad index in range.removeMember: "+n);if(r)i.splice(n,1);else{var a=i[n];this._memberOut(a),1===i.length?this.setMembers(e):(i.splice(n,1),this.attached&&t._remove(a))}},t.prototype.moveMember=function(e,t){var n=this.members[e];this.removeMember(e,!0),this.addMember(n,t,!0)},t.prototype.getMember=function(e){var t=this.members;if(!(e>=0&&e<t.length))throw new Error("Bad index in range.getMember: "+e);return this.members[e]},t.prototype._memberIn=function(e){e instanceof t?e.parentRange=this:1===e.nodeType&&(e.$blaze_range=this)},t._destroy=function(e,n){e instanceof t?e.view&&v._destroyView(e.view,n):n||1!==e.nodeType||e.$blaze_range&&(v._destroyNode(e),e.$blaze_range=null)},t.prototype._memberOut=t._destroy,t.prototype.destroyMembers=function(e){for(var t=this.members,n=0;n<t.length;n++)this._memberOut(t[n],e)},t.prototype.destroy=function(e){t._destroy(this,e)},t.prototype.containsElement=function(e){if(!this.attached)throw new Error("Must be attached");if(!v._elementContains(this.parentElement,e))return!1;for(;e.parentNode!==this.parentElement;)e=e.parentNode;for(var t=e.$blaze_range;t&&t!==this;)t=t.parentRange;return t===this},t.prototype.containsRange=function(e){if(!this.attached)throw new Error("Must be attached");if(!e.attached)return!1;if(e.parentElement!==this.parentElement)return this.containsElement(e.parentElement);if(e===this)return!1;for(;e&&e!==this;)e=e.parentRange;return e===this},t.prototype.onAttached=function(e){this.onAttachedDetached({attached:e})},t.prototype.onAttachedDetached=function(t){this.attachedCallbacks===e&&(this.attachedCallbacks=[]),this.attachedCallbacks.push(t)},t.prototype.$=function(e){var t=this,n=this.parentElement;if(!n)throw new Error("Can't select in removed DomRange");if(11===n.nodeType)throw new Error("Can't use $ on an offscreen range");var r=v._DOMBackend.findBySelector(e,n),i=function(e){return"number"==typeof e&&(e=this),t.containsElement(e)};if(r.filter)r=r.filter(i);else{for(var a=[],o=0;o<r.length;o++){var s=r[o];i(s)&&a.push(s)}r=a}return r},v._elementContains=function(e,t){return 1===e.nodeType&&(e!==t&&(e.compareDocumentPosition?16&e.compareDocumentPosition(t):!(!(t=t.parentNode)||1!==t.nodeType)&&(e===t||e.contains(t))))}},"events.js":function(){var e=v._EventSupport={},t=v._DOMBackend,n=e.eventsToDelegate={blur:1,change:1,click:1,focus:1,focusin:1,focusout:1,reset:1,submit:1},r=e.EVENT_MODE={TBD:0,BUBBLING:1,CAPTURING:2},i=1,a=function(e,a,o,u,l){var c,d;this.elem=e,this.type=a,this.selector=o,this.handler=u,this.recipient=l,this.id=i++,this.mode=r.TBD,this.delegatedHandler=(c=this,function(e){if(c.selector||e.currentTarget===e.target)return c.handler.apply(c.recipient,arguments)}),e.addEventListener&&!s.has(n,t.Events.parseEventType(a))?this.capturingHandler=function(e){return function(n){if(e.mode===r.TBD){if(n.bubbles)return e.mode=r.BUBBLING,void t.Events.unbindEventCapturer(e.elem,e.type,e.capturingHandler);e.mode=r.CAPTURING,t.Events.undelegateEvents(e.elem,e.type,e.delegatedHandler)}e.delegatedHandler(n)}}(this):this.mode=r.BUBBLING};e.HandlerRec=a,a.prototype.bind=function(){this.mode!==r.BUBBLING&&t.Events.bindEventCapturer(this.elem,this.type,this.selector||"*",this.capturingHandler),this.mode!==r.CAPTURING&&t.Events.delegateEvents(this.elem,this.type,this.selector||"*",this.delegatedHandler)},a.prototype.unbind=function(){this.mode!==r.BUBBLING&&t.Events.unbindEventCapturer(this.elem,this.type,this.capturingHandler),this.mode!==r.CAPTURING&&t.Events.undelegateEvents(this.elem,this.type,this.delegatedHandler)},e.listen=function(e,t,n,r,i,o){try{e=e}finally{}var s=[];t.replace(/[^ /]+/g,(function(e){s.push(e)}));for(var u=[],l=0,c=s.length;l<c;l++){var d=s[l],p=e.$blaze_events;p||(p=e.$blaze_events={});var f=p[d];f||((f=p[d]={}).handlers=[]);var h=f.handlers,m=new a(e,d,n,r,i);if(u.push(m),m.bind(),h.push(m),o)for(var w=o(i);w;w=o(w))for(var _=0,v=h.length;_<v;_++){var g=h[_];g.recipient===w&&(g.unbind(),g.bind(),h.splice(_,1),h.push(g),_--,v--)}}return{stop:function(){var t=e.$blaze_events;if(t){for(var n=0;n<u.length;n++){var r=u[n],i=t[r.type];if(i)for(var a=i.handlers,o=a.length-1;o>=0;o--)a[o]===r&&(r.unbind(),a.splice(o,1))}u.length=0}}}}},"attrs.js":function(){var t=!1;v._allowJavascriptUrls=function(){t=!0},v._javascriptUrlsAllowed=function(){return t},g=function(e,t){this.name=e,this.value=t},v._AttributeHandler=g,g.prototype.update=function(e,t,n){null===n?null!==t&&e.removeAttribute(this.name):e.setAttribute(this.name,n)},g.extend=function(e){var t=this,n=function(){function e(){g.apply(this,arguments)}return e}();return n.prototype=new this,n.extend=this.extend,e&&s.extend(n.prototype,e),n},v._DiffingAttributeHandler=g.extend({update:function(e,t,n){if(!(this.getCurrentValue&&this.setValue&&this.parseValue&&this.joinValues))throw new Error("Missing methods in subclass of 'DiffingAttributeHandler'");var r=t?this.parseValue(t):new c,i=n?this.parseValue(n):new c,a=this.getCurrentValue(e),o;(a?this.parseValue(a):new c).forEach((function(e,t,n){i.has(t)||r.has(t)||i.append(t,e)}));var s=[];i.forEach((function(e,t,n){s.push(e)})),this.setValue(e,this.joinValues(s))}});var n=v._DiffingAttributeHandler.extend({getCurrentValue:function(e){return e.className},setValue:function(e,t){e.className=t},parseValue:function(e){var t=new c;return s.each(e.split(" "),(function(e){e&&(t.has(e)||t.append(e,e))})),t},joinValues:function(e){return e.join(" ")}}),r=n.extend({getCurrentValue:function(e){return e.className.baseVal},setValue:function(e,t){e.setAttribute("class",t)}}),i=v._DiffingAttributeHandler.extend({getCurrentValue:function(e){return e.getAttribute("style")},setValue:function(e,t){""===t?e.removeAttribute("style"):e.setAttribute("style",t)},parseValue:function(e){for(var t=new c,n=/(\*?[-#\/\*\\\w]+(?:\[[0-9a-z_-]+\])?)\s*:\s*(?:\'(?:\\\'|.)*?\'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+[;\s]*/g,r=n.exec(e);r;)t.has(r[1])&&t.remove(r[1]),t.append(r[1],r[0].trim()),r=n.exec(e);return t},joinValues:function(e){return e.join(" ")}}),a=g.extend({update:function(e,t,n){var r=this.name;null==n?null!=t&&(e[r]=!1):e[r]=!0}}),o=g.extend({update:function(e,t,n){var r=this.name;n!==e[r]&&(e[r]=n)}}),u=g.extend({update:function(e,t,n){var r="http://www.w3.org/1999/xlink";null===n?null!==t&&e.removeAttributeNS(r,this.name):e.setAttributeNS(r,this.name,this.value)}}),l=function(e){return"ownerSVGElement"in e},d=function(e,t){var n;if("itemid"===t)return!0;var r={FORM:["action"],BODY:["background"],BLOCKQUOTE:["cite"],Q:["cite"],DEL:["cite"],INS:["cite"],OBJECT:["classid","codebase","data","usemap"],APPLET:["codebase"],A:["href"],AREA:["href"],LINK:["href"],BASE:["href"],IMG:["longdesc","src","usemap"],FRAME:["longdesc","src"],IFRAME:["longdesc","src"],HEAD:["profile"],SCRIPT:["src"],INPUT:["src","usemap","formaction"],BUTTON:["formaction"],BASE:["href"],MENUITEM:["icon"],HTML:["manifest"],VIDEO:["poster"]}[e]||[];return s.contains(r,t)};if(e.isClient)var p=document.createElement("A");var h=function(t){if(e.isClient)return p.href=t,(p.protocol||"").toLowerCase();throw new Error("getUrlProtocol not implemented on the server")},m=g.prototype.update,w=g.extend({update:function(e,t,n){var r=this,i=arguments;if(v._javascriptUrlsAllowed())m.apply(r,i);else{var a="javascript:"===h(n),o="vbscript:"===h(n);a||o?(v._warn("URLs that use the 'javascript:' or 'vbscript:' protocol are not allowed in URL attribute values. Call Blaze._allowJavascriptUrls() to enable them."),m.apply(r,[e,t,null])):m.apply(r,i)}}});v._makeAttributeHandler=function(e,t,s){return"class"===t?l(e)?new r(t,s):new n(t,s):"style"===t?new i(t,s):"OPTION"===e.tagName&&"selected"===t||"INPUT"===e.tagName&&"checked"===t||"VIDEO"===e.tagName&&"muted"===t?new a(t,s):"TEXTAREA"!==e.tagName&&"INPUT"!==e.tagName||"value"!==t?"xlink:"===t.substring(0,6)?new u(t.substring(6),s):d(e.tagName,t)?new w(t,s):new g(t,s):new o(t,s)},(b=function(e){this.elem=e,this.handlers={}}).prototype.update=function(e){var t=this.elem,n=this.handlers;for(var r in f.sanitizeForInObject(n))if(!s.has(e,r)){var i,a=(i=n[r]).value;i.value=null,i.update(t,a,null),delete n[r]}for(var r in f.sanitizeForInObject(e)){var i=null,a=null,o=e[r];s.has(n,r)?a=(i=n[r]).value:null!==o&&(i=v._makeAttributeHandler(t,r,o),n[r]=i),a!==o&&(i.value=o,i.update(t,a,o),null===o&&delete n[r])}}},"materializer.js":function(e,t,n){var i;n.link("@babel/runtime/helpers/typeof",{default:function(e){i=e}},0),v._materializeDOM=function(e,t,n,r){var i=r||[];if(a(e,t,n,i),!r)for(;i.length;){var o;i.pop()()}return t};var a=function(e,t,n,r){if(null!=e){switch(i(e)){case"string":case"boolean":case"number":return void t.push(document.createTextNode(String(e)));case"object":if(e.htmljsType)switch(e.htmljsType){case d.Tag.htmljsType:return void t.push(o(e,n,r));case d.CharRef.htmljsType:return void t.push(document.createTextNode(e.str));case d.Comment.htmljsType:return void t.push(document.createComment(e.sanitizedValue));case d.Raw.htmljsType:for(var a=v._DOMBackend.parseHTML(e.value),s=0;s<a.length;s++)t.push(a[s]);return}else{if(d.isArray(e)){for(var s=e.length-1;s>=0;s--)r.push(v._bind(v._materializeDOM,null,e[s],t,n,r));return}if(e instanceof v.Template&&(e=e.constructView()),e instanceof v.View)return void v._materializeView(e,n,r,t)}}throw new Error("Unexpected object in htmljs: "+e)}},o=function(e,t,n){var i=e.tagName,a;a=(d.isKnownSVGElement(i)||u(e))&&document.createElementNS?document.createElementNS("http://www.w3.org/2000/svg",i):document.createElement(i);var o=e.attrs,l=e.children;if("textarea"===i&&e.children.length&&!(o&&"value"in o)){if("function"==typeof o||d.isArray(o))throw new Error("Can't have reactive children of TEXTAREA node; use the 'value' attribute instead.");(o=s.extend({},o||null)).value=v._expand(l,t),l=[]}if(o){var c=new b(a),p=function(){var e=v._expandAttributes(o,t),n=d.flattenAttributes(e),r={};for(var i in f.sanitizeForInObject(n))null==n[i]||!1===n[i]?r[i]=null:r[i]=v._toText(n[i],t,d.TEXTMODE.STRING);c.update(r)},h;h=t?t.autorun(p,void 0,"updater"):r.nonreactive((function(){return r.autorun((function(){r._withCurrentView(t,p)}))})),v._DOMBackend.Teardown.onElementTeardown(a,function(){function e(){h.stop()}return e}())}if(l.length){var m=[];n.push((function(){for(var e=0;e<m.length;e++){var t=m[e];t instanceof v._DOMRange?t.attach(a):a.appendChild(t)}})),n.push(v._bind(v._materializeDOM,null,l,m,t,n))}return a},u=function(e){return"a"===e.tagName&&e.attrs&&void 0!==e.attrs["xlink:href"]}},"exceptions.js":function(){var t;v._throwNextException=!1,v._reportException=function(n,r){if(v._throwNextException)throw v._throwNextException=!1,n;t||(t=function(){return void 0!==e?e._debug:"undefined"!=typeof console&&console.log?console.log:function(){}}),t()(r||"Exception caught in template:",n.stack||n.message||n)},v._wrapCatchingExceptions=function(e,t){return"function"!=typeof e?e:function(){try{return e.apply(this,arguments)}catch(n){v._reportException(n,"Exception in "+t+":")}}}},"view.js":function(){v.View=function(e,t){if(!(this instanceof v.View))return new v.View(e,t);"function"==typeof e&&(t=e,e=""),this.name=e,this._render=t,this._callbacks={created:null,rendered:null,destroyed:null},this.isCreated=!1,this._isCreatedForExpansion=!1,this.isRendered=!1,this._isAttached=!1,this.isDestroyed=!1,this._isInRender=!1,this.parentView=null,this._domrange=null,this._hasGeneratedParent=!1,this._scopeBindings={},this.renderCount=0},v.View.prototype._render=function(){return null},v.View.prototype.onViewCreated=function(e){this._callbacks.created=this._callbacks.created||[],this._callbacks.created.push(e)},v.View.prototype._onViewRendered=function(e){this._callbacks.rendered=this._callbacks.rendered||[],this._callbacks.rendered.push(e)},v.View.prototype.onViewReady=function(e){var t=this,n=function(){r.afterFlush((function(){t.isDestroyed||v._withCurrentView(t,(function(){e.call(t)}))}))};t._onViewRendered(function(){function e(){t.isDestroyed||(t._domrange.attached?n():t._domrange.onAttached(n))}return e}())},v.View.prototype.onViewDestroyed=function(e){this._callbacks.destroyed=this._callbacks.destroyed||[],this._callbacks.destroyed.push(e)},v.View.prototype.removeViewDestroyedListener=function(e){var t=this._callbacks.destroyed;if(t){var n=s.lastIndexOf(t,e);-1!==n&&(t[n]=null)}},v.View.prototype.autorun=function(e,t,n){var i=this;if(!i.isCreated)throw new Error("View#autorun must be called from the created callback at the earliest");if(this._isInRender)throw new Error("Can't call View#autorun from inside render(); try calling it from the created or rendered callback");var a=v.Template._currentTemplateInstanceFunc,o=function(){function n(n){return v._withCurrentView(t||i,(function(){return v.Template._withTemplateInstanceFunc(a,(function(){return e.call(i,n)}))}))}return n}();o.displayName=(i.name||"anonymous")+":"+(n||"anonymous");var s=r.autorun(o),u=function(){s.stop()};return i.onViewDestroyed(u),s.onStop((function(){i.removeViewDestroyedListener(u)})),s},v.View.prototype._errorIfShouldntCallSubscribe=function(){var e=this;if(!this.isCreated)throw new Error("View#subscribe must be called from the created callback at the earliest");if(this._isInRender)throw new Error("Can't call View#subscribe from inside render(); try calling it from the created or rendered callback");if(this.isDestroyed)throw new Error("Can't call View#subscribe from inside the destroyed callback, try calling it inside created or rendered.")},v.View.prototype.subscribe=function(t,n){var r=this,i;return n=n||{},this._errorIfShouldntCallSubscribe(),i=n.connection?n.connection.subscribe.apply(n.connection,t):e.subscribe.apply(e,t),this.onViewDestroyed((function(){i.stop()})),i},v.View.prototype.firstNode=function(){if(!this._isAttached)throw new Error("View must be attached before accessing its DOM");return this._domrange.firstNode()},v.View.prototype.lastNode=function(){if(!this._isAttached)throw new Error("View must be attached before accessing its DOM");return this._domrange.lastNode()},v._fireCallbacks=function(e,t){v._withCurrentView(e,(function(){r.nonreactive(function(){function n(){for(var n=e._callbacks[t],r=0,i=n&&n.length;r<i;r++)n[r]&&n[r].call(e)}return n}())}))},v._createView=function(e,t,n){if(e.isCreated)throw new Error("Can't render the same View twice");e.parentView=t||null,e.isCreated=!0,n&&(e._isCreatedForExpansion=!0),v._fireCallbacks(e,"created")};var t=function(e,t){var n=new v._DOMRange(t);e._domrange=n,n.view=e,e.isRendered=!0,v._fireCallbacks(e,"rendered");var r=null;return n.onAttached(function(){function t(t,n){e._isAttached=!0,r=v._DOMBackend.Teardown.onElementTeardown(n,function(){function t(){v._destroyView(e,!0)}return t}())}return t}()),e.onViewDestroyed((function(){r&&r.stop(),r=null})),n};v._materializeView=function(e,n,i,a){var o,s;return v._createView(e,n),r.nonreactive((function(){var n;e.autorun(function(){function t(t){e.renderCount++,e._isInRender=!0;var n=e._render();e._isInRender=!1,t.firstRun||v._isContentEqual(s,n)||r.nonreactive(function(){function t(){var t=v._materializeDOM(n,[],e);o.setMembers(t),v._fireCallbacks(e,"rendered")}return t}()),s=n,r.onInvalidate((function(){o&&o.destroyMembers()}))}return t}(),void 0,"materialize"),i?(n=[],i.push((function(){o=t(e,n),n=null,a.push(o)})),i.push(v._bind(v._materializeDOM,null,s,n,e,i))):(n=v._materializeDOM(s,[],e),o=t(e,n),n=null)})),i?null:o},v._expandView=function(e,t){v._createView(e,t,!0),e._isInRender=!0;var n=v._withCurrentView(e,(function(){return e._render()}));e._isInRender=!1;var i=v._expand(n,e);return r.active?r.onInvalidate((function(){v._destroyView(e)})):v._destroyView(e),i},v._HTMLJSExpander=d.TransformingVisitor.extend(),v._HTMLJSExpander.def({visitObject:function(e){return e instanceof v.Template&&(e=e.constructView()),e instanceof v.View?v._expandView(e,this.parentView):d.TransformingVisitor.prototype.visitObject.call(this,e)},visitAttributes:function(e){return"function"==typeof e&&(e=v._withCurrentView(this.parentView,e)),d.TransformingVisitor.prototype.visitAttributes.call(this,e)},visitAttribute:function(e,t,n){return"function"==typeof t&&(t=v._withCurrentView(this.parentView,t)),d.TransformingVisitor.prototype.visitAttribute.call(this,e,t,n)}});var n=function(){var e=v.currentView;return e&&e._isInRender?e:null};v._expand=function(e,t){return t=t||n(),new v._HTMLJSExpander({parentView:t}).visit(e)},v._expandAttributes=function(e,t){return t=t||n(),new v._HTMLJSExpander({parentView:t}).visitAttributes(e)},v._destroyView=function(e,t){e.isDestroyed||(e.isDestroyed=!0,v._fireCallbacks(e,"destroyed"),e._domrange&&e._domrange.destroyMembers(t))},v._destroyNode=function(e){1===e.nodeType&&v._DOMBackend.Teardown.tearDownElement(e)},v._isContentEqual=function(e,t){return e instanceof d.Raw?t instanceof d.Raw&&e.value===t.value:null==e?null==t:e===t&&("number"==typeof e||"boolean"==typeof e||"string"==typeof e)},v.currentView=null,v._withCurrentView=function(e,t){var n=v.currentView;try{return v.currentView=e,t()}finally{v.currentView=n}};var i=function(e){if(null===e)throw new Error("Can't render null");if(void 0===e)throw new Error("Can't render undefined");if(!(e instanceof v.View||e instanceof v.Template||"function"==typeof e))try{(new d.Visitor).visit(e)}catch(t){throw new Error("Expected Template or View")}},a=function(e){if(i(e),e instanceof v.Template)return e.constructView();if(e instanceof v.View)return e;var t=e;return"function"!=typeof t&&(t=function(){return e}),v.View("render",t)},o=function(e){return i(e),"function"!=typeof e?function(){return e}:e};v.render=function(e,t,r,i){if(t||v._warn("Blaze.render without a parent element is deprecated. You must specify where to insert the rendered content."),r instanceof v.View&&(i=r,r=null),t&&"number"!=typeof t.nodeType)throw new Error("'parentElement' must be a DOM node");if(r&&"number"!=typeof r.nodeType)throw new Error("'nextNode' must be a DOM node");i=i||n();var o=a(e);return v._materializeView(o,i),t&&o._domrange.attach(t,r),o},v.insert=function(e,t,n){if(v._warn("Blaze.insert has been deprecated.  Specify where to insert the rendered content in the call to Blaze.render."),!(e&&e._domrange instanceof v._DOMRange))throw new Error("Expected template rendered with Blaze.render");e._domrange.attach(t,n)},v.renderWithData=function(e,t,n,r,i){return v.render(v._TemplateWith(t,o(e)),n,r,i)},v.remove=function(e){if(!(e&&e._domrange instanceof v._DOMRange))throw new Error("Expected template rendered with Blaze.render");for(;e;){if(!e.isDestroyed){var t=e._domrange;t.attached&&!t.parentRange&&t.detach(),t.destroy()}e=e._hasGeneratedParent&&e.parentView}},v.toHTML=function(e,t){return t=t||n(),d.toHTML(v._expandView(a(e),t))},v.toHTMLWithData=function(e,t,r){return r=r||n(),d.toHTML(v._expandView(v._TemplateWith(t,o(e)),r))},v._toText=function(e,t,r){if("function"==typeof e)throw new Error("Blaze._toText doesn't take a function, just HTMLjs");if(null==t||t instanceof v.View||(r=t,t=null),t=t||n(),!r)throw new Error("textMode required");if(r!==d.TEXTMODE.STRING&&r!==d.TEXTMODE.RCDATA&&r!==d.TEXTMODE.ATTRIBUTE)throw new Error("Unknown textMode: "+r);return d.toText(v._expand(e,t),r)},v.getData=function(e){var t;if(e)if(e instanceof v.View){var n=e;t="with"===n.name?n:v.getView(n,"with")}else{if("number"!=typeof e.nodeType)throw new Error("Expected DOM element or View");if(1!==e.nodeType)throw new Error("Expected DOM element");t=v.getView(e,"with")}else t=v.getView("with");return t?t.dataVar.get():null},v.getElementData=function(e){if(v._warn("Blaze.getElementData has been deprecated.  Use Blaze.getData(element) instead."),1!==e.nodeType)throw new Error("Expected DOM element");return v.getData(e)},v.getView=function(e,t){var n=t;if("string"==typeof e&&(n=e,e=null),e){if(e instanceof v.View)return v._getParentView(e,n);if("number"==typeof e.nodeType)return v._getElementView(e,n);throw new Error("Expected DOM element or View")}return v._getCurrentView(n)},v._getCurrentView=function(e){var t=v.currentView;if(!t)throw new Error("There is no current view");if(e){for(;t&&t.name!==e;)t=t.parentView;return t||null}return t},v._getParentView=function(e,t){var n=e.parentView;if(t)for(;n&&n.name!==t;)n=n.parentView;return n||null},v._getElementView=function(e,t){for(var n=v._DOMRange.forElement(e),r=null;n&&!r;)(r=n.view||null)||(n=n.parentRange?n.parentRange:v._DOMRange.forElement(n.parentElement));if(t){for(;r&&r.name!==t;)r=r.parentView;return r||null}return r},v._addEventMap=function(e,t,n){n=n||null;var r=[];if(!e._domrange)throw new Error("View must have a DOMRange");e._domrange.onAttached(function(){function i(i,a){s.each(t,(function(t,o){var u=o.split(/,\s+/);s.each(u,(function(o){var s=o.split(/\s+/);if(0!==s.length){var u=s.shift(),l=s.join(" ");r.push(v._EventSupport.listen(a,u,l,(function(r){if(!i.containsElement(r.currentTarget))return null;var a=n||this,o=arguments;return v._withCurrentView(e,(function(){return t.apply(a,o)}))}),i,(function(e){return e.parentRange})))}}))}))}return i}()),e.onViewDestroyed((function(){s.each(r,(function(e){e.stop()})),r.length=0}))}},"builtins.js":function(){v._calculateCondition=function(e){return e instanceof Array&&0===e.length&&(e=!1),!!e},v.With=function(e,t){var n=v.View("with",t);return n.dataVar=new l,n.onViewCreated((function(){"function"==typeof e?n.autorun((function(){n.dataVar.set(e())}),n.parentView,"setData"):n.dataVar.set(e)})),n},v._attachBindingsToView=function(e,t){t.onViewCreated((function(){s.each(e,(function(e,n){t._scopeBindings[n]=new l,"function"==typeof e?t.autorun((function(){t._scopeBindings[n].set(e())}),t.parentView):t._scopeBindings[n].set(e)}))}))},v.Let=function(e,t){var n=v.View("let",t);return v._attachBindingsToView(e,n),n},v.If=function(e,t,n,r){var i=new l,a=v.View(r?"unless":"if",(function(){return i.get()?t():n?n():null}));return a.__conditionVar=i,a.onViewCreated((function(){this.autorun((function(){var t=v._calculateCondition(e());i.set(r?!t:t)}),this.parentView,"condition")})),a},v.Unless=function(e,t,n){return v.If(e,t,n,!0)},v.Each=function(e,t,n){var i=v.View("each",(function(){var e=this.initialSubviews;return this.initialSubviews=null,this._isCreatedForExpansion&&(this.expandedValueDep=new r.Dependency,this.expandedValueDep.depend()),e}));i.initialSubviews=[],i.numItems=0,i.inElseMode=!1,i.stopHandle=null,i.contentFunc=t,i.elseFunc=n,i.argVar=new l,i.variableName=null;var a=function(e,t){void 0===t&&(t=i.numItems-1);for(var n=e;n<=t;n++){var r;i._domrange.members[n].view._scopeBindings["@index"].set(n)}};return i.onViewCreated((function(){i.autorun((function(){var t=e();s.isObject(t)&&s.has(t,"_sequence")&&(i.variableName=t._variable||null,t=t._sequence),i.argVar.set(t)}),i.parentView,"collection"),i.stopHandle=u.observe((function(){return i.argVar.get()}),{addedAt:function(e,t,n){r.nonreactive((function(){var e;e=i.variableName?v.View("item",i.contentFunc):v.With(t,i.contentFunc),i.numItems++;var r={};if(r["@index"]=n,i.variableName&&(r[i.variableName]=t),v._attachBindingsToView(r,e),i.expandedValueDep)i.expandedValueDep.changed();else if(i._domrange){i.inElseMode&&(i._domrange.removeMember(0),i.inElseMode=!1);var o=v._materializeView(e,i);i._domrange.addMember(o,n),a(n)}else i.initialSubviews.splice(n,0,e)}))},removedAt:function(e,t,n){r.nonreactive((function(){i.numItems--,i.expandedValueDep?i.expandedValueDep.changed():i._domrange?(i._domrange.removeMember(n),a(n),i.elseFunc&&0===i.numItems&&(i.inElseMode=!0,i._domrange.addMember(v._materializeView(v.View("each_else",i.elseFunc),i),0))):i.initialSubviews.splice(n,1)}))},changedAt:function(e,t,n,a){r.nonreactive((function(){var e;i.expandedValueDep?i.expandedValueDep.changed():(e=i._domrange?i._domrange.getMember(a).view:i.initialSubviews[a],i.variableName?e._scopeBindings[i.variableName].set(t):e.dataVar.set(t))}))},movedTo:function(e,t,n,o){r.nonreactive((function(){if(i.expandedValueDep)i.expandedValueDep.changed();else if(i._domrange)i._domrange.moveMember(n,o),a(Math.min(n,o),Math.max(n,o));else{var e=i.initialSubviews,t=e[n];e.splice(n,1),e.splice(o,0,t)}}))}}),i.elseFunc&&0===i.numItems&&(i.inElseMode=!0,i.initialSubviews[0]=v.View("each_else",i.elseFunc))})),i.onViewDestroyed((function(){i.stopHandle&&i.stopHandle.stop()})),i},v._TemplateWith=function(e,t){var n,r=e;"function"!=typeof e&&(r=function(){return e});var i=function(){var e=null;return n.parentView&&"InOuterTemplateScope"===n.parentView.name&&(e=n.parentView.originalParentView),e?v._withCurrentView(e,r):r()},a=function(){var e=t.call(this);return e instanceof v.Template&&(e=e.constructView()),e instanceof v.View&&(e._hasGeneratedParent=!0),e};return(n=v.With(i,a)).__isTemplateWith=!0,n},v._InOuterTemplateScope=function(e,t){var n=v.View("InOuterTemplateScope",t),r=e.parentView;return r.__isTemplateWith&&(r=r.parentView),n.onViewCreated((function(){this.originalParentView=this.parentView,this.parentView=r,this.__childDoesntStartNewLexicalScope=!0})),n},v.InOuterTemplateScope=v._InOuterTemplateScope},"lookup.js":function(){v._globalHelpers={},v.registerHelper=function(e,t){v._globalHelpers[e]=t},v.deregisterHelper=function(e){delete v._globalHelpers[e]};var e=function(e,t){return"function"!=typeof e?e:v._bind(e,t)},t=function(e){return"function"==typeof e?function(){var t=v.getData();return null==t&&(t={}),e.apply(t,arguments)}:e};v._OLDSTYLE_HELPER={},v._getTemplateHelper=function(e,r,i){var a=!1;if(e.__helpers.has(r)){var o=e.__helpers.get(r);if(o!==v._OLDSTYLE_HELPER)return null!=o?n(t(o),i):null;a=!0}return r in e&&(a||(e.__helpers.set(r,v._OLDSTYLE_HELPER),e._NOWARN_OLDSTYLE_HELPERS||v._warn("Assigning helper with `"+e.viewName+"."+r+" = ...` is deprecated.  Use `"+e.viewName+".helpers(...)` instead.")),null!=e[r])?n(t(e[r]),i):null};var n=function(e,t){return"function"!=typeof e?e:function(){var n=this,r=arguments;return v.Template._withTemplateInstanceFunc(t,(function(){return v._wrapCatchingExceptions(e,"template helper").apply(n,r)}))}};v._lexicalBindingLookup=function(e,t){var n=e,r=[];do{if(s.has(n._scopeBindings,t)){var i=n._scopeBindings[t];return function(){return i.get()}}}while((!n.__startsNewLexicalScope||n.parentView&&n.parentView.__childDoesntStartNewLexicalScope)&&(n=n.parentView));return null},v._getTemplate=function(e,t){return e in v.Template&&v.Template[e]instanceof v.Template?v.Template[e]:null},v._getGlobalHelper=function(e,r){return null!=v._globalHelpers[e]?n(t(v._globalHelpers[e]),r):null},v.View.prototype.lookup=function(e,t){var n=this.template,r=t&&t.template,i,a,o,s;if(this.templateInstance&&(o=v._bind(this.templateInstance,this)),/^\./.test(e)){if(!/^(\.)+$/.test(e))throw new Error("id starting with dot must be a series of dots");return v._parentData(e.length-1,!0)}return n&&null!=(i=v._getTemplateHelper(n,e,o))?i:n&&null!=(a=v._lexicalBindingLookup(v.currentView,e))?a:r&&null!=(s=v._getTemplate(e,o))?s:null!=(i=v._getGlobalHelper(e,o))?i:function(){var t=arguments.length>0,n=v.getData(),i=n&&n[e];if(!i){if(r)throw new Error("No such template: "+e);if(t)throw new Error("No such function: "+e);if("@"===e.charAt(0)&&null==i)throw new Error("Unsupported directive: "+e)}if(!n)return null;if("function"!=typeof i){if(t)throw new Error("Can't call non-function: "+i);return i}return i.apply(n,arguments)}},v._parentData=function(e,t){null==e&&(e=1);for(var n=v.getView("with"),r=0;r<e&&n;r++)n=v.getView(n,"with");return n?t?function(){return n.dataVar.get()}:n.dataVar.get():null},v.View.prototype.lookupTemplate=function(e){return this.lookup(e,{template:!0})}},"template.js":function(e,t,n){var i;n.link("@babel/runtime/helpers/typeof",{default:function(e){i=e}},0),v.Template=function(e,t){if(!(this instanceof v.Template))return new v.Template(e,t);if("function"==typeof e&&(t=e,e=""),"string"!=typeof e)throw new Error("viewName must be a String (or omitted)");if("function"!=typeof t)throw new Error("renderFunction must be a function");this.viewName=e,this.renderFunction=t,this.__helpers=new u,this.__eventMaps=[],this._callbacks={created:[],rendered:[],destroyed:[]}};var a=v.Template,u=function(){};u.prototype.get=function(e){return this[" "+e]},u.prototype.set=function(e,t){this[" "+e]=t},u.prototype.has=function(e){return void 0!==this[" "+e]},v.isTemplate=function(e){return e instanceof v.Template},a.prototype.onCreated=function(e){this._callbacks.created.push(e)},a.prototype.onRendered=function(e){this._callbacks.rendered.push(e)},a.prototype.onDestroyed=function(e){this._callbacks.destroyed.push(e)},a.prototype._getCallbacks=function(e){var t=this,n=this[e]?[this[e]]:[];return n=n.concat(this._callbacks[e])};var l=function(e,t){a._withTemplateInstanceFunc((function(){return t}),(function(){for(var n=0,r=e.length;n<r;n++)e[n].call(t)}))},c;if(a.prototype.constructView=function(e,t){var n=this,r=v.View(n.viewName,n.renderFunction);r.template=n,r.templateContentBlock=e?new a("(contentBlock)",e):null,r.templateElseBlock=t?new a("(elseBlock)",t):null,(n.__eventMaps||"object"===i(n.events))&&r._onViewRendered((function(){1===r.renderCount&&(n.__eventMaps.length||"object"!==i(n.events)||a.prototype.events.call(n,n.events),s.each(n.__eventMaps,(function(e){v._addEventMap(r,e,r)})))})),r._templateInstance=new v.TemplateInstance(r),r.templateInstance=function(){var e=r._templateInstance;return e.data=v.getData(r),r._domrange&&!r.isDestroyed?(e.firstNode=r._domrange.firstNode(),e.lastNode=r._domrange.lastNode()):(e.firstNode=null,e.lastNode=null),e};var o=n._getCallbacks("created");r.onViewCreated((function(){l(o,r.templateInstance())}));var u=n._getCallbacks("rendered");r.onViewReady((function(){l(u,r.templateInstance())}));var c=n._getCallbacks("destroyed");return r.onViewDestroyed((function(){l(c,r.templateInstance())})),r},v.TemplateInstance=function(e){if(!(this instanceof v.TemplateInstance))return new v.TemplateInstance(e);if(!(e instanceof v.View))throw new Error("View required");e._templateInstance=this,this.view=e,this.data=null,this.firstNode=null,this.lastNode=null,this._allSubsReadyDep=new r.Dependency,this._allSubsReady=!1,this._subscriptionHandles={}},v.TemplateInstance.prototype.$=function(e){var t=this.view;if(!t._domrange)throw new Error("Can't use $ on template instance with no DOM");return t._domrange.$(e)},v.TemplateInstance.prototype.findAll=function(e){return Array.prototype.slice.call(this.$(e))},v.TemplateInstance.prototype.find=function(e){var t;return this.$(e)[0]||null},v.TemplateInstance.prototype.autorun=function(e){return this.view.autorun(e)},v.TemplateInstance.prototype.subscribe=function(){var e=this,t=e._subscriptionHandles,n=s.toArray(arguments),r={},i;if(n.length){var a=s.last(n),u={onReady:o.Optional(Function),onError:o.Optional(Function),onStop:o.Optional(Function),connection:o.Optional(o.Any)};s.isFunction(a)?r.onReady=n.pop():a&&!s.isEmpty(a)&&o.test(a,u)&&(r=n.pop())}var l=r.onStop;r.onStop=function(n){delete t[i.subscriptionId],e._allSubsReady||e._allSubsReadyDep.changed(),l&&l(n)};var c=r.connection,d=s.pick(r,["onReady","onError","onStop"]);return n.push(d),i=e.view.subscribe.call(e.view,n,{connection:c}),s.has(t,i.subscriptionId)||(t[i.subscriptionId]=i,e._allSubsReady&&e._allSubsReadyDep.changed()),i},v.TemplateInstance.prototype.subscriptionsReady=function(){return this._allSubsReadyDep.depend(),this._allSubsReady=s.all(this._subscriptionHandles,(function(e){return e.ready()})),this._allSubsReady},a.prototype.helpers=function(e){if(!s.isObject(e))throw new Error("Helpers dictionary has to be an object");for(var t in f.sanitizeForInObject(e))this.__helpers.set(t,e[t])},function(){if(Object.defineProperty){var e={};try{Object.defineProperty(e,"self",{get:function(){return e}})}catch(t){return!1}return e.self===e}return!1}()){var d=null;Object.defineProperty(a,"_currentTemplateInstanceFunc",{get:function(){return d}}),a._withTemplateInstanceFunc=function(e,t){if("function"!=typeof t)throw new Error("Expected function, got: "+t);var n=d;try{return d=e,t()}finally{d=n}}}else a._currentTemplateInstanceFunc=null,a._withTemplateInstanceFunc=function(e,t){if("function"!=typeof t)throw new Error("Expected function, got: "+t);var n=a._currentTemplateInstanceFunc;try{return a._currentTemplateInstanceFunc=e,t()}finally{a._currentTemplateInstanceFunc=n}};a.prototype.events=function(e){if(!s.isObject(e))throw new Error("Event map has to be an object");var t=this,n={};for(var r in f.sanitizeForInObject(e))n[r]=function(e,t){return function(e){var n=this,r=v.getData(e.currentTarget);null==r&&(r={});var i=Array.prototype.slice.call(arguments),o=v._bind(n.templateInstance,n);return i.splice(1,0,o()),a._withTemplateInstanceFunc(o,(function(){return t.apply(r,i)}))}}(r,e[r]);this.__eventMaps.push(n)},a.instance=function(){return a._currentTemplateInstanceFunc&&a._currentTemplateInstanceFunc()},a.currentData=v.getData,a.parentData=v._parentData,a.registerHelper=v.registerHelper,a.deregisterHelper=v.deregisterHelper},"backcompat.js":function(){y=v,v.ReactiveVar=l,y._templateInstance=v.Template.instance,(E={}).registerHelper=v.registerHelper,E._escape=v._escape,E.SafeString=function(e){this.string=e},E.SafeString.prototype.toString=function(){return this.string.toString()}}}}}},{extensions:[".js",".json"]});V("/node_modules/meteor/blaze/preamble.js"),V("/node_modules/meteor/blaze/dombackend.js"),V("/node_modules/meteor/blaze/domrange.js"),V("/node_modules/meteor/blaze/events.js"),V("/node_modules/meteor/blaze/attrs.js"),V("/node_modules/meteor/blaze/materializer.js"),V("/node_modules/meteor/blaze/exceptions.js"),V("/node_modules/meteor/blaze/view.js"),V("/node_modules/meteor/blaze/builtins.js"),V("/node_modules/meteor/blaze/lookup.js"),V("/node_modules/meteor/blaze/template.js"),V("/node_modules/meteor/blaze/backcompat.js"),Package._define("blaze",{Blaze:v,UI:y,Handlebars:E})}();

!function(){var n=Package.meteor.Meteor,t=Package.meteor.global,e=Package.meteor.meteorEnv,o=Package.tracker.Tracker,i=Package.tracker.Deps,r=Package.random.Random,c=Package["callback-hook"].Hook,u=Package["reactive-var"].ReactiveVar,s=Package["ddp-client"].DDP,a=Package.mongo.Mongo,l=Package.modules.meteorInstall,g=Package.modules.meteorBabelHelpers,_=Package.promise.Promise,f=Package["ecmascript-runtime-client"].Symbol,h=Package["ecmascript-runtime-client"].Map,d=Package["ecmascript-runtime-client"].Set,p,k,m=l({node_modules:{meteor:{"accounts-base":{"client_main.js":function(t,e,o){var i,r;o.export({Accounts:function(){return p},AccountsClient:function(){return i},AccountsTest:function(){return r},default:function(){return e}}),o.link("./accounts_client.js",{AccountsClient:function(n){i=n},AccountsTest:function(n){r=n}},0),o.runSetters(p=new i),n.users=p.users},"accounts_client.js":function(t,e,o){var i,c,a;o.link("@babel/runtime/helpers/objectSpread2",{default:function(n){i=n}},0),o.link("@babel/runtime/helpers/inheritsLoose",{default:function(n){c=n}},1),o.export({AccountsClient:function(){return l},AccountsTest:function(){return h}}),o.link("./accounts_common.js",{AccountsCommon:function(n){a=n}},0);var l=function(t){function e(n){var e;return(e=t.call(this,n)||this)._loggingIn=new u(!1),e._loggingOut=new u(!1),e._loginServicesHandle=e.connection.subscribe("meteor.loginServiceConfiguration"),e._pageLoadLoginCallbacks=[],e._pageLoadLoginAttemptInfo=null,e.savedHash=window.location.hash,e._initUrlMatching(),e._initLocalStorage(),e._loginFuncs={},e}c(e,t);var o=e.prototype;return o.userId=function(){function n(){return this.connection.userId()}return n}(),o._setLoggingIn=function(){function n(n){this._loggingIn.set(n)}return n}(),o.loggingIn=function(){function n(){return this._loggingIn.get()}return n}(),o.loggingOut=function(){function n(){return this._loggingOut.get()}return n}(),o.registerClientLoginFunction=function(){function n(n,t){if(this._loginFuncs[n])throw new Error(n+" has been defined already");this._loginFuncs[n]=t}return n}(),o.callLoginFunction=function(){function n(n){if(!this._loginFuncs[n])throw new Error(n+" was not defined");for(var t=arguments.length,e=new Array(t>1?t-1:0),o=1;o<t;o++)e[o-1]=arguments[o];return this._loginFuncs[n].apply(this,e)}return n}(),o.applyLoginFunction=function(){function n(n,t){if(!this._loginFuncs[n])throw new Error(n+" was not defined");return this._loginFuncs[n].apply(this,t)}return n}(),o.logout=function(){function n(n){var t=this;this._loggingOut.set(!0),this.connection.apply("logout",[],{wait:!0},(function(e,o){t._loggingOut.set(!1),e?n&&n(e):(t.makeClientLoggedOut(),n&&n())}))}return n}(),o.logoutOtherClients=function(){function n(n){var t=this;this.connection.apply("getNewToken",[],{wait:!0},(function(n,e){n||t._storeLoginToken(t.userId(),e.token,e.tokenExpires)})),this.connection.apply("removeOtherTokens",[],{wait:!0},(function(t){return n&&n(t)}))}return n}(),o.callLoginMethod=function(){function n(n){var t=this,e;n=i({methodName:"login",methodArguments:[{}],_suppressLoggingIn:!1},n),["validateResult","userCallback"].forEach((function(t){n[t]||(n[t]=function(){return null})}));var o=function(o){var i=o.error,r=o.loginDetails;e||(e=!0,i?t._onLoginFailureHook.each((function(n){return n({error:i}),!0})):t._onLoginHook.each((function(n){return n(r),!0})),n.userCallback(i,r))},r=!1,c=function(n,e){!n&&e&&e.token&&(t._reconnectStopper&&t._reconnectStopper.stop(),t._reconnectStopper=s.onReconnect((function(n){if(n==t.connection){r=!0;var i=t._storedLoginToken();i&&(e={token:i,tokenExpires:t._storedLoginTokenExpires()}),e.tokenExpires||(e.tokenExpires=t._tokenExpiration(new Date)),t._tokenExpiresSoon(e.tokenExpires)?t.makeClientLoggedOut():t.callLoginMethod({methodArguments:[{resume:e.token}],_suppressLoggingIn:!0,userCallback:function(n,i){var r=t._storedLoginToken();n&&r&&r===e.token&&t.makeClientLoggedOut(),o({error:n,loginDetails:i})}})}})))},u=function(e,i){if(!r){if(t._setLoggingIn(!1),e||!i)return e=e||new Error("No result from call to "+n.methodName),void o({error:e});try{n.validateResult(i)}catch(c){return void o({error:c})}t.makeClientLoggedIn(i.id,i.token,i.tokenExpires),o({loginDetails:{type:i.type}})}};n._suppressLoggingIn||this._setLoggingIn(!0),this.connection.apply(n.methodName,n.methodArguments,{wait:!0,onResultReceived:c},u)}return n}(),o.makeClientLoggedOut=function(){function n(){this.connection._userId&&this._onLogoutHook.each((function(n){return n(),!0})),this._unstoreLoginToken(),this.connection.setUserId(null),this._reconnectStopper&&this._reconnectStopper.stop()}return n}(),o.makeClientLoggedIn=function(){function n(n,t,e){this._storeLoginToken(n,t,e),this.connection.setUserId(n)}return n}(),o.loginServicesConfigured=function(){function n(){return this._loginServicesHandle.ready()}return n}(),o.onPageLoadLogin=function(){function n(n){this._pageLoadLoginAttemptInfo?n(this._pageLoadLoginAttemptInfo):this._pageLoadLoginCallbacks.push(n)}return n}(),o._pageLoadLogin=function(){function t(t){this._pageLoadLoginAttemptInfo?n._debug("Ignoring unexpected duplicate page load login attempt info"):(this._pageLoadLoginCallbacks.forEach((function(n){return n(t)})),this._pageLoadLoginCallbacks=[],this._pageLoadLoginAttemptInfo=t)}return t}(),o._startupCallback=function(){function t(t){this.connection._userId&&n.setTimeout((function(){return t({type:"resume"})}),0)}return t}(),o.loginWithToken=function(){function n(n,t){this.callLoginMethod({methodArguments:[{resume:n}],userCallback:t})}return n}(),o._enableAutoLogin=function(){function n(){this._autoLoginEnabled=!0,this._pollStoredLoginToken()}return n}(),o._isolateLoginTokenForTest=function(){function n(){this.LOGIN_TOKEN_KEY=this.LOGIN_TOKEN_KEY+r.id(),this.USER_ID_KEY=this.USER_ID_KEY+r.id()}return n}(),o._storeLoginToken=function(){function t(t,e,o){n._localStorage.setItem(this.USER_ID_KEY,t),n._localStorage.setItem(this.LOGIN_TOKEN_KEY,e),o||(o=this._tokenExpiration(new Date)),n._localStorage.setItem(this.LOGIN_TOKEN_EXPIRES_KEY,o),this._lastLoginTokenWhenPolled=e}return t}(),o._unstoreLoginToken=function(){function t(){n._localStorage.removeItem(this.USER_ID_KEY),n._localStorage.removeItem(this.LOGIN_TOKEN_KEY),n._localStorage.removeItem(this.LOGIN_TOKEN_EXPIRES_KEY),this._lastLoginTokenWhenPolled=null}return t}(),o._storedLoginToken=function(){function t(){return n._localStorage.getItem(this.LOGIN_TOKEN_KEY)}return t}(),o._storedLoginTokenExpires=function(){function t(){return n._localStorage.getItem(this.LOGIN_TOKEN_EXPIRES_KEY)}return t}(),o._storedUserId=function(){function t(){return n._localStorage.getItem(this.USER_ID_KEY)}return t}(),o._unstoreLoginTokenIfExpiresSoon=function(){function n(){var n=this._storedLoginTokenExpires();n&&this._tokenExpiresSoon(new Date(n))&&this._unstoreLoginToken()}return n}(),o._initLocalStorage=function(){function t(){var t=this;this.LOGIN_TOKEN_KEY="Meteor.loginToken",this.LOGIN_TOKEN_EXPIRES_KEY="Meteor.loginTokenExpires",this.USER_ID_KEY="Meteor.userId";var e=__meteor_runtime_config__.ROOT_URL_PATH_PREFIX,o;if(e||this.connection!==n.connection){var i=":"+this.connection._stream.rawUrl;e&&(i+=":"+e),this.LOGIN_TOKEN_KEY+=i,this.LOGIN_TOKEN_EXPIRES_KEY+=i,this.USER_ID_KEY+=i}if(this._autoLoginEnabled&&(this._unstoreLoginTokenIfExpiresSoon(),o=this._storedLoginToken())){var r=this._storedUserId();r&&this.connection.setUserId(r),this.loginWithToken(o,(function(e){e&&(n._debug("Error logging in with token: "+e),t.makeClientLoggedOut()),t._pageLoadLogin({type:"resume",allowed:!e,error:e,methodName:"login",methodArguments:[{resume:o}]})}))}this._lastLoginTokenWhenPolled=o,this._pollIntervalTimer&&clearInterval(this._pollIntervalTimer),this._pollIntervalTimer=setInterval((function(){t._pollStoredLoginToken()}),3e3)}return t}(),o._pollStoredLoginToken=function(){function n(){var n=this;if(this._autoLoginEnabled){var t=this._storedLoginToken();this._lastLoginTokenWhenPolled!=t&&(t?this.loginWithToken(t,(function(t){t&&n.makeClientLoggedOut()})):this.logout()),this._lastLoginTokenWhenPolled=t}}return n}(),o._initUrlMatching=function(){function n(){this._autoLoginEnabled=!0,this._accountsCallbacks={},this._attemptToMatchHash()}return n}(),o._attemptToMatchHash=function(){function n(){f(this,this.savedHash,_)}return n}(),o.onResetPasswordLink=function(){function t(t){this._accountsCallbacks["reset-password"]&&n._debug("Accounts.onResetPasswordLink was called more than once. Only one callback added will be executed."),this._accountsCallbacks["reset-password"]=t}return t}(),o.onEmailVerificationLink=function(){function t(t){this._accountsCallbacks["verify-email"]&&n._debug("Accounts.onEmailVerificationLink was called more than once. Only one callback added will be executed."),this._accountsCallbacks["verify-email"]=t}return t}(),o.onEnrollmentLink=function(){function t(t){this._accountsCallbacks["enroll-account"]&&n._debug("Accounts.onEnrollmentLink was called more than once. Only one callback added will be executed."),this._accountsCallbacks["enroll-account"]=t}return t}(),e}(a);if(n.loggingIn=function(){return p.loggingIn()},n.loggingOut=function(){return p.loggingOut()},n.logout=function(n){return p.logout(n)},n.logoutOtherClients=function(n){return p.logoutOtherClients(n)},n.loginWithToken=function(n,t){return p.loginWithToken(n,t)},Package.blaze){var g=Package.blaze.Blaze.Template;g.registerHelper("currentUser",(function(){return n.user()})),g.registerHelper("loggingIn",(function(){return n.loggingIn()})),g.registerHelper("loggingOut",(function(){return n.loggingOut()})),g.registerHelper("loggingInOrOut",(function(){return n.loggingIn()||n.loggingOut()}))}var _=function(t,e){var o=this;this._autoLoginEnabled=!1,n.startup((function(){o._accountsCallbacks[e]&&o._accountsCallbacks[e](t,(function(){return o._enableAutoLogin()}))}))},f=function(n,t,e){["reset-password","verify-email","enroll-account"].forEach((function(o){var i,r=new RegExp("^\\#\\/"+o+"\\/(.*)$"),c=t.match(r);c&&(i=c[1],"reset-password"===o?n._resetPasswordToken=i:"verify-email"===o?n._verifyEmailToken=i:"enroll-account"===o&&(n._enrollAccountToken=i),window.location.hash="",e.call(n,i,o))}))},h={attemptToMatchHash:function(n,t){return f(p,n,t)}}},"accounts_common.js":function(t,e,o){var i;o.link("@babel/runtime/helpers/objectSpread2",{default:function(n){i=n}},0),o.export({AccountsCommon:function(){return r},EXPIRE_TOKENS_INTERVAL_MS:function(){return f},CONNECTION_CLOSE_DELAY_MS:function(){return h}});var r=function(){function t(t){var e=this;this._options={},this.connection=void 0,this._initConnection(t||{}),this.users=new a.Collection("users",{_preventAutopublish:!0,connection:this.connection}),this._onLoginHook=new c({bindEnvironment:!1,debugPrintExceptions:"onLogin callback"}),this._onLoginFailureHook=new c({bindEnvironment:!1,debugPrintExceptions:"onLoginFailure callback"}),this._onLogoutHook=new c({bindEnvironment:!1,debugPrintExceptions:"onLogout callback"}),this.DEFAULT_LOGIN_EXPIRATION_DAYS=u,this.LOGIN_UNEXPIRING_TOKEN_DAYS=d;var o="Accounts.LoginCancelledError";this.LoginCancelledError=n.makeErrorType(o,(function(n){this.message=n})),this.LoginCancelledError.prototype.name=o,this.LoginCancelledError.numericError=145546287,n.startup((function(){var n=Package["service-configuration"].ServiceConfiguration;e.loginServiceConfiguration=n.configurations,e.ConfigError=n.ConfigError}))}var e=t.prototype;return e.userId=function(){function n(){throw new Error("userId method not implemented")}return n}(),e.user=function(){function n(){var n=this.userId();return n?this.users.findOne(n):null}return n}(),e.config=function(){function t(t){var e=this;if(n.isServer?__meteor_runtime_config__.accountsConfigCalled=!0:__meteor_runtime_config__.accountsConfigCalled||n._debug("Accounts.config was called on the client but not on the server; some configuration options may not take effect."),Object.prototype.hasOwnProperty.call(t,"oauthSecretKey")){if(n.isClient)throw new Error("The oauthSecretKey option may only be specified on the server");if(!Package["oauth-encryption"])throw new Error("The oauth-encryption package must be loaded to set oauthSecretKey");Package["oauth-encryption"].OAuthEncryption.loadKey(t.oauthSecretKey),delete(t=i({},t)).oauthSecretKey}var o=["sendVerificationEmail","forbidClientAccountCreation","passwordEnrollTokenExpirationInDays","restrictCreationByEmailDomain","loginExpirationInDays","passwordResetTokenExpirationInDays","ambiguousErrorMessages","bcryptRounds"];Object.keys(t).forEach((function(n){if(!o.includes(n))throw new Error("Accounts.config: Invalid key: "+n)})),o.forEach((function(n){if(n in t){if(n in e._options)throw new Error("Can't set `"+n+"` more than once");e._options[n]=t[n]}}))}return t}(),e.onLogin=function(){function n(n){var t=this._onLoginHook.register(n);return this._startupCallback(t.callback),t}return n}(),e.onLoginFailure=function(){function n(n){return this._onLoginFailureHook.register(n)}return n}(),e.onLogout=function(){function n(n){return this._onLogoutHook.register(n)}return n}(),e._initConnection=function(){function t(t){n.isClient&&(t.connection?this.connection=t.connection:t.ddpUrl?this.connection=s.connect(t.ddpUrl):"undefined"!=typeof __meteor_runtime_config__&&__meteor_runtime_config__.ACCOUNTS_CONNECTION_URL?this.connection=s.connect(__meteor_runtime_config__.ACCOUNTS_CONNECTION_URL):this.connection=n.connection)}return t}(),e._getTokenLifetimeMs=function(){function n(){var n;return 24*((null===this._options.loginExpirationInDays?d:this._options.loginExpirationInDays)||u)*60*60*1e3}return n}(),e._getPasswordResetTokenLifetimeMs=function(){function n(){return 24*(this._options.passwordResetTokenExpirationInDays||l)*60*60*1e3}return n}(),e._getPasswordEnrollTokenLifetimeMs=function(){function n(){return 24*(this._options.passwordEnrollTokenExpirationInDays||g)*60*60*1e3}return n}(),e._tokenExpiration=function(){function n(n){return new Date(new Date(n).getTime()+this._getTokenLifetimeMs())}return n}(),e._tokenExpiresSoon=function(){function n(n){var t=.1*this._getTokenLifetimeMs(),e=1e3*_;return t>e&&(t=e),new Date>new Date(n)-t}return n}(),e._startupCallback=function(){function n(n){}return n}(),t}();n.userId=function(){return p.userId()},n.user=function(){return p.user()};var u=90,l=3,g=30,_=3600,f=6e5,h=1e4,d=36500}}}}},{extensions:[".js",".json"]})("/node_modules/meteor/accounts-base/client_main.js");Package._define("accounts-base",m,{Accounts:p})}();

!function(){var r=Package.meteor.Meteor,n=Package.meteor.global,t=Package.meteor.meteorEnv,e;(function(){e=function(){function r(r){var n=8,t=0;function e(r,n){var t=(65535&r)+(65535&n),e;return(r>>16)+(n>>16)+(t>>16)<<16|65535&t}function o(r,n){return r>>>n|r<<32-n}function a(r,n){return r>>>n}function u(r,n,t){return r&n^~r&t}function f(r,n,t){return r&n^r&t^n&t}function c(r){return o(r,2)^o(r,13)^o(r,22)}function i(r){return o(r,6)^o(r,11)^o(r,25)}function h(r){return o(r,7)^o(r,18)^a(r,3)}function g(r){return o(r,17)^o(r,19)^a(r,10)}function C(r,n){var t=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),o=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),a=new Array(64),C,v,d,m,A,l,S,k,y,P,w,b;r[n>>5]|=128<<24-n%32,r[15+(n+64>>9<<4)]=n;for(var y=0;y<r.length;y+=16){C=o[0],v=o[1],d=o[2],m=o[3],A=o[4],l=o[5],S=o[6],k=o[7];for(var P=0;P<64;P++)a[P]=P<16?r[P+y]:e(e(e(g(a[P-2]),a[P-7]),h(a[P-15])),a[P-16]),w=e(e(e(e(k,i(A)),u(A,l,S)),t[P]),a[P]),b=e(c(C),f(C,v,d)),k=S,S=l,l=A,A=e(m,w),m=d,d=v,v=C,C=e(w,b);o[0]=e(C,o[0]),o[1]=e(v,o[1]),o[2]=e(d,o[2]),o[3]=e(m,o[3]),o[4]=e(A,o[4]),o[5]=e(l,o[5]),o[6]=e(S,o[6]),o[7]=e(k,o[7])}return o}function v(r){for(var t=Array(),e=(1<<n)-1,o=0;o<r.length*n;o+=n)t[o>>5]|=(r.charCodeAt(o/n)&e)<<24-o%32;return t}function d(r){for(var n="",t=0;t<r.length;t++){var e=r.charCodeAt(t);e<128?n+=String.fromCharCode(e):e>127&&e<2048?(n+=String.fromCharCode(e>>6|192),n+=String.fromCharCode(63&e|128)):(n+=String.fromCharCode(e>>12|224),n+=String.fromCharCode(e>>6&63|128),n+=String.fromCharCode(63&e|128))}return n}function m(r){for(var n=t?"0123456789ABCDEF":"0123456789abcdef",e="",o=0;o<4*r.length;o++)e+=n.charAt(r[o>>2]>>8*(3-o%4)+4&15)+n.charAt(r[o>>2]>>8*(3-o%4)&15);return e}return m(C(v(r=d(r)),r.length*n))}return r}()}).call(this),Package._define("sha",{SHA256:e})}();

!function(){var t=Package.meteor.Meteor,i=Package.meteor.global,r=Package.meteor.meteorEnv,o=Package.random.Random,s=Package.check.check,e=Package.check.Match,n=Package.sha.SHA256,h=Package.modules.meteorInstall,u=Package.modules.meteorBabelHelpers,f=Package.promise.Promise,a=Package["ecmascript-runtime-client"].Symbol,p=Package["ecmascript-runtime-client"].Map,c=Package["ecmascript-runtime-client"].Set,m,l,v=h({node_modules:{meteor:{srp:{"biginteger.js":function(){m=function(){var t,i=0xdeadbeefcafe,r=!0;function o(t,i,r){null!=t&&("number"==typeof t?this.fromNumber(t,i,r):null==i&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,i))}function s(){return new o(null)}function e(t,i,r,o,s,e){for(;--e>=0;){var n=i*this[t++]+r[o]+s;s=Math.floor(n/67108864),r[o++]=67108863&n}return s}function n(t,i,r,o,s,e){for(var n=32767&i,h=i>>15;--e>=0;){var u=32767&this[t],f=this[t++]>>15,a=h*u+f*n;s=((u=n*u+((32767&a)<<15)+r[o]+(1073741823&s))>>>30)+(a>>>15)+h*f+(s>>>30),r[o++]=1073741823&u}return s}function h(t,i,r,o,s,e){for(var n=16383&i,h=i>>14;--e>=0;){var u=16383&this[t],f=this[t++]>>14,a=h*u+f*n;s=((u=n*u+((16383&a)<<14)+r[o]+s)>>28)+(a>>14)+h*f,r[o++]=268435455&u}return s}o.prototype.am=h,t=28,o.prototype.DB=28,o.prototype.DM=268435455,o.prototype.DV=1<<28;var u=52;o.prototype.FV=Math.pow(2,52),o.prototype.F1=24,o.prototype.F2=4;var f="0123456789abcdefghijklmnopqrstuvwxyz",a=new Array,p,c;for(p="0".charCodeAt(0),c=0;c<=9;++c)a[p++]=c;for(p="a".charCodeAt(0),c=10;c<36;++c)a[p++]=c;for(p="A".charCodeAt(0),c=10;c<36;++c)a[p++]=c;function m(t){return f.charAt(t)}function l(t,i){var r=a[t.charCodeAt(i)];return null==r?-1:r}function v(t){for(var i=this.t-1;i>=0;--i)t[i]=this[i];t.t=this.t,t.s=this.s}function T(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+DV:this.t=0}function y(t){var i=s();return i.fromInt(t),i}function d(t,i){var r;if(16==i)r=4;else if(8==i)r=3;else if(256==i)r=8;else if(2==i)r=1;else if(32==i)r=5;else{if(4!=i)return void this.fromRadix(t,i);r=2}this.t=0,this.s=0;for(var s=t.length,e=!1,n=0;--s>=0;){var h=8==r?255&t[s]:l(t,s);h<0?"-"==t.charAt(s)&&(e=!0):(e=!1,0==n?this[this.t++]=h:n+r>this.DB?(this[this.t-1]|=(h&(1<<this.DB-n)-1)<<n,this[this.t++]=h>>this.DB-n):this[this.t-1]|=h<<n,(n+=r)>=this.DB&&(n-=this.DB))}8==r&&0!=(128&t[0])&&(this.s=-1,n>0&&(this[this.t-1]|=(1<<this.DB-n)-1<<n)),this.clamp(),e&&o.ZERO.subTo(this,this)}function D(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t}function g(t){if(this.s<0)return"-"+this.negate().toString(t);var i;if(16==t)i=4;else if(8==t)i=3;else if(2==t)i=1;else if(32==t)i=5;else{if(4!=t)return this.toRadix(t);i=2}var r=(1<<i)-1,o,s=!1,e="",n=this.t,h=this.DB-n*this.DB%i;if(n-- >0)for(h<this.DB&&(o=this[n]>>h)>0&&(s=!0,e=m(o));n>=0;)h<i?(o=(this[n]&(1<<h)-1)<<i-h,o|=this[--n]>>(h+=this.DB-i)):(o=this[n]>>(h-=i)&r,h<=0&&(h+=this.DB,--n)),o>0&&(s=!0),s&&(e+=m(o));return s?e:"0"}function b(){var t=s();return o.ZERO.subTo(this,t),t}function B(){return this.s<0?this.negate():this}function S(t){var i=this.s-t.s;if(0!=i)return i;var r=this.t;if(0!=(i=r-t.t))return i;for(;--r>=0;)if(0!=(i=this[r]-t[r]))return i;return 0}function E(t){var i=1,r;return 0!=(r=t>>>16)&&(t=r,i+=16),0!=(r=t>>8)&&(t=r,i+=8),0!=(r=t>>4)&&(t=r,i+=4),0!=(r=t>>2)&&(t=r,i+=2),0!=(r=t>>1)&&(t=r,i+=1),i}function w(){return this.t<=0?0:this.DB*(this.t-1)+E(this[this.t-1]^this.s&this.DM)}function M(t,i){var r;for(r=this.t-1;r>=0;--r)i[r+t]=this[r];for(r=t-1;r>=0;--r)i[r]=0;i.t=this.t+t,i.s=this.s}function A(t,i){for(var r=t;r<this.t;++r)i[r-t]=this[r];i.t=Math.max(this.t-t,0),i.s=this.s}function R(t,i){var r=t%this.DB,o=this.DB-r,s=(1<<o)-1,e=Math.floor(t/this.DB),n=this.s<<r&this.DM,h;for(h=this.t-1;h>=0;--h)i[h+e+1]=this[h]>>o|n,n=(this[h]&s)<<r;for(h=e-1;h>=0;--h)i[h]=0;i[e]=n,i.t=this.t+e+1,i.s=this.s,i.clamp()}function O(t,i){i.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t)i.t=0;else{var o=t%this.DB,s=this.DB-o,e=(1<<o)-1;i[0]=this[r]>>o;for(var n=r+1;n<this.t;++n)i[n-r-1]|=(this[n]&e)<<s,i[n-r]=this[n]>>o;o>0&&(i[this.t-r-1]|=(this.s&e)<<s),i.t=this.t-r,i.clamp()}}function k(t,i){for(var r=0,o=0,s=Math.min(t.t,this.t);r<s;)o+=this[r]-t[r],i[r++]=o&this.DM,o>>=this.DB;if(t.t<this.t){for(o-=t.s;r<this.t;)o+=this[r],i[r++]=o&this.DM,o>>=this.DB;o+=this.s}else{for(o+=this.s;r<t.t;)o-=t[r],i[r++]=o&this.DM,o>>=this.DB;o-=t.s}i.s=o<0?-1:0,o<-1?i[r++]=this.DV+o:o>0&&(i[r++]=o),i.t=r,i.clamp()}function C(t,i){var r=this.abs(),s=t.abs(),e=r.t;for(i.t=e+s.t;--e>=0;)i[e]=0;for(e=0;e<s.t;++e)i[e+r.t]=r.am(0,s[e],i,e,0,r.t);i.s=0,i.clamp(),this.s!=t.s&&o.ZERO.subTo(i,i)}function P(t){for(var i=this.abs(),r=t.t=2*i.t;--r>=0;)t[r]=0;for(r=0;r<i.t-1;++r){var o=i.am(r,i[r],t,2*r,0,1);(t[r+i.t]+=i.am(r+1,2*i[r],t,2*r+1,o,i.t-r-1))>=i.DV&&(t[r+i.t]-=i.DV,t[r+i.t+1]=1)}t.t>0&&(t[t.t-1]+=i.am(r,i[r],t,2*r,0,1)),t.s=0,t.clamp()}function F(t,i,r){var e=t.abs();if(!(e.t<=0)){var n=this.abs();if(n.t<e.t)return null!=i&&i.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=s());var h=s(),u=this.s,f=t.s,a=this.DB-E(e[e.t-1]);a>0?(e.lShiftTo(a,h),n.lShiftTo(a,r)):(e.copyTo(h),n.copyTo(r));var p=h.t,c=h[p-1];if(0!=c){var m=c*(1<<this.F1)+(p>1?h[p-2]>>this.F2:0),l=this.FV/m,v=(1<<this.F1)/m,T=1<<this.F2,y=r.t,d=y-p,D=null==i?s():i;for(h.dlShiftTo(d,D),r.compareTo(D)>=0&&(r[r.t++]=1,r.subTo(D,r)),o.ONE.dlShiftTo(p,D),D.subTo(h,h);h.t<p;)h[h.t++]=0;for(;--d>=0;){var g=r[--y]==c?this.DM:Math.floor(r[y]*l+(r[y-1]+T)*v);if((r[y]+=h.am(0,g,r,d,0,p))<g)for(h.dlShiftTo(d,D),r.subTo(D,r);r[y]<--g;)r.subTo(D,r)}null!=i&&(r.drShiftTo(p,i),u!=f&&o.ZERO.subTo(i,i)),r.t=p,r.clamp(),a>0&&r.rShiftTo(a,r),u<0&&o.ZERO.subTo(r,r)}}}function V(t){var i=s();return this.abs().divRemTo(t,null,i),this.s<0&&i.compareTo(o.ZERO)>0&&t.subTo(i,i),i}function N(t){this.m=t}function q(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function L(t){return t}function x(t){t.divRemTo(this.m,null,t)}function I(t,i,r){t.multiplyTo(i,r),this.reduce(r)}function Z(t,i){t.squareTo(i),this.reduce(i)}function j(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var i=3&t;return(i=(i=(i=(i=i*(2-(15&t)*i)&15)*(2-(255&t)*i)&255)*(2-((65535&t)*i&65535))&65535)*(2-t*i%this.DV)%this.DV)>0?this.DV-i:-i}function z(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function _(t){var i=s();return t.abs().dlShiftTo(this.m.t,i),i.divRemTo(this.m,null,i),t.s<0&&i.compareTo(o.ZERO)>0&&this.m.subTo(i,i),i}function H(t){var i=s();return t.copyTo(i),this.reduce(i),i}function U(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var i=0;i<this.m.t;++i){var r=32767&t[i],o=r*this.mpl+((r*this.mph+(t[i]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[r=i+this.m.t]+=this.m.am(0,o,t,i,0,this.m.t);t[r]>=t.DV;)t[r]-=t.DV,t[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function G(t,i){t.squareTo(i),this.reduce(i)}function J(t,i,r){t.multiplyTo(i,r),this.reduce(r)}function K(){return 0==(this.t>0?1&this[0]:this.s)}function Q(t,i){if(t>4294967295||t<1)return o.ONE;var r=s(),e=s(),n=i.convert(this),h=E(t)-1;for(n.copyTo(r);--h>=0;)if(i.sqrTo(r,e),(t&1<<h)>0)i.mulTo(e,n,r);else{var u=r;r=e,e=u}return i.revert(r)}function W(t,i){var r;return r=t<256||i.isEven()?new N(i):new z(i),this.exp(t,r)}function X(){var t=s();return this.copyTo(t),t}function Y(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function $(){return 0==this.t?this.s:this[0]<<24>>24}function tt(){return 0==this.t?this.s:this[0]<<16>>16}function it(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function rt(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function ot(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var i=this.chunkSize(t),r=Math.pow(t,i),o=y(r),e=s(),n=s(),h="";for(this.divRemTo(o,e,n);e.signum()>0;)h=(r+n.intValue()).toString(t).substr(1)+h,e.divRemTo(o,e,n);return n.intValue().toString(t)+h}function st(t,i){this.fromInt(0),null==i&&(i=10);for(var r=this.chunkSize(i),s=Math.pow(i,r),e=!1,n=0,h=0,u=0;u<t.length;++u){var f=l(t,u);f<0?"-"==t.charAt(u)&&0==this.signum()&&(e=!0):(h=i*h+f,++n>=r&&(this.dMultiply(s),this.dAddOffset(h,0),n=0,h=0))}n>0&&(this.dMultiply(Math.pow(i,n)),this.dAddOffset(h,0)),e&&o.ZERO.subTo(this,this)}function et(t,i,r){if("number"==typeof i)if(t<2)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(o.ONE.shiftLeft(t-1),mt,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(i);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(o.ONE.shiftLeft(t-1),this);else{var s=new Array,e=7&t;s.length=1+(t>>3),i.nextBytes(s),e>0?s[0]&=(1<<e)-1:s[0]=0,this.fromString(s,256)}}function nt(){var t=this.t,i=new Array;i[0]=this.s;var r=this.DB-t*this.DB%8,o,s=0;if(t-- >0)for(r<this.DB&&(o=this[t]>>r)!=(this.s&this.DM)>>r&&(i[s++]=o|this.s<<this.DB-r);t>=0;)r<8?(o=(this[t]&(1<<r)-1)<<8-r,o|=this[--t]>>(r+=this.DB-8)):(o=this[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),0!=(128&o)&&(o|=-256),0==s&&(128&this.s)!=(128&o)&&++s,(s>0||o!=this.s)&&(i[s++]=o);return i}function ht(t){return 0==this.compareTo(t)}function ut(t){return this.compareTo(t)<0?this:t}function ft(t){return this.compareTo(t)>0?this:t}function at(t,i,r){var o,s,e=Math.min(t.t,this.t);for(o=0;o<e;++o)r[o]=i(this[o],t[o]);if(t.t<this.t){for(s=t.s&this.DM,o=e;o<this.t;++o)r[o]=i(this[o],s);r.t=this.t}else{for(s=this.s&this.DM,o=e;o<t.t;++o)r[o]=i(s,t[o]);r.t=t.t}r.s=i(this.s,t.s),r.clamp()}function pt(t,i){return t&i}function ct(t){var i=s();return this.bitwiseTo(t,pt,i),i}function mt(t,i){return t|i}function lt(t){var i=s();return this.bitwiseTo(t,mt,i),i}function vt(t,i){return t^i}function Tt(t){var i=s();return this.bitwiseTo(t,vt,i),i}function yt(t,i){return t&~i}function dt(t){var i=s();return this.bitwiseTo(t,yt,i),i}function Dt(){for(var t=s(),i=0;i<this.t;++i)t[i]=this.DM&~this[i];return t.t=this.t,t.s=~this.s,t}function gt(t){var i=s();return t<0?this.rShiftTo(-t,i):this.lShiftTo(t,i),i}function bt(t){var i=s();return t<0?this.lShiftTo(-t,i):this.rShiftTo(t,i),i}function Bt(t){if(0==t)return-1;var i=0;return 0==(65535&t)&&(t>>=16,i+=16),0==(255&t)&&(t>>=8,i+=8),0==(15&t)&&(t>>=4,i+=4),0==(3&t)&&(t>>=2,i+=2),0==(1&t)&&++i,i}function St(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+Bt(this[t]);return this.s<0?this.t*this.DB:-1}function Et(t){for(var i=0;0!=t;)t&=t-1,++i;return i}function wt(){for(var t=0,i=this.s&this.DM,r=0;r<this.t;++r)t+=Et(this[r]^i);return t}function Mt(t){var i=Math.floor(t/this.DB);return i>=this.t?0!=this.s:0!=(this[i]&1<<t%this.DB)}function At(t,i){var r=o.ONE.shiftLeft(t);return this.bitwiseTo(r,i,r),r}function Rt(t){return this.changeBit(t,mt)}function Ot(t){return this.changeBit(t,yt)}function kt(t){return this.changeBit(t,vt)}function Ct(t,i){for(var r=0,o=0,s=Math.min(t.t,this.t);r<s;)o+=this[r]+t[r],i[r++]=o&this.DM,o>>=this.DB;if(t.t<this.t){for(o+=t.s;r<this.t;)o+=this[r],i[r++]=o&this.DM,o>>=this.DB;o+=this.s}else{for(o+=this.s;r<t.t;)o+=t[r],i[r++]=o&this.DM,o>>=this.DB;o+=t.s}i.s=o<0?-1:0,o>0?i[r++]=o:o<-1&&(i[r++]=this.DV+o),i.t=r,i.clamp()}function Pt(t){var i=s();return this.addTo(t,i),i}function Ft(t){var i=s();return this.subTo(t,i),i}function Vt(t){var i=s();return this.multiplyTo(t,i),i}function Nt(t){var i=s();return this.divRemTo(t,i,null),i}function qt(t){var i=s();return this.divRemTo(t,null,i),i}function Lt(t){var i=s(),r=s();return this.divRemTo(t,i,r),new Array(i,r)}function xt(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function It(t,i){for(;this.t<=i;)this[this.t++]=0;for(this[i]+=t;this[i]>=this.DV;)this[i]-=this.DV,++i>=this.t&&(this[this.t++]=0),++this[i]}function Zt(){}function jt(t){return t}function zt(t,i,r){t.multiplyTo(i,r)}function _t(t,i){t.squareTo(i)}function Ht(t){return this.exp(t,new Zt)}function Ut(t,i,r){var o=Math.min(this.t+t.t,i),s;for(r.s=0,r.t=o;o>0;)r[--o]=0;for(s=r.t-this.t;o<s;++o)r[o+this.t]=this.am(0,t[o],r,o,0,this.t);for(s=Math.min(t.t,i);o<s;++o)this.am(0,t[o],r,o,0,i-o);r.clamp()}function Gt(t,i,r){--i;var o=r.t=this.t+t.t-i;for(r.s=0;--o>=0;)r[o]=0;for(o=Math.max(i-this.t,0);o<t.t;++o)r[this.t+o-i]=this.am(i-o,t[o],r,0,0,this.t+o-i);r.clamp(),r.drShiftTo(1,r)}function Jt(t){this.r2=s(),this.q3=s(),o.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function Kt(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var i=s();return t.copyTo(i),this.reduce(i),i}function Qt(t){return t}function Wt(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}function Xt(t,i){t.squareTo(i),this.reduce(i)}function Yt(t,i,r){t.multiplyTo(i,r),this.reduce(r)}function $t(t,i){var r=t.bitLength(),o,e=y(1),n;if(r<=0)return e;o=r<18?1:r<48?3:r<144?4:r<768?5:6,n=r<8?new N(i):i.isEven()?new Jt(i):new z(i);var h=new Array,u=3,f=o-1,a=(1<<o)-1;if(h[1]=n.convert(this),o>1){var p=s();for(n.sqrTo(h[1],p);u<=a;)h[u]=s(),n.mulTo(p,h[u-2],h[u]),u+=2}var c=t.t-1,m,l=!0,v=s(),T;for(r=E(t[c])-1;c>=0;){for(r>=f?m=t[c]>>r-f&a:(m=(t[c]&(1<<r+1)-1)<<f-r,c>0&&(m|=t[c-1]>>this.DB+r-f)),u=o;0==(1&m);)m>>=1,--u;if((r-=u)<0&&(r+=this.DB,--c),l)h[m].copyTo(e),l=!1;else{for(;u>1;)n.sqrTo(e,v),n.sqrTo(v,e),u-=2;u>0?n.sqrTo(e,v):(T=e,e=v,v=T),n.mulTo(v,h[m],e)}for(;c>=0&&0==(t[c]&1<<r);)n.sqrTo(e,v),T=e,e=v,v=T,--r<0&&(r=this.DB-1,--c)}return n.revert(e)}function ti(t){var i=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(i.compareTo(r)<0){var o=i;i=r,r=o}var s=i.getLowestSetBit(),e=r.getLowestSetBit();if(e<0)return i;for(s<e&&(e=s),e>0&&(i.rShiftTo(e,i),r.rShiftTo(e,r));i.signum()>0;)(s=i.getLowestSetBit())>0&&i.rShiftTo(s,i),(s=r.getLowestSetBit())>0&&r.rShiftTo(s,r),i.compareTo(r)>=0?(i.subTo(r,i),i.rShiftTo(1,i)):(r.subTo(i,r),r.rShiftTo(1,r));return e>0&&r.lShiftTo(e,r),r}function ii(t){if(t<=0)return 0;var i=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(0==i)r=this[0]%t;else for(var o=this.t-1;o>=0;--o)r=(i*r+this[o])%t;return r}function ri(t){var i=t.isEven();if(this.isEven()&&i||0==t.signum())return o.ZERO;for(var r=t.clone(),s=this.clone(),e=y(1),n=y(0),h=y(0),u=y(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),i?(e.isEven()&&n.isEven()||(e.addTo(this,e),n.subTo(t,n)),e.rShiftTo(1,e)):n.isEven()||n.subTo(t,n),n.rShiftTo(1,n);for(;s.isEven();)s.rShiftTo(1,s),i?(h.isEven()&&u.isEven()||(h.addTo(this,h),u.subTo(t,u)),h.rShiftTo(1,h)):u.isEven()||u.subTo(t,u),u.rShiftTo(1,u);r.compareTo(s)>=0?(r.subTo(s,r),i&&e.subTo(h,e),n.subTo(u,n)):(s.subTo(r,s),i&&h.subTo(e,h),u.subTo(n,u))}return 0!=s.compareTo(o.ONE)?o.ZERO:u.compareTo(t)>=0?u.subtract(t):u.signum()<0?(u.addTo(t,u),u.signum()<0?u.add(t):u):u}N.prototype.convert=q,N.prototype.revert=L,N.prototype.reduce=x,N.prototype.mulTo=I,N.prototype.sqrTo=Z,z.prototype.convert=_,z.prototype.revert=H,z.prototype.reduce=U,z.prototype.mulTo=J,z.prototype.sqrTo=G,o.prototype.copyTo=v,o.prototype.fromInt=T,o.prototype.fromString=d,o.prototype.clamp=D,o.prototype.dlShiftTo=M,o.prototype.drShiftTo=A,o.prototype.lShiftTo=R,o.prototype.rShiftTo=O,o.prototype.subTo=k,o.prototype.multiplyTo=C,o.prototype.squareTo=P,o.prototype.divRemTo=F,o.prototype.invDigit=j,o.prototype.isEven=K,o.prototype.exp=Q,o.prototype.toString=g,o.prototype.negate=b,o.prototype.abs=B,o.prototype.compareTo=S,o.prototype.bitLength=w,o.prototype.mod=V,o.prototype.modPowInt=W,o.ZERO=y(0),o.ONE=y(1),Zt.prototype.convert=jt,Zt.prototype.revert=jt,Zt.prototype.mulTo=zt,Zt.prototype.sqrTo=_t,Jt.prototype.convert=Kt,Jt.prototype.revert=Qt,Jt.prototype.reduce=Wt,Jt.prototype.mulTo=Yt,Jt.prototype.sqrTo=Xt;var oi=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],si=(1<<26)/oi[oi.length-1];function ei(t){var i,r=this.abs();if(1==r.t&&r[0]<=oi[oi.length-1]){for(i=0;i<oi.length;++i)if(r[0]==oi[i])return!0;return!1}if(r.isEven())return!1;for(i=1;i<oi.length;){for(var o=oi[i],s=i+1;s<oi.length&&o<si;)o*=oi[s++];for(o=r.modInt(o);i<s;)if(o%oi[i++]==0)return!1}return r.millerRabin(t)}function ni(t){var i=this.subtract(o.ONE),r=i.getLowestSetBit();if(r<=0)return!1;var e=i.shiftRight(r);(t=t+1>>1)>oi.length&&(t=oi.length);for(var n=s(),h=0;h<t;++h){n.fromInt(oi[h]);var u=n.modPow(e,this);if(0!=u.compareTo(o.ONE)&&0!=u.compareTo(i)){for(var f=1;f++<r&&0!=u.compareTo(i);)if(0==(u=u.modPowInt(2,this)).compareTo(o.ONE))return!1;if(0!=u.compareTo(i))return!1}}return!0}return o.prototype.chunkSize=it,o.prototype.toRadix=ot,o.prototype.fromRadix=st,o.prototype.fromNumber=et,o.prototype.bitwiseTo=at,o.prototype.changeBit=At,o.prototype.addTo=Ct,o.prototype.dMultiply=xt,o.prototype.dAddOffset=It,o.prototype.multiplyLowerTo=Ut,o.prototype.multiplyUpperTo=Gt,o.prototype.modInt=ii,o.prototype.millerRabin=ni,o.prototype.clone=X,o.prototype.intValue=Y,o.prototype.byteValue=$,o.prototype.shortValue=tt,o.prototype.signum=rt,o.prototype.toByteArray=nt,o.prototype.equals=ht,o.prototype.min=ut,o.prototype.max=ft,o.prototype.and=ct,o.prototype.or=lt,o.prototype.xor=Tt,o.prototype.andNot=dt,o.prototype.not=Dt,o.prototype.shiftLeft=gt,o.prototype.shiftRight=bt,o.prototype.getLowestSetBit=St,o.prototype.bitCount=wt,o.prototype.testBit=Mt,o.prototype.setBit=Rt,o.prototype.clearBit=Ot,o.prototype.flipBit=kt,o.prototype.add=Pt,o.prototype.subtract=Ft,o.prototype.multiply=Vt,o.prototype.divide=Nt,o.prototype.remainder=qt,o.prototype.divideAndRemainder=Lt,o.prototype.modPow=$t,o.prototype.modInverse=ri,o.prototype.pow=Ht,o.prototype.gcd=ti,o.prototype.isProbablePrime=ei,o}()},"srp.js":function(t,i,r){var s;r.link("@babel/runtime/helpers/objectSpread2",{default:function(t){s=t}},0),(l={}).generateVerifier=function(t,i){var r=h(i),s=i&&i.salt||o.secret(),e,n=i&&i.hashedIdentityAndPassword;n||(e=i&&i.identity||o.secret(),n=r.hash(e+":"+t));var u=r.hash(s+n),f=new m(u,16),a;return{identity:e,salt:s,verifier:r.g.modPow(f,r.N).toString(16)}},l.matchVerifier={identity:String,salt:String,verifier:String};var e={hash:function(t){return n(t).toLowerCase()},N:new m("EEAF0AB9ADB38DD69C33F80AFA8FC5E86072618775FF3C0B9EA2314C9C256576D674DF7496EA81D3383B4813D692C6E0E0D5D8E250B98BE48E495C1D6089DAD15DC7D7B46154D6B6CE8EF4AD69B15D4982559B297BCF1885C529F566660E57EC68EDBC3C05726CC02FD4CBF4976EAA9AFD5138FE8376435B9FC61D2FC0EB06E3",16),g:new m("2")};e.k=new m(e.hash(e.N.toString(16)+e.g.toString(16)),16);var h=function(t){if(!t)return e;var i=s({},e);return["N","g","k"].forEach((function(r){if(t[r])if("string"==typeof t[r])i[r]=new m(t[r],16);else{if(!(t[r]instanceof m))throw new Error("Invalid parameter: "+r);i[r]=t[r]}})),t.hash&&(i.hash=function(i){return t.hash(i).toLowerCase()}),!t.k&&(t.N||t.g||t.hash)&&(i.k=i.hash(i.N.toString(16)+i.g.toString(16))),i}}}}}},{extensions:[".js",".json"]});v("/node_modules/meteor/srp/biginteger.js"),v("/node_modules/meteor/srp/srp.js"),Package._define("srp",{SRP:l})}();

!function(){var e=Package.meteor.Meteor,r=Package.meteor.global,s=Package.meteor.meteorEnv,o=Package["accounts-base"].Accounts,a=Package.srp.SRP,t=Package.sha.SHA256,n=Package.ejson.EJSON,c=Package["ddp-client"].DDP,i=Package.modules.meteorInstall,d=Package.modules.meteorBabelHelpers,l=Package.promise.Promise,u=Package["ecmascript-runtime-client"].Symbol,m=Package["ecmascript-runtime-client"].Map,w=Package["ecmascript-runtime-client"].Set,g;i({node_modules:{meteor:{"accounts-password":{"password_client.js":function(r,s,a){var c;a.link("@babel/runtime/helpers/objectSpread2",{default:function(e){c=e}},0);var i=function(e,r){if(!r)throw e;r(e)};e.loginWithPassword=function(e,r,s){"string"==typeof e&&(e=e.includes("@")?{email:e}:{username:e}),o.callLoginMethod({methodArguments:[{user:e,password:o._hashPassword(r)}],userCallback:function(o,a){o&&400===o.error&&"old password format"===o.reason?d({upgradeError:o,userSelector:e,plaintextPassword:r},s):o?i(o,s):s&&s()}})},o._hashPassword=function(e){return{digest:t(e),algorithm:"sha-256"}};var d=function(r,s){var a;try{a=n.parse(r.upgradeError.details)}catch(c){}a&&"srp"===a.format?o.callLoginMethod({methodArguments:[{user:r.userSelector,srp:t(a.identity+":"+r.plaintextPassword),password:o._hashPassword(r.plaintextPassword)}],userCallback:s}):i(new e.Error(400,"Password is old. Please reset your password."),s)};o.createUser=function(r,s){if("string"!=typeof(r=c({},r)).password)throw new Error("options.password must be a string");if(!r.password)return i(new e.Error(400,"Password may not be empty"),s);r.password=o._hashPassword(r.password),o.callLoginMethod({methodName:"createUser",methodArguments:[r],userCallback:s})},o.changePassword=function(r,s,a){return e.user()?!s instanceof String?i(new e.Error(400,"Password must be a string"),a):s?void o.connection.apply("changePassword",[r?o._hashPassword(r):null,o._hashPassword(s)],(function(t,n){t||!n?t&&400===t.error&&"old password format"===t.reason?d({upgradeError:t,userSelector:{id:e.userId()},plaintextPassword:r},(function(e){e?i(e,a):o.changePassword(r,s,a)})):i(t||new Error("No result from changePassword."),a):a&&a()})):i(new e.Error(400,"Password may not be empty"),a):i(new Error("Must be logged in to change password."),a)},o.forgotPassword=function(r,s){if(!r.email)return i(new e.Error(400,"Must pass options.email"),s);s?o.connection.call("forgotPassword",r,s):o.connection.call("forgotPassword",r)},o.resetPassword=function(r,s,a){return!r instanceof String?i(new e.Error(400,"Token must be a string"),a):!s instanceof String?i(new e.Error(400,"Password must be a string"),a):s?void o.callLoginMethod({methodName:"resetPassword",methodArguments:[r,o._hashPassword(s)],userCallback:a}):i(new e.Error(400,"Password may not be empty"),a)},o.verifyEmail=function(r,s){if(!r)return i(new e.Error(400,"Need to pass token"),s);o.callLoginMethod({methodName:"verifyEmail",methodArguments:[r],userCallback:s})}}}}}},{extensions:[".js",".json"]})("/node_modules/meteor/accounts-password/password_client.js"),Package._define("accounts-password")}();

!function(){var t=Package.meteor.Meteor,e=Package.meteor.global,n=Package.meteor.meteorEnv,i=Package.jquery.$,r=Package.jquery.jQuery;(function(){!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Popper=e()}(this,(function(){"use strict";function t(t){return t&&"[object Function]"==={}.toString.call(t)}function n(t,e){if(1!==t.nodeType)return[];var n=window.getComputedStyle(t,null);return e?n[e]:n}function i(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function r(t){if(!t||-1!==["HTML","BODY","#document"].indexOf(t.nodeName))return window.document.body;var e=n(t),o=e.overflow,s=e.overflowX,a=e.overflowY;return/(auto|scroll)/.test(o+a+s)?t:r(i(t))}function o(t){var e=t&&t.offsetParent,i=e&&e.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TD","TABLE"].indexOf(e.nodeName)&&"static"===n(e,"position")?o(e):e:window.document.documentElement}function s(t){var e=t.nodeName;return"BODY"!==e&&("HTML"===e||o(t.firstElementChild)===t)}function a(t){return null===t.parentNode?t:a(t.parentNode)}function l(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return window.document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?t:e,r=n?e:t,c=document.createRange();c.setStart(i,0),c.setEnd(r,0);var f=c.commonAncestorContainer;if(t!==f&&e!==f||i.contains(r))return s(f)?f:o(f);var h=a(t);return h.host?l(h.host,e):l(t,a(e).host)}function c(t){var e,n="top"===(1<arguments.length&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",i=t.nodeName;if("BODY"===i||"HTML"===i){var r=window.document.documentElement,o;return(window.document.scrollingElement||r)[n]}return t[n]}function f(t,e){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],i=c(e,"top"),r=c(e,"left"),o=n?-1:1;return t.top+=i*o,t.bottom+=i*o,t.left+=r*o,t.right+=r*o,t}function h(t,e){var n="x"===e?"Left":"Top",i="Left"==n?"Right":"Bottom";return+t["border"+n+"Width"].split("px")[0]+ +t["border"+i+"Width"].split("px")[0]}function u(t,e,n,i){return q(e["offset"+t],n["client"+t],n["offset"+t],rt()?n["offset"+t]+i["margin"+("Height"===t?"Top":"Left")]+i["margin"+("Height"===t?"Bottom":"Right")]:0)}function d(){var t=window.document.body,e=window.document.documentElement,n=rt()&&window.getComputedStyle(e);return{height:u("Height",t,e,n),width:u("Width",t,e,n)}}function p(t){return lt({},t,{right:t.left+t.width,bottom:t.top+t.height})}function g(t){var e={};if(rt())try{e=t.getBoundingClientRect();var i=c(t,"top"),r=c(t,"left");e.top+=i,e.left+=r,e.bottom+=i,e.right+=r}catch(t){}else e=t.getBoundingClientRect();var o={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},s="HTML"===t.nodeName?d():{},a=s.width||t.clientWidth||o.right-o.left,l=s.height||t.clientHeight||o.bottom-o.top,f=t.offsetWidth-a,u=t.offsetHeight-l;if(f||u){var g=n(t);f-=h(g,"x"),u-=h(g,"y"),o.width-=f,o.height-=u}return p(o)}function m(t,e){var i=rt(),o="HTML"===e.nodeName,s=g(t),a=g(e),l=r(t),c=n(e),h=+c.borderTopWidth.split("px")[0],u=+c.borderLeftWidth.split("px")[0],d=p({top:s.top-a.top-h,left:s.left-a.left-u,width:s.width,height:s.height});if(d.marginTop=0,d.marginLeft=0,!i&&o){var m=+c.marginTop.split("px")[0],_=+c.marginLeft.split("px")[0];d.top-=h-m,d.bottom-=h-m,d.left-=u-_,d.right-=u-_,d.marginTop=m,d.marginLeft=_}return(i?e.contains(l):e===l&&"BODY"!==l.nodeName)&&(d=f(d,e)),d}function _(t){var e=window.document.documentElement,n=m(t,e),i=q(e.clientWidth,window.innerWidth||0),r=q(e.clientHeight,window.innerHeight||0),o=c(e),s=c(e,"left"),a;return p({top:o-n.top+n.marginTop,left:s-n.left+n.marginLeft,width:i,height:r})}function v(t){var e=t.nodeName;return"BODY"!==e&&"HTML"!==e&&("fixed"===n(t,"position")||v(i(t)))}function b(t,e,n,o){var s={top:0,left:0},a=l(t,e);if("viewport"===o)s=_(a);else{var c;"scrollParent"===o?"BODY"===(c=r(i(t))).nodeName&&(c=window.document.documentElement):c="window"===o?window.document.documentElement:o;var f=m(c,a);if("HTML"!==c.nodeName||v(a))s=f;else{var h=d(),u=h.height,p=h.width;s.top+=f.top-f.marginTop,s.bottom=u+f.top,s.left+=f.left-f.marginLeft,s.right=p+f.left}}return s.left+=n,s.top+=n,s.right-=n,s.bottom-=n,s}function E(t){var e,n;return t.width*t.height}function y(t,e,n,i,r){var o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var s=b(n,i,o,r),a={top:{width:s.width,height:e.top-s.top},right:{width:s.right-e.right,height:s.height},bottom:{width:s.width,height:s.bottom-e.bottom},left:{width:e.left-s.left,height:s.height}},l=Object.keys(a).map((function(t){return lt({key:t},a[t],{area:E(a[t])})})).sort((function(t,e){return e.area-t.area})),c=l.filter((function(t){var e=t.width,i=t.height;return e>=n.clientWidth&&i>=n.clientHeight})),f=0<c.length?c[0].key:l[0].key,h=t.split("-")[1];return f+(h?"-"+h:"")}function T(t,e,n){var i;return m(n,l(e,n))}function w(t){var e=window.getComputedStyle(t),n=parseFloat(e.marginTop)+parseFloat(e.marginBottom),i=parseFloat(e.marginLeft)+parseFloat(e.marginRight),r;return{width:t.offsetWidth+i,height:t.offsetHeight+n}}function C(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,(function(t){return e[t]}))}function I(t,e,n){n=n.split("-")[0];var i=w(t),r={width:i.width,height:i.height},o=-1!==["right","left"].indexOf(n),s=o?"top":"left",a=o?"left":"top",l=o?"height":"width",c=o?"width":"height";return r[s]=e[s]+e[l]/2-i[l]/2,r[a]=n===a?e[a]-i[c]:e[C(a)],r}function A(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function D(t,e,n){if(Array.prototype.findIndex)return t.findIndex((function(t){return t[e]===n}));var i=A(t,(function(t){return t[e]===n}));return t.indexOf(i)}function S(e,n,i){var r;return(void 0===i?e:e.slice(0,D(e,"name",i))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var i=e.function||e.fn;e.enabled&&t(i)&&(n.offsets.popper=p(n.offsets.popper),n.offsets.reference=p(n.offsets.reference),n=i(n,e))})),n}function O(){if(!this.state.isDestroyed){var t={instance:this,styles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=T(this.state,this.popper,this.reference),t.placement=y(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.offsets.popper=I(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position="absolute",t=S(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function N(t,e){return t.some((function(t){var n=t.name,i;return t.enabled&&n===e}))}function k(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<e.length-1;i++){var r=e[i],o=r?""+r+n:t;if(void 0!==window.document.body.style[o])return o}return null}function P(){return this.state.isDestroyed=!0,N(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.left="",this.popper.style.position="",this.popper.style.top="",this.popper.style[k("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function L(t,e,n,i){var o="BODY"===t.nodeName,s=o?window:t;s.addEventListener(e,n,{passive:!0}),o||L(r(s.parentNode),e,n,i),i.push(s)}function x(t,e,n,i){n.updateBound=i,window.addEventListener("resize",n.updateBound,{passive:!0});var o=r(t);return L(o,"scroll",n.updateBound,n.scrollParents),n.scrollElement=o,n.eventsEnabled=!0,n}function j(){this.state.eventsEnabled||(this.state=x(this.reference,this.options,this.state,this.scheduleUpdate))}function R(t,e){return window.removeEventListener("resize",e.updateBound),e.scrollParents.forEach((function(t){t.removeEventListener("scroll",e.updateBound)})),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e}function H(){this.state.eventsEnabled&&(window.cancelAnimationFrame(this.scheduleUpdate),this.state=R(this.reference,this.state))}function M(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function W(t,e){Object.keys(e).forEach((function(n){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&M(e[n])&&(i="px"),t.style[n]=e[n]+i}))}function F(t,e){Object.keys(e).forEach((function(n){var i;!1===e[n]?t.removeAttribute(n):t.setAttribute(n,e[n])}))}function U(t,e,n){var i=A(t,(function(t){var n;return t.name===e})),r=!!i&&t.some((function(t){return t.name===n&&t.enabled&&t.order<i.order}));if(!r){var o="`"+e+"`";console.warn("`"+n+"` modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return r}function B(t){return"end"===t?"start":"start"===t?"end":t}function K(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=ft.indexOf(t),i=ft.slice(n+1).concat(ft.slice(0,n));return e?i.reverse():i}function V(t,e,n,i){var r=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+r[1],s=r[2],a;if(!o)return t;if(0===s.indexOf("%")){var l,c;switch(s){case"%p":l=n;break;case"%":case"%r":default:l=i}return p(l)[e]/100*o}return"vh"===s||"vw"===s?(a="vh"===s?q(document.documentElement.clientHeight,window.innerHeight||0):q(document.documentElement.clientWidth,window.innerWidth||0))/100*o:o}function Q(t,e,n,i){var r=[0,0],o=-1!==["right","left"].indexOf(i),s=t.split(/(\+|\-)/).map((function(t){return t.trim()})),a=s.indexOf(A(s,(function(t){return-1!==t.search(/,|\s/)})));s[a]&&-1===s[a].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1===a?[s]:[s.slice(0,a).concat([s[a].split(l)[0]]),[s[a].split(l)[1]].concat(s.slice(a+1))];return(c=c.map((function(t,i){var r=(1===i?!o:o)?"height":"width",s=!1;return t.reduce((function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,s=!0,t):s?(t[t.length-1]+=e,s=!1,t):t.concat(e)}),[]).map((function(t){return V(t,r,e,n)}))}))).forEach((function(t,e){t.forEach((function(n,i){M(n)&&(r[e]+=n*("-"===t[i-1]?-1:1))}))})),r}for(var Y=Math.min,G=Math.floor,q=Math.max,z=["native code","[object MutationObserverConstructor]"],X=function(t){return z.some((function(e){return-1<(t||"").toString().indexOf(e)}))},J="undefined"!=typeof window,Z=["Edge","Trident","Firefox"],$=0,tt=0;tt<Z.length;tt+=1)if(J&&0<=navigator.userAgent.indexOf(Z[tt])){$=1;break}var et,nt,it=J&&X(window.MutationObserver)?function(t){var e=!1,n=0,i=document.createElement("span"),r;return new MutationObserver((function(){t(),e=!1})).observe(i,{attributes:!0}),function(){e||(e=!0,i.setAttribute("x-index",n),++n)}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout((function(){e=!1,t()}),$))}},rt=function(){return null==et&&(et=-1!==navigator.appVersion.indexOf("MSIE 10")),et},ot=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},st=function(){function t(t,e){for(var n,i=0;i<e.length;i++)(n=e[i]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),at=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},lt=Object.assign||function(t){for(var e,n=1;n<arguments.length;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},ct=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],ft=ct.slice(3),ht="flip",ut="clockwise",dt="counterclockwise",pt=function(){function e(n,i){var r=this,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};ot(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=it(this.update.bind(this)),this.options=lt({},e.Defaults,o),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=n.jquery?n[0]:n,this.popper=i.jquery?i[0]:i,this.options.modifiers={},Object.keys(lt({},e.Defaults.modifiers,o.modifiers)).forEach((function(t){r.options.modifiers[t]=lt({},e.Defaults.modifiers[t]||{},o.modifiers?o.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(t){return lt({name:t},r.options.modifiers[t])})).sort((function(t,e){return t.order-e.order})),this.modifiers.forEach((function(e){e.enabled&&t(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)})),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return st(e,[{key:"update",value:function(){return O.call(this)}},{key:"destroy",value:function(){return P.call(this)}},{key:"enableEventListeners",value:function(){return j.call(this)}},{key:"disableEventListeners",value:function(){return H.call(this)}}]),e}();return pt.Utils=("undefined"==typeof window?e:window).PopperUtils,pt.placements=ct,pt.Defaults={placement:"bottom",eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,n=e.split("-")[0],i=e.split("-")[1];if(i){var r=t.offsets,o=r.reference,s=r.popper,a=-1!==["bottom","top"].indexOf(n),l=a?"left":"top",c=a?"width":"height",f={start:at({},l,o[l]),end:at({},l,o[l]+o[c]-s[c])};t.offsets.popper=lt({},s,f[i])}return t}},offset:{order:200,enabled:!0,fn:function(t,e){var n,i=e.offset,r=t.placement,o=t.offsets,s=o.popper,a=o.reference,l=r.split("-")[0];return n=M(+i)?[+i,0]:Q(i,s,a,l),"left"===l?(s.top+=n[0],s.left-=n[1]):"right"===l?(s.top+=n[0],s.left+=n[1]):"top"===l?(s.left+=n[0],s.top-=n[1]):"bottom"===l&&(s.left+=n[0],s.top+=n[1]),t.popper=s,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,e){var n=e.boundariesElement||o(t.instance.popper);t.instance.reference===n&&(n=o(n));var i=b(t.instance.popper,t.instance.reference,e.padding,n);e.boundaries=i;var r=e.priority,s=t.offsets.popper,a={primary:function(t){var n=s[t];return s[t]<i[t]&&!e.escapeWithReference&&(n=q(s[t],i[t])),at({},t,n)},secondary:function(t){var n="right"===t?"left":"top",r=s[n];return s[t]>i[t]&&!e.escapeWithReference&&(r=Y(s[n],i[t]-("right"===t?s.width:s.height))),at({},n,r)}};return r.forEach((function(t){var e=-1===["left","top"].indexOf(t)?"secondary":"primary";s=lt({},s,a[e](t))})),t.offsets.popper=s,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,n=e.popper,i=e.reference,r=t.placement.split("-")[0],o=G,s=-1!==["top","bottom"].indexOf(r),a=s?"right":"bottom",l=s?"left":"top",c=s?"width":"height";return n[a]<o(i[l])&&(t.offsets.popper[l]=o(i[l])-n[c]),n[l]>o(i[a])&&(t.offsets.popper[l]=o(i[a])),t}},arrow:{order:500,enabled:!0,fn:function(t,e){if(!U(t.instance.modifiers,"arrow","keepTogether"))return t;var n=e.element;if("string"==typeof n){if(!(n=t.instance.popper.querySelector(n)))return t}else if(!t.instance.popper.contains(n))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var i=t.placement.split("-")[0],r=t.offsets,o=r.popper,s=r.reference,a=-1!==["left","right"].indexOf(i),l=a?"height":"width",c=a?"top":"left",f=a?"left":"top",h=a?"bottom":"right",u=w(n)[l];s[h]-u<o[c]&&(t.offsets.popper[c]-=o[c]-(s[h]-u)),s[c]+u>o[h]&&(t.offsets.popper[c]+=s[c]+u-o[h]);var d,g=s[c]+s[l]/2-u/2-p(t.offsets.popper)[c];return g=q(Y(o[l]-u,g),0),t.arrowElement=n,t.offsets.arrow={},t.offsets.arrow[c]=Math.round(g),t.offsets.arrow[f]="",t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,e){if(N(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var n=b(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement),i=t.placement.split("-")[0],r=C(i),o=t.placement.split("-")[1]||"",s=[];switch(e.behavior){case ht:s=[i,r];break;case ut:s=K(i);break;case dt:s=K(i,!0);break;default:s=e.behavior}return s.forEach((function(a,l){if(i!==a||s.length===l+1)return t;i=t.placement.split("-")[0],r=C(i);var c=t.offsets.popper,f=t.offsets.reference,h=G,u="left"===i&&h(c.right)>h(f.left)||"right"===i&&h(c.left)<h(f.right)||"top"===i&&h(c.bottom)>h(f.top)||"bottom"===i&&h(c.top)<h(f.bottom),d=h(c.left)<h(n.left),p=h(c.right)>h(n.right),g=h(c.top)<h(n.top),m=h(c.bottom)>h(n.bottom),_="left"===i&&d||"right"===i&&p||"top"===i&&g||"bottom"===i&&m,v=-1!==["top","bottom"].indexOf(i),b=!!e.flipVariations&&(v&&"start"===o&&d||v&&"end"===o&&p||!v&&"start"===o&&g||!v&&"end"===o&&m);(u||_||b)&&(t.flipped=!0,(u||_)&&(i=s[l+1]),b&&(o=B(o)),t.placement=i+(o?"-"+o:""),t.offsets.popper=lt({},t.offsets.popper,I(t.instance.popper,t.offsets.reference,t.placement)),t=S(t.instance.modifiers,t,"flip"))})),t},behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,n=e.split("-")[0],i=t.offsets,r=i.popper,o=i.reference,s=-1!==["left","right"].indexOf(n),a=-1===["top","left"].indexOf(n);return r[s?"left":"top"]=o[e]-(a?r[s?"width":"height"]:0),t.placement=C(e),t.offsets.popper=p(r),t}},hide:{order:800,enabled:!0,fn:function(t){if(!U(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=A(t.instance.modifiers,(function(t){return"preventOverflow"===t.name})).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var n=e.x,i=e.y,r=t.offsets.popper,s=A(t.instance.modifiers,(function(t){return"applyStyle"===t.name})).gpuAcceleration;void 0!==s&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a,l,c=void 0===s?e.gpuAcceleration:s,f,h=g(o(t.instance.popper)),u={position:r.position},d={left:G(r.left),top:G(r.top),bottom:G(r.bottom),right:G(r.right)},p="bottom"===n?"top":"bottom",m="right"===i?"left":"right",_=k("transform");if(l="bottom"==p?-h.height+d.bottom:d.top,a="right"==m?-h.width+d.right:d.left,c&&_)u[_]="translate3d("+a+"px, "+l+"px, 0)",u[p]=0,u[m]=0,u.willChange="transform";else{var v="bottom"==p?-1:1,b="right"==m?-1:1;u[p]=l*v,u[m]=a*b,u.willChange=p+", "+m}var E={"x-placement":t.placement};return t.attributes=lt({},E,t.attributes),t.styles=lt({},u,t.styles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){return W(t.instance.popper,t.styles),F(t.instance.popper,t.attributes),t.offsets.arrow&&W(t.arrowElement,t.offsets.arrow),t},onLoad:function(t,e,n,i,r){var o=T(r,e,t),s=y(n.placement,o,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",s),W(e,{position:"absolute"}),n},gpuAcceleration:void 0}}},pt}))}).call(this),function(){
/*!
  * Bootstrap v4.1.0 (https://getbootstrap.com/)
  * Copyright 2011-2018 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
  */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("jquery"),require("popper.js")):"function"==typeof define&&define.amd?define(["exports","jquery","popper.js"],e):e(t.bootstrap={},t.jQuery,t.Popper)}(this,(function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),i.forEach((function(e){o(t,e,n[e])}))}return t}function a(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}e=e&&e.hasOwnProperty("default")?e.default:e,n=n&&n.hasOwnProperty("default")?n.default:n;var l=function(t){var e="transitionend",n=1e6,i=1e3;function r(t){return{}.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase()}function o(){return{bindType:e,delegateType:e,handle:function e(n){if(t(n.target).is(this))return n.handleObj.handler.apply(this,arguments)}}}function s(e){var n=this,i=!1;return t(this).one(l.TRANSITION_END,(function(){i=!0})),setTimeout((function(){i||l.triggerTransitionEnd(n)}),e),this}function a(){t.fn.emulateTransitionEnd=s,t.event.special[l.TRANSITION_END]=o()}var l={TRANSITION_END:"bsTransitionEnd",getUID:function t(e){do{e+=~~(1e6*Math.random())}while(document.getElementById(e));return e},getSelectorFromElement:function e(n){var i=n.getAttribute("data-target");i&&"#"!==i||(i=n.getAttribute("href")||"");try{var r;return t(document).find(i).length>0?i:null}catch(o){return null}},getTransitionDurationFromElement:function e(n){if(!n)return 0;var i=t(n).css("transition-duration"),r;return parseFloat(i)?(i=i.split(",")[0],1e3*parseFloat(i)):0},reflow:function t(e){return e.offsetHeight},triggerTransitionEnd:function n(i){t(i).trigger(e)},supportsTransitionEnd:function t(){return Boolean(e)},isElement:function t(e){return(e[0]||e).nodeType},typeCheckConfig:function t(e,n,i){for(var o in i)if(Object.prototype.hasOwnProperty.call(i,o)){var s=i[o],a=n[o],c=a&&l.isElement(a)?"element":r(a);if(!new RegExp(s).test(c))throw new Error(e.toUpperCase()+': Option "'+o+'" provided type "'+c+'" but expected type "'+s+'".')}}};return a(),l}(e),c=function(t){var e="alert",n="4.1.0",i="bs.alert",o=".bs.alert",s=".data-api",a=t.fn.alert,c='[data-dismiss="alert"]',f={CLOSE:"close.bs.alert",CLOSED:"closed.bs.alert",CLICK_DATA_API:"click.bs.alert.data-api"},h="alert",u="fade",d="show",p=function(){function e(t){this._element=t}var n=e.prototype;return n.close=function t(e){e=e||this._element;var n=this._getRootElement(e),i;this._triggerCloseEvent(n).isDefaultPrevented()||this._removeElement(n)},n.dispose=function e(){t.removeData(this._element,i),this._element=null},n._getRootElement=function e(n){var i=l.getSelectorFromElement(n),r=!1;return i&&(r=t(i)[0]),r||(r=t(n).closest("."+h)[0]),r},n._triggerCloseEvent=function e(n){var i=t.Event(f.CLOSE);return t(n).trigger(i),i},n._removeElement=function e(n){var i=this;if(t(n).removeClass(d),t(n).hasClass(u)){var r=l.getTransitionDurationFromElement(n);t(n).one(l.TRANSITION_END,(function(t){return i._destroyElement(n,t)})).emulateTransitionEnd(r)}else this._destroyElement(n)},n._destroyElement=function e(n){t(n).detach().trigger(f.CLOSED).remove()},e._jQueryInterface=function n(r){return this.each((function(){var n=t(this),o=n.data(i);o||(o=new e(this),n.data(i,o)),"close"===r&&o[r](this)}))},e._handleDismiss=function t(e){return function(t){t&&t.preventDefault(),e.close(this)}},r(e,null,[{key:"VERSION",get:function t(){return"4.1.0"}}]),e}();return t(document).on(f.CLICK_DATA_API,c,p._handleDismiss(new p)),t.fn.alert=p._jQueryInterface,t.fn.alert.Constructor=p,t.fn.alert.noConflict=function(){return t.fn.alert=a,p._jQueryInterface},p}(e),f=function(t){var e="button",n="4.1.0",i="bs.button",o=".bs.button",s=".data-api",a=t.fn[e],l="active",c="btn",f="focus",h='[data-toggle^="button"]',u='[data-toggle="buttons"]',d="input",p=".active",g=".btn",m={CLICK_DATA_API:"click.bs.button.data-api",FOCUS_BLUR_DATA_API:"focus.bs.button.data-api blur.bs.button.data-api"},_=function(){function e(t){this._element=t}var n=e.prototype;return n.toggle=function e(){var n=!0,i=!0,r=t(this._element).closest(u)[0];if(r){var o=t(this._element).find(d)[0];if(o){if("radio"===o.type)if(o.checked&&t(this._element).hasClass(l))n=!1;else{var s=t(r).find(p)[0];s&&t(s).removeClass(l)}if(n){if(o.hasAttribute("disabled")||r.hasAttribute("disabled")||o.classList.contains("disabled")||r.classList.contains("disabled"))return;o.checked=!t(this._element).hasClass(l),t(o).trigger("change")}o.focus(),i=!1}}i&&this._element.setAttribute("aria-pressed",!t(this._element).hasClass(l)),n&&t(this._element).toggleClass(l)},n.dispose=function e(){t.removeData(this._element,i),this._element=null},e._jQueryInterface=function n(r){return this.each((function(){var n=t(this).data(i);n||(n=new e(this),t(this).data(i,n)),"toggle"===r&&n[r]()}))},r(e,null,[{key:"VERSION",get:function t(){return"4.1.0"}}]),e}();return t(document).on(m.CLICK_DATA_API,h,(function(e){e.preventDefault();var n=e.target;t(n).hasClass(c)||(n=t(n).closest(g)),_._jQueryInterface.call(t(n),"toggle")})).on(m.FOCUS_BLUR_DATA_API,h,(function(e){var n=t(e.target).closest(g)[0];t(n).toggleClass(f,/^focus(in)?$/.test(e.type))})),t.fn[e]=_._jQueryInterface,t.fn[e].Constructor=_,t.fn[e].noConflict=function(){return t.fn[e]=a,_._jQueryInterface},_}(e),h=function(t){var e="carousel",n="4.1.0",i="bs.carousel",o="."+i,a=".data-api",c=t.fn[e],f=37,h=39,u=500,d={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0},p={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean"},g="next",m="prev",_="left",v="right",b={SLIDE:"slide"+o,SLID:"slid"+o,KEYDOWN:"keydown"+o,MOUSEENTER:"mouseenter"+o,MOUSELEAVE:"mouseleave"+o,TOUCHEND:"touchend"+o,LOAD_DATA_API:"load.bs.carousel.data-api",CLICK_DATA_API:"click.bs.carousel.data-api"},E="carousel",y="active",T="slide",w="carousel-item-right",C="carousel-item-left",I="carousel-item-next",A="carousel-item-prev",D="carousel-item",S={ACTIVE:".active",ACTIVE_ITEM:".active.carousel-item",ITEM:".carousel-item",NEXT_PREV:".carousel-item-next, .carousel-item-prev",INDICATORS:".carousel-indicators",DATA_SLIDE:"[data-slide], [data-slide-to]",DATA_RIDE:'[data-ride="carousel"]'},O=function(){function n(e,n){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this._config=this._getConfig(n),this._element=t(e)[0],this._indicatorsElement=t(this._element).find(S.INDICATORS)[0],this._addEventListeners()}var a=n.prototype;return a.next=function t(){this._isSliding||this._slide(g)},a.nextWhenVisible=function e(){!document.hidden&&t(this._element).is(":visible")&&"hidden"!==t(this._element).css("visibility")&&this.next()},a.prev=function t(){this._isSliding||this._slide(m)},a.pause=function e(n){n||(this._isPaused=!0),t(this._element).find(S.NEXT_PREV)[0]&&(l.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},a.cycle=function t(e){e||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},a.to=function e(n){var i=this;this._activeElement=t(this._element).find(S.ACTIVE_ITEM)[0];var r=this._getItemIndex(this._activeElement);if(!(n>this._items.length-1||n<0))if(this._isSliding)t(this._element).one(b.SLID,(function(){return i.to(n)}));else{if(r===n)return this.pause(),void this.cycle();var o=n>r?g:m;this._slide(o,this._items[n])}},a.dispose=function e(){t(this._element).off(o),t.removeData(this._element,i),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},a._getConfig=function t(n){return n=s({},d,n),l.typeCheckConfig(e,n,p),n},a._addEventListeners=function e(){var n=this;this._config.keyboard&&t(this._element).on(b.KEYDOWN,(function(t){return n._keydown(t)})),"hover"===this._config.pause&&(t(this._element).on(b.MOUSEENTER,(function(t){return n.pause(t)})).on(b.MOUSELEAVE,(function(t){return n.cycle(t)})),"ontouchstart"in document.documentElement&&t(this._element).on(b.TOUCHEND,(function(){n.pause(),n.touchTimeout&&clearTimeout(n.touchTimeout),n.touchTimeout=setTimeout((function(t){return n.cycle(t)}),500+n._config.interval)})))},a._keydown=function t(e){if(!/input|textarea/i.test(e.target.tagName))switch(e.which){case 37:e.preventDefault(),this.prev();break;case 39:e.preventDefault(),this.next()}},a._getItemIndex=function e(n){return this._items=t.makeArray(t(n).parent().find(S.ITEM)),this._items.indexOf(n)},a._getItemByDirection=function t(e,n){var i=e===g,r=e===m,o=this._getItemIndex(n),s=this._items.length-1,a;if((r&&0===o||i&&o===s)&&!this._config.wrap)return n;var l,c=(o+(e===m?-1:1))%this._items.length;return-1===c?this._items[this._items.length-1]:this._items[c]},a._triggerSlideEvent=function e(n,i){var r=this._getItemIndex(n),o=this._getItemIndex(t(this._element).find(S.ACTIVE_ITEM)[0]),s=t.Event(b.SLIDE,{relatedTarget:n,direction:i,from:o,to:r});return t(this._element).trigger(s),s},a._setActiveIndicatorElement=function e(n){if(this._indicatorsElement){t(this._indicatorsElement).find(S.ACTIVE).removeClass(y);var i=this._indicatorsElement.children[this._getItemIndex(n)];i&&t(i).addClass(y)}},a._slide=function e(n,i){var r=this,o=t(this._element).find(S.ACTIVE_ITEM)[0],s=this._getItemIndex(o),a=i||o&&this._getItemByDirection(n,o),c=this._getItemIndex(a),f=Boolean(this._interval),h,u,d,p;if(n===g?(h=C,u=I,d=_):(h=w,u=A,d=v),a&&t(a).hasClass(y))this._isSliding=!1;else if(!this._triggerSlideEvent(a,d).isDefaultPrevented()&&o&&a){this._isSliding=!0,f&&this.pause(),this._setActiveIndicatorElement(a);var m=t.Event(b.SLID,{relatedTarget:a,direction:d,from:s,to:c});if(t(this._element).hasClass(T)){t(a).addClass(u),l.reflow(a),t(o).addClass(h),t(a).addClass(h);var E=l.getTransitionDurationFromElement(o);t(o).one(l.TRANSITION_END,(function(){t(a).removeClass(h+" "+u).addClass(y),t(o).removeClass(y+" "+u+" "+h),r._isSliding=!1,setTimeout((function(){return t(r._element).trigger(m)}),0)})).emulateTransitionEnd(E)}else t(o).removeClass(y),t(a).addClass(y),this._isSliding=!1,t(this._element).trigger(m);f&&this.cycle()}},n._jQueryInterface=function e(r){return this.each((function(){var e=t(this).data(i),o=s({},d,t(this).data());"object"==typeof r&&(o=s({},o,r));var a="string"==typeof r?r:o.slide;if(e||(e=new n(this,o),t(this).data(i,e)),"number"==typeof r)e.to(r);else if("string"==typeof a){if(void 0===e[a])throw new TypeError('No method named "'+a+'"');e[a]()}else o.interval&&(e.pause(),e.cycle())}))},n._dataApiClickHandler=function e(r){var o=l.getSelectorFromElement(this);if(o){var a=t(o)[0];if(a&&t(a).hasClass(E)){var c=s({},t(a).data(),t(this).data()),f=this.getAttribute("data-slide-to");f&&(c.interval=!1),n._jQueryInterface.call(t(a),c),f&&t(a).data(i).to(f),r.preventDefault()}}},r(n,null,[{key:"VERSION",get:function t(){return"4.1.0"}},{key:"Default",get:function t(){return d}}]),n}();return t(document).on(b.CLICK_DATA_API,S.DATA_SLIDE,O._dataApiClickHandler),t(window).on(b.LOAD_DATA_API,(function(){t(S.DATA_RIDE).each((function(){var e=t(this);O._jQueryInterface.call(e,e.data())}))})),t.fn[e]=O._jQueryInterface,t.fn[e].Constructor=O,t.fn[e].noConflict=function(){return t.fn[e]=c,O._jQueryInterface},O}(e),u=function(t){var e="collapse",n="4.1.0",i="bs.collapse",o="."+i,a=".data-api",c=t.fn[e],f={toggle:!0,parent:""},h={toggle:"boolean",parent:"(string|element)"},u={SHOW:"show"+o,SHOWN:"shown"+o,HIDE:"hide"+o,HIDDEN:"hidden"+o,CLICK_DATA_API:"click.bs.collapse.data-api"},d="show",p="collapse",g="collapsing",m="collapsed",_="width",v="height",b={ACTIVES:".show, .collapsing",DATA_TOGGLE:'[data-toggle="collapse"]'},E=function(){function n(e,n){this._isTransitioning=!1,this._element=e,this._config=this._getConfig(n),this._triggerArray=t.makeArray(t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'));for(var i=t(b.DATA_TOGGLE),r=0;r<i.length;r++){var o=i[r],s=l.getSelectorFromElement(o);null!==s&&t(s).filter(e).length>0&&(this._selector=s,this._triggerArray.push(o))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var o=n.prototype;return o.toggle=function e(){t(this._element).hasClass(d)?this.hide():this.show()},o.show=function e(){var r=this,o,s;if(!this._isTransitioning&&!t(this._element).hasClass(d)&&(this._parent&&0===(o=t.makeArray(t(this._parent).find(b.ACTIVES).filter('[data-parent="'+this._config.parent+'"]'))).length&&(o=null),!(o&&(s=t(o).not(this._selector).data(i))&&s._isTransitioning))){var a=t.Event(u.SHOW);if(t(this._element).trigger(a),!a.isDefaultPrevented()){o&&(n._jQueryInterface.call(t(o).not(this._selector),"hide"),s||t(o).data(i,null));var c=this._getDimension();t(this._element).removeClass(p).addClass(g),this._element.style[c]=0,this._triggerArray.length>0&&t(this._triggerArray).removeClass(m).attr("aria-expanded",!0),this.setTransitioning(!0);var f=function e(){t(r._element).removeClass(g).addClass(p).addClass(d),r._element.style[c]="",r.setTransitioning(!1),t(r._element).trigger(u.SHOWN)},h,_="scroll"+(c[0].toUpperCase()+c.slice(1)),v=l.getTransitionDurationFromElement(this._element);t(this._element).one(l.TRANSITION_END,f).emulateTransitionEnd(v),this._element.style[c]=this._element[_]+"px"}}},o.hide=function e(){var n=this;if(!this._isTransitioning&&t(this._element).hasClass(d)){var i=t.Event(u.HIDE);if(t(this._element).trigger(i),!i.isDefaultPrevented()){var r=this._getDimension();if(this._element.style[r]=this._element.getBoundingClientRect()[r]+"px",l.reflow(this._element),t(this._element).addClass(g).removeClass(p).removeClass(d),this._triggerArray.length>0)for(var o=0;o<this._triggerArray.length;o++){var s=this._triggerArray[o],a=l.getSelectorFromElement(s),c;if(null!==a)t(a).hasClass(d)||t(s).addClass(m).attr("aria-expanded",!1)}this.setTransitioning(!0);var f=function e(){n.setTransitioning(!1),t(n._element).removeClass(g).addClass(p).trigger(u.HIDDEN)};this._element.style[r]="";var h=l.getTransitionDurationFromElement(this._element);t(this._element).one(l.TRANSITION_END,f).emulateTransitionEnd(h)}}},o.setTransitioning=function t(e){this._isTransitioning=e},o.dispose=function e(){t.removeData(this._element,i),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},o._getConfig=function t(n){return(n=s({},f,n)).toggle=Boolean(n.toggle),l.typeCheckConfig(e,n,h),n},o._getDimension=function e(){var n;return t(this._element).hasClass(_)?_:v},o._getParent=function e(){var i=this,r=null;l.isElement(this._config.parent)?(r=this._config.parent,void 0!==this._config.parent.jquery&&(r=this._config.parent[0])):r=t(this._config.parent)[0];var o='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]';return t(r).find(o).each((function(t,e){i._addAriaAndCollapsedClass(n._getTargetFromElement(e),[e])})),r},o._addAriaAndCollapsedClass=function e(n,i){if(n){var r=t(n).hasClass(d);i.length>0&&t(i).toggleClass(m,!r).attr("aria-expanded",r)}},n._getTargetFromElement=function e(n){var i=l.getSelectorFromElement(n);return i?t(i)[0]:null},n._jQueryInterface=function e(r){return this.each((function(){var e=t(this),o=e.data(i),a=s({},f,e.data(),"object"==typeof r&&r);if(!o&&a.toggle&&/show|hide/.test(r)&&(a.toggle=!1),o||(o=new n(this,a),e.data(i,o)),"string"==typeof r){if(void 0===o[r])throw new TypeError('No method named "'+r+'"');o[r]()}}))},r(n,null,[{key:"VERSION",get:function t(){return"4.1.0"}},{key:"Default",get:function t(){return f}}]),n}();return t(document).on(u.CLICK_DATA_API,b.DATA_TOGGLE,(function(e){"A"===e.currentTarget.tagName&&e.preventDefault();var n=t(this),r=l.getSelectorFromElement(this);t(r).each((function(){var e=t(this),r,o=e.data(i)?"toggle":n.data();E._jQueryInterface.call(e,o)}))})),t.fn[e]=E._jQueryInterface,t.fn[e].Constructor=E,t.fn[e].noConflict=function(){return t.fn[e]=c,E._jQueryInterface},E}(e),d=function(t){var e="dropdown",i="4.1.0",o="bs.dropdown",a="."+o,c=".data-api",f=t.fn[e],h=27,u=32,d=9,p=38,g=40,m=3,_=new RegExp("38|40|27"),v={HIDE:"hide"+a,HIDDEN:"hidden"+a,SHOW:"show"+a,SHOWN:"shown"+a,CLICK:"click"+a,CLICK_DATA_API:"click.bs.dropdown.data-api",KEYDOWN_DATA_API:"keydown.bs.dropdown.data-api",KEYUP_DATA_API:"keyup.bs.dropdown.data-api"},b="disabled",E="show",y="dropup",T="dropright",w="dropleft",C="dropdown-menu-right",I="dropdown-menu-left",A="position-static",D='[data-toggle="dropdown"]',S=".dropdown form",O=".dropdown-menu",N=".navbar-nav",k=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",P="top-start",L="top-end",x="bottom-start",j="bottom-end",R="right-start",H="right-end",M="left-start",W="left-end",F={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic"},U={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string"},B=function(){function i(t,e){this._element=t,this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var c=i.prototype;return c.toggle=function e(){if(!this._element.disabled&&!t(this._element).hasClass(b)){var r=i._getParentFromElement(this._element),o=t(this._menu).hasClass(E);if(i._clearMenus(),!o){var s={relatedTarget:this._element},a=t.Event(v.SHOW,s);if(t(r).trigger(a),!a.isDefaultPrevented()){if(!this._inNavbar){if(void 0===n)throw new TypeError("Bootstrap dropdown require Popper.js (https://popper.js.org)");var c=this._element;"parent"===this._config.reference?c=r:l.isElement(this._config.reference)&&(c=this._config.reference,void 0!==this._config.reference.jquery&&(c=this._config.reference[0])),"scrollParent"!==this._config.boundary&&t(r).addClass(A),this._popper=new n(c,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===t(r).closest(N).length&&t(document.body).children().on("mouseover",null,t.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),t(this._menu).toggleClass(E),t(r).toggleClass(E).trigger(t.Event(v.SHOWN,s))}}}},c.dispose=function e(){t.removeData(this._element,o),t(this._element).off(a),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)},c.update=function t(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},c._addEventListeners=function e(){var n=this;t(this._element).on(v.CLICK,(function(t){t.preventDefault(),t.stopPropagation(),n.toggle()}))},c._getConfig=function n(i){return i=s({},this.constructor.Default,t(this._element).data(),i),l.typeCheckConfig(e,i,this.constructor.DefaultType),i},c._getMenuElement=function e(){if(!this._menu){var n=i._getParentFromElement(this._element);this._menu=t(n).find(O)[0]}return this._menu},c._getPlacement=function e(){var n=t(this._element).parent(),i=x;return n.hasClass(y)?(i=P,t(this._menu).hasClass(C)&&(i=L)):n.hasClass(T)?i=R:n.hasClass(w)?i=M:t(this._menu).hasClass(C)&&(i=j),i},c._detectNavbar=function e(){return t(this._element).closest(".navbar").length>0},c._getPopperConfig=function t(){var e=this,n={};"function"==typeof this._config.offset?n.fn=function(t){return t.offsets=s({},t.offsets,e._config.offset(t.offsets)||{}),t}:n.offset=this._config.offset;var i={placement:this._getPlacement(),modifiers:{offset:n,flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(i.modifiers.applyStyle={enabled:!1}),i},i._jQueryInterface=function e(n){return this.each((function(){var e=t(this).data(o),r;if(e||(e=new i(this,"object"==typeof n?n:null),t(this).data(o,e)),"string"==typeof n){if(void 0===e[n])throw new TypeError('No method named "'+n+'"');e[n]()}}))},i._clearMenus=function e(n){if(!n||3!==n.which&&("keyup"!==n.type||9===n.which))for(var r=t.makeArray(t(D)),s=0;s<r.length;s++){var a=i._getParentFromElement(r[s]),l=t(r[s]).data(o),c={relatedTarget:r[s]};if(l){var f=l._menu;if(t(a).hasClass(E)&&!(n&&("click"===n.type&&/input|textarea/i.test(n.target.tagName)||"keyup"===n.type&&9===n.which)&&t.contains(a,n.target))){var h=t.Event(v.HIDE,c);t(a).trigger(h),h.isDefaultPrevented()||("ontouchstart"in document.documentElement&&t(document.body).children().off("mouseover",null,t.noop),r[s].setAttribute("aria-expanded","false"),t(f).removeClass(E),t(a).removeClass(E).trigger(t.Event(v.HIDDEN,c)))}}}},i._getParentFromElement=function e(n){var i,r=l.getSelectorFromElement(n);return r&&(i=t(r)[0]),i||n.parentNode},i._dataApiKeydownHandler=function e(n){if((/input|textarea/i.test(n.target.tagName)?!(32===n.which||27!==n.which&&(40!==n.which&&38!==n.which||t(n.target).closest(O).length)):_.test(n.which))&&(n.preventDefault(),n.stopPropagation(),!this.disabled&&!t(this).hasClass(b))){var r=i._getParentFromElement(this),o=t(r).hasClass(E);if((o||27===n.which&&32===n.which)&&(!o||27!==n.which&&32!==n.which)){var s=t(r).find(k).get();if(0!==s.length){var a=s.indexOf(n.target);38===n.which&&a>0&&a--,40===n.which&&a<s.length-1&&a++,a<0&&(a=0),s[a].focus()}}else{if(27===n.which){var l=t(r).find(D)[0];t(l).trigger("focus")}t(this).trigger("click")}}},r(i,null,[{key:"VERSION",get:function t(){return"4.1.0"}},{key:"Default",get:function t(){return F}},{key:"DefaultType",get:function t(){return U}}]),i}();return t(document).on(v.KEYDOWN_DATA_API,D,B._dataApiKeydownHandler).on(v.KEYDOWN_DATA_API,O,B._dataApiKeydownHandler).on(v.CLICK_DATA_API+" "+v.KEYUP_DATA_API,B._clearMenus).on(v.CLICK_DATA_API,D,(function(e){e.preventDefault(),e.stopPropagation(),B._jQueryInterface.call(t(this),"toggle")})).on(v.CLICK_DATA_API,S,(function(t){t.stopPropagation()})),t.fn[e]=B._jQueryInterface,t.fn[e].Constructor=B,t.fn[e].noConflict=function(){return t.fn[e]=f,B._jQueryInterface},B}(e,n),p=function(t){var e="modal",n="4.1.0",i="bs.modal",o=".bs.modal",a=".data-api",c=t.fn.modal,f=27,h={backdrop:!0,keyboard:!0,focus:!0,show:!0},u={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},d={HIDE:"hide.bs.modal",HIDDEN:"hidden.bs.modal",SHOW:"show.bs.modal",SHOWN:"shown.bs.modal",FOCUSIN:"focusin.bs.modal",RESIZE:"resize.bs.modal",CLICK_DISMISS:"click.dismiss.bs.modal",KEYDOWN_DISMISS:"keydown.dismiss.bs.modal",MOUSEUP_DISMISS:"mouseup.dismiss.bs.modal",MOUSEDOWN_DISMISS:"mousedown.dismiss.bs.modal",CLICK_DATA_API:"click.bs.modal.data-api"},p="modal-scrollbar-measure",g="modal-backdrop",m="modal-open",_="fade",v="show",b={DIALOG:".modal-dialog",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"},E=function(){function n(e,n){this._config=this._getConfig(n),this._element=e,this._dialog=t(e).find(b.DIALOG)[0],this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._scrollbarWidth=0}var a=n.prototype;return a.toggle=function t(e){return this._isShown?this.hide():this.show(e)},a.show=function e(n){var i=this;if(!this._isTransitioning&&!this._isShown){t(this._element).hasClass(_)&&(this._isTransitioning=!0);var r=t.Event(d.SHOW,{relatedTarget:n});t(this._element).trigger(r),this._isShown||r.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),t(document.body).addClass(m),this._setEscapeEvent(),this._setResizeEvent(),t(this._element).on(d.CLICK_DISMISS,b.DATA_DISMISS,(function(t){return i.hide(t)})),t(this._dialog).on(d.MOUSEDOWN_DISMISS,(function(){t(i._element).one(d.MOUSEUP_DISMISS,(function(e){t(e.target).is(i._element)&&(i._ignoreBackdropClick=!0)}))})),this._showBackdrop((function(){return i._showElement(n)})))}},a.hide=function e(n){var i=this;if(n&&n.preventDefault(),!this._isTransitioning&&this._isShown){var r=t.Event(d.HIDE);if(t(this._element).trigger(r),this._isShown&&!r.isDefaultPrevented()){this._isShown=!1;var o=t(this._element).hasClass(_);if(o&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),t(document).off(d.FOCUSIN),t(this._element).removeClass(v),t(this._element).off(d.CLICK_DISMISS),t(this._dialog).off(d.MOUSEDOWN_DISMISS),o){var s=l.getTransitionDurationFromElement(this._element);t(this._element).one(l.TRANSITION_END,(function(t){return i._hideModal(t)})).emulateTransitionEnd(s)}else this._hideModal()}}},a.dispose=function e(){t.removeData(this._element,i),t(window,document,this._element,this._backdrop).off(o),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._scrollbarWidth=null},a.handleUpdate=function t(){this._adjustDialog()},a._getConfig=function t(n){return n=s({},h,n),l.typeCheckConfig(e,n,u),n},a._showElement=function e(n){var i=this,r=t(this._element).hasClass(_);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.scrollTop=0,r&&l.reflow(this._element),t(this._element).addClass(v),this._config.focus&&this._enforceFocus();var o=t.Event(d.SHOWN,{relatedTarget:n}),s=function e(){i._config.focus&&i._element.focus(),i._isTransitioning=!1,t(i._element).trigger(o)};if(r){var a=l.getTransitionDurationFromElement(this._element);t(this._dialog).one(l.TRANSITION_END,s).emulateTransitionEnd(a)}else s()},a._enforceFocus=function e(){var n=this;t(document).off(d.FOCUSIN).on(d.FOCUSIN,(function(e){document!==e.target&&n._element!==e.target&&0===t(n._element).has(e.target).length&&n._element.focus()}))},a._setEscapeEvent=function e(){var n=this;this._isShown&&this._config.keyboard?t(this._element).on(d.KEYDOWN_DISMISS,(function(t){27===t.which&&(t.preventDefault(),n.hide())})):this._isShown||t(this._element).off(d.KEYDOWN_DISMISS)},a._setResizeEvent=function e(){var n=this;this._isShown?t(window).on(d.RESIZE,(function(t){return n.handleUpdate(t)})):t(window).off(d.RESIZE)},a._hideModal=function e(){var n=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._isTransitioning=!1,this._showBackdrop((function(){t(document.body).removeClass(m),n._resetAdjustments(),n._resetScrollbar(),t(n._element).trigger(d.HIDDEN)}))},a._removeBackdrop=function e(){this._backdrop&&(t(this._backdrop).remove(),this._backdrop=null)},a._showBackdrop=function e(n){var i=this,r=t(this._element).hasClass(_)?_:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className=g,r&&t(this._backdrop).addClass(r),t(this._backdrop).appendTo(document.body),t(this._element).on(d.CLICK_DISMISS,(function(t){i._ignoreBackdropClick?i._ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"===i._config.backdrop?i._element.focus():i.hide())})),r&&l.reflow(this._backdrop),t(this._backdrop).addClass(v),!n)return;if(!r)return void n();var o=l.getTransitionDurationFromElement(this._backdrop);t(this._backdrop).one(l.TRANSITION_END,n).emulateTransitionEnd(o)}else if(!this._isShown&&this._backdrop){t(this._backdrop).removeClass(v);var s=function t(){i._removeBackdrop(),n&&n()};if(t(this._element).hasClass(_)){var a=l.getTransitionDurationFromElement(this._backdrop);t(this._backdrop).one(l.TRANSITION_END,s).emulateTransitionEnd(a)}else s()}else n&&n()},a._adjustDialog=function t(){var e=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&e&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!e&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},a._resetAdjustments=function t(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},a._checkScrollbar=function t(){var e=document.body.getBoundingClientRect();this._isBodyOverflowing=e.left+e.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},a._setScrollbar=function e(){var n=this;if(this._isBodyOverflowing){t(b.FIXED_CONTENT).each((function(e,i){var r=t(i)[0].style.paddingRight,o=t(i).css("padding-right");t(i).data("padding-right",r).css("padding-right",parseFloat(o)+n._scrollbarWidth+"px")})),t(b.STICKY_CONTENT).each((function(e,i){var r=t(i)[0].style.marginRight,o=t(i).css("margin-right");t(i).data("margin-right",r).css("margin-right",parseFloat(o)-n._scrollbarWidth+"px")})),t(b.NAVBAR_TOGGLER).each((function(e,i){var r=t(i)[0].style.marginRight,o=t(i).css("margin-right");t(i).data("margin-right",r).css("margin-right",parseFloat(o)+n._scrollbarWidth+"px")}));var i=document.body.style.paddingRight,r=t(document.body).css("padding-right");t(document.body).data("padding-right",i).css("padding-right",parseFloat(r)+this._scrollbarWidth+"px")}},a._resetScrollbar=function e(){t(b.FIXED_CONTENT).each((function(e,n){var i=t(n).data("padding-right");void 0!==i&&t(n).css("padding-right",i).removeData("padding-right")})),t(b.STICKY_CONTENT+", "+b.NAVBAR_TOGGLER).each((function(e,n){var i=t(n).data("margin-right");void 0!==i&&t(n).css("margin-right",i).removeData("margin-right")}));var n=t(document.body).data("padding-right");void 0!==n&&t(document.body).css("padding-right",n).removeData("padding-right")},a._getScrollbarWidth=function t(){var e=document.createElement("div");e.className=p,document.body.appendChild(e);var n=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),n},n._jQueryInterface=function e(r,o){return this.each((function(){var e=t(this).data(i),a=s({},n.Default,t(this).data(),"object"==typeof r&&r);if(e||(e=new n(this,a),t(this).data(i,e)),"string"==typeof r){if(void 0===e[r])throw new TypeError('No method named "'+r+'"');e[r](o)}else a.show&&e.show(o)}))},r(n,null,[{key:"VERSION",get:function t(){return"4.1.0"}},{key:"Default",get:function t(){return h}}]),n}();return t(document).on(d.CLICK_DATA_API,b.DATA_TOGGLE,(function(e){var n=this,r,o=l.getSelectorFromElement(this);o&&(r=t(o)[0]);var a=t(r).data(i)?"toggle":s({},t(r).data(),t(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||e.preventDefault();var c=t(r).one(d.SHOW,(function(e){e.isDefaultPrevented()||c.one(d.HIDDEN,(function(){t(n).is(":visible")&&n.focus()}))}));E._jQueryInterface.call(t(r),a,this)})),t.fn.modal=E._jQueryInterface,t.fn.modal.Constructor=E,t.fn.modal.noConflict=function(){return t.fn.modal=c,E._jQueryInterface},E}(e),g=function(t){var e="tooltip",i="4.1.0",o="bs.tooltip",a="."+o,c=t.fn[e],f="bs-tooltip",h=new RegExp("(^|\\s)bs-tooltip\\S+","g"),u={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)"},d={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},p={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent"},g="show",m="out",_={HIDE:"hide"+a,HIDDEN:"hidden"+a,SHOW:"show"+a,SHOWN:"shown"+a,INSERTED:"inserted"+a,CLICK:"click"+a,FOCUSIN:"focusin"+a,FOCUSOUT:"focusout"+a,MOUSEENTER:"mouseenter"+a,MOUSELEAVE:"mouseleave"+a},v="fade",b="show",E=".tooltip",y=".tooltip-inner",T=".arrow",w="hover",C="focus",I="click",A="manual",D=function(){function i(t,e){if(void 0===n)throw new TypeError("Bootstrap tooltips require Popper.js (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=t,this.config=this._getConfig(e),this.tip=null,this._setListeners()}var c=i.prototype;return c.enable=function t(){this._isEnabled=!0},c.disable=function t(){this._isEnabled=!1},c.toggleEnabled=function t(){this._isEnabled=!this._isEnabled},c.toggle=function e(n){if(this._isEnabled)if(n){var i=this.constructor.DATA_KEY,r=t(n.currentTarget).data(i);r||(r=new this.constructor(n.currentTarget,this._getDelegateConfig()),t(n.currentTarget).data(i,r)),r._activeTrigger.click=!r._activeTrigger.click,r._isWithActiveTrigger()?r._enter(null,r):r._leave(null,r)}else{if(t(this.getTipElement()).hasClass(b))return void this._leave(null,this);this._enter(null,this)}},c.dispose=function e(){clearTimeout(this._timeout),t.removeData(this.element,this.constructor.DATA_KEY),t(this.element).off(this.constructor.EVENT_KEY),t(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&t(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,null!==this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},c.show=function e(){var i=this;if("none"===t(this.element).css("display"))throw new Error("Please use show on visible elements");var r=t.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){t(this.element).trigger(r);var o=t.contains(this.element.ownerDocument.documentElement,this.element);if(r.isDefaultPrevented()||!o)return;var s=this.getTipElement(),a=l.getUID(this.constructor.NAME);s.setAttribute("id",a),this.element.setAttribute("aria-describedby",a),this.setContent(),this.config.animation&&t(s).addClass(v);var c="function"==typeof this.config.placement?this.config.placement.call(this,s,this.element):this.config.placement,f=this._getAttachment(c);this.addAttachmentClass(f);var h=!1===this.config.container?document.body:t(this.config.container);t(s).data(this.constructor.DATA_KEY,this),t.contains(this.element.ownerDocument.documentElement,this.tip)||t(s).appendTo(h),t(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new n(this.element,s,{placement:f,modifiers:{offset:{offset:this.config.offset},flip:{behavior:this.config.fallbackPlacement},arrow:{element:T},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function t(e){e.originalPlacement!==e.placement&&i._handlePopperPlacementChange(e)},onUpdate:function t(e){i._handlePopperPlacementChange(e)}}),t(s).addClass(b),"ontouchstart"in document.documentElement&&t(document.body).children().on("mouseover",null,t.noop);var u=function e(){i.config.animation&&i._fixTransition();var n=i._hoverState;i._hoverState=null,t(i.element).trigger(i.constructor.Event.SHOWN),n===m&&i._leave(null,i)};if(t(this.tip).hasClass(v)){var d=l.getTransitionDurationFromElement(this.tip);t(this.tip).one(l.TRANSITION_END,u).emulateTransitionEnd(d)}else u()}},c.hide=function e(n){var i=this,r=this.getTipElement(),o=t.Event(this.constructor.Event.HIDE),s=function e(){i._hoverState!==g&&r.parentNode&&r.parentNode.removeChild(r),i._cleanTipClass(),i.element.removeAttribute("aria-describedby"),t(i.element).trigger(i.constructor.Event.HIDDEN),null!==i._popper&&i._popper.destroy(),n&&n()};if(t(this.element).trigger(o),!o.isDefaultPrevented()){if(t(r).removeClass(b),"ontouchstart"in document.documentElement&&t(document.body).children().off("mouseover",null,t.noop),this._activeTrigger[I]=!1,this._activeTrigger[C]=!1,this._activeTrigger[w]=!1,t(this.tip).hasClass(v)){var a=l.getTransitionDurationFromElement(r);t(r).one(l.TRANSITION_END,s).emulateTransitionEnd(a)}else s();this._hoverState=""}},c.update=function t(){null!==this._popper&&this._popper.scheduleUpdate()},c.isWithContent=function t(){return Boolean(this.getTitle())},c.addAttachmentClass=function e(n){t(this.getTipElement()).addClass("bs-tooltip-"+n)},c.getTipElement=function e(){return this.tip=this.tip||t(this.config.template)[0],this.tip},c.setContent=function e(){var n=t(this.getTipElement());this.setElementContent(n.find(y),this.getTitle()),n.removeClass(v+" "+b)},c.setElementContent=function e(n,i){var r=this.config.html;"object"==typeof i&&(i.nodeType||i.jquery)?r?t(i).parent().is(n)||n.empty().append(i):n.text(t(i).text()):n[r?"html":"text"](i)},c.getTitle=function t(){var e=this.element.getAttribute("data-original-title");return e||(e="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),e},c._getAttachment=function t(e){return d[e.toUpperCase()]},c._setListeners=function e(){var n=this,i;this.config.trigger.split(" ").forEach((function(e){if("click"===e)t(n.element).on(n.constructor.Event.CLICK,n.config.selector,(function(t){return n.toggle(t)}));else if(e!==A){var i=e===w?n.constructor.Event.MOUSEENTER:n.constructor.Event.FOCUSIN,r=e===w?n.constructor.Event.MOUSELEAVE:n.constructor.Event.FOCUSOUT;t(n.element).on(i,n.config.selector,(function(t){return n._enter(t)})).on(r,n.config.selector,(function(t){return n._leave(t)}))}t(n.element).closest(".modal").on("hide.bs.modal",(function(){return n.hide()}))})),this.config.selector?this.config=s({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},c._fixTitle=function t(){var e=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==e)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},c._enter=function e(n,i){var r=this.constructor.DATA_KEY;(i=i||t(n.currentTarget).data(r))||(i=new this.constructor(n.currentTarget,this._getDelegateConfig()),t(n.currentTarget).data(r,i)),n&&(i._activeTrigger["focusin"===n.type?C:w]=!0),t(i.getTipElement()).hasClass(b)||i._hoverState===g?i._hoverState=g:(clearTimeout(i._timeout),i._hoverState=g,i.config.delay&&i.config.delay.show?i._timeout=setTimeout((function(){i._hoverState===g&&i.show()}),i.config.delay.show):i.show())},c._leave=function e(n,i){var r=this.constructor.DATA_KEY;(i=i||t(n.currentTarget).data(r))||(i=new this.constructor(n.currentTarget,this._getDelegateConfig()),t(n.currentTarget).data(r,i)),n&&(i._activeTrigger["focusout"===n.type?C:w]=!1),i._isWithActiveTrigger()||(clearTimeout(i._timeout),i._hoverState=m,i.config.delay&&i.config.delay.hide?i._timeout=setTimeout((function(){i._hoverState===m&&i.hide()}),i.config.delay.hide):i.hide())},c._isWithActiveTrigger=function t(){for(var e in this._activeTrigger)if(this._activeTrigger[e])return!0;return!1},c._getConfig=function n(i){return"number"==typeof(i=s({},this.constructor.Default,t(this.element).data(),i)).delay&&(i.delay={show:i.delay,hide:i.delay}),"number"==typeof i.title&&(i.title=i.title.toString()),"number"==typeof i.content&&(i.content=i.content.toString()),l.typeCheckConfig(e,i,this.constructor.DefaultType),i},c._getDelegateConfig=function t(){var e={};if(this.config)for(var n in this.config)this.constructor.Default[n]!==this.config[n]&&(e[n]=this.config[n]);return e},c._cleanTipClass=function e(){var n=t(this.getTipElement()),i=n.attr("class").match(h);null!==i&&i.length>0&&n.removeClass(i.join(""))},c._handlePopperPlacementChange=function t(e){this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(e.placement))},c._fixTransition=function e(){var n=this.getTipElement(),i=this.config.animation;null===n.getAttribute("x-placement")&&(t(n).removeClass(v),this.config.animation=!1,this.hide(),this.show(),this.config.animation=i)},i._jQueryInterface=function e(n){return this.each((function(){var e=t(this).data(o),r="object"==typeof n&&n;if((e||!/dispose|hide/.test(n))&&(e||(e=new i(this,r),t(this).data(o,e)),"string"==typeof n)){if(void 0===e[n])throw new TypeError('No method named "'+n+'"');e[n]()}}))},r(i,null,[{key:"VERSION",get:function t(){return"4.1.0"}},{key:"Default",get:function t(){return p}},{key:"NAME",get:function t(){return e}},{key:"DATA_KEY",get:function t(){return o}},{key:"Event",get:function t(){return _}},{key:"EVENT_KEY",get:function t(){return a}},{key:"DefaultType",get:function t(){return u}}]),i}();return t.fn[e]=D._jQueryInterface,t.fn[e].Constructor=D,t.fn[e].noConflict=function(){return t.fn[e]=c,D._jQueryInterface},D}(e,n),m=function(t){var e="popover",n="4.1.0",i="bs.popover",o="."+i,l=t.fn[e],c="bs-popover",f=new RegExp("(^|\\s)bs-popover\\S+","g"),h=s({},g.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),u=s({},g.DefaultType,{content:"(string|element|function)"}),d="fade",p="show",m=".popover-header",_=".popover-body",v={HIDE:"hide"+o,HIDDEN:"hidden"+o,SHOW:"show"+o,SHOWN:"shown"+o,INSERTED:"inserted"+o,CLICK:"click"+o,FOCUSIN:"focusin"+o,FOCUSOUT:"focusout"+o,MOUSEENTER:"mouseenter"+o,MOUSELEAVE:"mouseleave"+o},b=function(n){function s(){return n.apply(this,arguments)||this}a(s,n);var l=s.prototype;return l.isWithContent=function t(){return this.getTitle()||this._getContent()},l.addAttachmentClass=function e(n){t(this.getTipElement()).addClass("bs-popover-"+n)},l.getTipElement=function e(){return this.tip=this.tip||t(this.config.template)[0],this.tip},l.setContent=function e(){var n=t(this.getTipElement());this.setElementContent(n.find(m),this.getTitle());var i=this._getContent();"function"==typeof i&&(i=i.call(this.element)),this.setElementContent(n.find(_),i),n.removeClass(d+" "+p)},l._getContent=function t(){return this.element.getAttribute("data-content")||this.config.content},l._cleanTipClass=function e(){var n=t(this.getTipElement()),i=n.attr("class").match(f);null!==i&&i.length>0&&n.removeClass(i.join(""))},s._jQueryInterface=function e(n){return this.each((function(){var e=t(this).data(i),r="object"==typeof n?n:null;if((e||!/destroy|hide/.test(n))&&(e||(e=new s(this,r),t(this).data(i,e)),"string"==typeof n)){if(void 0===e[n])throw new TypeError('No method named "'+n+'"');e[n]()}}))},r(s,null,[{key:"VERSION",get:function t(){return"4.1.0"}},{key:"Default",get:function t(){return h}},{key:"NAME",get:function t(){return e}},{key:"DATA_KEY",get:function t(){return i}},{key:"Event",get:function t(){return v}},{key:"EVENT_KEY",get:function t(){return o}},{key:"DefaultType",get:function t(){return u}}]),s}(g);return t.fn[e]=b._jQueryInterface,t.fn[e].Constructor=b,t.fn[e].noConflict=function(){return t.fn[e]=l,b._jQueryInterface},b}(e),_=function(t){var e="scrollspy",n="4.1.0",i="bs.scrollspy",o="."+i,a=".data-api",c=t.fn[e],f={offset:10,method:"auto",target:""},h={offset:"number",method:"string",target:"(string|element)"},u={ACTIVATE:"activate"+o,SCROLL:"scroll"+o,LOAD_DATA_API:"load.bs.scrollspy.data-api"},d="dropdown-item",p="dropdown-menu",g="active",m={DATA_SPY:'[data-spy="scroll"]',ACTIVE:".active",NAV_LIST_GROUP:".nav, .list-group",NAV_LINKS:".nav-link",NAV_ITEMS:".nav-item",LIST_ITEMS:".list-group-item",DROPDOWN:".dropdown",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"},_="offset",v="position",b=function(){function n(e,n){var i=this;this._element=e,this._scrollElement="BODY"===e.tagName?window:e,this._config=this._getConfig(n),this._selector=this._config.target+" "+m.NAV_LINKS+","+this._config.target+" "+m.LIST_ITEMS+","+this._config.target+" "+m.DROPDOWN_ITEMS,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,t(this._scrollElement).on(u.SCROLL,(function(t){return i._process(t)})),this.refresh(),this._process()}var a=n.prototype;return a.refresh=function e(){var n=this,i=this._scrollElement===this._scrollElement.window?_:v,r="auto"===this._config.method?i:this._config.method,o=r===v?this._getScrollTop():0,s;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),t.makeArray(t(this._selector)).map((function(e){var n,i=l.getSelectorFromElement(e);if(i&&(n=t(i)[0]),n){var s=n.getBoundingClientRect();if(s.width||s.height)return[t(n)[r]().top+o,i]}return null})).filter((function(t){return t})).sort((function(t,e){return t[0]-e[0]})).forEach((function(t){n._offsets.push(t[0]),n._targets.push(t[1])}))},a.dispose=function e(){t.removeData(this._element,i),t(this._scrollElement).off(o),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},a._getConfig=function n(i){if("string"!=typeof(i=s({},f,i)).target){var r=t(i.target).attr("id");r||(r=l.getUID(e),t(i.target).attr("id",r)),i.target="#"+r}return l.typeCheckConfig(e,i,h),i},a._getScrollTop=function t(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},a._getScrollHeight=function t(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},a._getOffsetHeight=function t(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},a._process=function t(){var e=this._getScrollTop()+this._config.offset,n=this._getScrollHeight(),i=this._config.offset+n-this._getOffsetHeight();if(this._scrollHeight!==n&&this.refresh(),e>=i){var r=this._targets[this._targets.length-1];this._activeTarget!==r&&this._activate(r)}else{if(this._activeTarget&&e<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var o=this._offsets.length;o--;){var s;this._activeTarget!==this._targets[o]&&e>=this._offsets[o]&&(void 0===this._offsets[o+1]||e<this._offsets[o+1])&&this._activate(this._targets[o])}}},a._activate=function e(n){this._activeTarget=n,this._clear();var i=this._selector.split(",");i=i.map((function(t){return t+'[data-target="'+n+'"],'+t+'[href="'+n+'"]'}));var r=t(i.join(","));r.hasClass(d)?(r.closest(m.DROPDOWN).find(m.DROPDOWN_TOGGLE).addClass(g),r.addClass(g)):(r.addClass(g),r.parents(m.NAV_LIST_GROUP).prev(m.NAV_LINKS+", "+m.LIST_ITEMS).addClass(g),r.parents(m.NAV_LIST_GROUP).prev(m.NAV_ITEMS).children(m.NAV_LINKS).addClass(g)),t(this._scrollElement).trigger(u.ACTIVATE,{relatedTarget:n})},a._clear=function e(){t(this._selector).filter(m.ACTIVE).removeClass(g)},n._jQueryInterface=function e(r){return this.each((function(){var e=t(this).data(i),o;if(e||(e=new n(this,"object"==typeof r&&r),t(this).data(i,e)),"string"==typeof r){if(void 0===e[r])throw new TypeError('No method named "'+r+'"');e[r]()}}))},r(n,null,[{key:"VERSION",get:function t(){return"4.1.0"}},{key:"Default",get:function t(){return f}}]),n}();return t(window).on(u.LOAD_DATA_API,(function(){for(var e=t.makeArray(t(m.DATA_SPY)),n=e.length;n--;){var i=t(e[n]);b._jQueryInterface.call(i,i.data())}})),t.fn[e]=b._jQueryInterface,t.fn[e].Constructor=b,t.fn[e].noConflict=function(){return t.fn[e]=c,b._jQueryInterface},b}(e),v=function(t){var e="tab",n="4.1.0",i="bs.tab",o=".bs.tab",s=".data-api",a=t.fn.tab,c={HIDE:"hide.bs.tab",HIDDEN:"hidden.bs.tab",SHOW:"show.bs.tab",SHOWN:"shown.bs.tab",CLICK_DATA_API:"click.bs.tab.data-api"},f="dropdown-menu",h="active",u="disabled",d="fade",p="show",g=".dropdown",m=".nav, .list-group",_=".active",v="> li > .active",b='[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',E=".dropdown-toggle",y="> .dropdown-menu .active",T=function(){function e(t){this._element=t}var n=e.prototype;return n.show=function e(){var n=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&t(this._element).hasClass(h)||t(this._element).hasClass(u))){var i,r,o=t(this._element).closest(m)[0],s=l.getSelectorFromElement(this._element);if(o){var a="UL"===o.nodeName?v:_;r=(r=t.makeArray(t(o).find(a)))[r.length-1]}var f=t.Event(c.HIDE,{relatedTarget:this._element}),d=t.Event(c.SHOW,{relatedTarget:r});if(r&&t(r).trigger(f),t(this._element).trigger(d),!d.isDefaultPrevented()&&!f.isDefaultPrevented()){s&&(i=t(s)[0]),this._activate(this._element,o);var p=function e(){var i=t.Event(c.HIDDEN,{relatedTarget:n._element}),o=t.Event(c.SHOWN,{relatedTarget:r});t(r).trigger(i),t(n._element).trigger(o)};i?this._activate(i,i.parentNode,p):p()}}},n.dispose=function e(){t.removeData(this._element,"bs.tab"),this._element=null},n._activate=function e(n,i,r){var o=this,s,a=(s="UL"===i.nodeName?t(i).find(v):t(i).children(_))[0],c=r&&a&&t(a).hasClass(d),f=function t(){return o._transitionComplete(n,a,r)};if(a&&c){var h=l.getTransitionDurationFromElement(a);t(a).one(l.TRANSITION_END,f).emulateTransitionEnd(h)}else f()},n._transitionComplete=function e(n,i,r){if(i){t(i).removeClass(p+" "+h);var o=t(i.parentNode).find(y)[0];o&&t(o).removeClass(h),"tab"===i.getAttribute("role")&&i.setAttribute("aria-selected",!1)}if(t(n).addClass(h),"tab"===n.getAttribute("role")&&n.setAttribute("aria-selected",!0),l.reflow(n),t(n).addClass(p),n.parentNode&&t(n.parentNode).hasClass(f)){var s=t(n).closest(g)[0];s&&t(s).find(E).addClass(h),n.setAttribute("aria-expanded",!0)}r&&r()},e._jQueryInterface=function n(i){return this.each((function(){var n=t(this),r=n.data("bs.tab");if(r||(r=new e(this),n.data("bs.tab",r)),"string"==typeof i){if(void 0===r[i])throw new TypeError('No method named "'+i+'"');r[i]()}}))},r(e,null,[{key:"VERSION",get:function t(){return"4.1.0"}}]),e}();return t(document).on(c.CLICK_DATA_API,b,(function(e){e.preventDefault(),T._jQueryInterface.call(t(this),"show")})),t.fn.tab=T._jQueryInterface,t.fn.tab.Constructor=T,t.fn.tab.noConflict=function(){return t.fn.tab=a,T._jQueryInterface},T}(e);!function(t){if(void 0===t)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var e=t.fn.jquery.split(" ")[0].split("."),n=1,i=2,r=9,o=1,s=4;if(e[0]<2&&e[1]<9||1===e[0]&&9===e[1]&&e[2]<1||e[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}(e),t.Util=l,t.Alert=c,t.Button=f,t.Carousel=h,t.Collapse=u,t.Dropdown=d,t.Modal=p,t.Popover=m,t.Scrollspy=_,t.Tab=v,t.Tooltip=g,Object.defineProperty(t,"__esModule",{value:!0})}))}.call(this),Package._define("alexwine:bootstrap-4")}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,r=Package.meteor.meteorEnv,s=Package.jquery.$,n=Package.jquery.jQuery;(function(){(function(){
/*!                                                                                              // 1
 * Amplify 1.1.2                                                                                 // 2
 *                                                                                               // 3
 * Copyright 2011 - 2013 appendTo LLC. (http://appendto.com/team)                                // 4
 * Dual licensed under the MIT or GPL licenses.                                                  // 5
 * http://appendto.com/open-source-licenses                                                      // 6
 *                                                                                               // 7
 * http://amplifyjs.com                                                                          // 8
 */
!function(e,t){var r=[].slice,s={},n=e.amplify={publish:function(e){if("string"!=typeof e)throw new Error("You must provide a valid topic to publish.");var t=r.call(arguments,1),n,o,a,u=0,i;if(!s[e])return!0;for(a=(n=s[e].slice()).length;u<a&&!1!==(i=(o=n[u]).callback.apply(o.context,t));u++);return!1!==i},subscribe:function(e,t,r,n){if("string"!=typeof e)throw new Error("You must provide a valid topic to create a subscription.");3===arguments.length&&"number"==typeof r&&(n=r,r=t,t=null),2===arguments.length&&(r=t,t=null),n=n||10;for(var o=0,a=e.split(/\s/),u=a.length,i;o<u;o++){e=a[o],i=!1,s[e]||(s[e]=[]);for(var c=s[e].length-1,l={callback:r,context:t,priority:n};c>=0;c--)if(s[e][c].priority<=n){s[e].splice(c+1,0,l),i=!0;break}i||s[e].unshift(l)}return r},unsubscribe:function(e,t,r){if("string"!=typeof e)throw new Error("You must provide a valid topic to remove a subscription.");if(2===arguments.length&&(r=t,t=null),s[e])for(var n=s[e].length,o=0;o<n;o++)s[e][o].callback===r&&(t&&s[e][o].context!==t||(s[e].splice(o,1),o--,n--))}}}(this),function(e,t){var r=e.store=function(e,t,s){var n=r.type;return s&&s.type&&s.type in r.types&&(n=s.type),r.types[n](e,t,s||{})};r.types={},r.type=null,r.addType=function(e,t){r.type||(r.type=e),r.types[e]=t,r[e]=function(t,s,n){return(n=n||{}).type=e,r(t,s,n)}},r.error=function(){return"amplify.store quota exceeded"};var s=/^__amplify__/;function n(e,n){r.addType(e,(function(o,a,u){var i,c,l,p,f=a,d=(new Date).getTime();if(!o){f={},p=[],l=0;try{for(o=n.length;o=n.key(l++);)s.test(o)&&((c=JSON.parse(n.getItem(o))).expires&&c.expires<=d?p.push(o):f[o.replace(s,"")]=c.data);for(;o=p.pop();)n.removeItem(o)}catch(y){}return f}if(o="__amplify__"+o,a===t){if(!((c=(i=n.getItem(o))?JSON.parse(i):{expires:-1}).expires&&c.expires<=d))return c.data;n.removeItem(o)}else if(null===a)n.removeItem(o);else{c=JSON.stringify({data:a,expires:u.expires?d+u.expires:null});try{n.setItem(o,c)}catch(y){r[e]();try{n.setItem(o,c)}catch(y){throw r.error()}}}return f}))}for(var o in{localStorage:1,sessionStorage:1})try{window[o].setItem("__amplify__","x"),window[o].removeItem("__amplify__"),n(o,window[o])}catch(a){}if(!r.types.localStorage&&window.globalStorage)try{n("globalStorage",window.globalStorage[window.location.hostname]),"sessionStorage"===r.type&&(r.type="globalStorage")}catch(a){}!function(){if(!r.types.localStorage){var e=document.createElement("div"),s="amplify";e.style.display="none",document.getElementsByTagName("head")[0].appendChild(e);try{e.addBehavior("#default#userdata"),e.load(s)}catch(a){return void e.parentNode.removeChild(e)}r.addType("userData",(function(n,o,a){e.load(s);var u,i,c,l,p,f=o,d=(new Date).getTime();if(!n){for(f={},p=[],l=0;u=e.XMLDocument.documentElement.attributes[l++];)(i=JSON.parse(u.value)).expires&&i.expires<=d?p.push(u.name):f[u.name]=i.data;for(;n=p.pop();)e.removeAttribute(n);return e.save(s),f}if(n=(n=n.replace(/[^\-._0-9A-Za-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c-\u200d\u203f\u2040\u2070-\u218f]/g,"-")).replace(/^-/,"_-"),o===t){if(!((i=(u=e.getAttribute(n))?JSON.parse(u):{expires:-1}).expires&&i.expires<=d))return i.data;e.removeAttribute(n)}else null===o?e.removeAttribute(n):(c=e.getAttribute(n),i=JSON.stringify({data:o,expires:a.expires?d+a.expires:null}),e.setAttribute(n,i));try{e.save(s)}catch(y){null===c?e.removeAttribute(n):e.setAttribute(n,c),r.userData();try{e.setAttribute(n,i),e.save(s)}catch(y){throw null===c?e.removeAttribute(n):e.setAttribute(n,c),r.error()}}return f}))}}(),function(){var e={},s={};function n(e){return e===t?t:JSON.parse(JSON.stringify(e))}r.addType("memory",(function(r,o,a){return r?o===t?n(e[r]):(s[r]&&(clearTimeout(s[r]),delete s[r]),null===o?(delete e[r],null):(e[r]=o,a.expires&&(s[r]=setTimeout((function(){delete e[r],delete s[r]}),a.expires)),o)):n(e)}))}()}(this.amplify=this.amplify||{}),function(e,t){"use strict";function r(){}function s(e){return"[object Function]"==={}.toString.call(e)}function n(e){var t=!1;return setTimeout((function(){t=!0}),1),function(){var r=this,s=arguments;t?e.apply(r,s):setTimeout((function(){e.apply(r,s)}),1)}}e.request=function(t,o,a){var u=t||{};"string"==typeof u&&(s(o)&&(a=o,o={}),u={resourceId:t,data:o||{},success:a});var i={abort:r},c=e.request.resources[u.resourceId],l=u.success||r,p=u.error||r;if(u.success=n((function(t,r){r=r||"success",e.publish("request.success",u,t,r),e.publish("request.complete",u,t,r),l(t,r)})),u.error=n((function(t,r){r=r||"error",e.publish("request.error",u,t,r),e.publish("request.complete",u,t,r),p(t,r)})),!c){if(!u.resourceId)throw"amplify.request: no resourceId provided";throw"amplify.request: unknown resourceId: "+u.resourceId}if(e.publish("request.before",u))return e.request.resources[u.resourceId](u,i),i;u.error(null,"abort")},e.request.types={},e.request.resources={},e.request.define=function(t,r,s){if("string"==typeof r){if(!(r in e.request.types))throw"amplify.request.define: unknown type: "+r;s.resourceId=t,e.request.resources[t]=e.request.types[r](s)}else e.request.resources[t]=r}}(amplify),function(e,t,r){"use strict";var s=["status","statusText","responseText","responseXML","readyState"],n=/\{([^\}]+)\}/g;e.request.types.ajax=function(r){return r=t.extend({type:"GET"},r),function(n,o){var a,u,i=r.url,c=o.abort,l=t.extend(!0,{},r,{data:n.data}),p=!1,f={readyState:0,setRequestHeader:function(e,t){return a.setRequestHeader(e,t)},getAllResponseHeaders:function(){return a.getAllResponseHeaders()},getResponseHeader:function(e){return a.getResponseHeader(e)},overrideMimeType:function(e){return a.overrideMimeType(e)},abort:function(){p=!0;try{a.abort()}catch(e){}u(null,"abort")},success:function(e,t){n.success(e,t)},error:function(e,t){n.error(e,t)}};u=function(e,r){t.each(s,(function(e,t){try{f[t]=a[t]}catch(r){}})),/OK$/.test(f.statusText)&&(f.statusText="success"),void 0===e&&(e=null),p&&(r="abort"),/timeout|error|abort/.test(r)?f.error(e,r):f.success(e,r),u=t.noop},e.publish("request.ajax.preprocess",r,n,l,f),t.extend(l,{isJSONP:function(){return/jsonp/gi.test(this.dataType)},cacheURL:function(){if(!this.isJSONP())return this.url;var e="callback";this.hasOwnProperty("jsonp")&&(!1!==this.jsonp?e=this.jsonp:this.hasOwnProperty("jsonpCallback")&&(e=this.jsonpCallback));var t=new RegExp("&?"+e+"=[^&]*&?","gi");return this.url.replace(t,"")},success:function(e,t){u(e,t)},error:function(e,t){u(null,t)},beforeSend:function(t,s){var o;return(a=t,l=s,(!r.beforeSend||r.beforeSend.call(this,f,l))&&e.publish("request.before.ajax",r,n,l,f))}}),l.cache&&l.isJSONP()&&t.extend(l,{cache:!0}),t.ajax(l),o.abort=function(){f.abort(),c.call(this)}}},e.subscribe("request.ajax.preprocess",(function(e,r,s){var o=[],a=s.data;"string"!=typeof a&&(a=t.extend(!0,{},e.data,a),s.url=s.url.replace(n,(function(e,t){if(t in a)return o.push(t),a[t]})),t.each(o,(function(e,t){delete a[t]})),s.data=a)})),e.subscribe("request.ajax.preprocess",(function(e,r,s){var n=s.data,o=e.dataMap;o&&"string"!=typeof n&&(t.isFunction(o)?s.data=o(n):(t.each(e.dataMap,(function(e,t){e in n&&(n[t]=n[e],delete n[e])})),s.data=n))}));var o=e.request.cache={_key:function(e,t,r){var s=(r=t+r).length,n=0;function o(){return r.charCodeAt(n++)<<24|r.charCodeAt(n++)<<16|r.charCodeAt(n++)<<8|r.charCodeAt(n++)<<0}for(var a=o();n<s;)a^=o();return"request-"+e+"-"+a},_default:(a={},function(e,t,r,s){var n=o._key(t.resourceId,r.cacheURL(),r.data),u=e.cache;if(n in a)return s.success(a[n]),!1;var i=s.success;s.success=function(e){a[n]=e,"number"==typeof u&&setTimeout((function(){delete a[n]}),u),i.apply(this,arguments)}})},a;e.store&&(t.each(e.store.types,(function(t){o[t]=function(r,s,n,a){var u=o._key(s.resourceId,n.cacheURL(),n.data),i=e.store[t](u);if(i)return n.success(i),!1;var c=a.success;a.success=function(s){e.store[t](u,s,{expires:r.cache.expires}),c.apply(this,arguments)}}})),o.persist=o[e.store.type]),e.subscribe("request.before.ajax",(function(e){var t=e.cache;if(t)return t=t.type||t,o[t in o?t:"_default"].apply(this,arguments)})),e.request.decoders={jsend:function(e,t,r,s,n){"success"===e.status?s(e.data):"fail"===e.status?n(e.data,"fail"):"error"===e.status?(delete e.status,n(e,"error")):n(null,"error")}},e.subscribe("request.before.ajax",(function(r,s,n,o){var a=o.success,u=o.error,i=t.isFunction(r.decoder)?r.decoder:r.decoder in e.request.decoders?e.request.decoders[r.decoder]:e.request.decoders._default;function c(e,t){a(e,t)}function l(e,t){u(e,t)}i&&(o.success=function(e,t){i(e,t,o,c,l)},o.error=function(e,t){i(e,t,o,c,l)})}))}(amplify,n)}).call(this)}).call(this),Package._define("amplify")}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,i=Package.meteor.meteorEnv,a=Package.tracker.Tracker,n=Package.tracker.Deps,s=Package.ejson.EJSON,r=Package.modules.meteorInstall,c=Package.modules.meteorBabelHelpers,o=Package.promise.Promise,u=Package["ecmascript-runtime-client"].Symbol,l=Package["ecmascript-runtime-client"].Map,f=Package["ecmascript-runtime-client"].Set,d,h,k=r({node_modules:{meteor:{"reactive-dict":{"migration.js":function(t,i,a){var n;a.export({ReactiveDict:function(){return n}}),a.link("./reactive-dict",{ReactiveDict:function(e){n=e}},0);var s=Object.prototype.hasOwnProperty;if(n._migratedDictData={},n._dictsToMigrate={},n._loadMigratedDict=function(e){if(s.call(n._migratedDictData,e)){var t=n._migratedDictData[e];return delete n._migratedDictData[e],t}return null},n._registerDictForMigrate=function(e,t){if(s.call(n._dictsToMigrate,e))throw new Error("Duplicate ReactiveDict name: "+e);n._dictsToMigrate[e]=t},e.isClient&&Package.reload){var r=Package.reload.Reload._migrationData("reactive-dict");r&&r.dicts&&(n._migratedDictData=r.dicts),Package.reload.Reload._onMigrate("reactive-dict",(function(){var e=n._dictsToMigrate,t={};for(var i in c.sanitizeForInObject(e))t[i]=e[i]._getMigrationData();return[!0,{dicts:t}]}))}},"reactive-dict.js":function(t,i,n){var r;n.link("@babel/runtime/helpers/typeof",{default:function(e){r=e}},0),n.export({ReactiveDict:function(){return f}});var c=Object.prototype.hasOwnProperty;function o(e){return void 0===e?"undefined":s.stringify(e)}function u(e){if(void 0!==e&&"undefined"!==e)return s.parse(e)}function l(e){e&&e.changed()}var f=function(){function t(i,n){if(this.keys={},i)if("string"==typeof i){e.isClient&&t._registerDictForMigrate(i,this);var s=e.isClient&&t._loadMigratedDict(i);s?this.keys=s:this._setObject(n||{}),this.name=i}else{if("object"!==r(i))throw new Error("Invalid ReactiveDict argument: "+i);this._setObject(i)}else"object"===r(n)&&this._setObject(n);this.allDeps=new a.Dependency,this.keyDeps={},this.keyValueDeps={}}var i=t.prototype;return i.set=function(){function e(e,t){if("object"!==r(e)||void 0!==t){var i=e;t=o(t);var a=c.call(this.keys,i),n=a?this.keys[i]:"undefined",s=t!==n;this.keys[i]=t,!s&&a||l(this.allDeps),s&&this.keyDeps&&(l(this.keyDeps[i]),this.keyValueDeps[i]&&(l(this.keyValueDeps[i][n]),l(this.keyValueDeps[i][t])))}else this._setObject(e)}return e}(),i.setDefault=function(){function e(e,t){if("object"!==r(e)||void 0!==t){var i=e;c.call(this.keys,i)||this.set(i,t)}else this._setDefaultObject(e)}return e}(),i.get=function(){function e(e){return this._ensureKey(e),this.keyDeps[e].depend(),u(this.keys[e])}return e}(),i.equals=function(){function e(e,t){var i=this,n=null;if(Package.mongo&&(n=Package.mongo.Mongo.ObjectID),!("string"==typeof t||"number"==typeof t||"boolean"==typeof t||void 0===t||t instanceof Date||n&&t instanceof n||null===t))throw new Error("ReactiveDict.equals: value must be scalar");var r=o(t),l;a.active&&(this._ensureKey(e),c.call(this.keyValueDeps[e],r)||(this.keyValueDeps[e][r]=new a.Dependency),this.keyValueDeps[e][r].depend()&&a.onInvalidate((function(){i.keyValueDeps[e][r].hasDependents()||delete i.keyValueDeps[e][r]})));var f=void 0;return c.call(this.keys,e)&&(f=u(this.keys[e])),s.equals(f,t)}return e}(),i.all=function(){function e(){var e=this;this.allDeps.depend();var t={};return Object.keys(this.keys).forEach((function(i){t[i]=u(e.keys[i])})),t}return e}(),i.clear=function(){function e(){var e=this,t=this.keys;this.keys={},this.allDeps.changed(),Object.keys(t).forEach((function(i){l(e.keyDeps[i]),e.keyValueDeps[i]&&(l(e.keyValueDeps[i][t[i]]),l(e.keyValueDeps[i][void 0]))}))}return e}(),i.delete=function(){function e(e){var t=!1;if(c.call(this.keys,e)){var i=this.keys[e];delete this.keys[e],l(this.keyDeps[e]),this.keyValueDeps[e]&&(l(this.keyValueDeps[e][i]),l(this.keyValueDeps[e][void 0])),this.allDeps.changed(),t=!0}return t}return e}(),i.destroy=function(){function e(){this.clear(),this.name&&c.call(t._dictsToMigrate,this.name)&&delete t._dictsToMigrate[this.name]}return e}(),i._setObject=function(){function e(e){var t=this;Object.keys(e).forEach((function(i){t.set(i,e[i])}))}return e}(),i._setDefaultObject=function(){function e(e){var t=this;Object.keys(e).forEach((function(i){t.setDefault(i,e[i])}))}return e}(),i._ensureKey=function(){function e(e){e in this.keyDeps||(this.keyDeps[e]=new a.Dependency,this.keyValueDeps[e]={})}return e}(),i._getMigrationData=function(){function e(){return this.keys}return e}(),t}()}}}}},{extensions:[".js",".json"]})("/node_modules/meteor/reactive-dict/migration.js");Package._define("reactive-dict",k,{ReactiveDict:void 0})}();

!function(){var e=Package.meteor.Meteor,s=Package.meteor.global,a=Package.meteor.meteorEnv,o=Package["reactive-dict"].ReactiveDict,t=Package.ejson.EJSON,i=Package.modules.meteorInstall,n=Package.modules.meteorBabelHelpers,c=Package.promise.Promise,r=Package["ecmascript-runtime-client"].Symbol,m=Package["ecmascript-runtime-client"].Map,l=Package["ecmascript-runtime-client"].Set,g,k,P=i({node_modules:{meteor:{session:{"session.js":function(e,s,a){var o;a.export({Session:function(){return t}}),a.link("meteor/reactive-dict",{ReactiveDict:function(e){o=e}},0);var t=new o("session")}}}}},{extensions:[".js",".json"]})("/node_modules/meteor/session/session.js");Package._define("session",P,{Session:void 0})}();

!function(){var t=Package.meteor.Meteor,e=Package.meteor.global,i=Package.meteor.meteorEnv,s=Package.jquery.$,o=Package.jquery.jQuery,a=Package.tracker.Tracker,n=Package.tracker.Deps,r=Package["reactive-dict"].ReactiveDict,c=Package.session.Session,p=Package.underscore._,u=Package.ejson.EJSON,h;(function(){var e=function(t){return void 0===t?"undefined":u.stringify(t)},i=function(t){if(void 0!==t&&"undefined"!==t)return u.parse(t)},s=function(t){t&&t.changed()};const o=new r("_session");(h=function(e){if(!p.isString(e))throw new Error("dictName must be a string");this._dictName=e,"session"==e?(this._dictName="",this._dict=o):this._dict=new r(e);var i=4;this.psKeys={},this.psKeyList=[],this.psaKeys={},this.psaKeyList=[],this.default_method="temporary",t.settings&&t.settings.public&&t.settings.public.persistent_session&&(this.default_method=t.settings.public.persistent_session.default_method);var s=this;function n(){if(!(amplify.store("__PSDATAVERSION__"+s._dictName)>=1)){var t=amplify.store("__PSKEYS__"+s._dictName),e=amplify.store("__PSAKEYS__"+s._dictName);p.each([t,e],(function(t){p.each(t,(function(t){amplify.store(t,u.stringify(amplify.store(t)))}))})),amplify.store("__PSDATAVERSION__"+s._dictName,2)}}function c(){if(!(amplify.store("__PSDATAVERSION__"+s._dictName)>=i)){var t=amplify.store("__PSKEYS__"+s._dictName),e=amplify.store("__PSAKEYS__"+s._dictName);p.each([t,e],(function(t){p.each(t,(function(t){var e=!1;try{u.parse(amplify.store(s._dictName+t))}catch(a){e=!0}if(!e){var i=u.parse(amplify.store(s._dictName+t)),o=u.toJSONValue(i);amplify.store(s._dictName+t,o)}}))})),amplify.store("__PSDATAVERSION__"+s._dictName,4)}}return t.isClient&&t.startup((function(){var t;n(),c();var e=amplify.store("__PSKEYS__"+s._dictName);if("object"==typeof e&&void 0!==e.length)for(var i=0;i<e.length;i++)p.has(s._dict.keys,e[i])||(t=s.get(e[i]),s.set(e[i],t,!0,!1));var o=amplify.store("__PSAKEYS__"+s._dictName);if("object"==typeof o&&void 0!==o.length)for(var i=0;i<o.length;i++)p.has(s._dict.keys,o[i])||(t=s.get(o[i]),s.setAuth(o[i],t,!0,!0))})),a.autorun((function(){var e;t.userId&&(t.userId()||s.clearAuth())})),this}).prototype.store=function t(e,i,s){if(this.psKeyList=amplify.store("__PSKEYS__"+this._dictName)||[],this.psaKeyList=amplify.store("__PSAKEYS__"+this._dictName)||[],"get"==e)return amplify.store(this._dictName+i);this.psKeyList=p.without(this.psKeyList,i),this.psaKeyList=p.without(this.psaKeyList,i),delete this.psKeys[i],delete this.psaKeys[i],null==s||"temporary"==e?s=null:"persistent"==e?(this.psKeys[i]=u.toJSONValue(s),this.psKeyList=p.union(this.psKeyList,[i])):"authenticated"==e&&(this.psaKeys[i]=u.toJSONValue(s),this.psaKeyList=p.union(this.psaKeyList,[i])),amplify.store("__PSKEYS__",this.psKeyList),amplify.store("__PSAKEYS__",this.psaKeyList),amplify.store(this._dictName+i,u.toJSONValue(s))},h.prototype.old_get=function(){return this._dict.get.apply(this._dict,arguments)},h.prototype.get=function t(e){var i=this.old_get(e),s,o;return void 0!==this.store("get",e)&&(s=u.fromJSONValue(this.store("get",e))),null==s?i:s},h.prototype.old_set=function(){return this._dict.set.apply(this._dict,arguments)},h.prototype.set=function t(e,i,s,o){if("object"!=typeof e||void 0!==i){var a=e,n="temporary";(s||void 0===s&&("persistent"==this.default_method||"authenticated"==this.default_method))&&(n=o||void 0===s&&void 0===o&&"authenticated"==this.default_method?"authenticated":"persistent"),this.store(n,a,i),this.old_set(a,i)}else this._setObject(e,s,o)},h.prototype.all=function t(){this._dict.allDeps&&this._dict.allDeps.depend();var e={};return p.each(this._dict.keys,(function(t,s){e[s]=i(t)})),e},h.prototype._setObject=function t(e,i,s){var o=this;p.each(e,(function(t,e){o.set(e,t,i,s)}))},h.prototype._ensureKey=function t(e){var i=this._dict;e in i.keyDeps||(i.keyDeps[e]=new a.Dependency,i.keyValueDeps[e]={})},h.prototype.equals=function t(i,s){var o=null;if(Package.mongo&&(o=Package.mongo.Mongo.ObjectID),!("string"==typeof s||"number"==typeof s||"boolean"==typeof s||void 0===s||s instanceof Date||o&&s instanceof o||null===s))throw new Error("ReactiveDict.equals: value must be scalar");var n=e(s),r;if(a.active&&(this._ensureKey(i),p.has(this._dict.keyValueDeps[i],n)||(this._dict.keyValueDeps[i][n]=new a.Dependency),this._dict.keyValueDeps[i][n].depend())){var c=this;a.onInvalidate((function(){c._dict.keyValueDeps[i][n].hasDependents()||delete c._dict.keyValueDeps[i][n]}))}var h=this.get(i);return u.equals(h,s)},h.prototype.setTemporary=function t(e,i){this.set(e,i,!1,!1)},h.prototype.setTemp=function t(e,i){this.set(e,i,!1,!1)},h.prototype.setPersistent=function t(e,i){this.set(e,i,!0,!1)},h.prototype.setAuth=function t(e,i){this.set(e,i,!0,!0)},h.prototype.makeTemp=function t(e){this.store("temporary",e)},h.prototype.makePersistent=function t(e){var i=this.get(e);this.store("persistent",e,i)},h.prototype.makeAuth=function t(e){var i=this.get(e);this.store("authenticated",e,i)},h.prototype.old_clear=function(){return this._dict.clear.apply(this._dict,arguments)},h.prototype.clear=function t(e,i){var o=this,a=o._dict.keys;if(void 0===e&&void 0===i?i=a:void 0!==e&&(i=[e]),p.isArray(i)){var n=i,i={};p.each(n,(function(t){i[t]=a[t]}))}p.each(i,(function(t,e){o.set(e,void 0,!1,!1),s(o._dict.keyDeps[e]),o._dict.keyValueDeps[e]&&(s(o._dict.keyValueDeps[e][t]),s(o._dict.keyValueDeps[e][void 0])),delete o._dict.keys[e]})),o._dict.allDeps&&o._dict.allDeps.changed()},h.prototype.clearTemp=function t(){this.clear(void 0,p.keys(p.omit(this._dict.keys,this.psKeys,this.psaKeys)))},h.prototype.clearPersistent=function t(){this.clear(void 0,this.psKeys)},h.prototype.clearAuth=function t(){this.clear(void 0,this.psaKeys)},h.prototype.update=function t(e,i){var s,o;p.indexOf(this.psaKeyList,e)>=0&&(o=!0),(o||p.indexOf(this.psKeyList,e)>=0)&&(s=!0),this.set(e,i,s,o)},h.prototype.old_setDefault=function(){return this._dict.setDefault.apply(this._dict,arguments)},h.prototype.setDefault=function t(e,i,s,o){var a=this;p.isObject(e)?p.each(e,(function(t,e){a.setDefault(e,t,s,o)})):void 0===this.get(e)&&this.set(e,i,s,o)},h.prototype.setDefaultTemp=function t(e,i){p.isObject(e)&&(i=void 0),this.setDefault(e,i,!1,!1)},h.prototype.setDefaultPersistent=function t(e,i){p.isObject(e)&&(i=void 0),this.setDefault(e,i,!0,!1)},h.prototype.setDefaultAuth=function t(e,i){p.isObject(e)&&(i=void 0),this.setDefault(e,i,!0,!0)},p.extend(c,new h("session"))}).call(this),Package._define("cultofcoders:persistent-session",{PersistentSession:h})}();

!function(){var a=Package.blaze.Blaze,e=Package.blaze.UI,l=Package.blaze.Handlebars;Package._define("ui",{Blaze:a,UI:e,Handlebars:l})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package["observe-sequence"].ObserveSequence,a=Package.underscore._,u=Package.tracker.Tracker,i=Package.tracker.Deps,l=Package.htmljs.HTML,c=Package.blaze.Blaze,o=Package.blaze.UI,f=Package.blaze.Handlebars,p;(function(){var e=function(e,t){return e===t};(p={}).include=function(t,n,r){if(!t)return null;if("function"!=typeof t){var a=t,u;if(!c.isTemplate(a))throw new Error("Expected template or null, found: "+a);return(u=t.constructView(n,r)).__startsNewLexicalScope=!0,u}var i=c.ReactiveVar(null,e),u;return(u=c.View("Spacebars.include",(function(){var e=i.get();if(null===e)return null;if(!c.isTemplate(e))throw new Error("Expected template or null, found: "+e);return e.constructView(n,r)}))).__templateVar=i,u.onViewCreated((function(){this.autorun((function(){i.set(t())}))})),u.__startsNewLexicalScope=!0,u},p.mustacheImpl=function(e){var t=arguments;if(t.length>1){var n=t[t.length-1];if(n instanceof p.kw){var r={};for(var a in n.hash){var u=n.hash[a];r[a]="function"==typeof u?u():u}t[t.length-1]=p.kw(r)}else n=p.kw(),(t=Array.prototype.slice.call(arguments)).push(n)}return p.call.apply(null,t)},p.mustache=function(e){var t=p.mustacheImpl.apply(null,arguments);return t instanceof p.SafeString?l.Raw(t.toString()):null==t||!1===t?null:String(t)},p.attrMustache=function(e){var t=p.mustacheImpl.apply(null,arguments);if(null==t||""===t)return null;if("object"==typeof t)return t;if("string"==typeof t&&l.isValidAttributeName(t)){var n={};return n[t]="",n}throw new Error("Expected valid attribute name, '', null, or object")},p.dataMustache=function(e){var t=p.mustacheImpl.apply(null,arguments);return t},p.makeRaw=function(e){return null==e?null:e instanceof l.Raw?e:l.Raw(e)},p.call=function(e){if("function"==typeof e){for(var t=[],n=1;n<arguments.length;n++){var r=arguments[n];t[n-1]="function"==typeof r?r():r}return e.apply(null,t)}if(null!=e&&arguments.length>1)throw new Error("Can't call non-function: "+e);return e},p.kw=function(e){if(!(this instanceof p.kw))return new p.kw(e);this.hash=e||{}},p.SafeString=function(e){return this instanceof p.SafeString?new f.SafeString(e):new p.SafeString(e)},p.SafeString.prototype=f.SafeString.prototype,p.dot=function(e,t){if(arguments.length>2){var n=[];return n.push(p.dot(e,t)),n.push.apply(n,Array.prototype.slice.call(arguments,2)),p.dot.apply(null,n)}if("function"==typeof e&&(e=e()),!e)return e;var r=e[t];return"function"!=typeof r?r:function(){return r.apply(e,arguments)}},p.With=function(e,t,n){var r=new c.ReactiveVar,a=c.View("Spacebars_with",(function(){return c.If((function(){return r.get()}),(function(){return c.With((function(){return r.get()}),t)}),n)}));return a.onViewCreated((function(){this.autorun((function(){r.set(e()),u.onInvalidate((function(){r.dep.changed()}))}))})),a},p.TemplateWith=c._TemplateWith}).call(this),Package._define("spacebars",{Spacebars:p})}();

Package._define("templating-compiler");

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,a=Package.underscore._,o=Package.blaze.Blaze,c=Package.blaze.UI,r=Package.blaze.Handlebars,i=Package.spacebars.Spacebars,u=Package.htmljs.HTML,l;(function(){l=o.Template;var e="__proto__ name".split(" ");l.__checkName=function(t){if(t in l||a.contains(e,t)){if(l[t]instanceof l&&"body"!==t)throw new Error("There are multiple templates named '"+t+"'. Each template needs a unique name.");throw new Error("This template name is reserved: "+t)}},l.__define__=function(e,t){l.__checkName(e),l[e]=new l("Template."+e,t),l[e]._NOWARN_OLDSTYLE_HELPERS=!0},l.body=new l("body",(function(){var e=this;return a.map(l.body.contentRenderFuncs,(function(t){return t.apply(e)}))})),l.body.contentRenderFuncs=[],l.body.view=null,l.body.addContent=function(e){l.body.contentRenderFuncs.push(e)},l.body.renderToDocument=function(){if(!l.body.view){var e=o.render(l.body,document.body);l.body.view=e}},c.body=l.body,l.__body__=l.body,l.__body__.__contentParts=l.body.contentViews,l.__body__.__instantiate=l.body.renderToDocument}).call(this),function(){l.__checkName("__dynamic"),l.__dynamic=new l("Template.__dynamic",(function(){var e=this;return[o.View("lookup:checkContext",(function(){return i.mustache(e.lookup("checkContext"))})),"\n  ",o.If((function(){return i.call(e.lookup("dataContextPresent"))}),(function(){return["\n    ",i.include(e.lookupTemplate("__dynamicWithDataContext"),(function(){return o._InOuterTemplateScope(e,(function(){return i.include((function(){return i.call(e.templateContentBlock)}))}))})),"\n  "]}),(function(){return["\n    \n    ",o._TemplateWith((function(){return{template:i.call(e.lookup("template")),data:i.call(e.lookup(".."))}}),(function(){return i.include(e.lookupTemplate("__dynamicWithDataContext"),(function(){return o._InOuterTemplateScope(e,(function(){return i.include((function(){return i.call(e.templateContentBlock)}))}))}))})),"\n  "]}))]})),l.__checkName("__dynamicWithDataContext"),l.__dynamicWithDataContext=new l("Template.__dynamicWithDataContext",(function(){var e=this;return i.With((function(){return i.dataMustache(e.lookup("chooseTemplate"),e.lookup("template"))}),(function(){return["\n    \n    ",o._TemplateWith((function(){return i.call(i.dot(e.lookup(".."),"data"))}),(function(){return i.include(e.lookupTemplate(".."),(function(){return o._InOuterTemplateScope(e,(function(){return i.include((function(){return i.call(e.templateContentBlock)}))}))}))})),"\n  "]}))}))}.call(this),function(){var e=o.Template;e.__dynamicWithDataContext.helpers({chooseTemplate:function(t){return o._getTemplate(t,(function(){return e.instance()}))}}),e.__dynamic.helpers({dataContextPresent:function(){return a.has(this,"data")},checkContext:function(){if(!a.has(this,"template"))throw new Error("Must specify name in the 'template' argument to {{> Template.dynamic}}.");a.each(this,(function(e,t){if("template"!==t&&"data"!==t)throw new Error("Invalid argument to {{> Template.dynamic}}: "+t)}))}})}.call(this),Package._define("templating-runtime",{Template:l})}();

!function(){var e=Package["templating-runtime"].Template;Package._define("templating",{Template:e})}();

(function(){var a,b=Package.meteor.Meteor,c=Package.meteor.global,d=Package.meteor.meteorEnv,e=Package.underscore._,f=Package.ejson.EJSON;(function(){if(Package["cmather:iron-core"])throw new Error("\n\n    Sorry! The cmather:iron-{x} packages were migrated to the new package system with the wrong name, and you have duplicate copies.\n    You can see which cmather:iron-{x} packages have been installed by using this command:\n\n    > meteor list\n\n    Can you remove any installed cmather:iron-{x} packages like this:    \n\n    > meteor remove cmather:iron-core\n    > meteor remove cmather:iron-router\n    > meteor remove cmather:iron-dynamic-template\n    > meteor remove cmather:iron-dynamic-layout\n    \n    The new packages are named iron:{x}. For example:\n\n    > meteor add iron:router\n\n    Sorry for the hassle, but thank you!    \n\n  ")}).call(this),function(){a={},a.utils={},a.utils.assert=function(a,b){if(!a)throw new Error(b)},a.utils.warn=function(a,b){!a&&console&&console.warn&&console.warn(b)},a.utils.defaultValue=function(a,b,c){return"undefined"==typeof a[b]?(a[b]=c,c):a[b]},a.utils.inherits=function(b,c,d){for(var g in a.utils.assert("undefined"!=typeof b,"Child is undefined in inherits function"),a.utils.assert("undefined"!=typeof c,"Parent is undefined in inherits function"),c)e.has(c,g)&&(b[g]=f.clone(c[g]));var h=function(){this.constructor=b};return h.prototype=c.prototype,b.prototype=new h,b.__super__=c.prototype,e.isObject(d)&&e.extend(b.prototype,d),b},a.utils.extend=function(b,c){c=c||{};var d=function(){var a;a=e.has(c,"constructor")?c.constructor:d.__super__.constructor,a.apply(this,arguments)};return a.utils.inherits(d,b,c)},a.utils.global=function(){return b.isClient?window:c}(),a.utils.namespace=function(b,c){var d,e,f,g,h=a.utils.global;a.utils.assert("string"==typeof b,"namespace must be a string"),d=b.split("."),f=d.pop(),g=h;for(var j=0;j<d.length;j++)e=d[j],g=g[e]=g[e]||{};return 2===arguments.length?(g[f]=c,c):g[f]},a.utils.resolve=function(b){var c,d,e=a.utils.global;if("string"==typeof b){c=b.split("."),d=e;for(var f=0;f<c.length;f++)if(d=d[c[f]],!d)return}else d=b;return d},a.utils.capitalize=function(a){return a.charAt(0).toUpperCase()+a.slice(1,a.length)},a.utils.classCase=function(b){var c=/_|-|\.|\//;return b?e.map(b.split(c),function(b){return a.utils.capitalize(b)}).join(""):""},a.utils.camelCase=function(b){var c=a.utils.classCase(b);return c=c.charAt(0).toLowerCase()+c.slice(1,c.length),c},a.utils.notifyDeprecated=function(a){var b,c,d,f;e.isObject(a)?(b=a.name,c=a.instead,d=a.message||"[:where] ':name' is deprecated. Please use ':instead' instead.",f=a.where||"IronRouter"):(d=a,b="",c="",f=""),"undefined"!=typeof console&&console.warn&&console.warn("<deprecated> "+d.replace(":name",b).replace(":instead",c).replace(":where",f)+" "+new Error().stack)},a.utils.withDeprecatedNotice=function(a,b,c){return function(){return Utils.notifyDeprecated(a),b&&b.apply(c||this,arguments)}},Function.prototype.deprecate=function(b){var c=this;return a.utils.withDeprecatedNotice(b,c)},a.utils.debug=function(b){return a.utils.assert("string"==typeof b,"debug requires a package name"),function(){if(console&&console.log&&!0===a.debug){var c=e.toArray(arguments).join(" ");console.log("%c<"+b+"> %c"+c,"color: #999;","color: #000;")}}},a.utils.get=function(a){for(var b=1;b<arguments.length;b++){if(!a||!(arguments[b]in a))return;a=a[arguments[b]]}return a},a.utils.global.Iron=a}.call(this),Package._define("iron:core",{Iron:a})})();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,a=Package.ui.Blaze,r=Package.ui.UI,i=Package.ui.Handlebars,o=Package.underscore._,s=Package.jquery.$,u=Package.jquery.jQuery,c=Package.tracker.Tracker,l=Package.tracker.Deps,p=Package["reactive-var"].ReactiveVar,h=Package["templating-runtime"].Template,d=Package.random.Random,m=Package["iron:core"].Iron,_=Package.htmljs.HTML,f=Package.spacebars.Spacebars,v;(function(){if(Package["cmather:iron-dynamic-template"])throw new Error("\n\n    Sorry! The cmather:iron-{x} packages were migrated to the new package system with the wrong name, and you have duplicate copies.\n    You can see which cmather:iron-{x} packages have been installed by using this command:\n\n    > meteor list\n\n    Can you remove any installed cmather:iron-{x} packages like this:    \n\n    > meteor remove cmather:iron-core\n    > meteor remove cmather:iron-router\n    > meteor remove cmather:iron-dynamic-template\n    > meteor remove cmather:iron-dynamic-layout\n    \n    The new packages are named iron:{x}. For example:\n\n    > meteor add iron:router\n\n    Sorry for the hassle, but thank you!    \n\n  ")}).call(this),function(){h.__checkName("__DynamicTemplateError__"),h.__DynamicTemplateError__=new h("Template.__DynamicTemplateError__",(function(){var e=this;return _.DIV({style:"margin: 0 auto; color: red;"},"\n    ",a.View("lookup:msg",(function(){return f.mustache(e.lookup("msg"))})),"\n  ")}))}.call(this),function(){var e=m.utils.debug("iron:dynamic-template"),t=m.utils.assert,n=m.utils.get,i=m.utils.camelCase,u=function(e){return Object.prototype.toString.call(e)};(v=function(e){this._id=d.id(),this.options=e=e||{},this._template=e.template,this._defaultTemplate=e.defaultTemplate,this._content=e.content,this._data=e.data,this._templateDep=new c.Dependency,this._dataDep=new c.Dependency,this._lookupHostDep=new c.Dependency,this._lookupHostValue=null,this._hooks={},this._eventMap=null,this._eventHandles=null,this._eventThisArg=null,this.name=e.name||this.constructor.prototype.name||"DynamicTemplate",this.isCreated=!1,this.isDestroyed=!1}).prototype.template=function(e){return 1===arguments.length&&e!==this._template?(this._template=e,void this._templateDep.changed()):arguments.length>0?void 0:(this._templateDep.depend(),this._template?"function"==typeof this._template?this._template():this._template:this._defaultTemplate?"function"==typeof this._defaultTemplate?this._defaultTemplate():this._defaultTemplate:void 0)},v.prototype.defaultTemplate=function(e){if(1!==arguments.length)return this._defaultTemplate;this._defaultTemplate=e},v.prototype.clear=function(){this._template=void 0,this._data=void 0,this._templateDep.changed()},v.prototype.data=function(e){return 1===arguments.length&&e!==this._data?(this._data=e,void this._dataDep.changed()):(this._dataDep.depend(),"function"==typeof this._data?this._data():this._data)},v.prototype.create=function(e){var t=this;if(this.isCreated)throw new Error("DynamicTemplate view is already created");this.isCreated=!0,this.isDestroyed=!1;var n=p(null),r=a.View("DynamicTemplate",(function(){var e=this,r=n.get();return a.With((function(){var n=t.data();return void 0!==n?n:v.getParentDataContext(e)}),(function(){return t.renderView(r)}))}));return r.onViewCreated((function(){this.autorun((function(){n.set(t.template())}))})),o.each(["onViewCreated","onViewReady","_onViewRendered","onViewDestroyed"],(function(e){r[e]((function(){t._runHooks(e,this)}))})),r._onViewRendered((function(){t.isInserted=!0,1===r.renderCount&&t._attachEvents()})),r.onViewDestroyed((function(){t._detachEvents()})),r._templateInstance=new a.TemplateInstance(r),r.templateInstance=function(){var e=r._templateInstance;return e.data=a.getData(r),r._domrange&&!r.isDestroyed?(e.firstNode=r._domrange.firstNode(),e.lastNode=r._domrange.lastNode()):(e.firstNode=null,e.lastNode=null),e},this.view=r,r.__dynamicTemplate__=this,r.name=this.name,r},v.prototype.renderView=function(e){var t=this,n=null;return"string"==typeof e?((n=h[e])||(n=h[i(e)]),n||(n=a.With({msg:"Couldn't find a template named "+JSON.stringify(e)+" or "+JSON.stringify(i(e))+". Are you sure you defined it?"},(function(){return h.__DynamicTemplateError__})))):"[object Object]"===u(e)?n=e:void 0!==this._content&&(n=this._content),n},v.prototype.destroy=function(){this.isCreated&&(a.remove(this.view),this.view=null,this.isDestroyed=!0,this.isCreated=!1)},o.each(["onViewCreated","onViewReady","_onViewRendered","onViewDestroyed"],(function(e){v.prototype[e]=function(t){var n;return(this._hooks[e]=this._hooks[e]||[]).push(t),this}})),v.prototype._runHooks=function(e,t){for(var n=this._hooks[e]||[],a,r=0;r<n.length;r++)(a=n[r]).call(t,this)},v.prototype.events=function(e,t){var n=this;this._detachEvents(),this._eventThisArg=t;var r=this._eventMap={};for(var i in e)r[i]=function(e,r){return function(e){var i=a.getData(e.currentTarget);null==i&&(i={});var o=n.view.templateInstance();return r.call(t||this,e,o,i)}}(i,e[i]);this._attachEvents()},v.prototype._attachEvents=function(){var e=this,t=e._eventThisArg,n=e._eventMap,r=e.view,i=e._eventHandles;if(r){var s=r._domrange;if(!s)throw new Error("no domrange");var u=function(t,s){o.each(n,(function(n,u){var c=u.split(/,\s+/);o.each(c,(function(o){var u=o.split(/\s+/);if(0!==u.length){var c=u.shift(),l=u.join(" ");i.push(a._EventSupport.listen(s,c,l,(function(i){if(!t.containsElement(i.currentTarget))return null;var o=e._eventThisArg||this,s=arguments;return a._withCurrentView(r,(function(){return n.apply(o,s)}))}),t,(function(e){return e.parentRange})))}}))}))};s.attached?u(s,s.parentElement):s.onAttached(u)}},v.prototype._detachEvents=function(){o.each(this._eventHandles,(function(e){e.stop()})),this._eventHandles=[]};var _=function(e,t,n,r){o.each(n,(function(n,i){var s=i.split(/,\s+/);o.each(s,(function(i){var o=i.split(/\s+/);if(0!==o.length){var s=o.shift(),u=o.join(" ");handles.push(a._EventSupport.listen(t,s,u,(function(t){if(!e.containsElement(t.currentTarget))return null;var i=r||this,o=arguments;return a._withCurrentView(view,(function(){return n.apply(i,o)}))}),e,(function(e){return e.parentRange})))}}))}))};v.prototype.insert=function(e){if(e=e||{},!this.isInserted){this.isInserted=!0;var t=e.el||document.body,n=s(t);if(0===n.length)throw new Error("No element to insert layout into. Is your element defined? Try a Meteor.startup callback.");return this.view||this.create(e),a.render(this.view,n[0],e.nextNode,e.parentView),this}},v.prototype._getLookupHost=function(){return this._lookupHostValue},v.prototype._setLookupHost=function(e){var t=this;return t._lookupHostValue!==e&&(t._lookupHostValue=e,l.afterFlush((function(){t._lookupHostDep.changed()}))),this},v.getParentDataContext=function(e){return v.getDataContext(e&&e.parentView)},v.getDataContext=function(e){for(;e;){if("with"===e.name&&!e.__isTemplateWith)return e.dataVar.get();e=e.parentView}return null},v.getInclusionArguments=function(e){var t=e&&e.parentView;return t&&t.__isTemplateWith?t.dataVar.get():null},v.args=function(e){return function(t){var n=v.getInclusionArguments(e);return n?t?n[t]:n:null}},v.extend=function(e){return m.utils.extend(this,e)},v.findFirstLookupHost=function(e){var n,r;for(t(e instanceof a.View,"view must be a Blaze.View");e;){var n;if(e.__dynamicTemplate__){if(n=e.__dynamicTemplate__._getLookupHost())return n}else e=e.parentView}},v.findLookupHostWithProperty=function(e,r){var i,o;for(t(e instanceof a.View,"view must be a Blaze.View");e;){var i;if(e.__dynamicTemplate__)if((i=e.__dynamicTemplate__._getLookupHost())&&n(i,r))return i;e=e.parentView}},v.findLookupHostWithHelper=function(e,r){var i,o;for(t(e instanceof a.View,"view must be a Blaze.View");e;){var i;if(e.__dynamicTemplate__)if((i=e.__dynamicTemplate__._getLookupHost())&&n(i,"constructor","_helpers",r))return i;e=e.parentView}},void 0!==h&&r.registerHelper("DynamicTemplate",new h("DynamicTemplateHelper",(function(){var e=v.args(this);return new v({data:function(){return e("data")},template:function(){return e("template")},content:this.templateContentBlock}).create()}))),m.DynamicTemplate=v}.call(this),function(){var e=m.utils.assert,t=m.utils.get,n=a.View.prototype.lookup;a.View.prototype.lookup=function(e){var r;return(r=v.findLookupHostWithHelper(a.getView(),e))?function n(){var a=t(r,"constructor","_helpers",e),i=[].slice.call(arguments);return"function"==typeof a?a.apply(r,i):a}:n.apply(this,arguments)}}.call(this),Package._define("iron:dynamic-template")}();

!function(){var e=Package.meteor.Meteor,n=Package.meteor.global,t=Package.meteor.meteorEnv,r=Package["templating-runtime"].Template,o=Package.blaze.Blaze,i=Package.blaze.UI,a=Package.blaze.Handlebars,s=Package.underscore._,c=Package.tracker.Tracker,u=Package.tracker.Deps,h=Package["iron:core"].Iron,l=Package.htmljs.HTML,g=Package.spacebars.Spacebars,d,p,m;(function(){var e=[];if(Package["cmather:iron-layout"]&&e.push("\n\n    The cmather:iron-{x} packages were migrated to the new package system with the wrong name, and you have duplicate copies.\n    You can see which cmather:iron-{x} packages have been installed by using this command:\n\n    > meteor list\n\n    Can you remove any installed cmather:iron-{x} packages like this:    \n\n    > meteor remove cmather:iron-core\n    > meteor remove cmather:iron-router\n    > meteor remove cmather:iron-dynamic-template\n    > meteor remove cmather:iron-dynamic-layout\n    \n    The new packages are named iron:{x}. For example:\n\n    > meteor add iron:router\n\n    Sorry for the hassle, but thank you!    \n\n  "),Package["cmather:blaze-layout"]&&e.push("The blaze-layout package has been replaced by iron-layout. Please remove the package like this:\n> meteor remove cmather:blaze-layout\n"),e.length>0)throw new Error("Sorry! Looks like there's a few errors related to iron:layout\n\n"+e.join("\n\n"))}).call(this),function(){r.__checkName("__IronDefaultLayout__"),r.__IronDefaultLayout__=new r("Template.__IronDefaultLayout__",(function(){var e=this;return g.include(this.lookupTemplate("yield"))}))}.call(this),function(){var e=h.DynamicTemplate,n=h.utils.inherits;d=function(e){for(;e;){if("Iron.Layout"===e.name)return e.__dynamicTemplate__;e=e.parentView}return null},m=(p=function(e){var n=this;p.__super__.constructor.apply(this,arguments),e=e||{},this.name="Iron.Layout",this._regions={},this._regionHooks={},this.defaultTemplate("__IronDefaultLayout__"),e.content&&this.render(e.content)}).DEFAULT_REGION="main",n(p,h.DynamicTemplate),p.prototype.region=function(e,n){return this._ensureRegion(e,n)},p.prototype.destroyRegions=function(){s.each(this._regions,(function(e){e.destroy()})),this._regions={}},p.prototype.render=function(e,n){var t=(n=n||{}).to||n.region||m,r=this.region(t);this._trackRenderedRegion(t),r.template(e),r.data(n.data)},p.prototype.has=function(e){return e=e||p.DEFAULT_REGION,!!this._regions[e]},p.prototype.regionKeys=function(){return s.keys(this._regions)},p.prototype.clear=function(e){return e=e||p.DEFAULT_REGION,this.has(e)&&this.region(e).template(null),this},p.prototype.clearAll=function(){return s.each(this._regions,(function(e){e.template(null)})),this},p.prototype.beginRendering=function(e){var n=this;if(this._finishRenderingTransaction&&this._finishRenderingTransaction(),this._finishRenderingTransaction=s.once((function(){var t=n._endRendering({flush:!1});e&&e(t)})),u.afterFlush(this._finishRenderingTransaction),this._renderedRegions)throw new Error("You called beginRendering again before calling endRendering");this._renderedRegions={}},p.prototype._trackRenderedRegion=function(e){this._renderedRegions&&(this._renderedRegions[e]=!0)},p.prototype._endRendering=function(e){!1!==(e=e||{}).flush&&u.flush();var n=this._renderedRegions||{};return this._renderedRegions=null,s.keys(n)},s.each(["onRegionCreated","onRegionRendered","onRegionDestroyed"],(function(e){p.prototype[e]=function(n){var t;return(this._regionHooks[e]=this._regionHooks[e]||[]).push(n),this}})),p.prototype._ensureRegion=function(e,n){return this._regions[e]=this._regions[e]||this._createDynamicTemplate(e,n)},p.prototype._createDynamicTemplate=function(e,n){var t=this,r=new h.DynamicTemplate(n),o=h.utils.capitalize;return r._region=e,s.each(["viewCreated","viewReady","viewDestroyed"],(function(e){e=o(e),r["on"+e]((function(n){var r=this,o={viewCreated:"regionCreated",viewReady:"regionRendered",viewDestroyed:"regionDestroyed"}[e];t._runRegionHooks("on"+o,this,n)}))})),r},p.prototype._runRegionHooks=function(e,n,t){for(var r=this,o=this._regionHooks[e]||[],i,a=0;a<o.length;a++)(i=o[a]).call(n,t.region,t,this)},void 0!==r&&(i.registerHelper("yield",new r("yield",(function(){var n=d(this);if(!n)throw new Error("No Iron.Layout found so you can't use yield!");var t=e.getInclusionArguments(this),r,o;return s.isString(t)?r=t:s.isObject(t)&&(r=t.region),r=r||m,(o=n.region(r)).isCreated&&o.destroy(),o.create()}))),i.registerHelper("contentFor",new r("contentFor",(function(){var n=d(this);if(!n)throw new Error("No Iron.Layout found so you can't use contentFor!");var t=e.getInclusionArguments(this)||{},r=this.templateContentBlock,o=t.template,i=t.data,a;if(s.isString(t))a=t;else{if(!s.isObject(t))throw new Error("Which region is this contentFor block supposed to be for?");a=t.region}return n.region(a).template(o||r),n._trackRenderedRegion(a),i&&n.region(a).data(i),null}))),i.registerHelper("hasRegion",(function(e){var n=d(o.getView());if(!n)throw new Error("No Iron.Layout found so you can't use hasRegion!");if(!s.isString(e))throw new Error("You need to provide an region argument to hasRegion");return!!n.region(e).template()})),i.registerHelper("Layout",new r("layout",(function(){var e=h.DynamicTemplate.args(this),n;return new p({template:function(){return e("template")},data:function(){return e("data")},content:this.templateContentBlock}).create()})))),h.Layout=p}.call(this),Package._define("iron:layout")}();

!function(){var e=Package.meteor.Meteor,r=Package.meteor.global,t=Package.meteor.meteorEnv,n=Package.underscore._,i=Package["iron:core"].Iron,o,a;(function(){var e=function(e){return Object.prototype.toString.call(e)},r=new RegExp(["(\\\\.)","([\\/.])?(?:\\:(\\w+)(?:\\(((?:\\\\.|[^)])*)\\))?|\\(((?:\\\\.|[^)])*)\\))([+*?])?","([.+*?=^!:${}()[\\]|\\/])"].join("|"),"g");function t(e){return e.replace(/([=!:$\/()])/g,"\\$1")}var n=function(e,r){return e.keys=r,e};function i(o,a,s){a&&"[object Array]"!==e(a)&&(s=a,a=null),a=a||[];var c=(s=s||{}).strict,u=!1!==s.end,p=s.sensitive?"":"i",l=0;if(o instanceof RegExp){var h=o.source.match(/\((?!\?)/g)||[];return a.push.apply(a,h.map((function(e,r){return{name:r,delimiter:null,optional:!1,repeat:!1}}))),n(o,a)}if("[object Array]"===e(o))return o=o.map((function(e){return i(e,a,s).source})),n(new RegExp("(?:"+o.join("|")+")",p),a);var f="/"===(o=o.replace(r,(function(e,r,n,i,o,s,c,u){if(r)return r;if(u)return"\\"+u;var p="+"===c||"*"===c,h="?"===c||"*"===c;return a.push({name:i||l++,delimiter:n||"/",optional:h,repeat:p}),n=n?"\\"+n:"",o=t(o||s||"[^"+(n||"\\/")+"]+?"),p&&(o=o+"(?:"+n+o+")*"),h?"(?:"+n+"("+o+"))?":n+"("+o+")"})))[o.length-1];return c||(o=(f?o.slice(0,-2):o)+"(?:\\/(?=$))?"),u||(o+=c&&f?"":"(?=\\/|$)"),n(new RegExp("^"+o+(u?"$":""),p),a)}o=i}).call(this),function(){var e=i.utils.warn;function r(r){try{return decodeURIComponent(r.replace(/\+/g," "))}catch(t){return void(t.constructor==URIError&&e("Tried to decode an invalid URI component: "+JSON.stringify(r)+" "+t.stack))}}function t(r){try{return decodeURI(r.replace(/\+/g," "))}catch(t){return void(t.constructor==URIError&&e("Tried to decode an invalid URI: "+JSON.stringify(r)+" "+t.stack))}}(a=function(e,r){r=r||{},this.options=r,this.keys=[],this.regexp=o(e,this.keys,r),this._originalPath=e,n.extend(this,a.parse(e))}).normalize=function(e){if(e instanceof RegExp)return e;if("string"!=typeof e)return"/";var r,t=a.parse(e).pathname;return"/"!==t.charAt(0)&&(t="/"+t),t.length>1&&"/"===t.charAt(t.length-1)&&(t=t.slice(0,t.length-1)),t},a.isSameOrigin=function(e,r){var t=a.parse(e),n=a.parse(r),i;return t.origin===n.origin},a.fromQueryString=function(e){if(!e)return{};if("string"!=typeof e)throw new Error("expected string");"?"===e.charAt(0)&&(e=e.slice(1));var t=e.split("&"),i={},o;return n.each(t,(function(e){var t=e.split("="),n=r(t[0]),o=r(t[1]);void 0!==n&&void 0!==o&&"[]"===n.slice(-2)?(n=n.slice(0,-2),i[n]=i[n]||[],i[n].push(o)):i[n]=o})),i},a.toQueryString=function(e){var r=[];return"string"==typeof e?"?"!==e.charAt(0)?"?"+e:e:(n.each(e,(function(e,t){n.isArray(e)?n.each(e,(function(e){r.push(encodeURIComponent(t)+"[]="+encodeURIComponent(e))})):r.push(encodeURIComponent(t)+"="+encodeURIComponent(e))})),r.length>0?"?"+r.join("&"):"")},a.parse=function(e){if("string"!=typeof e)return{};var r=/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,t=e.match(r),n=t[1]?t[1].toLowerCase():void 0,i,o=!!t[3],s=t[4]?t[4].toLowerCase():void 0,c=s?s.split("@"):[],u,p;2==c.length?(p=c[0],u=c[1]):1==c.length?(u=c[0],p=void 0):(u=void 0,p=void 0);var l=u&&u.split(":")||[],h=l[0],f=l[1],g=n&&u?n+"//"+u:void 0,d=t[5],m=t[8],v=e,y=t[6],w,R=m&&m.indexOf("?")||-1;~R&&!y?(y=m.slice(R),m=m.substr(0,R),w=y.slice(1)):w=t[7];var x=d+(y||""),U=a.fromQueryString(w),S,E;return{rootUrl:[n||"",o?"//":"",s||""].join("")||"",originalUrl:e||"",href:[n||"",o?"//":"",s||"",d||"",y||"",m||""].join("")||"",protocol:n||"",auth:p||"",host:u||"",hostname:h||"",port:f||"",origin:g||"",path:x||"",pathname:d||"",search:y||"",query:w||"",queryObject:U||"",hash:m||"",slashes:o}},a.prototype.test=function(e){return this.regexp.test(a.normalize(e))},a.prototype.exec=function(e){return this.regexp.exec(a.normalize(e))},a.prototype.params=function(e){if(!e)return[];var n=[],i=this.exec(e),o,s=this.keys,c,u;if(!i)throw new Error('The route named "'+this.name+'" does not match the path "'+e+'"');for(var p=1,l=i.length;p<l;++p)c=s[p-1],u="string"==typeof i[p]?r(i[p]):i[p],c?n[c.name]=void 0!==n[c.name]?n[c.name]:u:n.push(u);return void 0!==t(e)&&((o=e.split("?")[1])&&(o=o.split("#")[0]),n.hash=e.split("#")[1]||null,n.query=a.fromQueryString(o)),n},a.prototype.resolve=function(e,r){var t,i,o,s=0,c=this._originalPath,u,p,l=[],h=e;if(e=e||[],p=(r=r||{}).query,u=r.hash&&r.hash.toString(),c instanceof RegExp)throw new Error("Cannot currently resolve a regular expression path");if(c=c.replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g,(function(r,o,a,s,c,u,p){if(o=o||"",a=a||"",t=e[s],i=void 0!==t,u&&!i)t="";else if(!i)return void l.push(s);var h;return t=n.isFunction(t)?t.call(e):t,o+a+n.map(String(t).split("/"),(function(e){return encodeURIComponent(e)})).join("/")})).replace(/\*/g,(function(r){if(void 0===e[s])throw new Error("You are trying to access a wild card parameter at index "+s+" but the value of params at that index is undefined");var t=String(e[s++]);return n.map(t.split("/"),(function(e){return encodeURIComponent(e)})).join("/")})),c+=p=a.toQueryString(p),u&&(c=c+"#"+(u=encodeURI(u.replace("#","")))),c=(c=c.replace(/\/+/g,"/")).replace(/^(.+)\/$/g,"$1"),0==l.length)return c;if(!0===r.throwOnMissingParams)throw new Error("Missing required parameters on path "+JSON.stringify(this._originalPath)+". The missing params are: "+JSON.stringify(l)+". The params object passed in was: "+JSON.stringify(h)+".");return null},i.Url=a}.call(this),Package._define("iron:url")}();

!function(){var t=Package.meteor.Meteor,e=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.underscore._,i=Package.ejson.EJSON,o=Package["iron:core"].Iron,a,s;(function(){var t=o.Url;(a=function(e,n,i){r.isFunction(e)&&(i=i||n||{},n=e,e="/",this.middleware=!0,void 0===i.mount&&(i.mount=!0)),"object"==typeof n&&(n=(i=n).action||"action"),i=i||{},this.options=i,this.mount=i.mount,this.method=i.method&&i.method.toLowerCase()||!1,this.where=i.where||"client",this.mount&&(i.end=!1),i.name?this.name=i.name:"string"==typeof e&&"/"!==e.charAt(0)?this.name=e:"string"==typeof e&&"/"!==e&&(this.name=e.split("/").slice(1).join(".")),"string"==typeof(e=i.path||e)&&"/"!==e.charAt(0)&&(e="/"+e),this.path=e,this.compiledUrl=new t(e,i),r.isString(n)?this.handle=function t(){var e=this[n];if("function"!=typeof e)throw new Error("No method named "+JSON.stringify(n)+" found on handler.");return e.apply(this,arguments)}:r.isFunction(n)&&(this.handle=n)}).prototype.test=function(t,e){e=e||{};var n=this.compiledUrl.test(t),r=!0,i=!0;return this.method&&e.method&&(r=this.method==e.method.toLowerCase()),e.where&&(i=this.where==e.where),n&&r&&i},a.prototype.params=function(t){return this.compiledUrl.params(t)},a.prototype.resolve=function(t,e){return this.compiledUrl.resolve(t,e)},a.prototype.clone=function(){var t=new a(this.path,this.handle,this.options);return t.name=this.name,t}}).call(this),function(){var e=o.Url,n=o.utils.assert,h=o.utils.defaultValue;(s=function(){this._stack=[],this.length=0}).prototype._create=function(t,e,n){var i=new a(t,e,n),o=i.name;if(o){if(r.has(this._stack,o))throw new Error("Handler with name '"+o+"' already exists.");this._stack[o]=i}return i},s.prototype.findByName=function(t){return this._stack[t]},s.prototype.push=function(t,e,n){var r=this._create(t,e,n);return this._stack.push(r),this.length++,r},s.prototype.append=function(){var t=this,e=r.toArray(arguments),n={};return"object"==typeof e[e.length-1]&&(n=e.pop()),r.each(e,(function(e){if(void 0!==e)if("function"==typeof e)t.push(e,n);else{if(!r.isArray(e))throw new Error("Can only append functions or arrays to the MiddlewareStack");t.append.apply(t,e.concat([n]))}})),this},s.prototype.insertAt=function(t,e,n,r){var i=this._create(e,n,r);return this._stack.splice(t,0,i),this.length=this._stack.length,this},s.prototype.insertBefore=function(t,e,n,i){var o,a;if(!(o=this._stack[t]))throw new Error("Couldn't find a handler named '"+t+"' on the path stack");return a=r.indexOf(this._stack,o),this.insertAt(a,e,n,i),this},s.prototype.insertAfter=function(t,e,n,i){var o,a;if(!(o=this._stack[t]))throw new Error("Couldn't find a handler named '"+t+"' on the path stack");return a=r.indexOf(this._stack,o),this.insertAt(a+1,e,n,i),this},s.prototype.concat=function(){var t=new s,e=Array.prototype.concat,n=i.clone(this._stack),o=r.map(r.toArray(arguments),(function(t){return i.clone(t._stack)}));return t._stack=e.apply(n,o),t.length=t._stack.length,t},s.prototype.dispatch=function r(i,o,a){var s=this,l=i;n("string"==typeof i,"Requires url"),n("object"==typeof o,"Requires context object"),i=e.normalize(i||"/"),h(o,"request",{}),h(o,"response",{}),h(o,"originalUrl",i),h(o,"_method",o.method),h(o,"_handlersForEnv",{client:!1,server:!1}),h(o,"_handled",!1),h(o,"isHandled",(function(){return o._handled})),h(o,"willBeHandledOnClient",(function(){return o._handlersForEnv.client})),h(o,"willBeHandledOnServer",(function(){return o._handlersForEnv.server}));var c=function(){if(a)try{a.apply(this,arguments)}catch(t){throw t._punt=!0,t}},u=0,p=t.bindEnvironment((function n(r){var a=s._stack[u++];if(o.url=o.request.url=o.originalUrl,!a)return c.call(o,r);if(!a.test(i,{method:o._method}))return p(r);var h=t.isClient?"client":"server";if(a.middleware||(o._handlersForEnv[a.where]=!0),a.where!==h)return p(r);if(o.next=p,a.mount){var l=e.normalize(a.compiledUrl.pathname),d=i.substr(l.length,i.length);d=e.normalize(d),o.url=o.request.url=d}try{var f=a.handle.length,m=o.request,y=o.response;return r&&4===f?a.handle.call(o,r,m,y,p):!r&&f<4?a.handle.call(o,m,y,p):p(r)}catch(r){if(r._punt)throw r;p(r)}finally{o._handled=!0,o.next=null}}));return p(),o.next=null,o},(o=o||{}).MiddlewareStack=s}.call(this),Package._define("iron:middleware-stack",{Handler:a})}();

!function(){var t=Package.meteor.Meteor,e=Package.meteor.global,n=Package.meteor.meteorEnv,a=Package.underscore._,r=Package.tracker.Tracker,o=Package.tracker.Deps,i=Package.jquery.$,c=Package.jquery.jQuery,s=Package["iron:core"].Iron,h,u,l,f,p;(function(){var t=s.Url,e="__hash__";h=function(e){var n=t.parse(e),a=n.hash&&n.hash.replace("#",""),r=n.search,o=n.pathname,i=n.rootUrl,c;a&&"!"!==a.charAt(0)&&(r=r?r+"&":"?",r+="__hash__="+a,a="");return!a&&o?a="#!"+o.substring(1):a&&(a="#"+a),[i,a,r].join("")},u=function(e){var n=t.parse(e),r=n.hash&&n.hash.replace("#!","/"),o=n.search,i=n.rootUrl,c;return a.has(n.queryObject,"__hash__")?(c="#"+n.queryObject.__hash__,delete n.queryObject.__hash__):c="",[i,r,t.toQueryString(n.queryObject),c].join("")},l=function(e){var n=t.parse(e),a=n.queryObject;return n.hash&&(a.__hash__=n.hash.replace("#","")),["!",n.pathname.substring(1),t.toQueryString(a)].join("")}}).call(this),function(){var t=s.Url;(f=function(e,n){a.extend(this,t.parse(e),{options:n||{}})}).prototype.equals=function(t){return!!t&&(t instanceof f&&(t.pathname==this.pathname&&t.search==this.search&&t.hash==this.hash&&t.options.historyState===this.options.historyState))},f.prototype.isCancelled=function(){return!!this._isCancelled},f.prototype.cancelUrlChange=function(){this._isCancelled=!0}}.call(this),function(){var e=s.Url,n=null,r=new o.Dependency,c={go:[],popState:[]},y=function(){return/MSIE 9/.test(navigator.appVersion)},g=function(){return/MSIE 8/.test(navigator.appVersion)},_=function(){return!!Package.appcache},d=function(){return"undefined"==typeof history||"function"!=typeof history.pushState},S=function(){return p.options.useHashPaths||g()||y()||_()||d()},v=function(){return!!p.options.useHashPaths},k=function(t,e){a.each(c[t],(function(t){t.call(e)}))},w=function(t){if(!(t instanceof f))throw new Error("Expected a State instance");return!t.equals(n)&&(n=t,r.changed(),!0)},P=function(){var t=location.href,e;e=v()?new f(u(t)):new f(t,{historyState:history.state}),k("popState",e),w(e)},m=function(t){var e=q;q&&q(t)},j=function(t,e){var n=new f(t,e=e||{});k("go",n),w(n)&&o.afterFlush((function(){n.isCancelled()||(v()?location.hash=l(t):!0===e.replaceState?history.replaceState(e.historyState,null,t):history.pushState(e.historyState,null,t))}))},q=function(t){try{var n=t.currentTarget,a=n.href,r=n.pathname+n.search+n.hash;if(r=r.replace(/(^\/?)/,"/"),t.isDefaultPrevented())return void t.preventDefault();if(t.metaKey||t.ctrlKey||t.shiftKey)return;if(n.target)return;if(!e.isSameOrigin(a,location.href))return;t.preventDefault(),j(r)}catch(o){throw t.preventDefault(),o}};(p={}).options={linkSelector:"a[href]",useHashPaths:!1},p.configure=function(t){a.extend(this.options,t||{})},p.get=function(){return r.depend(),n},p.start=function(){if(!this._isStarted){var n=e.parse(location.href);if(S()){if(n.pathname.length>1){var a=h(location.href);window.location=a}this.configure({useHashPaths:!0})}var r=location.href;if(v()){var o=new f(u(r));w(o)}else{if("!"===n.hash.replace("#","")[0])var r=u(r);var c={initial:!0};history.replaceState(c,null,r);var o=new f(r,{historyState:c});w(o)}i(window).on("popstate.iron-location",P),i(window).on("hashchange.iron-location",P),t.startup((function(){i(document).on("click.iron-location",p.options.linkSelector,m)})),this._isStarted=!0}},p.stop=function(){this._isStarted&&(i(window).on("popstate.iron-location"),i(window).on("hashchange.iron-location"),i(document).off("click.iron-location"),this._isStarted=!1)},p.onClick=function(t){q=t},p.go=function(t,e){return j(t,e)},p.onGo=function(t){c.go.push(t)},p.onPopState=function(t){c.popState.push(t)},p.start(),s.Location=p}.call(this),Package._define("iron:location",{urlToHashStyle:h,urlFromHashStyle:u})}();

!function(){var t=Package.meteor.Meteor,e=Package.meteor.global,n=Package.meteor.meteorEnv,a=Package.underscore._,o=Package.tracker.Tracker,i=Package.tracker.Deps,r=Package["reactive-dict"].ReactiveDict,u=Package["templating-runtime"].Template,s=Package["iron:core"].Iron,c=Package.blaze.Blaze,l=Package.blaze.UI,p=Package.blaze.Handlebars,d=Package.spacebars.Spacebars,h=Package.htmljs.HTML,y,_;(function(){var t=s.utils.assert,e=function(){for(var t={},e=i.currentComputation;e;)t[String(e._id)]=!0,e=e._parent;return t},n=function(n){var o=e(),i=a.keys(n._dependentsById);a.each(i,(function(e){t(!o[e],"\n\nYou called wait() after calling ready() inside the same computation tree.\n\nYou can fix this problem in two possible ways:\n\n1) Put all of your wait() calls before any ready() calls.\n2) Put your ready() call in its own computation with Deps.autorun.")}))};(y=function(){this._readyDep=new i.Dependency,this._comps=[],this._notReadyCount=0}).prototype.wait=function(t){var e=this,o=i.currentComputation;n(e._readyDep),i.nonreactive((function(){var n=null,r=i.autorun((function(a){var o=!!t(),i=e._notReadyCount;a.firstRun&&!o?e._notReadyCount++:null!==n&&o!==n&&!0===o?e._notReadyCount--:null!==n&&o!==n&&!1===o&&e._notReadyCount++,n=o,0===i&&e._notReadyCount>0?e._readyDep.changed():i>0&&0===e._notReadyCount&&e._readyDep.changed()}));e._comps.push(r),o&&o.onInvalidate((function(){i.afterFlush((function(){r.stop(),e._comps.splice(a.indexOf(e._comps,r),1),!1===n&&(e._notReadyCount--,0===e._notReadyCount&&e._readyDep.changed())}))}))}))},y.prototype.ready=function(){return this._readyDep.depend(),0===this._notReadyCount},y.prototype.stop=function(){a.each(this._comps,(function(t){t.stop()})),this._comps=[]},s.WaitList=y}).call(this),function(){var t=s.utils.debug("iron:controller"),e=s.Layout,n=s.DynamicTemplate,o=function(t,e){return function(){return"function"==typeof t?t.apply(e,arguments):t}};(_=function(t){var n=this;this.options=t||{},this._layout=this.options.layout||new e(this.options),this._isController=!0,this._layout._setLookupHost(this);var a=_._collectEventMaps.call(this.constructor);this._layout.events(a,this),this.init(t)}).prototype.layout=function(t,e){var n=this;return this._layout.template(t),e&&a.has(e,"data")&&this._layout.data(o(e.data,this)),{data:function(t){return n._layout.data(o(t,n))}}},_.prototype.render=function(t,e){var n=this;e&&void 0!==e.data&&(e.data=o(e.data,this));var a=this._layout.render(t,e);return{data:function(t){return a.data(o(t,n))}}},_.prototype.beginRendering=function(t){return this._layout.beginRendering(t)},_.extend=function(t){return s.utils.extend(this,t)},_.events=function(t){return this._eventMap=t,this};var i=function(t,e){var n={};return t.__super__&&a.extend(n,i(t.__super__.constructor,e)),a.has(t,e)?a.extend(n,t[e]):n};_._collectEventMaps=function(){return i(this,"_eventMap")},_._helpers={},_.helpers=function(t){return a.extend(this._helpers,t),this},void 0!==u&&(s.controller=function(){return n.findLookupHostWithProperty(c.getView(),"_isController")},u.registerHelper("get",(function(t){var e=s.controller();if(e&&e.state)return e.state.get(t)}))),s.Controller=_}.call(this),function(){var t=s.Layout,e=s.utils.debug("iron:controller"),n=s.utils.defaultValue,o=function(t,e){return function(){return"function"==typeof t?t.apply(e,arguments):t}};_.prototype.init=function(t){this._waitlist=new y,this.state=new r},_.prototype.insert=function(t){return this._layout.insert.apply(this._layout,arguments)},_.prototype.wait=function(t){var e=this;if(t)return a.isArray(t)?a.each(t,(function t(n){e.wait(n)})):t.ready?this._waitlist.wait((function(){return t.ready()})):this._waitlist.wait(t),this},_.prototype.ready=function(){return this._waitlist.ready()},_.prototype.stop=function(){this._waitlist.stop()}}.call(this),Package._define("iron:controller")}();

!function(){var t=Package.underscore._,o=Package.tracker.Tracker,e=Package.tracker.Deps,r=Package.blaze.Blaze,n=Package.blaze.UI,i=Package.blaze.Handlebars,a=Package["templating-runtime"].Template,s=Package.ejson.EJSON,u=Package.meteor.Meteor,l=Package.meteor.global,p=Package.meteor.meteorEnv,c=Package["iron:core"].Iron,h=Package.htmljs.HTML,f=Package.spacebars.Spacebars,d,_,y,m,g;(function(){d=new u.EnvironmentVariable}).call(this),function(){_=["get","post","put","delete","patch","head"]}.call(this),function(){var o=c.Controller,e=c.Url,r=c.MiddlewareStack,n=c.utils.assert;(y=o.extend({constructor:function(o){y.__super__.constructor.apply(this,arguments),o=o||{},this.options=o,this._onStopCallbacks=[],this.route=o.route,this.params=[];var e=this.lookupOption("data");"function"==typeof e?this.data=t.bind(e,this):void 0!==e&&(this.data=function(){return e}),this.init(o)}})).prototype.lookupOption=function(o){if(this.route&&this.route.options&&t.has(this.route.options,o))return this.route.options[o];if(t.has(this.options,o))return this.options[o];if(void 0!==this[o])return this[o];var e=d.get();return e&&t.has(e,o)?e[o]:this.router&&this.router.options&&t.has(this.router.options,o)?this.router.options[o]:void 0},y.prototype.configureFromUrl=function(t,o,e){n("string"==typeof t,"url must be a string"),o=o||{},this.request=o.request||{},this.response=o.response||{},this.url=o.url||t,this.originalUrl=o.originalUrl||t,this.method=this.request.method,this.route&&this.setParams(this.route.params(t),e)},y.prototype._collectHooks=function(){var o=this,e=t.toArray(arguments),r=function(e){if(!e)return[];var r=o.router.lookupHook,n=t.isArray(e)?e:[e];return t.map(n,(function(t){return r(t)}))},n=function(o,e){var i=[];return o.__super__&&(i=i.concat(n(o.__super__.constructor,e))),t.has(o.prototype,e)?i.concat(r(o.prototype[e])):i},i=function(t){for(var o=0;o<e.length;o++)t(e[o])},a=[];i((function(t){var e=o.route&&o.route.getName(),r=o.router.getHooks(t,e);a=a.concat(r)}));var s=[];i((function(t){var e=n(o.constructor,t);s=s.concat(e)}));var u=[];i((function(e){if(t.has(o,e)){var n=r(o[e]);u=u.concat(n)}}));var l=[];o.route&&i((function(t){var e=r(o.route.options[t]);l=l.concat(e)}));var p=a.concat(l).concat(s).concat(u);return p},y.prototype.runHooks=function(){for(var t=this._collectHooks.apply(this,arguments),o=0,e=t.length;o<e;o++){var r=t[o];r.call(this)}return t.length},y.prototype.getParams=function(){return this.params},y.prototype.setParams=function(t){return this.params=t,this},c.RouteController=y}.call(this),function(){var r=c.Controller,n=c.Url,i=c.MiddlewareStack,a=c.utils.debug("iron-router:RouteController");if(y.prototype.init=function(t){y.__super__.init.apply(this,arguments),this._computation=null,this._paramsDep=new o.Dependency,this.location=c.Location},y.prototype.getParams=function(){return this._paramsDep.depend(),this.params},y.prototype.setParams=function(o,e){var r;if(!function(o,r){if(!(o instanceof Array))throw new Error("you called equals with a non array value in setParams");if(!(r instanceof Array))return!1;if(o.length!==r.length)return!1;for(var n=0;n<o.length;n++)if(!s.equals(o[n],r[n],e))return!1;var i=t.keys(o),a=t.keys(r),u;if(i.length!==a.length)return!1;for(var n=0;n<i.length;n++){if(u=i[n],!t.has(r,u))return!1;if(!s.equals(o[u],r[u]))return!1}return!0}(this.params,o))return this.params=o,!1!==(e=e||{}).reactive&&this._paramsDep.changed(),this},y.prototype.dispatch=function(t,o,r){if(this._computation&&!this._computation.stopped)throw new Error("RouteController computation is already running. Stop it first.");var n=this;return e.nonreactive((function(){e.autorun((function(e){n._computation=e,t.dispatch(o,n,r)}))})),n},y.prototype._runRoute=function(o,r,n){var a=this,s=this._collectHooks("subscriptions");t.each(s,(function(t){a.wait(t.call(a))}));var u=this._collectHooks("waitOn");t.each(u,(function(t){a.wait(t.call(a))}));var l=u.length>0,p,h,f=function(){return e.nonreactive((function(){return a._layout.template()}))},d=function(){return e.nonreactive((function(){var t=a._layout._regions.main;return t&&t.template()}))},_=f(),m=d();this.beginRendering((function o(e){if(!a.isStopped){var r=f(),n=d();if(_!==r||m!=n){var i=a._layout.regionKeys(),s=t.difference(i,e);t.each(s,(function(t){a._layout.clear(t)}))}}})),this.layout(this.lookupOption("layoutTemplate"),{data:this.lookupOption("data")});var g=new i,v=new i,k=new i;v.append(this._collectHooks("onRun","load"),{where:"client"}),k.append(this._collectHooks("onRerun"),{where:"client"}),g.append((function t(o,e,r){this._computation.firstRun&&!y._hasJustReloaded&&v.length>0?v.dispatch(o.url,this,r):r(),y._hasJustReloaded=!1}),(function t(o,e,r){this._computation.firstRun?r():k.length>0?k.dispatch(o.url,this,r):r()}),{where:"client"}),l&&g.push(t.bind(c.Router.hooks.loading,a));var R=this._collectHooks("onBeforeAction","before");g.append(R,{where:"client"}),0===o._actionStack.length&&o._actionStack.push(o._path,"action",o.options),g=g.concat(o._actionStack),this._rendered=!1,g.dispatch(r,this,n),e.afterFlush((function(){c.utils.warn(a._rendered||a.isStopped,"Route dispatch never rendered. Did you forget to call this.next() in an onBeforeAction?")})),this.runHooks("onAfterAction","after")},y.prototype.action=function(){this.render()},y.prototype.lookupTemplate=function(){return this.lookupOption("template")||this.router&&this.router.toTemplateName(this.route.getName())},y.prototype.lookupRegionTemplates=function(){return this.lookupOption("yieldRegions")||this.lookupOption("regionTemplates")||this.lookupOption("yieldTemplates")||{}},y.prototype.render=function(t,o){if(this._rendered=!0,0===arguments.length){var t=this.lookupTemplate(),e=y.__super__.render.call(this,t);return this.renderRegions(),e}return y.__super__.render.call(this,t,o)},y.prototype.renderRegions=function(){var o=this,e=this.lookupRegionTemplates();a("regionTemplates: "+JSON.stringify(e)),t.each(e,(function(t,e){o.render(e,t)}))},y.prototype.stop=function(){y.__super__.stop.call(this),this._computation&&this._computation.stop(),this.runHooks("onStop","unload"),this.isStopped=!0},y.prototype.redirect=function(){return this.router.go.apply(this.router,arguments)},y.prototype.subscribe=function(){var o=this,e=u.subscribe.apply(this,arguments);return t.extend(e,{wait:function(){o.wait(this)}})},Package.reload){Package.reload.Reload._onMigrate("iron-router",(function(){return[!0,!0]}));var l=Package.reload.Reload._migrationData("iron-router");y._hasJustReloaded=l}}.call(this),function(){var o=c.Url,e=c.MiddlewareStack,r=c.utils.assert;(m=function(o,r,n){var i=function(t,o,e){var r=this;this.request=t,this.response=o,i.dispatch(t.url,this,e)};return"object"==typeof r&&(r=(n=r).action),n=n||{},"string"==typeof o&&"/"!==o.charAt(0)&&(o=n.path?n.path:"/"+o),t.extend(i,this.constructor.prototype),n=i.options=n||{},i._actionStack=new e,i._beforeStack=new e,i._beforeStack.append(i.options.onBeforeAction),i._beforeStack.append(i.options.before),i._afterStack=new e,i._afterStack.append(i.options.onAfterAction),i._afterStack.append(i.options.after),i._methods={},"string"==typeof r?i._actionStack.push(o,t.extend(n,{template:r})):"function"!=typeof r&&"object"!=typeof r||i._actionStack.push(o,r,n),i._path=o,i}).prototype.getName=function(){return this.handler&&this.handler.name},m.prototype.findControllerConstructor=function(){var t=this,o=function(t,o){o=o||{};var e=c.utils.resolve(t);if(e&&y.prototype.isPrototypeOf(e.prototype))return e;if(!0!==o.supressErrors)throw new Error("RouteController '"+t+"' is not defined.")},e=function(o){return t.router.toControllerName(o)},r,n=this.getName();return"function"==typeof this.options.controller?this.options.controller:"string"==typeof this.options.controller?o(this.options.controller):this.router&&this.router.options.controller?"function"==typeof this.router.options.controller?this.router.options.controller:"string"==typeof this.router.options.controller?o(this.router.options.controller):void 0:n&&(r=o(e(n),{supressErrors:!0}))?r:y},m.prototype.createController=function(t){t=t||{};var o=this.findControllerConstructor(),e;return t.route=this,new o(t)},m.prototype.setControllerParams=function(t,o){},m.prototype.dispatch=function(t,o,e){return r(o._runRoute,"context doesn't have a _runRoute method"),o._runRoute(this,t,e)},m.prototype.path=function(t,o){return this.handler.resolve(t,o)},m.prototype.url=function(t,o){var e=this.path(t,o),r=o&&o.host||u.absoluteUrl();return"/"===r.charAt(r.length-1)&&(r=r.slice(0,r.length-1)),r+e},m.prototype.params=function(t){return this.handler.params(t)},t.each(_,(function(t){m.prototype[t]=function(o){return this._methods[t]=!0,this._actionStack.push(this._path,o,{name:this.getName()+"_"+t.toLowerCase(),method:t,where:this.handler.where,mount:!1}),this}})),c.Route=m}.call(this),function(){var o=c.MiddlewareStack,e=c.Url,r=c.Layout,n=c.utils.warn,i=c.utils.assert;(g=function(e){function r(t,o,e){r.dispatch(t.url,{request:t,response:o},e)}return r._stack=new o,r._globalHooks={},r.routes=[],r.routes._byPath={},this.configure.call(r,e),t.extend(r,this.constructor.prototype),this.init.call(r,e),u.startup((function(){u.defer((function(){!1!==r.options.autoStart&&r.start()}))})),r}).prototype.init=function(t){},g.prototype.configure=function(o){var e=this;o=o||{};var r=function(o){return o?t.isArray(o)?o:[o]:[]};return t.each(c.Router.HOOK_TYPES,(function n(i){o[i]&&(t.each(r(o[i]),(function t(o){e.addHook(i,o)})),delete o[i])})),this.options=this.options||{},t.extend(this.options,o),this},g.prototype.map=function(t){return t.call(this)},g.prototype.route=function(t,o,e){var r=function(t){return Object.prototype.toString.call(t)};i("[object String]"===r(t)||"[object RegExp]"===r(t),"Router.route requires a path that is a string or regular expression."),"object"==typeof o&&(o=(e=o).action);var n=new m(t,o,e);(e=e||{}).mount=!1;var a=this._stack.push(t,n,e);return a.route=n,n.handler=a,n.router=this,i(!this.routes._byPath[a.path],"A route for the path "+JSON.stringify(a.path)+" already exists by the name of "+JSON.stringify(a.name)+"."),this.routes._byPath[a.path]=n,this.routes.push(n),"string"==typeof a.name&&(this.routes[a.name]=n),n},g.prototype.findFirstRoute=function(t){for(var o,e,r=0;r<this.routes.length;r++)if(o=(e=this.routes[r]).handler.test(t,{where:u.isServer?"server":"client"}))return e;return null},g.prototype.path=function(t,o,e){var r=this.routes[t];return n(r,"You called Router.path for a route named "+JSON.stringify(t)+" but that route doesn't seem to exist. Are you sure you created it?"),r&&r.path(o,e)},g.prototype.url=function(t,o,e){var r=this.routes[t];return n(r,"You called Router.url for a route named "+JSON.stringify(t)+" but that route doesn't seem to exist. Are you sure you created it?"),r&&r.url(o,e)},g.prototype.createController=function(t,o){var e=this.findFirstRoute(t),r;return o=o||{},(r=e?e.createController({layout:this._layout}):new y({layout:this._layout})).router=this,r.configureFromUrl(t,o,{reactive:!1}),r},g.prototype.setTemplateNameConverter=function(t){return this._templateNameConverter=t,this},g.prototype.setControllerNameConverter=function(t){return this._controllerNameConverter=t,this},g.prototype.toTemplateName=function(t){return this._templateNameConverter?this._templateNameConverter(t):c.utils.classCase(t)},g.prototype.toControllerName=function(t){return this._controllerNameConverter?this._controllerNameConverter(t):c.utils.classCase(t)+"Controller"},g.prototype.addHook=function(o,e,r){var n=this,i=function(o){return o?t.isArray(o)?o:[o]:[]};(r=r||{}).only&&(r.only=i(r.only)),r.except&&(r.except=i(r.except));var a,s=function(){var t=this,o=arguments;return d.withValue(r,(function(){return n.lookupHook(e).apply(t,o)}))};return(this._globalHooks[o]=this._globalHooks[o]||[]).push({options:r,hook:s}),this},g.prototype.lookupHook=function(o){var e=o;if(t.isFunction(e))return e;if(t.isString(e)&&t.isFunction(c.Router.hooks[e]))return c.Router.hooks[e];throw new Error("No hook found named: "+o)},g.prototype.getHooks=function(o,e){var r=this,n=[];return t.each(this._globalHooks[o],(function(o){var r=o.options;return r.except&&t.include(r.except,e)?[]:r.only&&!t.include(r.only,e)?[]:void n.push(o.hook)})),n},g.HOOK_TYPES=["onRun","onRerun","onBeforeAction","onAfterAction","onStop","waitOn","subscriptions","load","before","after","unload"],g.hooks={},g.plugins={},t.each(g.HOOK_TYPES,(function(t){g.prototype[t]=function(o,e){this.addHook(t,o,e)}})),g.prototype.plugin=function(t,o){var e;if("function"==typeof t?e=t:"string"==typeof t&&(e=c.Router.plugins[t]),!e)throw new Error("No plugin found named "+JSON.stringify(t));return e.call(this,this,o),this},c.Router=g}.call(this),function(){if(void 0!==a)var t=new a("DefaultLoadingTemplate",(function(){return"Loading..."})),o=new a("DefaultDataNotFoundTemplate",(function(){return"Data not found..."}));g.hooks.loading=function(){if(this.ready())this.next();else{var o=this.lookupOption("loadingTemplate");this.render(o||t),this.renderRegions()}},g.hooks.dataNotFound=function(){if(this.ready()){var t=this.lookupOption("data"),e,r=this.lookupOption("notFoundTemplate");if("function"==typeof t&&!(e=t.call(this)))return this.render(r||o),void this.renderRegions();this.next()}else this.next()}}.call(this),function(){var o=c.utils.warn,e=c.DynamicTemplate,i=c.utils.debug("iron:router <helpers>");n.registerHelper("Router",new r.Template("Router",(function(){return g.createView()}))),n.registerHelper("pathFor",(function(e){var r;arguments.length>1&&(r=arguments[0],e=arguments[1]||{});var n=e&&e.hash,i="",a=(n=n||{}).query,u=n.hash,r=r||n.route,l=t.extend({},n.data||this),p=g.routes[r];return o(p,"pathFor couldn't find a route named "+JSON.stringify(r)),p&&(t.each(p.handler.compiledUrl.keys,(function(o){var e=o.name;t.has(n,e)&&(l[e]=s.clone(n[e]),delete n[e])})),i=p.path(l,{query:a,hash:u})),i})),n.registerHelper("urlFor",(function(e){var r;arguments.length>1&&(r=arguments[0],e=arguments[1]||{});var n=e&&e.hash,i="",a=(n=n||{}).query,u=n.hash,r=r||n.route,l=t.extend({},n.data||this),p=g.routes[r];return o(p,"urlFor couldn't find a route named "+JSON.stringify(r)),p&&(t.each(p.handler.compiledUrl.keys,(function(o){var e=o.name;t.has(n,e)&&(l[e]=s.clone(n[e]),delete n[e])})),i=p.url(l,{query:a,hash:u})),i})),n.registerHelper("linkTo",new r.Template("linkTo",(function(){var n=this,i=e.getInclusionArguments(this);if("object"!=typeof i)throw new Error("linkTo options must be key value pairs such as {{#linkTo route='my.route.name'}}. You passed: "+JSON.stringify(i));var a="",u=(i=i||{}).query,l=i.hash,p=i.route,c=t.extend({},i.data||e.getParentDataContext(this)),f=g.routes[p],d;o(f,"linkTo couldn't find a route named "+JSON.stringify(p)),f&&(t.each(f.handler.compiledUrl.keys,(function(o){var e=o.name;t.has(i,e)&&(c[e]=s.clone(i[e]),delete i[e])})),a=f.path(c,{query:u,hash:l}));var _=t.omit(i,"route","query","hash","data");return _.href=a,r.With((function(){return e.getParentDataContext(n)}),(function(){return h.A(_,n.templateContentBlock)}))})))}.call(this),function(){var o=c.MiddlewareStack,r=c.Url,n=c.Layout,i=c.utils.assert,a="__IronRouterNotFound__",s="__IronRouterNoRoutes__";g.prototype.init=function(t){var o=this;o._currentController=null,o._currentRoute=null,o._currentDep=new e.Dependency,o._locationComputation=null,o._layout=new n({template:o.options.layoutTemplate}),u.startup((function(){setTimeout((function t(){!1!==o.options.autoRender&&o.insert({el:document.body})}))}))},g.prototype.insert=function(t){return this._layout.insert(t),this},g.prototype.createView=function(){return this._layout.create()},g.prototype.lookupNotFoundTemplate=function(){return this.options.notFoundTemplate?this.options.notFoundTemplate:0===this.routes.length?s:"__IronRouterNotFound__"},g.prototype.lookupLayoutTemplate=function(){return this.options.layoutTemplate},g.prototype.dispatch=function(t,o,r){var n=this;i("string"==typeof t,"expected url string in router dispatch");var a=this._currentController,u=this.findFirstRoute(t),l=this._currentRoute;return this._currentRoute=u,this._currentController&&this._currentController.stop(),a&&u&&l===u?a.configureFromUrl(t,o):a=this.createController(t,o),this._currentController=a,a.dispatch(n._stack,t,(function t(o){if(o)throw o;if(!a.isHandled()){var i=e.nonreactive((function(){return a.location.get().options.historyState})),u;if(i&&!0===i.initial)this.layout(this.lookupOption("layoutTemplate"),{data:{url:this.url}}),u=0===n.routes.length?this.lookupOption("noRoutesTemplate")||s:this.lookupOption("notFoundTemplate")||"__IronRouterNotFound__",this.render(u,{data:{url:this.url}}),this.renderRegions(),a.isHandled=function(){return!0};return r&&r.call(a)}})),this._currentController==a&&this._currentDep.changed(),a},g.prototype.current=function(){return this._currentDep.depend(),this._currentController},g.prototype._scrollToHash=function(t){try{var o=$(t);$("html, body").scrollTop(o.offset().top)}catch(e){}},g.prototype.start=function(){var t=this,o;t._locationComputation=e.autorun((function e(r){var n,i=c.Location.get(),a,s,u,l=t._currentController;!l||o&&o.path!==i.path?n=t.dispatch(i.href,null,(function t(o){this.isHandled()||(i.cancelUrlChange(),window.location=i.path)})):(t._scrollToHash(i.hash),l.configureFromUrl(i.href)),o=i}))},g.prototype.stop=function(){this._isStarted&&(this._locationComputation&&this._locationComputation.stop(),this._currentController&&this._currentController.stop(),this._isStarted=!1)},g.prototype.go=function(o,e,r){var n=this,a,s;if(r=r||{},/^\/|http/.test(o))s=o;else{var u=this.routes[o];i(u,"No route found named "+JSON.stringify(o)),s=u.path(e,t.extend(r,{throwOnMissingParams:!0}))}c.Location.go(s,r)}}.call(this),function(){g.plugins.loading=function(t,o){t.onBeforeAction("loading",o)},g.plugins.dataNotFound=function(t,o){t.onBeforeAction("dataNotFound",o)}}.call(this),function(){g=new c.Router}.call(this),function(){a.__checkName("__IronRouterNotFound__"),a.__IronRouterNotFound__=new a("Template.__IronRouterNotFound__",(function(){var t=this;return h.DIV({style:"width: 600px; margin: 0 auto; padding: 20px;"},"\n    ",h.DIV({style:"font-size: 18pt; color: #999;"},"\n      Oops, looks like there's no route on the client or the server for url: \"",r.View("lookup:url",(function(){return f.mustache(t.lookup("url"))})),'."\n    '),"\n  ")})),a.__checkName("__IronRouterNoRoutes__"),a.__IronRouterNoRoutes__=new a("Template.__IronRouterNoRoutes__",(function(){var t=this;return h.Raw('<div style="font-family: helvetica; color: #777; max-width: 600px; margin: 20px auto;">\n      <h1 style="text-align: center; margin: 0; font-size: 48pt;">\n        iron:router\n      </h1>\n      <p style="text-align: center; font-size: 1.3em; color: red;">\n        No route definitions found.\n      </p>\n      <div style="margin: 50px 0px;">\n        <p>To create a route:</p>\n        <pre style="background: #f2f2f2; margin: 0; padding: 10px;">\nRouter.route(\'/\', function () {\n  this.render(\'Home\', {\n    data: function () { return Items.findOne({_id: this.params._id}); }\n  });\n});\n        </pre>\n        <p style="text-align:center"><small>To hide this page, set \'noRoutesTemplate\' in <a href="http://iron-meteor.github.io/iron-router/#global-default-options" target="_blank">Router.configure()</a></small></p>\n      </div>\n      <div style="margin: 50px 0px; text-align: center;">\n        Check it out on Github:<br>\n        <a href="https://github.com/iron-meteor/iron-router/" target="_blank">https://github.com/iron-meteor/iron-router/</a>\n        <br>\n        <br>\n        And check out the new Guide:<br>\n        <a href="https://iron-meteor.github.io/iron-router" target="_blank">\n          https://iron-meteor.github.io/iron-router\n        </a>\n      </div>\n    </div>')}))}.call(this),Package._define("iron:router",{Router:g,RouteController:y})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,s;(function(){(function(){(function(e){var n,s="2.8.3",a=void 0!==t?t:this,i,r=Math.round,o=Object.prototype.hasOwnProperty,u,c=0,l=1,d=2,h=3,f=4,_=5,m=6,y={},p=[],M="undefined"!=typeof module&&module&&module.exports,g=/^\/?Date\((\-?\d+)/i,D=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,v=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,w=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Y=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,k=/\d\d?/,b=/\d{1,3}/,T=/\d{1,4}/,S=/[+\-]?\d{1,6}/,O=/\d+/,W=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,F=/Z|[\+\-]\d\d:?\d\d/gi,G=/T/i,U=/[\+\-]?\d+/,C=/[\+\-]?\d+(\.\d{1,3})?/,P=/\d/,I=/\d\d/,z=/\d{3}/,L=/\d{4}/,x=/[+-]?\d{6}/,H=/[+-]?\d+/,A=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Z="YYYY-MM-DDTHH:mm:ssZ",E=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],N=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],j=/([\+\-]|\d\d)/gi,V="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),$={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},q={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},J={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},R={},Q={s:45,m:45,h:22,d:26,M:11},X="DDD w W M D d".split(" "),B="M D H h m s w W".split(" "),K={M:function(){return this.month()+1},MMM:function(e){return this.localeData().monthsShort(this,e)},MMMM:function(e){return this.localeData().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.localeData().weekdaysMin(this,e)},ddd:function(e){return this.localeData().weekdaysShort(this,e)},dddd:function(e){return this.localeData().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return ye(this.year()%100,2)},YYYY:function(){return ye(this.year(),4)},YYYYY:function(){return ye(this.year(),5)},YYYYYY:function(){var e=this.year(),t;return(e>=0?"+":"-")+ye(Math.abs(e),6)},gg:function(){return ye(this.weekYear()%100,2)},gggg:function(){return ye(this.weekYear(),4)},ggggg:function(){return ye(this.weekYear(),5)},GG:function(){return ye(this.isoWeekYear()%100,2)},GGGG:function(){return ye(this.isoWeekYear(),4)},GGGGG:function(){return ye(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return Se(this.milliseconds()/100)},SS:function(){return ye(Se(this.milliseconds()/10),2)},SSS:function(){return ye(this.milliseconds(),3)},SSSS:function(){return ye(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return e<0&&(e=-e,t="-"),t+ye(Se(e/60),2)+":"+ye(Se(e)%60,2)},ZZ:function(){var e=-this.zone(),t="+";return e<0&&(e=-e,t="-"),t+ye(Se(e/60),2)+ye(Se(e)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},ee={},te=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];function ne(e,t,n){switch(arguments.length){case 2:return null!=e?e:t;case 3:return null!=e?e:null!=t?t:n;default:throw new Error("Implement me")}}function se(e,t){return o.call(e,t)}function ae(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function ie(e){!1===n.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function re(e,t){var n=!0;return fe((function(){return n&&(ie(e),n=!1),t.apply(this,arguments)}),t)}function oe(e,t){ee[e]||(ie(t),ee[e]=!0)}function ue(e,t){return function(n){return ye(e.call(this,n),t)}}function ce(e,t){return function(n){return this.localeData().ordinal(e.call(this,n),t)}}for(;X.length;)u=X.pop(),K[u+"o"]=ce(K[u],u);for(;B.length;)u=B.pop(),K[u+u]=ue(K[u],2);function le(){}function de(e,t){!1!==t&&Ue(e),_e(this,e),this._d=new Date(+e._d)}function he(e){var t=be(e),s=t.year||0,a=t.quarter||0,i=t.month||0,r=t.week||0,o=t.day||0,u=t.hour||0,c=t.minute||0,l=t.second||0,d=t.millisecond||0;this._milliseconds=+d+1e3*l+6e4*c+36e5*u,this._days=+o+7*r,this._months=+i+3*a+12*s,this._data={},this._locale=n.localeData(),this._bubble()}function fe(e,t){for(var n in t)se(t,n)&&(e[n]=t[n]);return se(t,"toString")&&(e.toString=t.toString),se(t,"valueOf")&&(e.valueOf=t.valueOf),e}function _e(e,t){var n,s,a;if(void 0!==t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),void 0!==t._i&&(e._i=t._i),void 0!==t._f&&(e._f=t._f),void 0!==t._l&&(e._l=t._l),void 0!==t._strict&&(e._strict=t._strict),void 0!==t._tzm&&(e._tzm=t._tzm),void 0!==t._isUTC&&(e._isUTC=t._isUTC),void 0!==t._offset&&(e._offset=t._offset),void 0!==t._pf&&(e._pf=t._pf),void 0!==t._locale&&(e._locale=t._locale),p.length>0)for(n in p)void 0!==(a=t[s=p[n]])&&(e[s]=a);return e}function me(e){return e<0?Math.ceil(e):Math.floor(e)}function ye(e,t,n){for(var s=""+Math.abs(e),a=e>=0;s.length<t;)s="0"+s;return(a?n?"+":"":"-")+s}function pe(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Me(e,t){var n;return t=Le(t,e),e.isBefore(t)?n=pe(e,t):((n=pe(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n}function ge(e,t){return function(s,a){var i,r;return null===a||isNaN(+a)||(oe(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),r=s,s=a,a=r),s="string"==typeof s?+s:s,De(this,i=n.duration(s,a),e),this}}function De(e,t,s,a){var i=t._milliseconds,r=t._days,o=t._months;a=null==a||a,i&&e._d.setTime(+e._d+i*s),r&&_t(e,"Date",ft(e,"Date")+r*s),o&&ht(e,ft(e,"Month")+o*s),a&&n.updateOffset(e,r||o)}function ve(e){return"[object Array]"===Object.prototype.toString.call(e)}function we(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function Ye(e,t,n){var s=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),i=0,r;for(r=0;r<s;r++)(n&&e[r]!==t[r]||!n&&Se(e[r])!==Se(t[r]))&&i++;return i+a}function ke(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=q[e]||J[t]||t}return e}function be(e){var t={},n,s;for(s in e)se(e,s)&&(n=ke(s))&&(t[n]=e[s]);return t}function Te(t){var s,a;if(0===t.indexOf("week"))s=7,a="day";else{if(0!==t.indexOf("month"))return;s=12,a="month"}n[t]=function(i,r){var o,u,c=n._locale[t],l=[];if("number"==typeof i&&(r=i,i=e),u=function(e){var t=n().utc().set(a,e);return c.call(n._locale,t,i||"")},null!=r)return u(r);for(o=0;o<s;o++)l.push(u(o));return l}}function Se(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=t>=0?Math.floor(t):Math.ceil(t)),n}function Oe(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function We(e,t,s){return ut(n([e,11,31+t-s]),t,s).week}function Fe(e){return Ge(e)?366:365}function Ge(e){return e%4==0&&e%100!=0||e%400==0}function Ue(e){var t;e._a&&-2===e._pf.overflow&&(t=e._a[l]<0||e._a[l]>11?l:e._a[d]<1||e._a[d]>Oe(e._a[c],e._a[l])?d:e._a[h]<0||e._a[h]>24||24===e._a[h]&&(0!==e._a[f]||0!==e._a[_]||0!==e._a[m])?h:e._a[f]<0||e._a[f]>59?f:e._a[_]<0||e._a[_]>59?_:e._a[m]<0||e._a[m]>999?m:-1,e._pf._overflowDayOfYear&&(t<c||t>d)&&(t=d),e._pf.overflow=t)}function Ce(t){return null==t._isValid&&(t._isValid=!isNaN(t._d.getTime())&&t._pf.overflow<0&&!t._pf.empty&&!t._pf.invalidMonth&&!t._pf.nullInput&&!t._pf.invalidFormat&&!t._pf.userInvalidated,t._strict&&(t._isValid=t._isValid&&0===t._pf.charsLeftOver&&0===t._pf.unusedTokens.length&&t._pf.bigHour===e)),t._isValid}function Pe(e){return e?e.toLowerCase().replace("_","-"):e}function Ie(e){for(var t=0,n,s,a,i;t<e.length;){for(n=(i=Pe(e[t]).split("-")).length,s=(s=Pe(e[t+1]))?s.split("-"):null;n>0;){if(a=ze(i.slice(0,n).join("-")))return a;if(s&&s.length>=n&&Ye(i,s,!0)>=n-1)break;n--}t++}return null}function ze(e){var t=null;if(!y[e]&&M)try{t=n.locale(),require("./locale/"+e),n.locale(t)}catch(s){}return y[e]}function Le(e,t){var s,a;return t._isUTC?(s=t.clone(),a=(n.isMoment(e)||we(e)?+e:+n(e))-+s,s._d.setTime(+s._d+a),n.updateOffset(s,!1),s):n(e).local()}function xe(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function He(e){var t=e.match(w),n,s;for(n=0,s=t.length;n<s;n++)K[t[n]]?t[n]=K[t[n]]:t[n]=xe(t[n]);return function(a){var i="";for(n=0;n<s;n++)i+=t[n]instanceof Function?t[n].call(a,e):t[n];return i}}function Ae(e,t){return e.isValid()?(t=Ze(t,e.localeData()),R[t]||(R[t]=He(t)),R[t](e)):e.localeData().invalidDate()}function Ze(e,t){var n=5;function s(e){return t.longDateFormat(e)||e}for(Y.lastIndex=0;n>=0&&Y.test(e);)e=e.replace(Y,s),Y.lastIndex=0,n-=1;return e}function Ee(e,t){var n,s=t._strict;switch(e){case"Q":return P;case"DDDD":return z;case"YYYY":case"GGGG":case"gggg":return s?L:T;case"Y":case"G":case"g":return H;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return s?x:S;case"S":if(s)return P;case"SS":if(s)return I;case"SSS":if(s)return z;case"DDD":return b;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return W;case"a":case"A":return t._locale._meridiemParse;case"x":return U;case"X":return C;case"Z":case"ZZ":return F;case"T":return G;case"SSSS":return O;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return s?I:k;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return k;case"Do":return s?t._locale._ordinalParse:t._locale._ordinalParseLenient;default:return n=new RegExp(Xe(Qe(e.replace("\\","")),"i"))}}function Ne(e){var t=(e=e||"").match(F)||[],n,s=((t[t.length-1]||[])+"").match(j)||["-",0,0],a=60*s[1]+Se(s[2]);return"+"===s[0]?-a:a}function je(e,t,s){var a,i=s._a;switch(e){case"Q":null!=t&&(i[l]=3*(Se(t)-1));break;case"M":case"MM":null!=t&&(i[l]=Se(t)-1);break;case"MMM":case"MMMM":null!=(a=s._locale.monthsParse(t,e,s._strict))?i[l]=a:s._pf.invalidMonth=t;break;case"D":case"DD":null!=t&&(i[d]=Se(t));break;case"Do":null!=t&&(i[d]=Se(parseInt(t.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":null!=t&&(s._dayOfYear=Se(t));break;case"YY":i[c]=n.parseTwoDigitYear(t);break;case"YYYY":case"YYYYY":case"YYYYYY":i[c]=Se(t);break;case"a":case"A":s._isPm=s._locale.isPM(t);break;case"h":case"hh":s._pf.bigHour=!0;case"H":case"HH":i[h]=Se(t);break;case"m":case"mm":i[f]=Se(t);break;case"s":case"ss":i[_]=Se(t);break;case"S":case"SS":case"SSS":case"SSSS":i[m]=Se(1e3*("0."+t));break;case"x":s._d=new Date(Se(t));break;case"X":s._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":s._useUTC=!0,s._tzm=Ne(t);break;case"dd":case"ddd":case"dddd":null!=(a=s._locale.weekdaysParse(t))?(s._w=s._w||{},s._w.d=a):s._pf.invalidWeekday=t;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":e=e.substr(0,1);case"gggg":case"GGGG":case"GGGGG":e=e.substr(0,2),t&&(s._w=s._w||{},s._w[e]=Se(t));break;case"gg":case"GG":s._w=s._w||{},s._w[e]=n.parseTwoDigitYear(t)}}function Ve(e){var t,s,a,i,r,o,u;null!=(t=e._w).GG||null!=t.W||null!=t.E?(r=1,o=4,s=ne(t.GG,e._a[c],ut(n(),1,4).year),a=ne(t.W,1),i=ne(t.E,1)):(r=e._locale._week.dow,o=e._locale._week.doy,s=ne(t.gg,e._a[c],ut(n(),r,o).year),a=ne(t.w,1),null!=t.d?(i=t.d)<r&&++a:i=null!=t.e?t.e+r:r),u=ct(s,a,i,o,r),e._a[c]=u.year,e._dayOfYear=u.dayOfYear}function $e(e){var t,n,s=[],a,i;if(!e._d){for(a=Je(e),e._w&&null==e._a[d]&&null==e._a[l]&&Ve(e),e._dayOfYear&&(i=ne(e._a[c],a[c]),e._dayOfYear>Fe(i)&&(e._pf._overflowDayOfYear=!0),n=at(i,0,e._dayOfYear),e._a[l]=n.getUTCMonth(),e._a[d]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=a[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[h]&&0===e._a[f]&&0===e._a[_]&&0===e._a[m]&&(e._nextDay=!0,e._a[h]=0),e._d=(e._useUTC?at:st).apply(null,s),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()+e._tzm),e._nextDay&&(e._a[h]=24)}}function qe(e){var t;e._d||(t=be(e._i),e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],$e(e))}function Je(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Re(t){if(t._f!==n.ISO_8601){t._a=[],t._pf.empty=!0;var s=""+t._i,a,i,r,o,u,c=s.length,l=0;for(r=Ze(t._f,t._locale).match(w)||[],a=0;a<r.length;a++)o=r[a],(i=(s.match(Ee(o,t))||[])[0])&&((u=s.substr(0,s.indexOf(i))).length>0&&t._pf.unusedInput.push(u),s=s.slice(s.indexOf(i)+i.length),l+=i.length),K[o]?(i?t._pf.empty=!1:t._pf.unusedTokens.push(o),je(o,i,t)):t._strict&&!i&&t._pf.unusedTokens.push(o);t._pf.charsLeftOver=c-l,s.length>0&&t._pf.unusedInput.push(s),!0===t._pf.bigHour&&t._a[h]<=12&&(t._pf.bigHour=e),t._isPm&&t._a[h]<12&&(t._a[h]+=12),!1===t._isPm&&12===t._a[h]&&(t._a[h]=0),$e(t),Ue(t)}else Ke(t)}function Qe(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,s,a){return t||n||s||a}))}function Xe(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Be(e){var t,n,s,a,i;if(0===e._f.length)return e._pf.invalidFormat=!0,void(e._d=new Date(NaN));for(a=0;a<e._f.length;a++)i=0,t=_e({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1},t._f=e._f[a],Re(t),Ce(t)&&(i+=t._pf.charsLeftOver,i+=10*t._pf.unusedTokens.length,t._pf.score=i,(null==s||i<s)&&(s=i,n=t));fe(e,n||t)}function Ke(e){var t,n,s=e._i,a=A.exec(s);if(a){for(e._pf.iso=!0,t=0,n=E.length;t<n;t++)if(E[t][1].exec(s)){e._f=E[t][0]+(a[6]||" ");break}for(t=0,n=N.length;t<n;t++)if(N[t][1].exec(s)){e._f+=N[t][0];break}s.match(F)&&(e._f+="Z"),Re(e)}else e._isValid=!1}function et(e){Ke(e),!1===e._isValid&&(delete e._isValid,n.createFromInputFallback(e))}function tt(e,t){var n=[],s;for(s=0;s<e.length;++s)n.push(t(e[s],s));return n}function nt(t){var s=t._i,a;s===e?t._d=new Date:we(s)?t._d=new Date(+s):null!==(a=g.exec(s))?t._d=new Date(+a[1]):"string"==typeof s?et(t):ve(s)?(t._a=tt(s.slice(0),(function(e){return parseInt(e,10)})),$e(t)):"object"==typeof s?qe(t):"number"==typeof s?t._d=new Date(s):n.createFromInputFallback(t)}function st(e,t,n,s,a,i,r){var o=new Date(e,t,n,s,a,i,r);return e<1970&&o.setFullYear(e),o}function at(e){var t=new Date(Date.UTC.apply(null,arguments));return e<1970&&t.setUTCFullYear(e),t}function it(e,t){if("string"==typeof e)if(isNaN(e)){if("number"!=typeof(e=t.weekdaysParse(e)))return null}else e=parseInt(e,10);return e}function rt(e,t,n,s,a){return a.relativeTime(t||1,!!n,e,s)}function ot(e,t,s){var a=n.duration(e).abs(),i=r(a.as("s")),o=r(a.as("m")),u=r(a.as("h")),c=r(a.as("d")),l=r(a.as("M")),d=r(a.as("y")),h=i<Q.s&&["s",i]||1===o&&["m"]||o<Q.m&&["mm",o]||1===u&&["h"]||u<Q.h&&["hh",u]||1===c&&["d"]||c<Q.d&&["dd",c]||1===l&&["M"]||l<Q.M&&["MM",l]||1===d&&["y"]||["yy",d];return h[2]=t,h[3]=+e>0,h[4]=s,rt.apply({},h)}function ut(e,t,s){var a=s-t,i=s-e.day(),r;return i>a&&(i-=7),i<a-7&&(i+=7),r=n(e).add(i,"d"),{week:Math.ceil(r.dayOfYear()/7),year:r.year()}}function ct(e,t,n,s,a){var i=at(e,0,1).getUTCDay(),r,o;return{year:(o=7*(t-1)+((n=null!=n?n:a)-a)+(r=a-(i=0===i?7:i)+(i>s?7:0)-(i<a?7:0))+1)>0?e:e-1,dayOfYear:o>0?o:Fe(e-1)+o}}function lt(t){var s=t._i,a=t._f,i;return t._locale=t._locale||n.localeData(t._l),null===s||a===e&&""===s?n.invalid({nullInput:!0}):("string"==typeof s&&(t._i=s=t._locale.preparse(s)),n.isMoment(s)?new de(s,!0):(a?ve(a)?Be(t):Re(t):nt(t),(i=new de(t))._nextDay&&(i.add(1,"d"),i._nextDay=e),i))}function dt(e,t){var s,a;if(1===t.length&&ve(t[0])&&(t=t[0]),!t.length)return n();for(s=t[0],a=1;a<t.length;++a)t[a][e](s)&&(s=t[a]);return s}for(K.DDDD=ue(K.DDD,3),fe(le.prototype,{set:function(e){var t,n;for(n in e)"function"==typeof(t=e[n])?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e,t,s){var a,i,r;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),a=0;a<12;a++){if(i=n.utc([2e3,a]),s&&!this._longMonthsParse[a]&&(this._longMonthsParse[a]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[a]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),s||this._monthsParse[a]||(r="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[a]=new RegExp(r.replace(".",""),"i")),s&&"MMMM"===t&&this._longMonthsParse[a].test(e))return a;if(s&&"MMM"===t&&this._shortMonthsParse[a].test(e))return a;if(!s&&this._monthsParse[a].test(e))return a}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,s,a;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;t<7;t++)if(this._weekdaysParse[t]||(s=n([2e3,1]).day(t),a="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[t]=new RegExp(a.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,(function(e){return e.slice(1)})),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t,n){var s=this._calendar[e];return"function"==typeof s?s.apply(t,[n]):s},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,s){var a=this._relativeTime[n];return"function"==typeof a?a(e,t,n,s):a.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(e){return e},postformat:function(e){return e},week:function(e){return ut(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),(n=function(t,n,s,a){var i;return"boolean"==typeof s&&(a=s,s=e),(i={})._isAMomentObject=!0,i._i=t,i._f=n,i._l=s,i._strict=a,i._isUTC=!1,i._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1},lt(i)}).suppressDeprecationWarnings=!1,n.createFromInputFallback=re("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),n.min=function(){var e=[].slice.call(arguments,0);return dt("isBefore",e)},n.max=function(){var e=[].slice.call(arguments,0);return dt("isAfter",e)},n.utc=function(t,n,s,a){var i;return"boolean"==typeof s&&(a=s,s=e),(i={})._isAMomentObject=!0,i._useUTC=!0,i._isUTC=!0,i._l=s,i._i=t,i._f=n,i._strict=a,i._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1},lt(i).utc()},n.unix=function(e){return n(1e3*e)},n.duration=function(e,t){var s=e,a=null,i,r,o,u;return n.isDuration(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(s={},t?s[t]=e:s.milliseconds=e):(a=D.exec(e))?(i="-"===a[1]?-1:1,s={y:0,d:Se(a[d])*i,h:Se(a[h])*i,m:Se(a[f])*i,s:Se(a[_])*i,ms:Se(a[m])*i}):(a=v.exec(e))?(i="-"===a[1]?-1:1,s={y:(o=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*i})(a[2]),M:o(a[3]),d:o(a[4]),h:o(a[5]),m:o(a[6]),s:o(a[7]),w:o(a[8])}):"object"==typeof s&&("from"in s||"to"in s)&&(u=Me(n(s.from),n(s.to)),(s={}).ms=u.milliseconds,s.M=u.months),r=new he(s),n.isDuration(e)&&se(e,"_locale")&&(r._locale=e._locale),r},n.version="2.8.3",n.defaultFormat=Z,n.ISO_8601=function(){},n.momentProperties=p,n.updateOffset=function(){},n.relativeTimeThreshold=function(t,n){return Q[t]!==e&&(n===e?Q[t]:(Q[t]=n,!0))},n.lang=re("moment.lang is deprecated. Use moment.locale instead.",(function(e,t){return n.locale(e,t)})),n.locale=function(e,t){var s;return e&&(s=void 0!==t?n.defineLocale(e,t):n.localeData(e))&&(n.duration._locale=n._locale=s),n._locale._abbr},n.defineLocale=function(e,t){return null!==t?(t.abbr=e,y[e]||(y[e]=new le),y[e].set(t),n.locale(e),y[e]):(delete y[e],null)},n.langData=re("moment.langData is deprecated. Use moment.localeData instead.",(function(e){return n.localeData(e)})),n.localeData=function(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return n._locale;if(!ve(e)){if(t=ze(e))return t;e=[e]}return Ie(e)},n.isMoment=function(e){return e instanceof de||null!=e&&se(e,"_isAMomentObject")},n.isDuration=function(e){return e instanceof he},u=te.length-1;u>=0;--u)Te(te[u]);function ht(e,t){var n;return"string"==typeof t&&"number"!=typeof(t=e.localeData().monthsParse(t))?e:(n=Math.min(e.date(),Oe(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function ft(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function _t(e,t,n){return"Month"===t?ht(e,n):e._d["set"+(e._isUTC?"UTC":"")+t](n)}function mt(e,t){return function(s){return null!=s?(_t(this,e,s),n.updateOffset(this,t),this):ft(this,e)}}function yt(e){return 400*e/146097}function pt(e){return 146097*e/400}function Mt(e){n.duration.fn[e]=function(){return this._data[e]}}for(u in n.normalizeUnits=function(e){return ke(e)},n.invalid=function(e){var t=n.utc(NaN);return null!=e?fe(t._pf,e):t._pf.userInvalidated=!0,t},n.parseZone=function(){return n.apply(null,arguments).parseZone()},n.parseTwoDigitYear=function(e){return Se(e)+(Se(e)>68?1900:2e3)},fe(n.fn=de.prototype,{clone:function(){return n(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var e=n(this).utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():Ae(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):Ae(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return Ce(this)},isDSTShifted:function(){return!!this._a&&(this.isValid()&&Ye(this._a,(this._isUTC?n.utc(this._a):n(this._a)).toArray())>0)},parsingFlags:function(){return fe({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(e){return this.zone(0,e)},local:function(e){return this._isUTC&&(this.zone(0,e),this._isUTC=!1,e&&this.add(this._dateTzOffset(),"m")),this},format:function(e){var t=Ae(this,e||n.defaultFormat);return this.localeData().postformat(t)},add:ge(1,"add"),subtract:ge(-1,"subtract"),diff:function(e,t,s){var a=Le(e,this),i=6e4*(this.zone()-a.zone()),r,o,u;return"year"===(t=ke(t))||"month"===t?(r=432e5*(this.daysInMonth()+a.daysInMonth()),o=12*(this.year()-a.year())+(this.month()-a.month()),u=this-n(this).startOf("month")-(a-n(a).startOf("month")),o+=(u-=6e4*(this.zone()-n(this).startOf("month").zone()-(a.zone()-n(a).startOf("month").zone())))/r,"year"===t&&(o/=12)):(r=this-a,o="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-i)/864e5:"week"===t?(r-i)/6048e5:r),s?o:me(o)},from:function(e,t){return n.duration({to:this,from:e}).locale(this.locale()).humanize(!t)},fromNow:function(e){return this.from(n(),e)},calendar:function(e){var t=e||n(),s=Le(t,this).startOf("day"),a=this.diff(s,"days",!0),i=a<-6?"sameElse":a<-1?"lastWeek":a<0?"lastDay":a<1?"sameDay":a<2?"nextDay":a<7?"nextWeek":"sameElse";return this.format(this.localeData().calendar(i,this,n(t)))},isLeapYear:function(){return Ge(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=it(e,this.localeData()),this.add(e-t,"d")):t},month:mt("Month",!0),startOf:function(e){switch(e=ke(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(t){return(t=ke(t))===e||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")},isAfter:function(e,t){var s;return"millisecond"===(t=ke(void 0!==t?t:"millisecond"))?+this>+(e=n.isMoment(e)?e:n(e)):(s=n.isMoment(e)?+e:+n(e))<+this.clone().startOf(t)},isBefore:function(e,t){var s;return"millisecond"===(t=ke(void 0!==t?t:"millisecond"))?+this<+(e=n.isMoment(e)?e:n(e)):(s=n.isMoment(e)?+e:+n(e),+this.clone().endOf(t)<s)},isSame:function(e,t){var s;return"millisecond"===(t=ke(t||"millisecond"))?+this==+(e=n.isMoment(e)?e:n(e)):(s=+n(e),+this.clone().startOf(t)<=s&&s<=+this.clone().endOf(t))},min:re("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",(function(e){return(e=n.apply(null,arguments))<this?this:e})),max:re("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",(function(e){return(e=n.apply(null,arguments))>this?this:e})),zone:function(e,t){var s=this._offset||0,a;return null==e?this._isUTC?s:this._dateTzOffset():("string"==typeof e&&(e=Ne(e)),Math.abs(e)<16&&(e*=60),!this._isUTC&&t&&(a=this._dateTzOffset()),this._offset=e,this._isUTC=!0,null!=a&&this.subtract(a,"m"),s!==e&&(!t||this._changeInProgress?De(this,n.duration(s-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(e){return e=e?n(e).zone():0,(this.zone()-e)%60==0},daysInMonth:function(){return Oe(this.year(),this.month())},dayOfYear:function(e){var t=r((n(this).startOf("day")-n(this).startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},quarter:function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},weekYear:function(e){var t=ut(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")},isoWeekYear:function(e){var t=ut(this,1,4).year;return null==e?t:this.add(e-t,"y")},week:function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},isoWeek:function(e){var t=ut(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},weekday:function(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},isoWeeksInYear:function(){return We(this.year(),1,4)},weeksInYear:function(){var e=this.localeData()._week;return We(this.year(),e.dow,e.doy)},get:function(e){return this[e=ke(e)]()},set:function(e,t){return"function"==typeof this[e=ke(e)]&&this[e](t),this},locale:function(t){var s;return t===e?this._locale._abbr:(null!=(s=n.localeData(t))&&(this._locale=s),this)},lang:re("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(t){return t===e?this.localeData():this.locale(t)})),localeData:function(){return this._locale},_dateTzOffset:function(){return 15*Math.round(this._d.getTimezoneOffset()/15)}}),n.fn.millisecond=n.fn.milliseconds=mt("Milliseconds",!1),n.fn.second=n.fn.seconds=mt("Seconds",!1),n.fn.minute=n.fn.minutes=mt("Minutes",!1),n.fn.hour=n.fn.hours=mt("Hours",!0),n.fn.date=mt("Date",!0),n.fn.dates=re("dates accessor is deprecated. Use date instead.",mt("Date",!0)),n.fn.year=mt("FullYear",!0),n.fn.years=re("years accessor is deprecated. Use year instead.",mt("FullYear",!0)),n.fn.days=n.fn.day,n.fn.months=n.fn.month,n.fn.weeks=n.fn.week,n.fn.isoWeeks=n.fn.isoWeek,n.fn.quarters=n.fn.quarter,n.fn.toJSON=n.fn.toISOString,fe(n.duration.fn=he.prototype,{_bubble:function(){var e=this._milliseconds,t=this._days,n=this._months,s=this._data,a,i,r,o=0;s.milliseconds=e%1e3,a=me(e/1e3),s.seconds=a%60,i=me(a/60),s.minutes=i%60,r=me(i/60),s.hours=r%24,t+=me(r/24),o=me(yt(t)),t-=me(pt(o)),n+=me(t/30),t%=30,o+=me(n/12),n%=12,s.days=t,s.months=n,s.years=o},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return me(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*Se(this._months/12)},humanize:function(e){var t=ot(this,!e,this.localeData());return e&&(t=this.localeData().pastFuture(+this,t)),this.localeData().postformat(t)},add:function(e,t){var s=n.duration(e,t);return this._milliseconds+=s._milliseconds,this._days+=s._days,this._months+=s._months,this._bubble(),this},subtract:function(e,t){var s=n.duration(e,t);return this._milliseconds-=s._milliseconds,this._days-=s._days,this._months-=s._months,this._bubble(),this},get:function(e){return this[(e=ke(e)).toLowerCase()+"s"]()},as:function(e){var t,n;if("month"===(e=ke(e))||"year"===e)return t=this._days+this._milliseconds/864e5,n=this._months+12*yt(t),"month"===e?n:n/12;switch(t=this._days+Math.round(pt(this._months/12)),e){case"week":return t/7+this._milliseconds/6048e5;case"day":return t+this._milliseconds/864e5;case"hour":return 24*t+this._milliseconds/36e5;case"minute":return 24*t*60+this._milliseconds/6e4;case"second":return 24*t*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*t*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+e)}},lang:n.fn.lang,locale:n.fn.locale,toIsoString:re("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",(function(){return this.toISOString()})),toISOString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),n=Math.abs(this.days()),s=Math.abs(this.hours()),a=Math.abs(this.minutes()),i=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(s||a||i?"T":"")+(s?s+"H":"")+(a?a+"M":"")+(i?i+"S":""):"P0D"},localeData:function(){return this._locale}}),n.duration.fn.toString=n.duration.fn.toISOString,$)se($,u)&&Mt(u.toLowerCase());function gt(e){"undefined"==typeof ender&&(i=a.moment,a.moment=e?re("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",n):n)}n.duration.fn.asMilliseconds=function(){return this.as("ms")},n.duration.fn.asSeconds=function(){return this.as("s")},n.duration.fn.asMinutes=function(){return this.as("m")},n.duration.fn.asHours=function(){return this.as("h")},n.duration.fn.asDays=function(){return this.as("d")},n.duration.fn.asWeeks=function(){return this.as("weeks")},n.duration.fn.asMonths=function(){return this.as("M")},n.duration.fn.asYears=function(){return this.as("y")},n.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n;return e+(1===Se(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),M?module.exports=n:"function"==typeof define&&define.amd?(define("moment",(function(e,t,s){return s.config&&s.config()&&!0===s.config().noGlobal&&(a.moment=i),n})),gt(!0)):gt()}).call(this)}).call(this),function(){s=this.moment}.call(this)}).call(this),Package._define("rzymek:moment",{moment:s})}();

Package._define("coffeescript");

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.underscore._,i;(function(){(function(){var e=function(e,t){var n=this;if(this._eventEmitter.maxListeners&&t>this._eventEmitter.maxListeners)return"warning: possible EventEmitter memory leak detected. "+t+' listeners added on event "'+e+'". Use emitter.setMaxListeners() to increase limit. ('+this._eventEmitter.maxListeners+")"};(i=function(e){var t=this;if(!(this instanceof i))throw new Error('use "new" to construct an EventEmitter');e=e||{},this._eventEmitter={onListeners:{},onceListeners:{},maxListeners:e.maxListeners||10}}).prototype.setMaxListeners=function(e){this._eventEmitter.maxListeners=e};var t=function(t,n,r){return void 0===t[n]&&(t[n]=[]),e.apply(this,[n,t[n].push(r)])};i.prototype.on=function(e,n){var r=t.apply(this,[this._eventEmitter.onListeners,e,n]);return r&&console.warn(new Error(r).stack),this},i.prototype.once=function(e,n){var r=t.apply(this,[this._eventEmitter.onceListeners,e,n]);return r&&console.warn(new Error(r).stack),this};var n=function(e,t){var n=this,i=0;return void 0!==e&&r.each(e,(function(e){i++,e.apply(n,t)})),i};i.prototype.emit=function(e){var t=this,i=r.rest(arguments),s=0,o=t._eventEmitter.onceListeners[e];return t._eventEmitter.onceListeners[e]=[],s+=n.call(t,t._eventEmitter.onListeners[e],i),(s+=n.call(t,o,i))>0};var s=function(e,t){for(var n=!1,r=[],i=0;i<e.length;i++)n||e[i]!==t?r.push(e[i]):n=!0;return r};i.prototype.off=function(e,t){var n=this;e?"function"==typeof t?(void 0!==this._eventEmitter.onListeners[e]&&(this._eventEmitter.onListeners[e]=s(this._eventEmitter.onListeners[e],t)),void 0!==this._eventEmitter.onceListeners[e]&&(this._eventEmitter.onceListeners[e]=s(this._eventEmitter.onceListeners[e],t))):(this._eventEmitter.onListeners[e]=[],this._eventEmitter.onceListeners[e]=[]):(this._eventEmitter.onListeners={},this._eventEmitter.onceListeners={})},i.prototype.addListener=i.prototype.on,i.prototype.removeListener=i.prototype.off,i.prototype.removeAllListeners=i.prototype.off,i.prototype.one=i.prototype.once,i.prototype.trigger=i.prototype.emit}).call(this)}).call(this),Package._define("raix:eventemitter",{EventEmitter:i})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,o=Package.meteor.meteorEnv,r;(function(){(function(){r={},"function"==typeof Object.create?r.inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:r.inherits=function(e,t){e.super_=t;var o=function(){};o.prototype=t.prototype,e.prototype=new o,e.prototype.constructor=e}}).call(this)}).call(this),Package._define("meteorspark:util",{Util:r})}();

!function(){var e=Package.underscore._,n=Package.meteor.Meteor,r=Package.meteor.global,t=Package.meteor.meteorEnv,a=Package["raix:eventemitter"].EventEmitter,u=Package["meteorspark:util"].Util,s=Package.tracker.Tracker,o=Package.tracker.Deps,i=Package.session.Session,l=Package.jquery.$,c=Package.jquery.jQuery,f=Package["templating-runtime"].Template,p=Package.blaze.Blaze,m=Package.blaze.UI,g=Package.blaze.Handlebars,d=Package.spacebars.Spacebars,b=Package.htmljs.HTML,h,v,_,y;(function(){h={fallback_language:"en",langauges_tags_regex:"([a-z]{2})(-[A-Z]{2})?",project_translations_domain:"project",browser_path:"/tap-i18n",debug:!1}}).call(this),function(){v={},function(){Array.prototype.indexOf||(Array.prototype.indexOf=function(e){"use strict";if(null==this)throw new TypeError;var n=Object(this),r=n.length>>>0;if(0===r)return-1;var t=0;if(arguments.length>0&&((t=Number(arguments[1]))!=t?t=0:0!=t&&t!=1/0&&t!=-1/0&&(t=(t>0||-1)*Math.floor(Math.abs(t)))),t>=r)return-1;for(var a=t>=0?t:Math.max(r-Math.abs(t),0);a<r;a++)if(a in n&&n[a]===e)return a;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(e){"use strict";if(null==this)throw new TypeError;var n=Object(this),r=n.length>>>0;if(0===r)return-1;var t=r;arguments.length>1&&((t=Number(arguments[1]))!=t?t=0:0!=t&&t!=1/0&&t!=-1/0&&(t=(t>0||-1)*Math.floor(Math.abs(t))));for(var a=t>=0?Math.min(t,r-1):r-Math.abs(t);a>=0;a--)if(a in n&&n[a]===e)return a;return-1}),"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var e=this,n=this.jQuery||this.Zepto,r={},t,a=0,u=[],s=!1;"undefined"!=typeof module&&module.exports?module.exports=v:(n&&(n.TAPi18next=n.TAPi18next||v),this.TAPi18next=this.TAPi18next||v);var o={lng:void 0,load:"all",preload:[],lowerCaseLng:!1,returnObjectTrees:!1,fallbackLng:["dev"],fallbackNS:[],detectLngQS:"setLng",ns:"translation",fallbackOnNull:!0,fallbackOnEmpty:!1,fallbackToDefaultNS:!1,nsseparator:":",keyseparator:".",selectorAttr:"data-i18n",debug:!1,resGetPath:"locales/__lng__/__ns__.json",resPostPath:"locales/add/__lng__/__ns__",getAsync:!0,postAsync:!0,resStore:void 0,useLocalStorage:!1,localStorageExpirationTime:6048e5,dynamicLoad:!1,sendMissing:!1,sendMissingTo:"fallback",sendType:"POST",interpolationPrefix:"__",interpolationSuffix:"__",reusePrefix:"$t(",reuseSuffix:")",pluralSuffix:"_plural",pluralNotFound:["plural_not_found",Math.random()].join(""),contextNotFound:["context_not_found",Math.random()].join(""),escapeInterpolation:!1,setJqueryExt:!1,defaultValueFromContent:!0,useDataAttrOptions:!1,cookieExpirationTime:void 0,useCookie:!0,cookieName:"TAPi18next",cookieDomain:void 0,objectTreeKeyHandler:void 0,postProcess:["sprintf"],parseMissingKey:void 0,shortcutFunction:"sprintf"};function i(e,n){if(!n||"function"==typeof n)return e;for(var r in n)e[r]=n[r];return e}function l(e,n,r){var t,a=0,u=e.length,s=void 0===u||"[object Array]"!==Object.prototype.toString.apply(e)||"function"==typeof e;if(r)if(s){for(t in e)if(!1===n.apply(e[t],r))break}else for(;a<u&&!1!==n.apply(e[a++],r););else if(s){for(t in e)if(!1===n.call(e[t],t,e[t]))break}else for(;a<u&&!1!==n.call(e[a],a,e[a++]););return e}var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function f(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(function(e){return c[e]})):e}function p(e){var n=function(e){if(window.XMLHttpRequest)return e(null,new XMLHttpRequest);if(window.ActiveXObject)try{return e(null,new ActiveXObject("Msxml2.XMLHTTP"))}catch(n){return e(null,new ActiveXObject("Microsoft.XMLHTTP"))}return e(new Error)},r=function(e){if("string"==typeof e)return e;var n=[];for(var r in e)e.hasOwnProperty(r)&&n.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return n.join("&")},t=function(e){e=e.replace(/\r\n/g,"\n");for(var n="",r=0;r<e.length;r++){var t=e.charCodeAt(r);t<128?n+=String.fromCharCode(t):t>127&&t<2048?(n+=String.fromCharCode(t>>6|192),n+=String.fromCharCode(63&t|128)):(n+=String.fromCharCode(t>>12|224),n+=String.fromCharCode(t>>6&63|128),n+=String.fromCharCode(63&t|128))}return n},a=function(e){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e=t(e);var r="",a,u,s,o,i,l,c,f=0;do{o=(a=e.charCodeAt(f++))>>2,i=(3&a)<<4|(u=e.charCodeAt(f++))>>4,l=(15&u)<<2|(s=e.charCodeAt(f++))>>6,c=63&s,isNaN(u)?l=c=64:isNaN(s)&&(c=64),r+=n.charAt(o)+n.charAt(i)+n.charAt(l)+n.charAt(c),a=u=s="",o=i=l=c=""}while(f<e.length);return r},u=function(){for(var e=arguments[0],n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])}return e},s=function(e,t,a,o){"function"==typeof a&&(o=a,a={}),a.cache=a.cache||!1,a.data=a.data||{},a.headers=a.headers||{},a.jsonp=a.jsonp||!1,a.async=void 0===a.async||a.async;var i=u({accept:"*/*","content-type":"application/x-www-form-urlencoded;charset=UTF-8"},s.headers,a.headers),l;if(l="application/json"===i["content-type"]?JSON.stringify(a.data):r(a.data),"GET"===e){var c=[];if(l&&(c.push(l),l=null),a.cache||c.push("_="+(new Date).getTime()),a.jsonp&&(c.push("callback="+a.jsonp),c.push("jsonp="+a.jsonp)),(c=c.join("&")).length>1&&(t.indexOf("?")>-1?t+="&"+c:t+="?"+c),a.jsonp){var f=document.getElementsByTagName("head")[0],p=document.createElement("script");return p.type="text/javascript",p.src=t,void f.appendChild(p)}}n((function(n,r){if(n)return o(n);for(var u in r.open(e,t,a.async),i)i.hasOwnProperty(u)&&r.setRequestHeader(u,i[u]);r.onreadystatechange=function(){if(4===r.readyState){var e=r.responseText||"";if(!o)return;o(r.status,{text:function(){return e},json:function(){return JSON.parse(e)}})}},r.send(l)}))},o,i;({authBasic:function(e,n){s.headers.Authorization="Basic "+a(e+":"+n)},connect:function(e,n,r){return s("CONNECT",e,n,r)},del:function(e,n,r){return s("DELETE",e,n,r)},get:function(e,n,r){return s("GET",e,n,r)},head:function(e,n,r){return s("HEAD",e,n,r)},headers:function(e){s.headers=e||{}},isAllowed:function(e,n,r){this.options(e,(function(e,t){r(-1!==t.text().indexOf(n))}))},options:function(e,n,r){return s("OPTIONS",e,n,r)},patch:function(e,n,r){return s("PATCH",e,n,r)},post:function(e,n,r){return s("POST",e,n,r)},put:function(e,n,r){return s("PUT",e,n,r)},trace:function(e,n,r){return s("TRACE",e,n,r)}})[e.type?e.type.toLowerCase():"get"](e.url,e,(function(n,r){200===n?e.success(r.json(),n,null):e.error(r.text(),n,null)}))}var m={create:function(e,n,r,t){var a;if(r){var u=new Date;u.setTime(u.getTime()+60*r*1e3),a="; expires="+u.toGMTString()}else a="";t=t?"domain="+t+";":"",document.cookie=e+"="+n+a+";"+t+"path=/"},read:function(e){for(var n=e+"=",r=document.cookie.split(";"),t=0;t<r.length;t++){for(var a=r[t];" "==a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(n))return a.substring(n.length,a.length)}return null},remove:function(e){this.create(e,"",-1)}},g={create:function(e,n,r,t){},read:function(e){return null},remove:function(e){}},d={extend:n?n.extend:i,each:n?n.each:l,ajax:n?n.ajax:"undefined"!=typeof document?p:function(){},cookie:"undefined"!=typeof document?m:g,detectLanguage:R,escape:f,log:function(e){o.debug&&"undefined"!=typeof console&&console.log(e)},toLanguages:function(e){var n=[];if("string"==typeof e&&e.indexOf("-")>-1){var r=e.split("-");e=o.lowerCaseLng?r[0].toLowerCase()+"-"+r[1].toLowerCase():r[0].toLowerCase()+"-"+r[1].toUpperCase(),"unspecific"!==o.load&&n.push(e),"current"!==o.load&&n.push(r[0])}else n.push(e);for(var t=0;t<o.fallbackLng.length;t++)-1===n.indexOf(o.fallbackLng[t])&&o.fallbackLng[t]&&n.push(o.fallbackLng[t]);return n},regexEscape:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}};function b(e,a){"function"==typeof e&&(a=e,e={}),e=e||{},d.extend(o,e),delete o.fixLng,"string"==typeof o.ns&&(o.ns={namespaces:[o.ns],defaultNs:o.ns}),"string"==typeof o.fallbackNS&&(o.fallbackNS=[o.fallbackNS]),"string"!=typeof o.fallbackLng&&"boolean"!=typeof o.fallbackLng||(o.fallbackLng=[o.fallbackLng]),o.interpolationPrefixEscaped=d.regexEscape(o.interpolationPrefix),o.interpolationSuffixEscaped=d.regexEscape(o.interpolationSuffix),o.lng||(o.lng=d.detectLanguage()),o.lng?o.useCookie&&d.cookie.create(o.cookieName,o.lng,o.cookieExpirationTime,o.cookieDomain):(o.lng=o.fallbackLng[0],o.useCookie&&d.cookie.remove(o.cookieName)),u=d.toLanguages(o.lng),t=u[0],d.log("currentLng set to: "+t);var i=C,l;if(e.fixLng&&((i=function(e,n){return(n=n||{}).lng=n.lng||i.lng,C(e,n)}).lng=t),z.setCurrentLng(t),n&&o.setJqueryExt&&P(),n&&n.Deferred&&(l=n.Deferred()),o.resStore)return r=o.resStore,s=!0,a&&a(i),l&&l.resolve(i),l?l.promise():void 0;var c=d.toLanguages(o.lng);"string"==typeof o.preload&&(o.preload=[o.preload]);for(var f=0,p=o.preload.length;f<p;f++)for(var m=d.toLanguages(o.preload[f]),g=0,b=m.length;g<b;g++)c.indexOf(m[g])<0&&c.push(m[g]);return v.sync.load(c,o,(function(e,n){r=n,s=!0,a&&a(i),l&&l.resolve(i)})),l?l.promise():void 0}function h(e,n){"string"==typeof e&&(e=[e]);for(var r=0,t=e.length;r<t;r++)o.preload.indexOf(e[r])<0&&o.preload.push(e[r]);return b(n)}function _(e,n,t){"string"!=typeof n?(t=n,n=o.ns.defaultNs):o.ns.namespaces.indexOf(n)<0&&o.ns.namespaces.push(n),r[e]=r[e]||{},r[e][n]=r[e][n]||{},d.extend(r[e][n],t)}function y(e,n){"string"!=typeof n&&(n=o.ns.defaultNs),r[e]=r[e]||{},r[e][n]={}}function x(e){o.ns.defaultNs=e}function N(e,n){k([e],n)}function k(e,n){var t={dynamicLoad:o.dynamicLoad,resGetPath:o.resGetPath,getAsync:o.getAsync,customLoad:o.customLoad,ns:{namespaces:e,defaultNs:""}},a=d.toLanguages(o.lng);"string"==typeof o.preload&&(o.preload=[o.preload]);for(var u=0,s=o.preload.length;u<s;u++)for(var i=d.toLanguages(o.preload[u]),l=0,c=i.length;l<c;l++)a.indexOf(i[l])<0&&a.push(i[l]);for(var f=[],p=0,m=a.length;p<m;p++){var g=!1,b=r[a[p]];if(b)for(var h=0,_=e.length;h<_;h++)b[e[h]]||(g=!0);else g=!0;g&&f.push(a[p])}f.length?v.sync._fetch(f,t,(function(t,a){var u=e.length*f.length;d.each(e,(function(e,t){o.ns.namespaces.indexOf(t)<0&&o.ns.namespaces.push(t),d.each(f,(function(e,s){r[s]=r[s]||{},r[s][t]=a[s][t],0===--u&&n&&(o.useLocalStorage&&v.sync._storeLocal(r),n())}))}))})):n&&n()}function S(e,n,r){return"function"==typeof n?(r=n,n={}):n||(n={}),n.lng=e,b(n,r)}function L(){return t}function P(){function e(e,r,t){if(0!==r.length){var a="text",u;if(0===r.indexOf("[")){var s=r.split("]");r=s[1],a=s[0].substr(1,s[0].length-1)}if(r.indexOf(";")===r.length-1&&(r=r.substr(0,r.length-2)),"html"===a)u=o.defaultValueFromContent?n.extend({defaultValue:e.html()},t):t,e.html(n.t(r,u));else if("text"===a)u=o.defaultValueFromContent?n.extend({defaultValue:e.text()},t):t,e.text(n.t(r,u));else if("prepend"===a)u=o.defaultValueFromContent?n.extend({defaultValue:e.html()},t):t,e.prepend(n.t(r,u));else if("append"===a)u=o.defaultValueFromContent?n.extend({defaultValue:e.html()},t):t,e.append(n.t(r,u));else if(0===a.indexOf("data-")){var i=a.substr("data-".length);u=o.defaultValueFromContent?n.extend({defaultValue:e.data(i)},t):t;var l=n.t(r,u);e.data(i,l),e.attr(a,l)}else u=o.defaultValueFromContent?n.extend({defaultValue:e.attr(a)},t):t,e.attr(a,n.t(r,u))}}function r(r,t){var a=r.attr(o.selectorAttr);if(a||void 0===a||!1===a||(a=r.text()||r.val()),a){var u=r,s=r.data("i18n-target");if(s&&(u=r.find(s)||r),t||!0!==o.useDataAttrOptions||(t=r.data("i18n-options")),t=t||{},a.indexOf(";")>=0){var i=a.split(";");n.each(i,(function(n,r){""!==r&&e(u,r,t)}))}else e(u,a,t);!0===o.useDataAttrOptions&&r.data("i18n-options",t)}}n.t=n.t||C,n.fn.TAPi18next=function(e){return this.each((function(){var t;r(n(this),e),n(this).find("["+o.selectorAttr+"]").each((function(){r(n(this),e)}))}))}}function T(e,n,r,t){if(!e)return e;if(t=t||n,e.indexOf(t.interpolationPrefix||o.interpolationPrefix)<0)return e;var a=t.interpolationPrefix?d.regexEscape(t.interpolationPrefix):o.interpolationPrefixEscaped,u=t.interpolationSuffix?d.regexEscape(t.interpolationSuffix):o.interpolationSuffixEscaped,s="HTML"+u;return d.each(n,(function(n,i){var l=r?r+o.keyseparator+n:n;e="object"==typeof i&&null!==i?T(e,i,l,t):t.escapeInterpolation||o.escapeInterpolation?(e=e.replace(new RegExp([a,l,s].join(""),"g"),i)).replace(new RegExp([a,l,u].join(""),"g"),d.escape(i)):e.replace(new RegExp([a,l,u].join(""),"g"),i)})),e}function j(e,n){var r=",",t="{",u="}",s=d.extend({},n);for(delete s.postProcess;-1!=e.indexOf(o.reusePrefix)&&!(++a>o.maxRecursion);){var i=e.lastIndexOf(o.reusePrefix),l=e.indexOf(o.reuseSuffix,i)+o.reuseSuffix.length,c=e.substring(i,l),f=c.replace(o.reusePrefix,"").replace(o.reuseSuffix,"");if(-1!=f.indexOf(",")){var p=f.indexOf(",");if(-1!=f.indexOf("{",p)&&-1!=f.indexOf("}",p)){var m=f.indexOf("{",p),g=f.indexOf("}",m)+"}".length;try{s=d.extend(s,JSON.parse(f.substring(m,g))),f=f.substring(0,p)}catch(h){}}}var b=F(f,s);e=e.replace(c,b)}return e}function O(e){return e.context&&("string"==typeof e.context||"number"==typeof e.context)}function w(e){return void 0!==e.count&&"string"!=typeof e.count&&1!==e.count}function A(e,n){var r=E(e,n=n||{}),t=D(e,n);return void 0!==t||t===r}function C(e,n){return void 0===n&&(n={}),s?(a=0,F.apply(null,arguments)):(d.log("i18next not finished initialization. you might have called t function before loading resources finished."),n.defaultValue||"")}function E(e,n){return void 0!==n.defaultValue?n.defaultValue:e}function M(){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);return{postProcess:"sprintf",sprintf:e}}function F(e,n){if(null!=n&&"object"!=typeof n?"sprintf"===o.shortcutFunction?n=M.apply(null,arguments):"defaultValue"===o.shortcutFunction&&(n={defaultValue:n}):n=n||{},null==e)return"";"string"==typeof e&&(e=[e]);var r=e[0];if(e.length>1)for(var t=0;t<e.length&&!A(r=e[t],n);t++);var a=E(r,n),s=D(r,n),i=n.lng?d.toLanguages(n.lng):u,l=n.ns||o.ns.defaultNs,c;r.indexOf(o.nsseparator)>-1&&(l=(c=r.split(o.nsseparator))[0],r=c[1]),void 0===s&&o.sendMissing&&(n.lng?H.postMissing(i[0],l,r,a,i):H.postMissing(o.lng,l,r,a,i));var f=n.postProcess||o.postProcess;void 0!==s&&f&&I[f]&&(s=I[f](s,r,n));var p=a;if(a.indexOf(o.nsseparator)>-1&&(p=(c=a.split(o.nsseparator))[1]),p===r&&o.parseMissingKey&&(a=o.parseMissingKey(a)),void 0===s&&(a=j(a=T(a,n),n),f&&I[f])){var m=E(r,n);s=I[f](m,r,n)}return void 0!==s?s:a}function D(e,n){var t,a,s=E(e,n=n||{}),i=u;if(!r)return s;if("cimode"===i[0].toLowerCase())return s;if(n.lng&&(i=d.toLanguages(n.lng),!r[i[0]])){var l=o.getAsync;o.getAsync=!1,v.sync.load(i,o,(function(e,n){d.extend(r,n),o.getAsync=l}))}var c=n.ns||o.ns.defaultNs,f,p;if(e.indexOf(o.nsseparator)>-1){var m=e.split(o.nsseparator);c=m[0],e=m[1]}if(O(n)&&(delete(t=d.extend({},n)).context,t.defaultValue=o.contextNotFound,(a=C(c+o.nsseparator+e+"_"+n.context,t))!=o.contextNotFound))return T(a,{context:n.context});if(w(n)){delete(t=d.extend({},n)).count,t.defaultValue=o.pluralNotFound;var g=c+o.nsseparator+e+o.pluralSuffix,b=z.get(i[0],n.count);if(b>=0?g=g+"_"+b:1===b&&(g=c+o.nsseparator+e),(a=C(g,t))!=o.pluralNotFound)return T(a,{count:n.count,interpolationPrefix:n.interpolationPrefix,interpolationSuffix:n.interpolationSuffix})}for(var h=e.split(o.keyseparator),_=0,y=i.length;_<y&&void 0===p;_++){for(var x=i[_],N=0,k=r[x]&&r[x][c];h[N];)k=k&&k[h[N]],N++;if(void 0!==k){var S=Object.prototype.toString.apply(k);if("string"==typeof k)k=j(k=T(k,n),n);else if("[object Array]"!==S||o.returnObjectTrees||n.returnObjectTrees){if(null===k&&!0===o.fallbackOnNull)k=void 0;else if(null!==k)if(o.returnObjectTrees||n.returnObjectTrees){if("[object Number]"!==S&&"[object Function]"!==S&&"[object RegExp]"!==S){var L="[object Array]"===S?[]:{};d.each(k,(function(r){L[r]=F(c+o.nsseparator+e+o.keyseparator+r,n)})),k=L}}else o.objectTreeKeyHandler&&"function"==typeof o.objectTreeKeyHandler?k=o.objectTreeKeyHandler(e,k,x,c,n):(k="key '"+c+":"+e+" ("+x+")' returned an object instead of string.",d.log(k))}else k=j(k=T(k=k.join("\n"),n),n);"string"==typeof k&&""===k.trim()&&!0===o.fallbackOnEmpty&&(k=void 0),p=k}}if(void 0===p&&!n.isFallbackLookup&&(!0===o.fallbackToDefaultNS||o.fallbackNS&&o.fallbackNS.length>0))if(n.isFallbackLookup=!0,o.fallbackNS.length)for(var P=0,A=o.fallbackNS.length;P<A;P++){var M,R;if(p=D(o.fallbackNS[P]+o.nsseparator+e,n))if((p.indexOf(o.nsseparator)>-1?p.split(o.nsseparator)[1]:p)!==(s.indexOf(o.nsseparator)>-1?s.split(o.nsseparator)[1]:s))break}else p=D(e,n);return p}function R(){var e,n=[];if("undefined"!=typeof window&&(!function(){for(var e,r=window.location.search.substring(1).split("&"),t=0;t<r.length;t++){var a=r[t].indexOf("=");if(a>0){var u=r[t].substring(0,a),s=r[t].substring(a+1);n[u]=s}}}(),n[o.detectLngQS]&&(e=n[o.detectLngQS])),!e&&"undefined"!=typeof document&&o.useCookie){var r=d.cookie.read(o.cookieName);r&&(e=r)}return e||"undefined"==typeof navigator||(e=navigator.language?navigator.language:navigator.userLanguage),e}d.applyReplacement=T;var H={load:function(e,n,r){n.useLocalStorage?H._loadLocal(e,n,(function(t,a){for(var u=[],s=0,o=e.length;s<o;s++)a[e[s]]||u.push(e[s]);u.length>0?H._fetch(u,n,(function(e,n){d.extend(a,n),H._storeLocal(n),r(null,a)})):r(null,a)})):H._fetch(e,n,(function(e,n){r(null,n)}))},_loadLocal:function(e,n,r){var t={},a=(new Date).getTime();if(window.localStorage){var u=e.length;d.each(e,(function(e,s){var o=window.localStorage.getItem("res_"+s);o&&(o=JSON.parse(o)).i18nStamp&&o.i18nStamp+n.localStorageExpirationTime>a&&(t[s]=o),0===--u&&r(null,t)}))}},_storeLocal:function(e){if(window.localStorage)for(var n in e)e[n].i18nStamp=(new Date).getTime(),window.localStorage.setItem("res_"+n,JSON.stringify(e[n]))},_fetch:function(e,n,r){var t=n.ns,a={};if(n.dynamicLoad){var u=function(e,n){r(null,n)};if("function"==typeof n.customLoad)n.customLoad(e,t.namespaces,n,u);else{var s=T(n.resGetPath,{lng:e.join("+"),ns:t.namespaces.join("+")});d.ajax({url:s,success:function(e,n,r){d.log("loaded: "+s),u(null,e)},error:function(e,n,r){d.log("failed loading: "+s),u("failed loading resource.json error: "+r)},dataType:"json",async:n.getAsync})}}else{var o=t.namespaces.length*e.length,i;d.each(t.namespaces,(function(t,u){d.each(e,(function(e,t){var s=function(e,n){e&&(i=i||[]).push(e),a[t]=a[t]||{},a[t][u]=n,0===--o&&r(i,a)};"function"==typeof n.customLoad?n.customLoad(t,u,n,s):H._fetchOne(t,u,n,s)}))}))}},_fetchOne:function(e,n,r,t){var a=T(r.resGetPath,{lng:e,ns:n});d.ajax({url:a,success:function(e,n,r){d.log("loaded: "+a),t(null,e)},error:function(e,n,r){if(n&&200==n||e&&e.status&&200==e.status)d.log("There is a typo in: "+a);else if(n&&404==n||e&&e.status&&404==e.status)d.log("Does not exist: "+a);else{var u=n||(e&&e.status?e.status:null);d.log(u+" when loading "+a)}t(r,{})},dataType:"json",async:r.getAsync})},postMissing:function(e,n,t,a,u){var s={};s[t]=a;var i=[];if("fallback"===o.sendMissingTo&&!1!==o.fallbackLng[0])for(var l=0;l<o.fallbackLng.length;l++)i.push({lng:o.fallbackLng[l],url:T(o.resPostPath,{lng:o.fallbackLng[l],ns:n})});else if("current"===o.sendMissingTo||"fallback"===o.sendMissingTo&&!1===o.fallbackLng[0])i.push({lng:e,url:T(o.resPostPath,{lng:e,ns:n})});else if("all"===o.sendMissingTo)for(var l=0,c=u.length;l<c;l++)i.push({lng:u[l],url:T(o.resPostPath,{lng:u[l],ns:n})});for(var f=0,p=i.length;f<p;f++){var m=i[f];d.ajax({url:m.url,type:o.sendType,data:s,success:function(e,u,s){d.log("posted missing key '"+t+"' to: "+m.url);for(var o=t.split("."),i=0,l=r[m.lng][n];o[i];)l=i===o.length-1?l[o[i]]=a:l[o[i]]=l[o[i]]||{},i++},error:function(e,n,r){d.log("failed posting missing key '"+t+"' to: "+m.url)},dataType:"json",async:o.postAsync})}}},z={rules:{ach:{name:"Acholi",numbers:[1,2],plurals:function(e){return Number(e>1)}},af:{name:"Afrikaans",numbers:[1,2],plurals:function(e){return Number(1!=e)}},ak:{name:"Akan",numbers:[1,2],plurals:function(e){return Number(e>1)}},am:{name:"Amharic",numbers:[1,2],plurals:function(e){return Number(e>1)}},an:{name:"Aragonese",numbers:[1,2],plurals:function(e){return Number(1!=e)}},ar:{name:"Arabic",numbers:[0,1,2,3,11,100],plurals:function(e){return Number(0===e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)}},arn:{name:"Mapudungun",numbers:[1,2],plurals:function(e){return Number(e>1)}},ast:{name:"Asturian",numbers:[1,2],plurals:function(e){return Number(1!=e)}},ay:{name:"Aymar",numbers:[1],plurals:function(e){return 0}},az:{name:"Azerbaijani",numbers:[1,2],plurals:function(e){return Number(1!=e)}},be:{name:"Belarusian",numbers:[1,2,5],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)}},bg:{name:"Bulgarian",numbers:[1,2],plurals:function(e){return Number(1!=e)}},bn:{name:"Bengali",numbers:[1,2],plurals:function(e){return Number(1!=e)}},bo:{name:"Tibetan",numbers:[1],plurals:function(e){return 0}},br:{name:"Breton",numbers:[1,2],plurals:function(e){return Number(e>1)}},bs:{name:"Bosnian",numbers:[1,2,5],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)}},ca:{name:"Catalan",numbers:[1,2],plurals:function(e){return Number(1!=e)}},cgg:{name:"Chiga",numbers:[1],plurals:function(e){return 0}},cs:{name:"Czech",numbers:[1,2,5],plurals:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)}},csb:{name:"Kashubian",numbers:[1,2,5],plurals:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)}},cy:{name:"Welsh",numbers:[1,2,3,8],plurals:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)}},da:{name:"Danish",numbers:[1,2],plurals:function(e){return Number(1!=e)}},de:{name:"German",numbers:[1,2],plurals:function(e){return Number(1!=e)}},dz:{name:"Dzongkha",numbers:[1],plurals:function(e){return 0}},el:{name:"Greek",numbers:[1,2],plurals:function(e){return Number(1!=e)}},en:{name:"English",numbers:[1,2],plurals:function(e){return Number(1!=e)}},eo:{name:"Esperanto",numbers:[1,2],plurals:function(e){return Number(1!=e)}},es:{name:"Spanish",numbers:[1,2],plurals:function(e){return Number(1!=e)}},es_ar:{name:"Argentinean Spanish",numbers:[1,2],plurals:function(e){return Number(1!=e)}},et:{name:"Estonian",numbers:[1,2],plurals:function(e){return Number(1!=e)}},eu:{name:"Basque",numbers:[1,2],plurals:function(e){return Number(1!=e)}},fa:{name:"Persian",numbers:[1],plurals:function(e){return 0}},fi:{name:"Finnish",numbers:[1,2],plurals:function(e){return Number(1!=e)}},fil:{name:"Filipino",numbers:[1,2],plurals:function(e){return Number(e>1)}},fo:{name:"Faroese",numbers:[1,2],plurals:function(e){return Number(1!=e)}},fr:{name:"French",numbers:[1,2],plurals:function(e){return Number(e>1)}},fur:{name:"Friulian",numbers:[1,2],plurals:function(e){return Number(1!=e)}},fy:{name:"Frisian",numbers:[1,2],plurals:function(e){return Number(1!=e)}},ga:{name:"Irish",numbers:[1,2,3,7,11],plurals:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)}},gd:{name:"Scottish Gaelic",numbers:[1,2,3,20],plurals:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)}},gl:{name:"Galician",numbers:[1,2],plurals:function(e){return Number(1!=e)}},gu:{name:"Gujarati",numbers:[1,2],plurals:function(e){return Number(1!=e)}},gun:{name:"Gun",numbers:[1,2],plurals:function(e){return Number(e>1)}},ha:{name:"Hausa",numbers:[1,2],plurals:function(e){return Number(1!=e)}},he:{name:"Hebrew",numbers:[1,2],plurals:function(e){return Number(1!=e)}},hi:{name:"Hindi",numbers:[1,2],plurals:function(e){return Number(1!=e)}},hr:{name:"Croatian",numbers:[1,2,5],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)}},hu:{name:"Hungarian",numbers:[1,2],plurals:function(e){return Number(1!=e)}},hy:{name:"Armenian",numbers:[1,2],plurals:function(e){return Number(1!=e)}},ia:{name:"Interlingua",numbers:[1,2],plurals:function(e){return Number(1!=e)}},id:{name:"Indonesian",numbers:[1],plurals:function(e){return 0}},is:{name:"Icelandic",numbers:[1,2],plurals:function(e){return Number(e%10!=1||e%100==11)}},it:{name:"Italian",numbers:[1,2],plurals:function(e){return Number(1!=e)}},ja:{name:"Japanese",numbers:[1],plurals:function(e){return 0}},jbo:{name:"Lojban",numbers:[1],plurals:function(e){return 0}},jv:{name:"Javanese",numbers:[0,1],plurals:function(e){return Number(0!==e)}},ka:{name:"Georgian",numbers:[1],plurals:function(e){return 0}},kk:{name:"Kazakh",numbers:[1],plurals:function(e){return 0}},km:{name:"Khmer",numbers:[1],plurals:function(e){return 0}},kn:{name:"Kannada",numbers:[1,2],plurals:function(e){return Number(1!=e)}},ko:{name:"Korean",numbers:[1],plurals:function(e){return 0}},ku:{name:"Kurdish",numbers:[1,2],plurals:function(e){return Number(1!=e)}},kw:{name:"Cornish",numbers:[1,2,3,4],plurals:function(e){return Number(1==e?0:2==e?1:3==e?2:3)}},ky:{name:"Kyrgyz",numbers:[1],plurals:function(e){return 0}},lb:{name:"Letzeburgesch",numbers:[1,2],plurals:function(e){return Number(1!=e)}},ln:{name:"Lingala",numbers:[1,2],plurals:function(e){return Number(e>1)}},lo:{name:"Lao",numbers:[1],plurals:function(e){return 0}},lt:{name:"Lithuanian",numbers:[1,2,10],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)}},lv:{name:"Latvian",numbers:[1,2,0],plurals:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)}},mai:{name:"Maithili",numbers:[1,2],plurals:function(e){return Number(1!=e)}},mfe:{name:"Mauritian Creole",numbers:[1,2],plurals:function(e){return Number(e>1)}},mg:{name:"Malagasy",numbers:[1,2],plurals:function(e){return Number(e>1)}},mi:{name:"Maori",numbers:[1,2],plurals:function(e){return Number(e>1)}},mk:{name:"Macedonian",numbers:[1,2],plurals:function(e){return Number(1==e||e%10==1?0:1)}},ml:{name:"Malayalam",numbers:[1,2],plurals:function(e){return Number(1!=e)}},mn:{name:"Mongolian",numbers:[1,2],plurals:function(e){return Number(1!=e)}},mnk:{name:"Mandinka",numbers:[0,1,2],plurals:function(e){return Number(0==e?0:1==e?1:2)}},mr:{name:"Marathi",numbers:[1,2],plurals:function(e){return Number(1!=e)}},ms:{name:"Malay",numbers:[1],plurals:function(e){return 0}},mt:{name:"Maltese",numbers:[1,2,11,20],plurals:function(e){return Number(1==e?0:0===e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)}},nah:{name:"Nahuatl",numbers:[1,2],plurals:function(e){return Number(1!=e)}},nap:{name:"Neapolitan",numbers:[1,2],plurals:function(e){return Number(1!=e)}},nb:{name:"Norwegian Bokmal",numbers:[1,2],plurals:function(e){return Number(1!=e)}},ne:{name:"Nepali",numbers:[1,2],plurals:function(e){return Number(1!=e)}},nl:{name:"Dutch",numbers:[1,2],plurals:function(e){return Number(1!=e)}},nn:{name:"Norwegian Nynorsk",numbers:[1,2],plurals:function(e){return Number(1!=e)}},no:{name:"Norwegian",numbers:[1,2],plurals:function(e){return Number(1!=e)}},nso:{name:"Northern Sotho",numbers:[1,2],plurals:function(e){return Number(1!=e)}},oc:{name:"Occitan",numbers:[1,2],plurals:function(e){return Number(e>1)}},or:{name:"Oriya",numbers:[2,1],plurals:function(e){return Number(1!=e)}},pa:{name:"Punjabi",numbers:[1,2],plurals:function(e){return Number(1!=e)}},pap:{name:"Papiamento",numbers:[1,2],plurals:function(e){return Number(1!=e)}},pl:{name:"Polish",numbers:[1,2,5],plurals:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)}},pms:{name:"Piemontese",numbers:[1,2],plurals:function(e){return Number(1!=e)}},ps:{name:"Pashto",numbers:[1,2],plurals:function(e){return Number(1!=e)}},pt:{name:"Portuguese",numbers:[1,2],plurals:function(e){return Number(1!=e)}},pt_br:{name:"Brazilian Portuguese",numbers:[1,2],plurals:function(e){return Number(1!=e)}},rm:{name:"Romansh",numbers:[1,2],plurals:function(e){return Number(1!=e)}},ro:{name:"Romanian",numbers:[1,2,20],plurals:function(e){return Number(1==e?0:0===e||e%100>0&&e%100<20?1:2)}},ru:{name:"Russian",numbers:[1,2,5],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)}},sah:{name:"Yakut",numbers:[1],plurals:function(e){return 0}},sco:{name:"Scots",numbers:[1,2],plurals:function(e){return Number(1!=e)}},se:{name:"Northern Sami",numbers:[1,2],plurals:function(e){return Number(1!=e)}},si:{name:"Sinhala",numbers:[1,2],plurals:function(e){return Number(1!=e)}},sk:{name:"Slovak",numbers:[1,2,5],plurals:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)}},sl:{name:"Slovenian",numbers:[5,1,2,3],plurals:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)}},so:{name:"Somali",numbers:[1,2],plurals:function(e){return Number(1!=e)}},son:{name:"Songhay",numbers:[1,2],plurals:function(e){return Number(1!=e)}},sq:{name:"Albanian",numbers:[1,2],plurals:function(e){return Number(1!=e)}},sr:{name:"Serbian",numbers:[1,2,5],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)}},su:{name:"Sundanese",numbers:[1],plurals:function(e){return 0}},sv:{name:"Swedish",numbers:[1,2],plurals:function(e){return Number(1!=e)}},sw:{name:"Swahili",numbers:[1,2],plurals:function(e){return Number(1!=e)}},ta:{name:"Tamil",numbers:[1,2],plurals:function(e){return Number(1!=e)}},te:{name:"Telugu",numbers:[1,2],plurals:function(e){return Number(1!=e)}},tg:{name:"Tajik",numbers:[1,2],plurals:function(e){return Number(e>1)}},th:{name:"Thai",numbers:[1],plurals:function(e){return 0}},ti:{name:"Tigrinya",numbers:[1,2],plurals:function(e){return Number(e>1)}},tk:{name:"Turkmen",numbers:[1,2],plurals:function(e){return Number(1!=e)}},tr:{name:"Turkish",numbers:[1,2],plurals:function(e){return Number(e>1)}},tt:{name:"Tatar",numbers:[1],plurals:function(e){return 0}},ug:{name:"Uyghur",numbers:[1],plurals:function(e){return 0}},uk:{name:"Ukrainian",numbers:[1,2,5],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)}},ur:{name:"Urdu",numbers:[1,2],plurals:function(e){return Number(1!=e)}},uz:{name:"Uzbek",numbers:[1,2],plurals:function(e){return Number(e>1)}},vi:{name:"Vietnamese",numbers:[1],plurals:function(e){return 0}},wa:{name:"Walloon",numbers:[1,2],plurals:function(e){return Number(e>1)}},wo:{name:"Wolof",numbers:[1],plurals:function(e){return 0}},yo:{name:"Yoruba",numbers:[1,2],plurals:function(e){return Number(1!=e)}},zh:{name:"Chinese",numbers:[1],plurals:function(e){return 0}}},addRule:function(e,n){z.rules[e]=n},setCurrentLng:function(e){if(!z.currentRule||z.currentRule.lng!==e){var n=e.split("-");z.currentRule={lng:e,rule:z.rules[n[0]]}}},get:function(e,n){var r;function t(n,r){var t;if(t=z.currentRule&&z.currentRule.lng===e?z.currentRule.rule:z.rules[n]){var a=t.plurals(r),u=t.numbers[a];return 2===t.numbers.length&&1===t.numbers[0]&&(2===u?u=-1:1===u&&(u=1)),u}return 1===r?"1":"-1"}return t(e.split("-")[0],n)}},I={},V=function(e,n){I[e]=n},B=function(){function e(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function n(e,n){for(var r=[];n>0;r[--n]=e);return r.join("")}var r=function(){return r.cache.hasOwnProperty(arguments[0])||(r.cache[arguments[0]]=r.parse(arguments[0])),r.format.call(null,r.cache[arguments[0]],arguments)};return r.format=function(r,t){var a=1,u=r.length,s="",o,i=[],l,c,f,p,m,g;for(l=0;l<u;l++)if("string"===(s=e(r[l])))i.push(r[l]);else if("array"===s){if((f=r[l])[2])for(o=t[a],c=0;c<f[2].length;c++){if(!o.hasOwnProperty(f[2][c]))throw B('[sprintf] property "%s" does not exist',f[2][c]);o=o[f[2][c]]}else o=f[1]?t[f[1]]:t[a++];if(/[^s]/.test(f[8])&&"number"!=e(o))throw B("[sprintf] expecting number but found %s",e(o));switch(f[8]){case"b":o=o.toString(2);break;case"c":o=String.fromCharCode(o);break;case"d":o=parseInt(o,10);break;case"e":o=f[7]?o.toExponential(f[7]):o.toExponential();break;case"f":o=f[7]?parseFloat(o).toFixed(f[7]):parseFloat(o);break;case"o":o=o.toString(8);break;case"s":o=(o=String(o))&&f[7]?o.substring(0,f[7]):o;break;case"u":o=Math.abs(o);break;case"x":o=o.toString(16);break;case"X":o=o.toString(16).toUpperCase()}o=/[def]/.test(f[8])&&f[3]&&o>=0?"+"+o:o,m=f[4]?"0"==f[4]?"0":f[4].charAt(1):" ",g=f[6]-String(o).length,p=f[6]?n(m,g):"",i.push(f[5]?o+p:p+o)}return i.join("")},r.cache={},r.parse=function(e){for(var n=e,r=[],t=[],a=0;n;){if(null!==(r=/^[^\x25]+/.exec(n)))t.push(r[0]);else if(null!==(r=/^\x25{2}/.exec(n)))t.push("%");else{if(null===(r=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(n)))throw"[sprintf] huh?";if(r[2]){a|=1;var u=[],s=r[2],o=[];if(null===(o=/^([a-z_][a-z_\d]*)/i.exec(s)))throw"[sprintf] huh?";for(u.push(o[1]);""!==(s=s.substring(o[0].length));)if(null!==(o=/^\.([a-z_][a-z_\d]*)/i.exec(s)))u.push(o[1]);else{if(null===(o=/^\[(\d+)\]/.exec(s)))throw"[sprintf] huh?";u.push(o[1])}r[2]=u}else a|=2;if(3===a)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";t.push(r)}n=n.substring(r[0].length)}return t},r}(),G=function(e,n){return n.unshift(e),B.apply(null,n)};V("sprintf",(function(e,n,r){return r.sprintf?"[object Array]"===Object.prototype.toString.apply(r.sprintf)?G(e,r.sprintf):"object"==typeof r.sprintf?B(e,r.sprintf):e:e})),v.init=b,v.setLng=S,v.preload=h,v.addResourceBundle=_,v.removeResourceBundle=y,v.loadNamespace=N,v.loadNamespaces=k,v.setDefaultNamespace=x,v.t=C,v.translate=C,v.exists=A,v.detectLanguage=d.detectLanguage,v.pluralExtensions=z,v.sync=H,v.functions=d,v.lng=L,v.addPostProcessor=V,v.options=o}()}.call(this),function(){v.init({resStore:{},fallbackLng:h.fallback_language,useCookie:!1})}.call(this),function(){var e;(_="object"==typeof _?_:{}).helpers={}}.call(this);var x=_="object"==typeof _?_:{},N;N=h.fallback_language,y=function(){var e;return a.call(this),this._fallback_language=N,this._language_changed_tracker=new s.Dependency,this._loaded_languages=[N],this.conf=null,this.packages={},this.languages_names={},this.translations={},n.isClient&&(i.set(this._loaded_lang_session_key,null),this._languageSpecificTranslators={},this._languageSpecificTranslatorsTrackers={}),n.isServer&&(this.server_translators={},n.startup((e=this,function(){if(e._enabled())return e._registerHTTPMethod()}))),this.__=this._getPackageI18nextProxy(h.project_translations_domain),v.setLng(N),this},u.inherits(y,a),e.extend(y.prototype,{_loaded_lang_session_key:"TAPi18n::loaded_lang",_enable:function(e){return this.conf=e,this._onceEnabled()},_onceEnabled:function(){},_enabled:function(){return null!=this.conf},_getPackageDomain:function(e){return e.replace(/:/g,"-")},addResourceBundle:function(e,n,r){return v.addResourceBundle(e,this._getPackageDomain(n),r)},_getSpecificLangTranslator:function(e){var n,r,t;return n=v.lng(),r=null,v.setLng(e,{fixLng:!0},(t=this,function(e){return r=e})),v.setLng(n),r},_getProjectLanguages:function(){return this._enabled()?e.isArray(this.conf.supported_languages)?e.union([this._fallback_language],this.conf.supported_languages):e.keys(this.languages_names):[this._fallback_language]},getLanguages:function(){var e,n,r,t,a;if(!this._enabled())return null;for(r={},e=0,t=(a=this._getProjectLanguages()).length;e<t;e++)r[n=a[e]]={name:this.languages_names[n][1],en:this.languages_names[n][0]};return r},_loadLangFileObject:function(n,r){var t,a,u,s;for(a in s=[],r)t=r[a],t=e.extend({},t,(null!=(u=this._loadTranslations_cache[n])?u[a]:void 0)||{}),s.push(this.addResourceBundle(n,a,t));return s},_loadTranslations_cache:{},loadTranslations:function(r,t){var a,u,s,o;for(a in u=this._getProjectLanguages(),s=[],r)o=r[a],null==this._loadTranslations_cache[a]&&(this._loadTranslations_cache[a]={}),null==this._loadTranslations_cache[a][t]&&(this._loadTranslations_cache[a][t]={}),e.extend(this._loadTranslations_cache[a][t],o),this.addResourceBundle(a,t,o),n.isClient&&this.getLanguage()===a?s.push(this._language_changed_tracker.changed()):s.push(void 0);return s}});var x=_="object"==typeof _?_:{},k=[].indexOf||function(e){for(var n=0,r=this.length;n<r;n++)if(n in this&&this[n]===e)return n;return-1},S=[].slice;e.extend(y.prototype,{_languageSpecificTranslators:null,_languageSpecificTranslatorsTrackers:null,_getLanguageFilePath:function(e){var r;return this._enabled()?(r=(r=null!=this.conf.cdn_path?this.conf.cdn_path:this.conf.i18n_files_route).replace(/\/$/,""),n.isCordova&&"/"===r[0]&&(r=n.absoluteUrl().replace(/\/+$/,"")+r),r+"/"+e+".json"):null},_loadLanguage:function(e){var n,r,t,a,u,s;return r=new l.Deferred,this._enabled()?(u=this._getProjectLanguages(),k.call(u,e)>=0?k.call(this._loaded_languages,e)<0?(s=this,a=function(){var n;return(n=l.getJSON(s._getLanguageFilePath(e))).done((function(n){return s._loadLangFileObject(e,n),s._loaded_languages.push(e),r.resolve()})),n.fail((function(n,t){return r.reject("Couldn't load language '"+e+"' JSON: "+t)}))},t=k.call(e,"-")>=0?e.replace(/-.*/,""):N,e!==N&&k.call(u,t)>=0?((n=this._loadLanguage(t)).done(function(e){return function(){return a()}}(this)),n.fail(function(e){return function(e){return r.reject("Loading process failed since dependency language '"+t+"' failed to load: "+e)}}(this))):a()):r.resolve():r.reject(["Language "+e+" is not supported"]),r.promise()):r.reject("tap-i18n is not enabled in the project level, check tap-i18n README")},_registerHelpers:function(n,r){var t,a,u,s;a=n!==h.project_translations_domain?this._getPackageI18nextProxy(this.packages[n].namespace):this._getPackageI18nextProxy(h.project_translations_domain),u=function(){var n,r,t;return r=arguments[0],t=(n=2<=arguments.length?S.call(arguments,1):[]).pop().hash,e.isEmpty(n)||(t.sprintf=n),a(r,t)},n!==h.project_translations_domain?null!=f[r]&&null!=f[r].helpers&&((t={})[this.packages[n].helper_name]=u,f[r].helpers(t)):(m.registerHelper(this.conf.helper_name,u),m.registerHelper("languageTag",(s=this,function(){return s.getLanguage()})))},_getRegisterHelpersProxy:function(e){return n=this,function(r){return n._registerHelpers(e,r)};var n},_prepareLanguageSpecificTranslator:function(e){var n,r;return n=(new l.Deferred).resolve().promise(),e in this._languageSpecificTranslatorsTrackers?n:(this._languageSpecificTranslatorsTrackers[e]=new s.Dependency,e in this._languageSpecificTranslators||(n=this._loadLanguage(e).done((r=this,function(){return r._languageSpecificTranslators[e]=r._getSpecificLangTranslator(e),r._languageSpecificTranslatorsTrackers[e].changed()}))),n)},_getPackageI18nextProxy:function(e){return n=this,function(r,t,a){return null==a&&(a=null),null!=(null!=t?t.lang:void 0)&&null==(null!=t?t.lng:void 0)&&(t.lng=t.lang),null!=(null!=t?t.lng:void 0)&&null==a&&(a=t.lng,delete t.lng),null!=a?(n._prepareLanguageSpecificTranslator(a),n._languageSpecificTranslatorsTrackers[a].depend(),a in n._languageSpecificTranslators?n._languageSpecificTranslators[a](y._getPackageDomain(e)+":"+r,t):v.t(y._getPackageDomain(e)+":"+r,t)):(n._language_changed_tracker.depend(),v.t(y._getPackageDomain(e)+":"+r,t))};var n},_onceEnabled:function(){return this._registerHelpers(h.project_translations_domain)},_abortPreviousSetLang:null,setLanguage:function(e){var n,r,t;return r=this,"function"==typeof this._abortPreviousSetLang&&this._abortPreviousSetLang(),n=!1,this._abortPreviousSetLang=function(){return n=!0},this._loadLanguage(e).then((t=this,function(){if(!n)return v.setLng(e),t._language_changed_tracker.changed(),i.set(t._loaded_lang_session_key,e)}))},getLanguage:function(){var e;return this._enabled()?null!=(e=i.get(this._loaded_lang_session_key))?e:this._fallback_language:null}});var x=_="object"==typeof _?_:{};y=new y,Package._define("tap:i18n",{TAPi18next:v,TAPi18n:y})}();

!function(){var t=Package.meteor.Meteor,e=Package.meteor.global,i=Package.meteor.meteorEnv,s=Package.jquery.$,r=Package.jquery.jQuery;(function(){(function(){s.extend(s.fn,{validate:function(t){if(this.length){var e=s.data(this[0],"validator");return e||(this.attr("novalidate","novalidate"),e=new s.validator(t,this[0]),s.data(this[0],"validator",e),e.settings.onsubmit&&(this.on("click.validate",":submit",(function(t){e.settings.submitHandler&&(e.submitButton=t.target),s(this).hasClass("cancel")&&(e.cancelSubmit=!0),void 0!==s(this).attr("formnovalidate")&&(e.cancelSubmit=!0)})),this.on("submit.validate",(function(t){function i(){var i,r;return!e.settings.submitHandler||(e.submitButton&&(i=s("<input type='hidden'/>").attr("name",e.submitButton.name).val(s(e.submitButton).val()).appendTo(e.currentForm)),r=e.settings.submitHandler.call(e,e.currentForm,t),e.submitButton&&i.remove(),void 0!==r&&r)}return(e.settings.debug&&t.preventDefault(),e.cancelSubmit?(e.cancelSubmit=!1,i()):e.form()?e.pendingRequest?(e.formSubmitted=!0,!1):i():(e.focusInvalid(),!1))}))),e)}t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},valid:function(){var t,e,i;return s(this[0]).is("form")?t=this.validate().form():(i=[],t=!0,e=s(this[0].form).validate(),this.each((function(){t=e.element(this)&&t,i=i.concat(e.errorList)})),e.errorList=i),t},rules:function(t,e){var i=this[0],r,n,a,o,l,h;if(t)switch(n=(r=s.data(i.form,"validator").settings).rules,a=s.validator.staticRules(i),t){case"add":s.extend(a,s.validator.normalizeRule(e)),delete a.messages,n[i.name]=a,e.messages&&(r.messages[i.name]=s.extend(r.messages[i.name],e.messages));break;case"remove":return e?(h={},s.each(e.split(/\s/),(function(t,e){h[e]=a[e],delete a[e],"required"===e&&s(i).removeAttr("aria-required")})),h):(delete n[i.name],a)}return(o=s.validator.normalizeRules(s.extend({},s.validator.classRules(i),s.validator.attributeRules(i),s.validator.dataRules(i),s.validator.staticRules(i)),i)).required&&(l=o.required,delete o.required,o=s.extend({required:l},o),s(i).attr("aria-required","true")),o.remote&&(l=o.remote,delete o.remote,o=s.extend(o,{remote:l})),o}}),s.extend(s.expr[":"],{blank:function(t){return!s.trim(""+s(t).val())},filled:function(t){return!!s.trim(""+s(t).val())},unchecked:function(t){return!s(t).prop("checked")}}),s.validator=function(t,e){this.settings=s.extend(!0,{},s.validator.defaults,t),this.currentForm=e,this.init()},s.validator.format=function(t,e){return 1===arguments.length?function(){var e=s.makeArray(arguments);return e.unshift(t),s.validator.format.apply(this,e)}:(arguments.length>2&&e.constructor!==Array&&(e=s.makeArray(arguments).slice(1)),e.constructor!==Array&&(e=[e]),s.each(e,(function(e,i){t=t.replace(new RegExp("\\{"+e+"\\}","g"),(function(){return i}))})),t)},s.extend(s.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:s([]),errorLabelContainer:s([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(t)))},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(t,e){var i=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===e.which&&""===this.elementValue(t)||-1!==s.inArray(e.keyCode,i)||(t.name in this.submitted||t===this.lastElement)&&this.element(t)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(t,e,i){"radio"===t.type?this.findByName(t.name).addClass(e).removeClass(i):s(t).addClass(e).removeClass(i)},unhighlight:function(t,e,i){"radio"===t.type?this.findByName(t.name).removeClass(e).addClass(i):s(t).removeClass(e).addClass(i)}},setDefaults:function(t){s.extend(s.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:s.validator.format("Please enter no more than {0} characters."),minlength:s.validator.format("Please enter at least {0} characters."),rangelength:s.validator.format("Please enter a value between {0} and {1} characters long."),range:s.validator.format("Please enter a value between {0} and {1}."),max:s.validator.format("Please enter a value less than or equal to {0}."),min:s.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){this.labelContainer=s(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||s(this.currentForm),this.containers=s(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var t=this.groups={},e;function i(t){var e=s.data(this.form,"validator"),i="on"+t.type.replace(/^validate/,""),r=e.settings;r[i]&&!s(this).is(r.ignore)&&r[i].call(e,this,t)}s.each(this.settings.groups,(function(e,i){"string"==typeof i&&(i=i.split(/\s/)),s.each(i,(function(i,s){t[s]=e}))})),e=this.settings.rules,s.each(e,(function(t,i){e[t]=s.validator.normalizeRule(i)})),s(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']",i).on("click.validate","select, option, [type='radio'], [type='checkbox']",i),this.settings.invalidHandler&&s(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler),s(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),s.extend(this.submitted,this.errorMap),this.invalid=s.extend({},this.errorMap),this.valid()||s(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(t){var e=this.clean(t),i=this.validationTargetFor(e),r=!0;return this.lastElement=i,void 0===i?delete this.invalid[e.name]:(this.prepareElement(i),this.currentElements=s(i),(r=!1!==this.check(i))?delete this.invalid[i.name]:this.invalid[i.name]=!0),s(t).attr("aria-invalid",!r),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),r},showErrors:function(t){if(t){for(var e in s.extend(this.errorMap,t),this.errorList=[],t)this.errorList.push({message:t[e],element:this.findByName(e)[0]});this.successList=s.grep(this.successList,(function(e){return!(e.name in t)}))}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){s.fn.resetForm&&s(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors();var t,e=this.elements().removeData("previousValue").removeAttr("aria-invalid");if(this.settings.unhighlight)for(t=0;e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,"");else e.removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e=0,i;for(i in t)e++;return e},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(t){t.not(this.containers).text(""),this.addWrapper(t).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{s(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&1===s.grep(this.errorList,(function(e){return e.element.name===t.name})).length&&t},elements:function(){var t=this,e={};return s(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter((function(){return!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),!(this.name in e||!t.objectLength(s(this).rules()))&&(e[this.name]=!0,!0)}))},clean:function(t){return s(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return s(this.settings.errorElement+"."+t,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=s([]),this.toHide=s([]),this.currentElements=s([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(t){var e,i=s(t),r=t.type;return"radio"===r||"checkbox"===r?this.findByName(t.name).filter(":checked").val():"number"===r&&void 0!==t.validity?!t.validity.badInput&&i.val():"string"==typeof(e=i.val())?e.replace(/\r/g,""):e},check:function(t){t=this.validationTargetFor(this.clean(t));var e=s(t).rules(),i=s.map(e,(function(t,e){return e})).length,r=!1,n=this.elementValue(t),a,o,l;for(o in e){l={method:o,parameters:e[o]};try{if("dependency-mismatch"===(a=s.validator.methods[o].call(this,n,t,l.parameters))&&1===i){r=!0;continue}if(r=!1,"pending"===a)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!a)return this.formatAndAdd(t,l),!1}catch(h){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+l.method+"' method.",h),h instanceof TypeError&&(h.message+=".  Exception occurred when checking element "+t.id+", check the '"+l.method+"' method."),h}}if(!r)return this.objectLength(e)&&this.successList.push(t),!0},customDataMessage:function(t,e){return s(t).data("msg"+e.charAt(0).toUpperCase()+e.substring(1).toLowerCase())||s(t).data("msg")},customMessage:function(t,e){var i=this.settings.messages[t];return i&&(i.constructor===String?i:i[e])},findDefined:function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]},defaultMessage:function(t,e){return this.findDefined(this.customMessage(t.name,e),this.customDataMessage(t,e),!this.settings.ignoreTitle&&t.title||void 0,s.validator.messages[e],"<strong>Warning: No message defined for "+t.name+"</strong>")},formatAndAdd:function(t,e){var i=this.defaultMessage(t,e.method),r=/\$?\{(\d+)\}/g;"function"==typeof i?i=i.call(this,e.parameters,t):r.test(i)&&(i=s.validator.format(i.replace(r,"{$1}"),e.parameters)),this.errorList.push({message:i,element:t,method:e.method}),this.errorMap[t.name]=i,this.submitted[t.name]=i},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){var t,e,i;for(t=0;this.errorList[t];t++)i=this.errorList[t],this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return s(this.errorList).map((function(){return this.element}))},showLabel:function(t,e){var i,r,n,a=this.errorsFor(t),o=this.idOrName(t),l=s(t).attr("aria-describedby");a.length?(a.removeClass(this.settings.validClass).addClass(this.settings.errorClass),a.html(e)):(i=a=s("<"+this.settings.errorElement+">").attr("id",o+"-error").addClass(this.settings.errorClass).html(e||""),this.settings.wrapper&&(i=a.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(i):this.settings.errorPlacement?this.settings.errorPlacement(i,s(t)):i.insertAfter(t),a.is("label")?a.attr("for",o):0===a.parents("label[for='"+o+"']").length&&(n=a.attr("id").replace(/(:|\.|\[|\]|\$)/g,"\\$1"),l?l.match(new RegExp("\\b"+n+"\\b"))||(l+=" "+n):l=n,s(t).attr("aria-describedby",l),(r=this.groups[t.name])&&s.each(this.groups,(function(t,e){e===r&&s("[name='"+t+"']",this.currentForm).attr("aria-describedby",a.attr("id"))})))),!e&&this.settings.success&&(a.text(""),"string"==typeof this.settings.success?a.addClass(this.settings.success):this.settings.success(a,t)),this.toShow=this.toShow.add(a)},errorsFor:function(t){var e=this.idOrName(t),i=s(t).attr("aria-describedby"),r="label[for='"+e+"'], label[for='"+e+"'] *";return i&&(r=r+", #"+i.replace(/\s+/g,", #")),this.errors().filter(r)},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name)),s(t).not(this.settings.ignore)[0]},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(t){return s(this.currentForm).find("[name='"+t+"']")},getLength:function(t,e){switch(e.nodeName.toLowerCase()){case"select":return s("option:selected",e).length;case"input":if(this.checkable(e))return this.findByName(e.name).filter(":checked").length}return t.length},depend:function(t,e){return!this.dependTypes[typeof t]||this.dependTypes[typeof t](t,e)},dependTypes:{boolean:function(t){return t},string:function(t,e){return!!s(t,e.form).length},function:function(t,e){return t(e)}},optional:function(t){var e=this.elementValue(t);return!s.validator.methods.required.call(this,e,t)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,this.pending[t.name]=!0)},stopRequest:function(t,e){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],e&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(s(this.currentForm).submit(),this.formSubmitted=!1):!e&&0===this.pendingRequest&&this.formSubmitted&&(s(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return s.data(t,"previousValue")||s.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})},destroy:function(){this.resetForm(),s(this.currentForm).off(".validate").removeData("validator")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,e){t.constructor===String?this.classRuleSettings[t]=e:s.extend(this.classRuleSettings,t)},classRules:function(t){var e={},i=s(t).attr("class");return i&&s.each(i.split(" "),(function(){this in s.validator.classRuleSettings&&s.extend(e,s.validator.classRuleSettings[this])})),e},normalizeAttributeRule:function(t,e,i,s){/min|max/.test(i)&&(null===e||/number|range|text/.test(e))&&(s=Number(s),isNaN(s)&&(s=void 0)),s||0===s?t[i]=s:e===i&&"range"!==e&&(t[i]=!0)},attributeRules:function(t){var e={},i=s(t),r=t.getAttribute("type"),n,a;for(n in s.validator.methods)"required"===n?(""===(a=t.getAttribute(n))&&(a=!0),a=!!a):a=i.attr(n),this.normalizeAttributeRule(e,r,n,a);return e.maxlength&&/-1|2147483647|524288/.test(e.maxlength)&&delete e.maxlength,e},dataRules:function(t){var e={},i=s(t),r=t.getAttribute("type"),n,a;for(n in s.validator.methods)a=i.data("rule"+n.charAt(0).toUpperCase()+n.substring(1).toLowerCase()),this.normalizeAttributeRule(e,r,n,a);return e},staticRules:function(t){var e={},i=s.data(t.form,"validator");return i.settings.rules&&(e=s.validator.normalizeRule(i.settings.rules[t.name])||{}),e},normalizeRules:function(t,e){return s.each(t,(function(i,r){if(!1!==r){if(r.param||r.depends){var n=!0;switch(typeof r.depends){case"string":n=!!s(r.depends,e.form).length;break;case"function":n=r.depends.call(e,e)}n?t[i]=void 0===r.param||r.param:delete t[i]}}else delete t[i]})),s.each(t,(function(i,r){t[i]=s.isFunction(r)?r(e):r})),s.each(["minlength","maxlength"],(function(){t[this]&&(t[this]=Number(t[this]))})),s.each(["rangelength","range"],(function(){var e;t[this]&&(s.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(e=t[this].replace(/[\[\]]/g,"").split(/[\s,]+/),t[this]=[Number(e[0]),Number(e[1])]))})),s.validator.autoCreateRanges&&(null!=t.min&&null!=t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),null!=t.minlength&&null!=t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var e={};s.each(t.split(/\s/),(function(){e[this]=!0})),t=e}return t},addMethod:function(t,e,i){s.validator.methods[t]=e,s.validator.messages[t]=void 0!==i?i:s.validator.messages[t],e.length<3&&s.validator.addClassRules(t,s.validator.normalizeRule(t))},methods:{required:function(t,e,i){if(!this.depend(i,e))return"dependency-mismatch";if("select"===e.nodeName.toLowerCase()){var r=s(e).val();return r&&r.length>0}return this.checkable(e)?this.getLength(t,e)>0:t.length>0},email:function(t,e){return this.optional(e)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)},url:function(t,e){return this.optional(e)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(t)},date:function(t,e){return this.optional(e)||!/Invalid|NaN/.test(new Date(t).toString())},dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(t)},number:function(t,e){return this.optional(e)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},creditcard:function(t,e){if(this.optional(e))return"dependency-mismatch";if(/[^0-9 \-]+/.test(t))return!1;var i=0,s=0,r=!1,n,a;if((t=t.replace(/\D/g,"")).length<13||t.length>19)return!1;for(n=t.length-1;n>=0;n--)a=t.charAt(n),s=parseInt(a,10),r&&(s*=2)>9&&(s-=9),i+=s,r=!r;return i%10==0},minlength:function(t,e,i){var r=s.isArray(t)?t.length:this.getLength(t,e);return this.optional(e)||r>=i},maxlength:function(t,e,i){var r=s.isArray(t)?t.length:this.getLength(t,e);return this.optional(e)||r<=i},rangelength:function(t,e,i){var r=s.isArray(t)?t.length:this.getLength(t,e);return this.optional(e)||r>=i[0]&&r<=i[1]},min:function(t,e,i){return this.optional(e)||t>=i},max:function(t,e,i){return this.optional(e)||t<=i},range:function(t,e,i){return this.optional(e)||t>=i[0]&&t<=i[1]},equalTo:function(t,e,i){var r=s(i);return this.settings.onfocusout&&r.off(".validate-equalTo").on("blur.validate-equalTo",(function(){s(e).valid()})),t===r.val()},remote:function(t,e,i){if(this.optional(e))return"dependency-mismatch";var r=this.previousValue(e),n,a;return this.settings.messages[e.name]||(this.settings.messages[e.name]={}),r.originalMessage=this.settings.messages[e.name].remote,this.settings.messages[e.name].remote=r.message,i="string"==typeof i&&{url:i}||i,r.old===t?r.valid:(r.old=t,n=this,this.startRequest(e),(a={})[e.name]=t,s.ajax(s.extend(!0,{mode:"abort",port:"validate"+e.name,dataType:"json",data:a,context:n.currentForm,success:function(i){var a=!0===i||"true"===i,o,l,h;n.settings.messages[e.name].remote=r.originalMessage,a?(h=n.formSubmitted,n.prepareElement(e),n.formSubmitted=h,n.successList.push(e),delete n.invalid[e.name],n.showErrors()):(o={},l=i||n.defaultMessage(e,"remote"),o[e.name]=r.message=s.isFunction(l)?l(t):l,n.invalid[e.name]=!0,n.showErrors(o)),r.valid=a,n.stopRequest(e,a)}},i)),"pending")}}})}).call(this),function(){var t={},e;s.ajaxPrefilter?s.ajaxPrefilter((function(e,i,s){var r=e.port;"abort"===e.mode&&(t[r]&&t[r].abort(),t[r]=s)})):(e=s.ajax,s.ajax=function(i){var r=("mode"in i?i:s.ajaxSettings).mode,n=("port"in i?i:s.ajaxSettings).port;return"abort"===r?(t[n]&&t[n].abort(),t[n]=e.apply(this,arguments),t[n]):e.apply(this,arguments)})}.call(this),function(){s.validator.addMethod("pattern",(function(t,e,i){return!!this.optional(e)||("string"==typeof i&&(i=new RegExp("^(?:"+i+")$")),i.test(t))}),"Invalid format.")}.call(this)}).call(this),Package._define("themeteorchef:jquery-validation")}();

!function(){var e=Package.meteor.Meteor,r=Package.meteor.global,n=Package.meteor.meteorEnv,o=Package["accounts-base"].Accounts,i=Package.tracker.Tracker,s=Package.tracker.Deps,t=Package.mongo.Mongo,c=Package.check.check,l=Package.check.Match,a=Package.modules.meteorInstall,d=Package.modules.meteorBabelHelpers,u=Package.promise.Promise,f=Package["ecmascript-runtime-client"].Symbol,m=Package["ecmascript-runtime-client"].Map,_=Package["ecmascript-runtime-client"].Set,p,h=a({node_modules:{meteor:{"alanning:roles":{roles:{"roles_common.js":function(r,n,o){(function(r){var n,o;r.link("@babel/runtime/helpers/typeof",{default:function(e){n=e}},0),r.link("@babel/runtime/helpers/toConsumableArray",{default:function(e){o=e}},1),e.roles||(e.roles=new t.Collection("roles")),e.roleAssignment||(e.roleAssignment=new t.Collection("role-assignment")),void 0===p&&(p={});var i=!1;Object.assign(p,{GLOBAL_GROUP:null,createRole:function(r,n){p._checkRoleName(r),n=Object.assign({unlessExists:!1},n);var o=e.roles.upsert({_id:r},{$setOnInsert:{children:[]}});if(!o.insertedId){if(n.unlessExists)return null;throw new Error("Role '"+r+"' already exists.")}return o.insertedId},deleteRole:function(r){var n,i;p._checkRoleName(r),e.roleAssignment.remove({"role._id":r});do{n=p._getParentRoleNames(e.roles.findOne({_id:r})),e.roles.find({_id:{$in:n}}).fetch().forEach((function(n){e.roles.update({_id:n._id},{$pull:{children:{_id:r}}}),i=p._getInheritedRoleNames(e.roles.findOne({_id:n._id})),e.roleAssignment.update({"role._id":n._id},{$set:{inheritedRoles:[n._id].concat(o(i)).map((function(e){return{_id:e}}))}},{multi:!0})}))}while(n.length>0);e.roles.remove({_id:r})},renameRole:function(r,n){var o,i;if(p._checkRoleName(r),p._checkRoleName(n),r!==n){if(!(o=e.roles.findOne({_id:r})))throw new Error("Role '"+r+"' does not exist.");o._id=n,e.roles.insert(o);do{i=e.roleAssignment.update({"role._id":r},{$set:{"role._id":n}},{multi:!0})}while(i>0);do{i=e.roleAssignment.update({"inheritedRoles._id":r},{$set:{"inheritedRoles.$._id":n}},{multi:!0})}while(i>0);do{i=e.roles.update({"children._id":r},{$set:{"children.$._id":n}},{multi:!0})}while(i>0);e.roles.remove({_id:r})}},addRolesToParent:function(e,r){Array.isArray(e)||(e=[e]),e.forEach((function(e){p._addRoleToParent(e,r)}))},_addRoleToParent:function(r,n){var i,s;if(p._checkRoleName(r),p._checkRoleName(n),!(i=e.roles.findOne({_id:r})))throw new Error("Role '"+r+"' does not exist.");if(p._getInheritedRoleNames(i).includes(n))throw new Error("Roles '"+r+"' and '"+n+"' would form a cycle.");(s=e.roles.update({_id:n,"children._id":{$ne:i._id}},{$push:{children:{_id:i._id}}}))&&e.roleAssignment.update({"inheritedRoles._id":n},{$push:{inheritedRoles:{$each:[i._id].concat(o(p._getInheritedRoleNames(i))).map((function(e){return{_id:e}}))}}},{multi:!0})},removeRolesFromParent:function(e,r){Array.isArray(e)||(e=[e]),e.forEach((function(e){p._removeRoleFromParent(e,r)}))},_removeRoleFromParent:function(r,n){p._checkRoleName(r),p._checkRoleName(n);var i=e.roles.findOne({_id:r},{fields:{_id:1}}),s;if(!i)throw new Error("Role '"+r+"' does not exist.");if(e.roles.update({_id:n},{$pull:{children:{_id:i._id}}})){var t=[].concat(o(p._getParentRoleNames(e.roles.findOne({_id:n}))),[n]);e.roles.find({_id:{$in:t}}).fetch().forEach((function(r){var n=p._getInheritedRoleNames(e.roles.findOne({_id:r._id}));e.roleAssignment.update({"role._id":r._id,"inheritedRoles._id":i._id},{$set:{inheritedRoles:[r._id].concat(o(n)).map((function(e){return{_id:e}}))}},{multi:!0})}))}},addUsersToRoles:function(e,r,o){var i;if(!e)throw new Error("Missing 'users' param.");if(!r)throw new Error("Missing 'roles' param.");o=p._normalizeOptions(o),Array.isArray(e)||(e=[e]),Array.isArray(r)||(r=[r]),p._checkScopeName(o.scope),o=Object.assign({ifExists:!1},o),e.forEach((function(e){i="object"===n(e)?e._id:e,r.forEach((function(e){p._addUserToRole(i,e,o)}))}))},setUserRoles:function(r,o,i){var s;if(!r)throw new Error("Missing 'users' param.");if(!o)throw new Error("Missing 'roles' param.");i=p._normalizeOptions(i),Array.isArray(r)||(r=[r]),Array.isArray(o)||(o=[o]),p._checkScopeName(i.scope),i=Object.assign({ifExists:!1,anyScope:!1},i),r.forEach((function(r){var t={"user._id":s="object"===n(r)?r._id:r};i.anyScope||(t.scope=i.scope),e.roleAssignment.remove(t),o.forEach((function(e){p._addUserToRole(s,e,i)}))}))},_addUserToRole:function(r,n,i){if(p._checkRoleName(n),p._checkScopeName(i.scope),r){var s=e.roles.findOne({_id:n},{fields:{children:1}});if(!s){if(i.ifExists)return[];throw new Error("Role '"+n+"' does not exist.")}var t=e.roleAssignment.upsert({"user._id":r,"role._id":n,scope:i.scope},{$setOnInsert:{user:{_id:r},role:{_id:n},scope:i.scope}});return t.insertedId&&e.roleAssignment.update({_id:t.insertedId},{$set:{inheritedRoles:[n].concat(o(p._getInheritedRoleNames(s))).map((function(e){return{_id:e}}))}}),t}},_getParentRoleNames:function(r){var n;return r?((n=new _([r._id])).forEach((function(r){e.roles.find({"children._id":r}).fetch().forEach((function(e){n.add(e._id)}))})),n.delete(r._id),o(n)):[]},_getInheritedRoleNames:function(r){var n=new _,i=new _([r]);return i.forEach((function(r){var o;e.roles.find({_id:{$in:r.children.map((function(e){return e._id}))}},{fields:{children:1}}).fetch().forEach((function(e){n.add(e._id),i.add(e)}))})),o(n)},removeUsersFromRoles:function(e,r,o){if(!e)throw new Error("Missing 'users' param.");if(!r)throw new Error("Missing 'roles' param.");o=p._normalizeOptions(o),Array.isArray(e)||(e=[e]),Array.isArray(r)||(r=[r]),p._checkScopeName(o.scope),e.forEach((function(e){e&&r.forEach((function(r){var i;i="object"===n(e)?e._id:e,p._removeUserFromRole(i,r,o)}))}))},_removeUserFromRole:function(r,n,o){if(p._checkRoleName(n),p._checkScopeName(o.scope),r){var i={"user._id":r,"role._id":n};o.anyScope||(i.scope=o.scope),e.roleAssignment.remove(i)}},userIsInRole:function(r,o,i){var s,t;return i=p._normalizeOptions(i),Array.isArray(o)||(o=[o]),!!(o=o.filter((function(e){return null!=e}))).length&&(p._checkScopeName(i.scope),i=Object.assign({anyScope:!1},i),!!(s=r&&"object"===n(r)?r._id:r)&&(t={"user._id":s},i.anyScope||(t.scope={$in:[i.scope,null]}),o.some((function(r){return t["inheritedRoles._id"]=r,e.roleAssignment.find(t,{limit:1}).count()>0}))))},getRolesForUser:function(r,i){var s,t,c,l;return i=p._normalizeOptions(i),p._checkScopeName(i.scope),i=Object.assign({fullObjects:!1,onlyAssigned:!1,anyScope:!1,onlyScoped:!1},i),(s=r&&"object"===n(r)?r._id:r)?(t={"user._id":s},c={fields:{"inheritedRoles._id":1}},i.anyScope||(t.scope={$in:[i.scope]},i.onlyScoped||t.scope.$in.push(null)),i.onlyAssigned&&(delete c.fields["inheritedRoles._id"],c.fields["role._id"]=1),i.fullObjects&&delete c.fields,l=e.roleAssignment.find(t,c).fetch(),i.fullObjects?l:o(new _(l.map((function(e){return e.inheritedRoles||[e.role]})).reduce((function(e,r){return e.concat(r)}),[]).map((function(e){return e._id}))))):[]},getAllRoles:function(r){return r=r||{sort:{_id:1}},e.roles.find({},r)},getUsersInRole:function(r,n,o){var i;return i=p.getUserAssignmentsForRole(r,n).fetch().map((function(e){return e.user._id})),e.users.find({_id:{$in:i}},n&&n.queryOptions||o||{})},getUserAssignmentsForRole:function(e,r){return r=p._normalizeOptions(r),r=Object.assign({anyScope:!1,queryOptions:{}},r),p._getUsersInRoleCursor(e,r,r.queryOptions)},_getUsersInRoleCursor:function(r,n,o){var i;return n=p._normalizeOptions(n),n=Object.assign({anyScope:!1,onlyScoped:!1},n),Array.isArray(r)||(r=[r]),p._checkScopeName(n.scope),o=Object.assign({fields:{"user._id":1}},o),i={"inheritedRoles._id":{$in:r}},n.anyScope||(i.scope={$in:[n.scope]},n.onlyScoped||i.scope.$in.push(null)),e.roleAssignment.find(i,o)},getGroupsForUser:function(){var e;return i||(i=!0,console&&console.warn("getGroupsForUser has been deprecated. Use getScopesForUser instead.")),(e=p).getScopesForUser.apply(e,arguments)},getScopesForUser:function(r,i){var s,t;if(i&&!Array.isArray(i)&&(i=[i]),!(t=r&&"object"===n(r)?r._id:r))return[];var c={"user._id":t,scope:{$ne:null}};return i&&(c["inheritedRoles._id"]={$in:i}),s=e.roleAssignment.find(c,{fields:{scope:1}}).fetch().map((function(e){return e.scope})),o(new _(s))},renameScope:function(r,n){var o;if(p._checkScopeName(r),p._checkScopeName(n),r!==n)do{o=e.roleAssignment.update({scope:r},{$set:{scope:n}},{multi:!0})}while(o>0)},removeScope:function(r){p._checkScopeName(r),e.roleAssignment.remove({scope:r})},_checkRoleName:function(e){if(!e||"string"!=typeof e||e.trim()!==e)throw new Error("Invalid role name '"+e+"'.")},isParentOf:function(r,n){if(r===n)return!0;if(null==r||null==n)return!1;p._checkRoleName(r),p._checkRoleName(n);for(var o=[r];0!==o.length;){var i=o.pop();if(i===n)return!0;var s=e.roles.findOne({_id:i});s&&(o=o.concat(s.children.map((function(e){return e._id}))))}return!1},_normalizeOptions:function(e){return null!==(e=void 0===e?{}:e)&&"string"!=typeof e||(e={scope:e}),e.scope=p._normalizeScopeName(e.scope),e},_normalizeScopeName:function(e){return null==e?null:e},_checkScopeName:function(e){if(null!==e&&(!e||"string"!=typeof e||e.trim()!==e))throw new Error("Invalid scope name '"+e+"'.")}})}).call(this,o)},client:{"debug.js":function(){p.debug=!1;try{if(localStorage){var e=localStorage.getItem("Roles.debug");void 0!==e&&(p.debug=!!e)}}catch(r){}},"uiHelpers.js":function(r,n,o){(function(r){var n;r.link("@babel/runtime/helpers/slicedToArray",{default:function(e){n=e}},0),p._uiHelpers={isInRole:function(r,n){var o=e.user(),i=(r||"").indexOf(","),s;return!!o&&(!!l.test(r,String)&&(s=-1!==i?r.split(",").reduce((function(e,r){return r?(e.push(r),e):e}),[]):[r],l.test(n,String)?p.userIsInRole(o,s,n):p.userIsInRole(o,s)))}},p.debug&&console.log&&console.log("[roles] Roles.debug =",p.debug),void 0!==Package.blaze&&void 0!==Package.blaze.Blaze&&"function"==typeof Package.blaze.Blaze.registerHelper&&Object.entries(p._uiHelpers).forEach((function(e){var r=n(e,2),o=r[0],i=r[1];p.debug&&console.log&&console.log("[roles] registering Blaze helper '"+o+"'"),Package.blaze.Blaze.registerHelper(o,i)}))}).call(this,o)},"subscriptions.js":function(){i.autorun((function(){p.subscription=e.subscribe("_roles")}))}}}}}}},{extensions:[".js",".json",".css"]});h("/node_modules/meteor/alanning:roles/roles/roles_common.js"),h("/node_modules/meteor/alanning:roles/roles/client/debug.js"),h("/node_modules/meteor/alanning:roles/roles/client/uiHelpers.js"),h("/node_modules/meteor/alanning:roles/roles/client/subscriptions.js"),Package._define("alanning:roles",{Roles:p})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,i,s,a,r;(function(){(function(){var t;null!=e&&e.startup((function(){if(e.isClient)return"undefined"!=typeof Template&&null!==Template?Template.registerHelper("t9n",(function(e,n){return t.get(e,!0,n.hash)})):void 0})),t=function(){class e{static setTracker(e){return this.tracker=e,this.dep=new e.Tracker.Dependency,this.depLanguage=new this.tracker.Tracker.Dependency}static map(e,t){var n;return this.maps[e]||(this.maps[e]={}),this.registerItem(e,"",!1,t),null!=(n=this.dep)?n.changed():void 0}static get(e,t=!0,n={},i){var s,a,r,g,u,l,d;return null!=(r=this.dep)&&r.depend(),null!=(g=this.depLanguage)&&g.depend(),"string"!=typeof e?"":(null==i&&(i=this.language),!(d=null!=(u=this.maps[i])?u[e]:void 0)&&(s=i.lastIndexOf("_"))&&(a=i.substring(0,s))?this.get(e,t,n,a):(d||(d=null!=(l=this.maps[this.defaultLanguage])?l[e]:void 0),d?0===Object.keys(n).length?d:this.replaceParams(d,n):t?this.missingPrefix+e+this.missingPostfix:e))}static registerItem(e,t,n,i){var s,a,r;if("string"==typeof i)return this.maps[e][t]=i;if("object"==typeof i){for(s in n&&(t+="."),a=[],i)r=i[s],a.push(this.registerItem(e,t+s,!0,r));return a}}static getLanguage(){var e;return null!=(e=this.depLanguage)&&e.depend(),this.language}static getLanguages(){var e;return null!=(e=this.dep)&&e.depend(),Object.keys(this.maps).sort()}static getLanguageInfo(){var e,t,n,i,s,a;for(null!=(s=this.dep)&&s.depend(),a=[],e=0,i=(n=Object.keys(this.maps).sort()).length;e<i;e++)t=n[e],a.push({name:this.maps[t].t9Name,code:t});return a}static setLanguage(e){var t;if(this.language!==e){if(e=e.replace(new RegExp("-","g"),"_"),!this.maps[e]){if(e.indexOf("_")>1)return this.setLanguage(e.substring(0,e.lastIndexOf("_")));throw Error(`language ${e} does not exist`)}return this.language=e,null!=(t=this.depLanguage)?t.changed():void 0}}static replaceParams(e,t){var n,i,s,a,r,g;for(n=0,s=e;n>-1;)(n=s.indexOf("@{"))>-1&&(i=s.indexOf("}"),(a=s.substring(n,i+1)).indexOf("->")>-1?(g=this.handleSelector(s,t,a),e=e.replace(a,g)):(r=a.substring(2,a.indexOf("}")),e=(e=e.replace(new RegExp(a,"g"),t[r])).replace(new RegExp(`\\$${r}`,"g"),t[r])),s=s.substring(i+2).trim());return e}static handleSelector(e,t,n){var i,s,a;if(a=n.substring(2,n.indexOf(" ")),i=(s=e.split(/\n/).slice(1).map((function(e){var t;return{regexString:t=e.trim().split(/\s/)[0],line:e.substring(e.indexOf(t)+t.length)}}))).find((function(e){return new RegExp(e.regexString).test(t[a])})))return i.line.substring(i.line.lastIndexOf("]")+1).trim().replace(new RegExp(`\\$${a}`),t[a])}}return e.maps={},e.defaultLanguage="en",e.language="",e.dep=void 0,e.depLanguage=void 0,e.missingPrefix=">",e.missingPostfix="<",e}.call(this),this.T9n=t,this.t9n=function(e,n,i){return t.get(e)},"undefined"!=typeof module&&null!==module&&(module.exports.T9n=t)}).call(this)}).call(this),Package._define("softwarerero:accounts-t9n",{T9n:r})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,s;(function(){!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,(function(){"use strict";var e,t;function n(){return e.apply(null,arguments)}function s(t){e=t}function i(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function r(e){return"[object Object]"===Object.prototype.toString.call(e)}function a(e){var t;for(t in e)return!1;return!0}function o(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function u(e,t){var n=[],s;for(s=0;s<e.length;++s)n.push(t(e[s],s));return n}function d(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e,t){for(var n in t)d(t,n)&&(e[n]=t[n]);return d(t,"toString")&&(e.toString=t.toString),d(t,"valueOf")&&(e.valueOf=t.valueOf),e}function h(e,t,n,s){return Cn(e,t,n,s,!0).utc()}function c(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function f(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}),e._pf}function m(e){if(null==e._isValid){var n=f(e),s=t.call(n.parsedDateParts,(function(e){return null!=e}));e._isValid=!isNaN(e._d.getTime())&&n.overflow<0&&!n.empty&&!n.invalidMonth&&!n.invalidWeekday&&!n.nullInput&&!n.invalidFormat&&!n.userInvalidated&&(!n.meridiem||n.meridiem&&s),e._strict&&(e._isValid=e._isValid&&0===n.charsLeftOver&&0===n.unusedTokens.length&&void 0===n.bigHour)}return e._isValid}function _(e){var t=h(NaN);return null!=e?l(f(t),e):f(t).userInvalidated=!0,t}function y(e){return void 0===e}t=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,s=0;s<n;s++)if(s in t&&e.call(this,t[s],s,t))return!0;return!1};var g=n.momentProperties=[];function v(e,t){var n,s,i;if(y(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),y(t._i)||(e._i=t._i),y(t._f)||(e._f=t._f),y(t._l)||(e._l=t._l),y(t._strict)||(e._strict=t._strict),y(t._tzm)||(e._tzm=t._tzm),y(t._isUTC)||(e._isUTC=t._isUTC),y(t._offset)||(e._offset=t._offset),y(t._pf)||(e._pf=f(t)),y(t._locale)||(e._locale=t._locale),g.length>0)for(n in g)y(i=t[s=g[n]])||(e[s]=i);return e}var p=!1;function w(e){v(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),!1===p&&(p=!0,n.updateOffset(this),p=!1)}function k(e){return e instanceof w||null!=e&&null!=e._isAMomentObject}function M(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function S(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=M(t)),n}function D(e,t,n){var s=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),r=0,a;for(a=0;a<s;a++)(n&&e[a]!==t[a]||!n&&S(e[a])!==S(t[a]))&&r++;return r+i}function Y(e){!1===n.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function x(e,t){var s=!0;return l((function(){return null!=n.deprecationHandler&&n.deprecationHandler(null,e),s&&(Y(e+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),s=!1),t.apply(this,arguments)}),t)}var O={},T;function b(e,t){null!=n.deprecationHandler&&n.deprecationHandler(e,t),O[e]||(Y(t),O[e]=!0)}function P(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function W(e){var t,n;for(n in e)P(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function R(e,t){var n=l({},e),s;for(s in t)d(t,s)&&(r(e[s])&&r(t[s])?(n[s]={},l(n[s],e[s]),l(n[s],t[s])):null!=t[s]?n[s]=t[s]:delete n[s]);for(s in e)d(e,s)&&!d(t,s)&&r(e[s])&&(n[s]=l({},n[s]));return n}function U(e){null!=e&&this.set(e)}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null,T=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)d(e,t)&&n.push(t);return n};var C={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function F(e,t,n){var s=this._calendar[e]||this._calendar.sameElse;return P(s)?s.call(t,n):s}var L={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function H(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,(function(e){return e.slice(1)})),this._longDateFormat[e])}var G="Invalid date";function V(){return this._invalidDate}var j="%d",A=/\d{1,2}/;function E(e){return this._ordinal.replace("%d",e)}var I={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function N(e,t,n,s){var i=this._relativeTime[n];return P(i)?i(e,t,n,s):i.replace(/%d/i,e)}function z(e,t){var n=this._relativeTime[e>0?"future":"past"];return P(n)?n(t):n.replace(/%s/i,t)}var Z={};function q(e,t){var n=e.toLowerCase();Z[n]=Z[n+"s"]=Z[t]=e}function $(e){return"string"==typeof e?Z[e]||Z[e.toLowerCase()]:void 0}function B(e){var t={},n,s;for(s in e)d(e,s)&&(n=$(s))&&(t[n]=e[s]);return t}var J={};function Q(e,t){J[e]=t}function X(e){var t=[];for(var n in e)t.push({unit:n,priority:J[n]});return t.sort((function(e,t){return e.priority-t.priority})),t}function K(e,t){return function(s){return null!=s?(te(this,e,s),n.updateOffset(this,t),this):ee(this,e)}}function ee(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function te(e,t,n){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](n)}function ne(e){return P(this[e=$(e)])?this[e]():this}function se(e,t){if("object"==typeof e)for(var n=X(e=B(e)),s=0;s<n.length;s++)this[n[s].unit](e[n[s].unit]);else if(P(this[e=$(e)]))return this[e](t);return this}function ie(e,t,n){var s=""+Math.abs(e),i=t-s.length,r;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+s}var re=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ae=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,oe={},ue={};function de(e,t,n,s){var i=s;"string"==typeof s&&(i=function(){return this[s]()}),e&&(ue[e]=i),t&&(ue[t[0]]=function(){return ie(i.apply(this,arguments),t[1],t[2])}),n&&(ue[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function le(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function he(e){var t=e.match(re),n,s;for(n=0,s=t.length;n<s;n++)ue[t[n]]?t[n]=ue[t[n]]:t[n]=le(t[n]);return function(n){var i="",r;for(r=0;r<s;r++)i+=t[r]instanceof Function?t[r].call(n,e):t[r];return i}}function ce(e,t){return e.isValid()?(t=fe(t,e.localeData()),oe[t]=oe[t]||he(t),oe[t](e)):e.localeData().invalidDate()}function fe(e,t){var n=5;function s(e){return t.longDateFormat(e)||e}for(ae.lastIndex=0;n>=0&&ae.test(e);)e=e.replace(ae,s),ae.lastIndex=0,n-=1;return e}var me=/\d/,_e=/\d\d/,ye=/\d{3}/,ge=/\d{4}/,ve=/[+-]?\d{6}/,pe=/\d\d?/,we=/\d\d\d\d?/,ke=/\d\d\d\d\d\d?/,Me=/\d{1,3}/,Se=/\d{1,4}/,De=/[+-]?\d{1,6}/,Ye=/\d+/,xe=/[+-]?\d+/,Oe=/Z|[+-]\d\d:?\d\d/gi,Te=/Z|[+-]\d\d(?::?\d\d)?/gi,be=/[+-]?\d+(\.\d{1,3})?/,Pe=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,We={};function Re(e,t,n){We[e]=P(t)?t:function(e,s){return e&&n?n:t}}function Ue(e,t){return d(We,e)?We[e](t._strict,t._locale):new RegExp(Ce(e))}function Ce(e){return Fe(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,s,i){return t||n||s||i})))}function Fe(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Le={};function He(e,t){var n,s=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(s=function(e,n){n[t]=S(e)}),n=0;n<e.length;n++)Le[e[n]]=s}function Ge(e,t){He(e,(function(e,n,s,i){s._w=s._w||{},t(e,s._w,s,i)}))}function Ve(e,t,n){null!=t&&d(Le,e)&&Le[e](t,n._a,n,e)}var je=0,Ae=1,Ee=2,Ie=3,Ne=4,ze=5,Ze=6,qe=7,$e=8,Be;function Je(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}Be=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},de("M",["MM",2],"Mo",(function(){return this.month()+1})),de("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),de("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),q("month","M"),Q("month",8),Re("M",pe),Re("MM",pe,_e),Re("MMM",(function(e,t){return t.monthsShortRegex(e)})),Re("MMMM",(function(e,t){return t.monthsRegex(e)})),He(["M","MM"],(function(e,t){t[Ae]=S(e)-1})),He(["MMM","MMMM"],(function(e,t,n,s){var i=n._locale.monthsParse(e,s,n._strict);null!=i?t[Ae]=i:f(n).invalidMonth=e}));var Qe=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,Xe="January_February_March_April_May_June_July_August_September_October_November_December".split("_");function Ke(e,t){return i(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Qe).test(t)?"format":"standalone"][e.month()]}var et="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function tt(e,t){return i(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Qe.test(t)?"format":"standalone"][e.month()]}function nt(e,t,n){var s,i,r,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)r=h([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(r,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=Be.call(this._shortMonthsParse,a))?i:null:-1!==(i=Be.call(this._longMonthsParse,a))?i:null:"MMM"===t?-1!==(i=Be.call(this._shortMonthsParse,a))?i:-1!==(i=Be.call(this._longMonthsParse,a))?i:null:-1!==(i=Be.call(this._longMonthsParse,a))?i:-1!==(i=Be.call(this._shortMonthsParse,a))?i:null}function st(e,t,n){var s,i,r;if(this._monthsParseExact)return nt.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(i=h([2e3,s]),n&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[s]||(r="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[s]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[s].test(e))return s;if(n&&"MMM"===t&&this._shortMonthsParse[s].test(e))return s;if(!n&&this._monthsParse[s].test(e))return s}}function it(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=S(t);else if("number"!=typeof(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Je(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function rt(e){return null!=e?(it(this,e),n.updateOffset(this,!0),this):ee(this,"Month")}function at(){return Je(this.year(),this.month())}var ot=Pe;function ut(e){return this._monthsParseExact?(d(this,"_monthsRegex")||ht.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(d(this,"_monthsShortRegex")||(this._monthsShortRegex=ot),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}var dt=Pe;function lt(e){return this._monthsParseExact?(d(this,"_monthsRegex")||ht.call(this),e?this._monthsStrictRegex:this._monthsRegex):(d(this,"_monthsRegex")||(this._monthsRegex=dt),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function ht(){function e(e,t){return t.length-e.length}var t=[],n=[],s=[],i,r;for(i=0;i<12;i++)r=h([2e3,i]),t.push(this.monthsShort(r,"")),n.push(this.months(r,"")),s.push(this.months(r,"")),s.push(this.monthsShort(r,""));for(t.sort(e),n.sort(e),s.sort(e),i=0;i<12;i++)t[i]=Fe(t[i]),n[i]=Fe(n[i]);for(i=0;i<24;i++)s[i]=Fe(s[i]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function ct(e){return ft(e)?366:365}function ft(e){return e%4==0&&e%100!=0||e%400==0}de("Y",0,0,(function(){var e=this.year();return e<=9999?""+e:"+"+e})),de(0,["YY",2],0,(function(){return this.year()%100})),de(0,["YYYY",4],0,"year"),de(0,["YYYYY",5],0,"year"),de(0,["YYYYYY",6,!0],0,"year"),q("year","y"),Q("year",1),Re("Y",xe),Re("YY",pe,_e),Re("YYYY",Se,ge),Re("YYYYY",De,ve),Re("YYYYYY",De,ve),He(["YYYYY","YYYYYY"],je),He("YYYY",(function(e,t){t[je]=2===e.length?n.parseTwoDigitYear(e):S(e)})),He("YY",(function(e,t){t[je]=n.parseTwoDigitYear(e)})),He("Y",(function(e,t){t[je]=parseInt(e,10)})),n.parseTwoDigitYear=function(e){return S(e)+(S(e)>68?1900:2e3)};var mt=K("FullYear",!0);function _t(){return ft(this.year())}function yt(e,t,n,s,i,r,a){var o=new Date(e,t,n,s,i,r,a);return e<100&&e>=0&&isFinite(o.getFullYear())&&o.setFullYear(e),o}function gt(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function vt(e,t,n){var s=7+t-n,i;return-((7+gt(e,0,s).getUTCDay()-t)%7)+s-1}function pt(e,t,n,s,i){var r,a,o=1+7*(t-1)+(7+n-s)%7+vt(e,s,i),u,d;return o<=0?d=ct(u=e-1)+o:o>ct(e)?(u=e+1,d=o-ct(e)):(u=e,d=o),{year:u,dayOfYear:d}}function wt(e,t,n){var s=vt(e.year(),t,n),i=Math.floor((e.dayOfYear()-s-1)/7)+1,r,a;return i<1?r=i+kt(a=e.year()-1,t,n):i>kt(e.year(),t,n)?(r=i-kt(e.year(),t,n),a=e.year()+1):(a=e.year(),r=i),{week:r,year:a}}function kt(e,t,n){var s=vt(e,t,n),i=vt(e+1,t,n);return(ct(e)-s+i)/7}function Mt(e){return wt(e,this._week.dow,this._week.doy).week}de("w",["ww",2],"wo","week"),de("W",["WW",2],"Wo","isoWeek"),q("week","w"),q("isoWeek","W"),Q("week",5),Q("isoWeek",5),Re("w",pe),Re("ww",pe,_e),Re("W",pe),Re("WW",pe,_e),Ge(["w","ww","W","WW"],(function(e,t,n,s){t[s.substr(0,1)]=S(e)}));var St={dow:0,doy:6};function Dt(){return this._week.dow}function Yt(){return this._week.doy}function xt(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Ot(e){var t=wt(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Tt(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function bt(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}de("d",0,"do","day"),de("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),de("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),de("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),de("e",0,0,"weekday"),de("E",0,0,"isoWeekday"),q("day","d"),q("weekday","e"),q("isoWeekday","E"),Q("day",11),Q("weekday",11),Q("isoWeekday",11),Re("d",pe),Re("e",pe),Re("E",pe),Re("dd",(function(e,t){return t.weekdaysMinRegex(e)})),Re("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),Re("dddd",(function(e,t){return t.weekdaysRegex(e)})),Ge(["dd","ddd","dddd"],(function(e,t,n,s){var i=n._locale.weekdaysParse(e,s,n._strict);null!=i?t.d=i:f(n).invalidWeekday=e})),Ge(["d","e","E"],(function(e,t,n,s){t[s]=S(e)}));var Pt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");function Wt(e,t){return i(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]}var Rt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");function Ut(e){return this._weekdaysShort[e.day()]}var Ct="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function Ft(e){return this._weekdaysMin[e.day()]}function Lt(e,t,n){var s,i,r,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)r=h([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(r,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=Be.call(this._weekdaysParse,a))?i:null:"ddd"===t?-1!==(i=Be.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=Be.call(this._minWeekdaysParse,a))?i:null:"dddd"===t?-1!==(i=Be.call(this._weekdaysParse,a))?i:-1!==(i=Be.call(this._shortWeekdaysParse,a))?i:-1!==(i=Be.call(this._minWeekdaysParse,a))?i:null:"ddd"===t?-1!==(i=Be.call(this._shortWeekdaysParse,a))?i:-1!==(i=Be.call(this._weekdaysParse,a))?i:-1!==(i=Be.call(this._minWeekdaysParse,a))?i:null:-1!==(i=Be.call(this._minWeekdaysParse,a))?i:-1!==(i=Be.call(this._weekdaysParse,a))?i:-1!==(i=Be.call(this._shortWeekdaysParse,a))?i:null}function Ht(e,t,n){var s,i,r;if(this._weekdaysParseExact)return Lt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(i=h([2e3,1]).day(s),n&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(i,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(i,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(i,"").replace(".",".?")+"$","i")),this._weekdaysParse[s]||(r="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[s]=new RegExp(r.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[s].test(e))return s;if(n&&"ddd"===t&&this._shortWeekdaysParse[s].test(e))return s;if(n&&"dd"===t&&this._minWeekdaysParse[s].test(e))return s;if(!n&&this._weekdaysParse[s].test(e))return s}}function Gt(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Tt(e,this.localeData()),this.add(e-t,"d")):t}function Vt(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function jt(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=bt(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}var At=Pe;function Et(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||qt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(d(this,"_weekdaysRegex")||(this._weekdaysRegex=At),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}var It=Pe;function Nt(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||qt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(d(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=It),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}var zt=Pe;function Zt(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||qt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(d(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=zt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function qt(){function e(e,t){return t.length-e.length}var t=[],n=[],s=[],i=[],r,a,o,u,d;for(r=0;r<7;r++)a=h([2e3,1]).day(r),o=this.weekdaysMin(a,""),u=this.weekdaysShort(a,""),d=this.weekdays(a,""),t.push(o),n.push(u),s.push(d),i.push(o),i.push(u),i.push(d);for(t.sort(e),n.sort(e),s.sort(e),i.sort(e),r=0;r<7;r++)n[r]=Fe(n[r]),s[r]=Fe(s[r]),i[r]=Fe(i[r]);this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function $t(){return this.hours()%12||12}function Bt(){return this.hours()||24}function Jt(e,t){de(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function Qt(e,t){return t._meridiemParse}function Xt(e){return"p"===(e+"").toLowerCase().charAt(0)}de("H",["HH",2],0,"hour"),de("h",["hh",2],0,$t),de("k",["kk",2],0,Bt),de("hmm",0,0,(function(){return""+$t.apply(this)+ie(this.minutes(),2)})),de("hmmss",0,0,(function(){return""+$t.apply(this)+ie(this.minutes(),2)+ie(this.seconds(),2)})),de("Hmm",0,0,(function(){return""+this.hours()+ie(this.minutes(),2)})),de("Hmmss",0,0,(function(){return""+this.hours()+ie(this.minutes(),2)+ie(this.seconds(),2)})),Jt("a",!0),Jt("A",!1),q("hour","h"),Q("hour",13),Re("a",Qt),Re("A",Qt),Re("H",pe),Re("h",pe),Re("HH",pe,_e),Re("hh",pe,_e),Re("hmm",we),Re("hmmss",ke),Re("Hmm",we),Re("Hmmss",ke),He(["H","HH"],Ie),He(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),He(["h","hh"],(function(e,t,n){t[Ie]=S(e),f(n).bigHour=!0})),He("hmm",(function(e,t,n){var s=e.length-2;t[Ie]=S(e.substr(0,s)),t[Ne]=S(e.substr(s)),f(n).bigHour=!0})),He("hmmss",(function(e,t,n){var s=e.length-4,i=e.length-2;t[Ie]=S(e.substr(0,s)),t[Ne]=S(e.substr(s,2)),t[ze]=S(e.substr(i)),f(n).bigHour=!0})),He("Hmm",(function(e,t,n){var s=e.length-2;t[Ie]=S(e.substr(0,s)),t[Ne]=S(e.substr(s))})),He("Hmmss",(function(e,t,n){var s=e.length-4,i=e.length-2;t[Ie]=S(e.substr(0,s)),t[Ne]=S(e.substr(s,2)),t[ze]=S(e.substr(i))}));var Kt=/[ap]\.?m?\.?/i;function en(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var tn=K("Hours",!0),nn={calendar:C,longDateFormat:L,invalidDate:"Invalid date",ordinal:"%d",ordinalParse:A,relativeTime:I,months:Xe,monthsShort:et,week:St,weekdays:Pt,weekdaysMin:Ct,weekdaysShort:Rt,meridiemParse:Kt},sn={},rn;function an(e){return e?e.toLowerCase().replace("_","-"):e}function on(e){for(var t=0,n,s,i,r;t<e.length;){for(n=(r=an(e[t]).split("-")).length,s=(s=an(e[t+1]))?s.split("-"):null;n>0;){if(i=un(r.slice(0,n).join("-")))return i;if(s&&s.length>=n&&D(r,s,!0)>=n-1)break;n--}t++}return null}function un(e){var t=null;if(!sn[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=rn._abbr,require("./locale/"+e),dn(t)}catch(n){}return sn[e]}function dn(e,t){var n;return e&&(n=y(t)?cn(e):ln(e,t))&&(rn=n),rn._abbr}function ln(e,t){if(null!==t){var n=nn;return t.abbr=e,null!=sn[e]?(b("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=sn[e]._config):null!=t.parentLocale&&(null!=sn[t.parentLocale]?n=sn[t.parentLocale]._config:b("parentLocaleUndefined","specified parentLocale is not defined yet. See http://momentjs.com/guides/#/warnings/parent-locale/")),sn[e]=new U(R(n,t)),dn(e),sn[e]}return delete sn[e],null}function hn(e,t){if(null!=t){var n,s=nn;null!=sn[e]&&(s=sn[e]._config),(n=new U(t=R(s,t))).parentLocale=sn[e],sn[e]=n,dn(e)}else null!=sn[e]&&(null!=sn[e].parentLocale?sn[e]=sn[e].parentLocale:null!=sn[e]&&delete sn[e]);return sn[e]}function cn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return rn;if(!i(e)){if(t=un(e))return t;e=[e]}return on(e)}function fn(){return T(sn)}function mn(e){var t,n=e._a;return n&&-2===f(e).overflow&&(t=n[Ae]<0||n[Ae]>11?Ae:n[Ee]<1||n[Ee]>Je(n[je],n[Ae])?Ee:n[Ie]<0||n[Ie]>24||24===n[Ie]&&(0!==n[Ne]||0!==n[ze]||0!==n[Ze])?Ie:n[Ne]<0||n[Ne]>59?Ne:n[ze]<0||n[ze]>59?ze:n[Ze]<0||n[Ze]>999?Ze:-1,f(e)._overflowDayOfYear&&(t<je||t>Ee)&&(t=Ee),f(e)._overflowWeeks&&-1===t&&(t=qe),f(e)._overflowWeekday&&-1===t&&(t=$e),f(e).overflow=t),e}var _n=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,yn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,gn=/Z|[+-]\d\d(?::?\d\d)?/,vn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],pn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],wn=/^\/?Date\((\-?\d+)/i;function kn(e){var t,n,s=e._i,i=_n.exec(s)||yn.exec(s),r,a,o,u;if(i){for(f(e).iso=!0,t=0,n=vn.length;t<n;t++)if(vn[t][1].exec(i[1])){a=vn[t][0],r=!1!==vn[t][2];break}if(null==a)return void(e._isValid=!1);if(i[3]){for(t=0,n=pn.length;t<n;t++)if(pn[t][1].exec(i[3])){o=(i[2]||" ")+pn[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(i[4]){if(!gn.exec(i[4]))return void(e._isValid=!1);u="Z"}e._f=a+(o||"")+(u||""),On(e)}else e._isValid=!1}function Mn(e){var t=wn.exec(e._i);null===t?(kn(e),!1===e._isValid&&(delete e._isValid,n.createFromInputFallback(e))):e._d=new Date(+t[1])}function Sn(e,t,n){return null!=e?e:null!=t?t:n}function Dn(e){var t=new Date(n.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Yn(e){var t,n,s=[],i,r;if(!e._d){for(i=Dn(e),e._w&&null==e._a[Ee]&&null==e._a[Ae]&&xn(e),e._dayOfYear&&(r=Sn(e._a[je],i[je]),e._dayOfYear>ct(r)&&(f(e)._overflowDayOfYear=!0),n=gt(r,0,e._dayOfYear),e._a[Ae]=n.getUTCMonth(),e._a[Ee]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=i[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Ie]&&0===e._a[Ne]&&0===e._a[ze]&&0===e._a[Ze]&&(e._nextDay=!0,e._a[Ie]=0),e._d=(e._useUTC?gt:yt).apply(null,s),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ie]=24)}}function xn(e){var t,n,s,i,r,a,o,u;null!=(t=e._w).GG||null!=t.W||null!=t.E?(r=1,a=4,n=Sn(t.GG,e._a[je],wt(Fn(),1,4).year),s=Sn(t.W,1),((i=Sn(t.E,1))<1||i>7)&&(u=!0)):(r=e._locale._week.dow,a=e._locale._week.doy,n=Sn(t.gg,e._a[je],wt(Fn(),r,a).year),s=Sn(t.w,1),null!=t.d?((i=t.d)<0||i>6)&&(u=!0):null!=t.e?(i=t.e+r,(t.e<0||t.e>6)&&(u=!0)):i=r),s<1||s>kt(n,r,a)?f(e)._overflowWeeks=!0:null!=u?f(e)._overflowWeekday=!0:(o=pt(n,s,i,r,a),e._a[je]=o.year,e._dayOfYear=o.dayOfYear)}function On(e){if(e._f!==n.ISO_8601){e._a=[],f(e).empty=!0;var t=""+e._i,s,i,r,a,o,u=t.length,d=0;for(r=fe(e._f,e._locale).match(re)||[],s=0;s<r.length;s++)a=r[s],(i=(t.match(Ue(a,e))||[])[0])&&((o=t.substr(0,t.indexOf(i))).length>0&&f(e).unusedInput.push(o),t=t.slice(t.indexOf(i)+i.length),d+=i.length),ue[a]?(i?f(e).empty=!1:f(e).unusedTokens.push(a),Ve(a,i,e)):e._strict&&!i&&f(e).unusedTokens.push(a);f(e).charsLeftOver=u-d,t.length>0&&f(e).unusedInput.push(t),e._a[Ie]<=12&&!0===f(e).bigHour&&e._a[Ie]>0&&(f(e).bigHour=void 0),f(e).parsedDateParts=e._a.slice(0),f(e).meridiem=e._meridiem,e._a[Ie]=Tn(e._locale,e._a[Ie],e._meridiem),Yn(e),mn(e)}else kn(e)}function Tn(e,t,n){var s;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((s=e.isPM(n))&&t<12&&(t+=12),s||12!==t||(t=0),t):t}function bn(e){var t,n,s,i,r;if(0===e._f.length)return f(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)r=0,t=v({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],On(t),m(t)&&(r+=f(t).charsLeftOver,r+=10*f(t).unusedTokens.length,f(t).score=r,(null==s||r<s)&&(s=r,n=t));l(e,n||t)}function Pn(e){if(!e._d){var t=B(e._i);e._a=u([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Yn(e)}}function Wn(e){var t=new w(mn(Rn(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Rn(e){var t=e._i,n=e._f;return e._locale=e._locale||cn(e._l),null===t||void 0===n&&""===t?_({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),k(t)?new w(mn(t)):(i(n)?bn(e):o(t)?e._d=t:n?On(e):Un(e),m(e)||(e._d=null),e))}function Un(e){var t=e._i;void 0===t?e._d=new Date(n.now()):o(t)?e._d=new Date(t.valueOf()):"string"==typeof t?Mn(e):i(t)?(e._a=u(t.slice(0),(function(e){return parseInt(e,10)})),Yn(e)):"object"==typeof t?Pn(e):"number"==typeof t?e._d=new Date(t):n.createFromInputFallback(e)}function Cn(e,t,n,s,o){var u={};return"boolean"==typeof n&&(s=n,n=void 0),(r(e)&&a(e)||i(e)&&0===e.length)&&(e=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=o,u._l=n,u._i=e,u._f=t,u._strict=s,Wn(u)}function Fn(e,t,n,s){return Cn(e,t,n,s,!1)}n.createFromInputFallback=x("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),n.ISO_8601=function(){};var Ln=x("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Fn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:_()})),Hn=x("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Fn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:_()}));function Gn(e,t){var n,s;if(1===t.length&&i(t[0])&&(t=t[0]),!t.length)return Fn();for(n=t[0],s=1;s<t.length;++s)t[s].isValid()&&!t[s][e](n)||(n=t[s]);return n}function Vn(){var e;return Gn("isBefore",[].slice.call(arguments,0))}function jn(){var e;return Gn("isAfter",[].slice.call(arguments,0))}var An=function(){return Date.now?Date.now():+new Date};function En(e){var t=B(e),n=t.year||0,s=t.quarter||0,i=t.month||0,r=t.week||0,a=t.day||0,o=t.hour||0,u=t.minute||0,d=t.second||0,l=t.millisecond||0;this._milliseconds=+l+1e3*d+6e4*u+1e3*o*60*60,this._days=+a+7*r,this._months=+i+3*s+12*n,this._data={},this._locale=cn(),this._bubble()}function In(e){return e instanceof En}function Nn(e,t){de(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+ie(~~(e/60),2)+t+ie(~~e%60,2)}))}Nn("Z",":"),Nn("ZZ",""),Re("Z",Te),Re("ZZ",Te),He(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=Zn(Te,e)}));var zn=/([\+\-]|\d\d)/gi;function Zn(e,t){var n=(t||"").match(e)||[],s,i=((n[n.length-1]||[])+"").match(zn)||["-",0,0],r=60*i[1]+S(i[2]);return"+"===i[0]?r:-r}function qn(e,t){var s,i;return t._isUTC?(s=t.clone(),i=(k(e)||o(e)?e.valueOf():Fn(e).valueOf())-s.valueOf(),s._d.setTime(s._d.valueOf()+i),n.updateOffset(s,!1),s):Fn(e).local()}function $n(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Bn(e,t){var s=this._offset||0,i;return this.isValid()?null!=e?("string"==typeof e?e=Zn(Te,e):Math.abs(e)<16&&(e*=60),!this._isUTC&&t&&(i=$n(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),s!==e&&(!t||this._changeInProgress?ms(this,us(e-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?s:$n(this):null!=e?this:NaN}function Jn(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Qn(e){return this.utcOffset(0,e)}function Xn(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract($n(this),"m")),this}function Kn(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Zn(Oe,this._i)),this}function es(e){return!!this.isValid()&&(e=e?Fn(e).utcOffset():0,(this.utcOffset()-e)%60==0)}function ts(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function ns(){if(!y(this._isDSTShifted))return this._isDSTShifted;var e={};if(v(e,this),(e=Rn(e))._a){var t=e._isUTC?h(e._a):Fn(e._a);this._isDSTShifted=this.isValid()&&D(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function ss(){return!!this.isValid()&&!this._isUTC}function is(){return!!this.isValid()&&this._isUTC}function rs(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}n.updateOffset=function(){};var as=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,os=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;function us(e,t){var n=e,s=null,i,r,a;return In(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(n={},t?n[t]=e:n.milliseconds=e):(s=as.exec(e))?(i="-"===s[1]?-1:1,n={y:0,d:S(s[Ee])*i,h:S(s[Ie])*i,m:S(s[Ne])*i,s:S(s[ze])*i,ms:S(s[Ze])*i}):(s=os.exec(e))?(i="-"===s[1]?-1:1,n={y:ds(s[2],i),M:ds(s[3],i),w:ds(s[4],i),d:ds(s[5],i),h:ds(s[6],i),m:ds(s[7],i),s:ds(s[8],i)}):null==n?n={}:"object"==typeof n&&("from"in n||"to"in n)&&(a=hs(Fn(n.from),Fn(n.to)),(n={}).ms=a.milliseconds,n.M=a.months),r=new En(n),In(e)&&d(e,"_locale")&&(r._locale=e._locale),r}function ds(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function ls(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function hs(e,t){var n;return e.isValid()&&t.isValid()?(t=qn(t,e),e.isBefore(t)?n=ls(e,t):((n=ls(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function cs(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function fs(e,t){return function(n,s){var i,r;return null===s||isNaN(+s)||(b(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=s,s=r),ms(this,i=us(n="string"==typeof n?+n:n,s),e),this}}function ms(e,t,s,i){var r=t._milliseconds,a=cs(t._days),o=cs(t._months);e.isValid()&&(i=null==i||i,r&&e._d.setTime(e._d.valueOf()+r*s),a&&te(e,"Date",ee(e,"Date")+a*s),o&&it(e,ee(e,"Month")+o*s),i&&n.updateOffset(e,a||o))}us.fn=En.prototype;var _s=fs(1,"add"),ys=fs(-1,"subtract");function gs(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function vs(e,t){var s=e||Fn(),i=qn(s,this).startOf("day"),r=n.calendarFormat(this,i)||"sameElse",a=t&&(P(t[r])?t[r].call(this,s):t[r]);return this.format(a||this.localeData().calendar(r,this,Fn(s)))}function ps(){return new w(this)}function ws(e,t){var n=k(e)?e:Fn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=$(y(t)?"millisecond":t))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function ks(e,t){var n=k(e)?e:Fn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=$(y(t)?"millisecond":t))?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Ms(e,t,n,s){return("("===(s=s||"()")[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===s[1]?this.isBefore(t,n):!this.isAfter(t,n))}function Ss(e,t){var n=k(e)?e:Fn(e),s;return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=$(t||"millisecond"))?this.valueOf()===n.valueOf():(s=n.valueOf(),this.clone().startOf(t).valueOf()<=s&&s<=this.clone().endOf(t).valueOf()))}function Ds(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Ys(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function xs(e,t,n){var s,i,r,a;return this.isValid()&&(s=qn(e,this)).isValid()?(i=6e4*(s.utcOffset()-this.utcOffset()),"year"===(t=$(t))||"month"===t||"quarter"===t?(a=Os(this,s),"quarter"===t?a/=3:"year"===t&&(a/=12)):(r=this-s,a="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-i)/864e5:"week"===t?(r-i)/6048e5:r),n?a:M(a)):NaN}function Os(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),s=e.clone().add(n,"months"),i,r;return-(n+(r=t-s<0?(t-s)/(s-(i=e.clone().add(n-1,"months"))):(t-s)/((i=e.clone().add(n+1,"months"))-s)))||0}function Ts(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function bs(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?P(Date.prototype.toISOString)?this.toDate().toISOString():ce(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):ce(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function Ps(e){e||(e=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var t=ce(this,e);return this.localeData().postformat(t)}function Ws(e,t){return this.isValid()&&(k(e)&&e.isValid()||Fn(e).isValid())?us({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Rs(e){return this.from(Fn(),e)}function Us(e,t){return this.isValid()&&(k(e)&&e.isValid()||Fn(e).isValid())?us({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Cs(e){return this.to(Fn(),e)}function Fs(e){var t;return void 0===e?this._locale._abbr:(null!=(t=cn(e))&&(this._locale=t),this)}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Ls=x("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function Hs(){return this._locale}function Gs(e){switch(e=$(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function Vs(e){return void 0===(e=$(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function js(){return this._d.valueOf()-6e4*(this._offset||0)}function As(){return Math.floor(this.valueOf()/1e3)}function Es(){return new Date(this.valueOf())}function Is(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Ns(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function zs(){return this.isValid()?this.toISOString():null}function Zs(){return m(this)}function qs(){return l({},f(this))}function $s(){return f(this).overflow}function Bs(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Js(e,t){de(0,[e,e.length],0,t)}function Qs(e){return ti.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Xs(e){return ti.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Ks(){return kt(this.year(),1,4)}function ei(){var e=this.localeData()._week;return kt(this.year(),e.dow,e.doy)}function ti(e,t,n,s,i){var r;return null==e?wt(this,s,i).year:(t>(r=kt(e,s,i))&&(t=r),ni.call(this,e,t,n,s,i))}function ni(e,t,n,s,i){var r=pt(e,t,n,s,i),a=gt(r.year,0,r.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function si(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}de(0,["gg",2],0,(function(){return this.weekYear()%100})),de(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Js("gggg","weekYear"),Js("ggggg","weekYear"),Js("GGGG","isoWeekYear"),Js("GGGGG","isoWeekYear"),q("weekYear","gg"),q("isoWeekYear","GG"),Q("weekYear",1),Q("isoWeekYear",1),Re("G",xe),Re("g",xe),Re("GG",pe,_e),Re("gg",pe,_e),Re("GGGG",Se,ge),Re("gggg",Se,ge),Re("GGGGG",De,ve),Re("ggggg",De,ve),Ge(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,s){t[s.substr(0,2)]=S(e)})),Ge(["gg","GG"],(function(e,t,s,i){t[i]=n.parseTwoDigitYear(e)})),de("Q",0,"Qo","quarter"),q("quarter","Q"),Q("quarter",7),Re("Q",me),He("Q",(function(e,t){t[Ae]=3*(S(e)-1)})),de("D",["DD",2],"Do","date"),q("date","D"),Q("date",9),Re("D",pe),Re("DD",pe,_e),Re("Do",(function(e,t){return e?t._ordinalParse:t._ordinalParseLenient})),He(["D","DD"],Ee),He("Do",(function(e,t){t[Ee]=S(e.match(pe)[0],10)}));var ii=K("Date",!0);function ri(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}de("DDD",["DDDD",3],"DDDo","dayOfYear"),q("dayOfYear","DDD"),Q("dayOfYear",4),Re("DDD",Me),Re("DDDD",ye),He(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=S(e)})),de("m",["mm",2],0,"minute"),q("minute","m"),Q("minute",14),Re("m",pe),Re("mm",pe,_e),He(["m","mm"],Ne);var ai=K("Minutes",!1);de("s",["ss",2],0,"second"),q("second","s"),Q("second",15),Re("s",pe),Re("ss",pe,_e),He(["s","ss"],ze);var oi=K("Seconds",!1),ui;for(de("S",0,0,(function(){return~~(this.millisecond()/100)})),de(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),de(0,["SSS",3],0,"millisecond"),de(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),de(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),de(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),de(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),de(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),de(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),q("millisecond","ms"),Q("millisecond",16),Re("S",Me,me),Re("SS",Me,_e),Re("SSS",Me,ye),ui="SSSS";ui.length<=9;ui+="S")Re(ui,Ye);function di(e,t){t[Ze]=S(1e3*("0."+e))}for(ui="S";ui.length<=9;ui+="S")He(ui,di);var li=K("Milliseconds",!1);function hi(){return this._isUTC?"UTC":""}function ci(){return this._isUTC?"Coordinated Universal Time":""}de("z",0,0,"zoneAbbr"),de("zz",0,0,"zoneName");var fi=w.prototype;fi.add=_s,fi.calendar=vs,fi.clone=ps,fi.diff=xs,fi.endOf=Vs,fi.format=Ps,fi.from=Ws,fi.fromNow=Rs,fi.to=Us,fi.toNow=Cs,fi.get=ne,fi.invalidAt=$s,fi.isAfter=ws,fi.isBefore=ks,fi.isBetween=Ms,fi.isSame=Ss,fi.isSameOrAfter=Ds,fi.isSameOrBefore=Ys,fi.isValid=Zs,fi.lang=Ls,fi.locale=Fs,fi.localeData=Hs,fi.max=Hn,fi.min=Ln,fi.parsingFlags=qs,fi.set=se,fi.startOf=Gs,fi.subtract=ys,fi.toArray=Is,fi.toObject=Ns,fi.toDate=Es,fi.toISOString=bs,fi.toJSON=zs,fi.toString=Ts,fi.unix=As,fi.valueOf=js,fi.creationData=Bs,fi.year=mt,fi.isLeapYear=_t,fi.weekYear=Qs,fi.isoWeekYear=Xs,fi.quarter=fi.quarters=si,fi.month=rt,fi.daysInMonth=at,fi.week=fi.weeks=xt,fi.isoWeek=fi.isoWeeks=Ot,fi.weeksInYear=ei,fi.isoWeeksInYear=Ks,fi.date=ii,fi.day=fi.days=Gt,fi.weekday=Vt,fi.isoWeekday=jt,fi.dayOfYear=ri,fi.hour=fi.hours=tn,fi.minute=fi.minutes=ai,fi.second=fi.seconds=oi,fi.millisecond=fi.milliseconds=li,fi.utcOffset=Bn,fi.utc=Qn,fi.local=Xn,fi.parseZone=Kn,fi.hasAlignedHourOffset=es,fi.isDST=ts,fi.isLocal=ss,fi.isUtcOffset=is,fi.isUtc=rs,fi.isUTC=rs,fi.zoneAbbr=hi,fi.zoneName=ci,fi.dates=x("dates accessor is deprecated. Use date instead.",ii),fi.months=x("months accessor is deprecated. Use month instead",rt),fi.years=x("years accessor is deprecated. Use year instead",mt),fi.zone=x("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Jn),fi.isDSTShifted=x("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",ns);var mi=fi;function _i(e){return Fn(1e3*e)}function yi(){return Fn.apply(null,arguments).parseZone()}function gi(e){return e}var vi=U.prototype;function pi(e,t,n,s){var i=cn(),r=h().set(s,t);return i[n](r,e)}function wi(e,t,n){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return pi(e,t,n,"month");var s,i=[];for(s=0;s<12;s++)i[s]=pi(e,s,n,"month");return i}function ki(e,t,n,s){"boolean"==typeof e?("number"==typeof t&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,"number"==typeof t&&(n=t,t=void 0),t=t||"");var i=cn(),r=e?i._week.dow:0,a;if(null!=n)return pi(t,(n+r)%7,s,"day");var o=[];for(a=0;a<7;a++)o[a]=pi(t,(a+r)%7,s,"day");return o}function Mi(e,t){return wi(e,t,"months")}function Si(e,t){return wi(e,t,"monthsShort")}function Di(e,t,n){return ki(e,t,n,"weekdays")}function Yi(e,t,n){return ki(e,t,n,"weekdaysShort")}function xi(e,t,n){return ki(e,t,n,"weekdaysMin")}vi.calendar=F,vi.longDateFormat=H,vi.invalidDate=V,vi.ordinal=E,vi.preparse=gi,vi.postformat=gi,vi.relativeTime=N,vi.pastFuture=z,vi.set=W,vi.months=Ke,vi.monthsShort=tt,vi.monthsParse=st,vi.monthsRegex=lt,vi.monthsShortRegex=ut,vi.week=Mt,vi.firstDayOfYear=Yt,vi.firstDayOfWeek=Dt,vi.weekdays=Wt,vi.weekdaysMin=Ft,vi.weekdaysShort=Ut,vi.weekdaysParse=Ht,vi.weekdaysRegex=Et,vi.weekdaysShortRegex=Nt,vi.weekdaysMinRegex=Zt,vi.isPM=Xt,vi.meridiem=en,dn("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n;return e+(1===S(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),n.lang=x("moment.lang is deprecated. Use moment.locale instead.",dn),n.langData=x("moment.langData is deprecated. Use moment.localeData instead.",cn);var Oi=Math.abs;function Ti(){var e=this._data;return this._milliseconds=Oi(this._milliseconds),this._days=Oi(this._days),this._months=Oi(this._months),e.milliseconds=Oi(e.milliseconds),e.seconds=Oi(e.seconds),e.minutes=Oi(e.minutes),e.hours=Oi(e.hours),e.months=Oi(e.months),e.years=Oi(e.years),this}function bi(e,t,n,s){var i=us(t,n);return e._milliseconds+=s*i._milliseconds,e._days+=s*i._days,e._months+=s*i._months,e._bubble()}function Pi(e,t){return bi(this,e,t,1)}function Wi(e,t){return bi(this,e,t,-1)}function Ri(e){return e<0?Math.floor(e):Math.ceil(e)}function Ui(){var e=this._milliseconds,t=this._days,n=this._months,s=this._data,i,r,a,o,u;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=864e5*Ri(Fi(n)+t),t=0,n=0),s.milliseconds=e%1e3,i=M(e/1e3),s.seconds=i%60,r=M(i/60),s.minutes=r%60,a=M(r/60),s.hours=a%24,t+=M(a/24),n+=u=M(Ci(t)),t-=Ri(Fi(u)),o=M(n/12),n%=12,s.days=t,s.months=n,s.years=o,this}function Ci(e){return 4800*e/146097}function Fi(e){return 146097*e/4800}function Li(e){var t,n,s=this._milliseconds;if("month"===(e=$(e))||"year"===e)return t=this._days+s/864e5,n=this._months+Ci(t),"month"===e?n:n/12;switch(t=this._days+Math.round(Fi(this._months)),e){case"week":return t/7+s/6048e5;case"day":return t+s/864e5;case"hour":return 24*t+s/36e5;case"minute":return 1440*t+s/6e4;case"second":return 86400*t+s/1e3;case"millisecond":return Math.floor(864e5*t)+s;default:throw new Error("Unknown unit "+e)}}function Hi(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*S(this._months/12)}function Gi(e){return function(){return this.as(e)}}var Vi=Gi("ms"),ji=Gi("s"),Ai=Gi("m"),Ei=Gi("h"),Ii=Gi("d"),Ni=Gi("w"),zi=Gi("M"),Zi=Gi("y");function qi(e){return this[(e=$(e))+"s"]()}function $i(e){return function(){return this._data[e]}}var Bi=$i("milliseconds"),Ji=$i("seconds"),Qi=$i("minutes"),Xi=$i("hours"),Ki=$i("days"),er=$i("months"),tr=$i("years");function nr(){return M(this.days()/7)}var sr=Math.round,ir={s:45,m:45,h:22,d:26,M:11};function rr(e,t,n,s,i){return i.relativeTime(t||1,!!n,e,s)}function ar(e,t,n){var s=us(e).abs(),i=sr(s.as("s")),r=sr(s.as("m")),a=sr(s.as("h")),o=sr(s.as("d")),u=sr(s.as("M")),d=sr(s.as("y")),l=i<ir.s&&["s",i]||r<=1&&["m"]||r<ir.m&&["mm",r]||a<=1&&["h"]||a<ir.h&&["hh",a]||o<=1&&["d"]||o<ir.d&&["dd",o]||u<=1&&["M"]||u<ir.M&&["MM",u]||d<=1&&["y"]||["yy",d];return l[2]=t,l[3]=+e>0,l[4]=n,rr.apply(null,l)}function or(e){return void 0===e?sr:"function"==typeof e&&(sr=e,!0)}function ur(e,t){return void 0!==ir[e]&&(void 0===t?ir[e]:(ir[e]=t,!0))}function dr(e){var t=this.localeData(),n=ar(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}var lr=Math.abs;function hr(){var e=lr(this._milliseconds)/1e3,t=lr(this._days),n=lr(this._months),s,i,r;s=M(e/60),i=M(s/60),e%=60,s%=60;var a=r=M(n/12),o=n%=12,u=t,d=i,l=s,h=e,c=this.asSeconds();return c?(c<0?"-":"")+"P"+(a?a+"Y":"")+(o?o+"M":"")+(u?u+"D":"")+(d||l||h?"T":"")+(d?d+"H":"")+(l?l+"M":"")+(h?h+"S":""):"P0D"}var cr=En.prototype,fr;return cr.abs=Ti,cr.add=Pi,cr.subtract=Wi,cr.as=Li,cr.asMilliseconds=Vi,cr.asSeconds=ji,cr.asMinutes=Ai,cr.asHours=Ei,cr.asDays=Ii,cr.asWeeks=Ni,cr.asMonths=zi,cr.asYears=Zi,cr.valueOf=Hi,cr._bubble=Ui,cr.get=qi,cr.milliseconds=Bi,cr.seconds=Ji,cr.minutes=Qi,cr.hours=Xi,cr.days=Ki,cr.weeks=nr,cr.months=er,cr.years=tr,cr.humanize=dr,cr.toISOString=hr,cr.toString=hr,cr.toJSON=hr,cr.locale=Fs,cr.localeData=Hs,cr.toIsoString=x("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",hr),cr.lang=Ls,de("X",0,0,"unix"),de("x",0,0,"valueOf"),Re("x",xe),Re("X",be),He("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))})),He("x",(function(e,t,n){n._d=new Date(S(e))})),n.version="2.14.4",s(Fn),n.fn=mi,n.min=Vn,n.max=jn,n.now=An,n.utc=h,n.unix=_i,n.months=Mi,n.isDate=o,n.locale=dn,n.invalid=_,n.duration=us,n.isMoment=k,n.weekdays=Di,n.parseZone=yi,n.localeData=cn,n.isDuration=In,n.monthsShort=Si,n.weekdaysMin=xi,n.defineLocale=ln,n.updateLocale=hn,n.locales=fn,n.weekdaysShort=Yi,n.normalizeUnits=$,n.relativeTimeRounding=or,n.relativeTimeThreshold=ur,n.calendarFormat=gs,n.prototype=mi,n}))}).call(this),function(){s=this.moment;try{delete this.moment}catch(e){}}.call(this),Package._define("momentjs:moment",{moment:s})}();

!function(){var e=Package.meteor.Meteor,n=Package.meteor.global,t=Package.meteor.meteorEnv,a=Package["momentjs:moment"].moment;(function(){(n=this).moment=a}).call(this),function(){!function(e,n){"object"==typeof exports&&"undefined"!=typeof module&&"function"==typeof require?n(require("../moment")):"function"==typeof define&&define.amd?define(["../moment"],n):n(e.moment)}(this,(function(e){"use strict";var n;return e.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd'hui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinalParse:/\d{1,2}(er|)/,ordinal:function(e){return e+(1===e?"er":"")},week:{dow:1,doy:4}})}))}.call(this),Package._define("rzymek:moment-locale-fr")}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,o;(function(){(function(){!function(e){var t=e,n=decodeURIComponent,o=encodeURIComponent;function r(e,t){var o={};if(i(e)&&e.length>0)for(var r=t?n:u,a=e.split(/;\s/g),c,f,s,g=0,m=a.length;g<m;g++){if((s=a[g].match(/([^=]+)=/i))instanceof Array)try{c=n(s[1]),f=r(a[g].substring(s[1].length+1))}catch(p){}else c=n(a[g]),f="";c&&(o[c]=f)}return o}function i(e){return"string"==typeof e}function a(e){return i(e)&&""!==e}function c(e){if(!a(e))throw new TypeError("Cookie name must be a non-empty string")}function u(e){return e}t.get=function(e,t){c(e),t="function"==typeof t?{converter:t}:t||{};var n=r(document.cookie,!t.raw);return(t.converter||u)(n[e])},t.set=function(e,t,n){c(e);var r=(n=n||{}).expires,i=n.domain,u=n.path;n.raw||(t=o(String(t)));var f=e+"="+t,s=r;return"number"==typeof s&&(s=new Date).setDate(s.getDate()+r),s instanceof Date&&(f+="; expires="+s.toUTCString()),a(i)&&(f+="; domain="+i),a(u)&&(f+="; path="+u),n.secure&&(f+="; secure"),document.cookie=f,f},t.remove=function(e,t){return(t=t||{}).expires=new Date(0),this.set(e,"",t)}}(o={})}).call(this)}).call(this),Package._define("chuangbo:cookie",{Cookie:o})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,o=Package.jquery.$,s=Package.jquery.jQuery;(function(){(function(){!function(e){e(["jquery"],(function(e){return function(){var t,n,o=0,s={error:"error",info:"info",success:"success",warning:"warning"},i={clear:p,remove:m,error:r,getContainer:c,info:l,options:{},subscribe:u,success:d,version:"2.1.2",warning:g},a;return i;function r(e,t,n){return T({type:s.error,iconClass:b().iconClasses.error,message:e,optionsOverride:n,title:t})}function c(n,o){return n||(n=b()),(t=e("#"+n.containerId)).length?t:(o&&(t=v(n)),t)}function l(e,t,n){return T({type:s.info,iconClass:b().iconClasses.info,message:e,optionsOverride:n,title:t})}function u(e){n=e}function d(e,t,n){return T({type:s.success,iconClass:b().iconClasses.success,message:e,optionsOverride:n,title:t})}function g(e,t,n){return T({type:s.warning,iconClass:b().iconClasses.warning,message:e,optionsOverride:n,title:t})}function p(e,n){var o=b();t||c(o),h(e,o,n)||f(o)}function m(n){var o=b();t||c(o),n&&0===e(":focus",n).length?D(n):t.children().length&&t.remove()}function f(n){for(var o=t.children(),s=o.length-1;s>=0;s--)h(e(o[s]),n)}function h(t,n,o){var s=!(!o||!o.force)&&o.force;return!(!t||!s&&0!==e(":focus",t).length)&&(t[n.hideMethod]({duration:n.hideDuration,easing:n.hideEasing,complete:function(){D(t)}}),!0)}function v(n){return(t=e("<div/>").attr("id",n.containerId).addClass(n.positionClass).attr("aria-live","polite").attr("role","alert")).appendTo(e(n.target)),t}function w(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',newestOnTop:!0,preventDuplicates:!1,progressBar:!1}}function C(e){n&&n(e)}function T(n){var s=b(),i=n.iconClass||s.iconClass;if(void 0!==n.optionsOverride&&(s=e.extend(s,n.optionsOverride),i=n.optionsOverride.iconClass||i),!M(s,n)){o++,t=c(s,!0);var r=null,l=e("<div/>"),u=e("<div/>"),d=e("<div/>"),g=e("<div/>"),p=e(s.closeHtml),m={intervalId:null,hideEta:null,maxHideTime:null},f={toastId:o,state:"visible",startTime:new Date,options:s,map:n};return v(),T(),w(),C(f),s.debug&&console&&console.log(f),l}function h(e){return null==e&&(e=""),new String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function v(){O(),H(),y(),x(),k(),E()}function w(){l.hover(P,B),!s.onclick&&s.tapToDismiss&&l.click(I),s.closeButton&&p&&p.click((function(e){e.stopPropagation?e.stopPropagation():void 0!==e.cancelBubble&&!0!==e.cancelBubble&&(e.cancelBubble=!0),I(!0)})),s.onclick&&l.click((function(e){s.onclick(e),I()}))}function T(){l.hide(),l[s.showMethod]({duration:s.showDuration,easing:s.showEasing,complete:s.onShown}),s.timeOut>0&&(r=setTimeout(I,s.timeOut),m.maxHideTime=parseFloat(s.timeOut),m.hideEta=(new Date).getTime()+m.maxHideTime,s.progressBar&&(m.intervalId=setInterval(j,10)))}function O(){n.iconClass&&l.addClass(s.toastClass).addClass(i)}function E(){s.newestOnTop?t.prepend(l):t.append(l)}function H(){n.title&&(u.append(s.escapeHtml?h(n.title):n.title).addClass(s.titleClass),l.append(u))}function y(){n.message&&(d.append(s.escapeHtml?h(n.message):n.message).addClass(s.messageClass),l.append(d))}function x(){s.closeButton&&(p.addClass("toast-close-button").attr("role","button"),l.prepend(p))}function k(){s.progressBar&&(g.addClass("toast-progress"),l.prepend(g))}function M(e,t){if(e.preventDuplicates){if(t.message===a)return!0;a=t.message}return!1}function I(t){var n=t&&!1!==s.closeMethod?s.closeMethod:s.hideMethod,o=t&&!1!==s.closeDuration?s.closeDuration:s.hideDuration,i=t&&!1!==s.closeEasing?s.closeEasing:s.hideEasing;if(!e(":focus",l).length||t)return clearTimeout(m.intervalId),l[n]({duration:o,easing:i,complete:function(){D(l),s.onHidden&&"hidden"!==f.state&&s.onHidden(),f.state="hidden",f.endTime=new Date,C(f)}})}function B(){(s.timeOut>0||s.extendedTimeOut>0)&&(r=setTimeout(I,s.extendedTimeOut),m.maxHideTime=parseFloat(s.extendedTimeOut),m.hideEta=(new Date).getTime()+m.maxHideTime)}function P(){clearTimeout(r),m.hideEta=0,l.stop(!0,!0)[s.showMethod]({duration:s.showDuration,easing:s.showEasing})}function j(){var e=(m.hideEta-(new Date).getTime())/m.maxHideTime*100;g.width(e+"%")}}function b(){return e.extend({},{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',newestOnTop:!0,preventDuplicates:!1,progressBar:!1},i.options)}function D(e){t||(t=c()),e.is(":visible")||(e.remove(),e=null,0===t.children().length&&(t.remove(),a=void 0))}}()}))}("function"==typeof define&&define.amd?define:function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):window.toastr=t(window.jQuery)})}).call(this)}).call(this),Package._define("chrismbeckett:toastr")}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,o=Package.meteor.meteorEnv;(function(){}).call(this),Package._define("tomi:upload-server")}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,o=Package["reactive-var"].ReactiveVar,i=Package["templating-runtime"].Template,r=Package.blaze.Blaze,a=Package.blaze.UI,s=Package.blaze.Handlebars,l=Package.spacebars.Spacebars,u=Package.htmljs.HTML,p,c;(function(){
/*! jQuery UI - v1.11.4+CommonJS - 2015-08-28
* http://jqueryui.com
* Includes: widget.js
* Copyright 2015 jQuery Foundation and other contributors; Licensed MIT */var e;e=function(e){
/*!
 * jQuery UI Widget 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */
var t=0,n=Array.prototype.slice,o;e.cleanData=(o=e.cleanData,function(t){var n,i,r;for(r=0;null!=(i=t[r]);r++)try{(n=e._data(i,"events"))&&n.remove&&e(i).triggerHandler("remove")}catch(a){}o(t)}),e.widget=function(t,n,o){var i,r,a,s,l={},u=t.split(".")[0];return t=t.split(".")[1],i=u+"-"+t,o||(o=n,n=e.Widget),e.expr[":"][i.toLowerCase()]=function(t){return!!e.data(t,i)},e[u]=e[u]||{},r=e[u][t],a=e[u][t]=function(e,t){if(!this._createWidget)return new a(e,t);arguments.length&&this._createWidget(e,t)},e.extend(a,r,{version:o.version,_proto:e.extend({},o),_childConstructors:[]}),(s=new n).options=e.widget.extend({},s.options),e.each(o,(function(t,o){var i,r;e.isFunction(o)?l[t]=(i=function(){return n.prototype[t].apply(this,arguments)},r=function(e){return n.prototype[t].apply(this,e)},function(){var e=this._super,t=this._superApply,n;return this._super=i,this._superApply=r,n=o.apply(this,arguments),this._super=e,this._superApply=t,n}):l[t]=o})),a.prototype=e.widget.extend(s,{widgetEventPrefix:r&&s.widgetEventPrefix||t},l,{constructor:a,namespace:u,widgetName:t,widgetFullName:i}),r?(e.each(r._childConstructors,(function(t,n){var o=n.prototype;e.widget(o.namespace+"."+o.widgetName,a,n._proto)})),delete r._childConstructors):n._childConstructors.push(a),e.widget.bridge(t,a),a},e.widget.extend=function(t){for(var o=n.call(arguments,1),i=0,r=o.length,a,s;i<r;i++)for(a in o[i])s=o[i][a],o[i].hasOwnProperty(a)&&void 0!==s&&(e.isPlainObject(s)?t[a]=e.isPlainObject(t[a])?e.widget.extend({},t[a],s):e.widget.extend({},s):t[a]=s);return t},e.widget.bridge=function(t,o){var i=o.prototype.widgetFullName||t;e.fn[t]=function(r){var a="string"==typeof r,s=n.call(arguments,1),l=this;return a?this.each((function(){var n,o=e.data(this,i);return"instance"===r?(l=o,!1):o?e.isFunction(o[r])&&"_"!==r.charAt(0)?(n=o[r].apply(o,s))!==o&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0:e.error("no such method '"+r+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+r+"'")})):(s.length&&(r=e.widget.extend.apply(null,[r].concat(s))),this.each((function(){var t=e.data(this,i);t?(t.option(r||{}),t._init&&t._init()):e.data(this,i,new o(r,this))}))),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(n,o){o=e(o||this.defaultElement||this)[0],this.element=e(o),this.uuid=t++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),o!==this&&(e.data(o,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===o&&this.destroy()}}),this.document=e(o.style?o.ownerDocument:o.document||o),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),n),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var o=t,i,r,a;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(o={},i=t.split("."),t=i.shift(),i.length){for(r=o[t]=e.widget.extend({},this.options[t]),a=0;a<i.length-1;a++)r[i[a]]=r[i[a]]||{},r=r[i[a]];if(t=i.pop(),1===arguments.length)return void 0===r[t]?null:r[t];r[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];o[t]=n}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,n,o){var i,r=this;"boolean"!=typeof t&&(o=n,n=t,t=!1),o?(n=i=e(n),this.bindings=this.bindings.add(n)):(o=n,n=this.element,i=this.widget()),e.each(o,(function(o,a){function s(){if(t||!0!==r.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof a?r[a]:a).apply(r,arguments)}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||e.guid++);var l=o.match(/^([\w:-]*)\s*(.*)$/),u=l[1]+r.eventNamespace,p=l[2];p?i.delegate(p,u,s):n.bind(u,s)}))},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(n).undelegate(n),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function n(){return("string"==typeof e?o[e]:e).apply(o,arguments)}var o=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,o){var i,r,a=this.options[t];if(o=o||{},(n=e.Event(n)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],r=n.originalEvent)for(i in r)i in n||(n[i]=r[i]);return this.element.trigger(n,o),!(e.isFunction(a)&&!1===a.apply(this.element[0],[n].concat(o))||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},(function(t,n){e.Widget.prototype["_"+t]=function(o,i,r){"string"==typeof i&&(i={effect:i});var a,s=i?!0===i||"number"==typeof i?n:i.effect||n:t;"number"==typeof(i=i||{})&&(i={duration:i}),a=!e.isEmptyObject(i),i.complete=r,i.delay&&o.delay(i.delay),a&&e.effects&&e.effects.effect[s]?o[t](i):s!==t&&o[s]?o[s](i.duration,i.easing,r):o.queue((function(n){e(this)[t](),r&&r.call(o[0]),n()}))}}));var i=e.widget},"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(jQuery)}).call(this),function(){!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(window.jQuery)}((function(e){"use strict";var t=0;e.ajaxTransport("iframe",(function(n){if(n.async){var o=n.initialIframeSrc||"javascript:false;",i,r,a;return{send:function(s,l){(i=e('<form style="display:none;"></form>')).attr("accept-charset",n.formAcceptCharset),a=/\?/.test(n.url)?"&":"?","DELETE"===n.type?(n.url=n.url+a+"_method=DELETE",n.type="POST"):"PUT"===n.type?(n.url=n.url+a+"_method=PUT",n.type="POST"):"PATCH"===n.type&&(n.url=n.url+a+"_method=PATCH",n.type="POST"),r=e('<iframe src="'+o+'" name="iframe-transport-'+(t+=1)+'"></iframe>').bind("load",(function(){var t,a=e.isArray(n.paramName)?n.paramName:[n.paramName];r.unbind("load").bind("load",(function(){var t;try{if(!(t=r.contents()).length||!t[0].firstChild)throw new Error}catch(n){t=void 0}l(200,"success",{iframe:t}),e('<iframe src="'+o+'"></iframe>').appendTo(i),window.setTimeout((function(){i.remove()}),0)})),i.prop("target",r.prop("name")).prop("action",n.url).prop("method",n.type),n.formData&&e.each(n.formData,(function(t,n){e('<input type="hidden"/>').prop("name",n.name).val(n.value).appendTo(i)})),n.fileInput&&n.fileInput.length&&"POST"===n.type&&(t=n.fileInput.clone(),n.fileInput.after((function(e){return t[e]})),n.paramName&&n.fileInput.each((function(t){e(this).prop("name",a[t]||n.paramName)})),i.append(n.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),n.fileInput.removeAttr("form")),i.submit(),t&&t.length&&n.fileInput.each((function(n,o){var i=e(t[n]);e(o).prop("name",i.prop("name")).attr("form",i.attr("form")),i.replaceWith(o)}))})),i.append(r).appendTo(document.body)},abort:function(){r&&r.unbind("load").prop("src",o),i&&i.remove()}}}})),e.ajaxSetup({converters:{"iframe text":function(t){return t&&e(t[0].body).text()},"iframe json":function(t){return t&&e.parseJSON(e(t[0].body).text())},"iframe html":function(t){return t&&e(t[0].body).html()},"iframe xml":function(t){var n=t&&t[0];return n&&e.isXMLDoc(n)?n:e.parseXML(n.XMLDocument&&n.XMLDocument.xml||e(n.body).html())},"iframe script":function(t){return t&&e.globalEval(e(t[0].body).text())}}})}))}.call(this),function(){!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.ui.widget"],e):"object"==typeof exports?e(require("jquery"),require("./vendor/jquery.ui.widget")):e(window.jQuery)}((function(e){"use strict";function t(t){var n="dragover"===t;return function(o){o.dataTransfer=o.originalEvent&&o.originalEvent.dataTransfer;var i=o.dataTransfer;i&&-1!==e.inArray("Files",i.types)&&!1!==this._trigger(t,e.Event(t,{delegatedEvent:o}))&&(o.preventDefault(),n&&(i.dropEffect="copy"))}}e.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||e('<input type="file">').prop("disabled")),e.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),e.support.xhrFormDataFileUpload=!!window.FormData,e.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),e.widget("blueimp.fileupload",{options:{dropZone:e(document),pasteZone:void 0,fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(t,n){return t=this.messages[t]||t.toString(),n&&e.each(n,(function(e,n){t=t.replace("{"+e+"}",n)})),t},formData:function(e){return e.serializeArray()},add:function(t,n){if(t.isDefaultPrevented())return!1;(n.autoUpload||!1!==n.autoUpload&&e(this).fileupload("option","autoUpload"))&&n.process().done((function(){n.submit()}))},processData:!1,contentType:!1,cache:!1,timeout:0},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:e.support.blobSlice&&function(){var e=this.slice||this.webkitSlice||this.mozSlice;return e.apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,n){var o=e-this.timestamp;return(!this.bitrate||!n||o>n)&&(this.bitrate=(t-this.loaded)*(1e3/o)*8,this.loaded=t,this.timestamp=e),this.bitrate}},_isXHRUpload:function(t){return!t.forceIframeTransport&&(!t.multipart&&e.support.xhrFileUpload||e.support.xhrFormDataFileUpload)},_getFormData:function(t){var n;return"function"===e.type(t.formData)?t.formData(t.form):e.isArray(t.formData)?t.formData:"object"===e.type(t.formData)?(n=[],e.each(t.formData,(function(e,t){n.push({name:e,value:t})})),n):[]},_getTotal:function(t){var n=0;return e.each(t,(function(e,t){n+=t.size||1})),n},_initProgressObject:function(t){var n={loaded:0,total:0,bitrate:0};t._progress?e.extend(t._progress,n):t._progress=n},_initResponseObject:function(e){var t;if(e._response)for(t in e._response)e._response.hasOwnProperty(t)&&delete e._response[t];else e._response={}},_onProgress:function(t,n){if(t.lengthComputable){var o=Date.now?Date.now():(new Date).getTime(),i;if(n._time&&n.progressInterval&&o-n._time<n.progressInterval&&t.loaded!==t.total)return;n._time=o,i=Math.floor(t.loaded/t.total*(n.chunkSize||n._progress.total))+(n.uploadedBytes||0),this._progress.loaded+=i-n._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(o,this._progress.loaded,n.bitrateInterval),n._progress.loaded=n.loaded=i,n._progress.bitrate=n.bitrate=n._bitrateTimer.getBitrate(o,i,n.bitrateInterval),this._trigger("progress",e.Event("progress",{delegatedEvent:t}),n),this._trigger("progressall",e.Event("progressall",{delegatedEvent:t}),this._progress)}},_initProgressListener:function(t){var n=this,o=t.xhr?t.xhr():e.ajaxSettings.xhr();o.upload&&(e(o.upload).bind("progress",(function(e){var o=e.originalEvent;e.lengthComputable=o.lengthComputable,e.loaded=o.loaded,e.total=o.total,n._onProgress(e,t)})),t.xhr=function(){return o})},_isInstanceOf:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},_initXHRData:function(t){var n=this,o,i=t.files[0],r=t.multipart||!e.support.xhrFileUpload,a="array"===e.type(t.paramName)?t.paramName[0]:t.paramName;t.headers=e.extend({},t.headers),t.contentRange&&(t.headers["Content-Range"]=t.contentRange),r&&!t.blob&&this._isInstanceOf("File",i)||(t.headers["Content-Disposition"]='attachment; filename="'+encodeURI(i.name)+'"'),r?e.support.xhrFormDataFileUpload&&(t.postMessage?(o=this._getFormData(t),t.blob?o.push({name:a,value:t.blob}):e.each(t.files,(function(n,i){o.push({name:"array"===e.type(t.paramName)&&t.paramName[n]||a,value:i})}))):(n._isInstanceOf("FormData",t.formData)?o=t.formData:(o=new FormData,e.each(this._getFormData(t),(function(e,t){o.append(t.name,t.value)}))),t.blob?o.append(a,t.blob,i.name):e.each(t.files,(function(i,r){(n._isInstanceOf("File",r)||n._isInstanceOf("Blob",r))&&o.append("array"===e.type(t.paramName)&&t.paramName[i]||a,r,r.uploadName||r.name)}))),t.data=o):(t.contentType=i.type||"application/octet-stream",t.data=t.blob||i),t.blob=null},_initIframeSettings:function(t){var n=e("<a></a>").prop("href",t.url).prop("host");t.dataType="iframe "+(t.dataType||""),t.formData=this._getFormData(t),t.redirect&&n&&n!==location.host&&t.formData.push({name:t.redirectParamName||"redirect",value:t.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e)},_getParamName:function(t){var n=e(t.fileInput),o=t.paramName;return o?e.isArray(o)||(o=[o]):(o=[],n.each((function(){for(var t=e(this),n=t.prop("name")||"files[]",i=(t.prop("files")||[1]).length;i;)o.push(n),i-=1})),o.length||(o=[n.prop("name")||"files[]"])),o},_initFormSettings:function(t){t.form&&t.form.length||(t.form=e(t.fileInput.prop("form")),t.form.length||(t.form=e(this.options.fileInput.prop("form")))),t.paramName=this._getParamName(t),t.url||(t.url=t.form.prop("action")||location.href),t.type=(t.type||"string"===e.type(t.form.prop("method"))&&t.form.prop("method")||"").toUpperCase(),"POST"!==t.type&&"PUT"!==t.type&&"PATCH"!==t.type&&(t.type="POST"),t.formAcceptCharset||(t.formAcceptCharset=t.form.attr("accept-charset"))},_getAJAXSettings:function(t){var n=e.extend({},this.options,t);return this._initFormSettings(n),this._initDataSettings(n),n},_getDeferredState:function(e){return e.state?e.state():e.isResolved()?"resolved":e.isRejected()?"rejected":"pending"},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(t,n,o){var i=e.Deferred(),r=i.promise();return n=n||this.options.context||r,!0===t?i.resolveWith(n,o):!1===t&&i.rejectWith(n,o),r.abort=i.promise,this._enhancePromise(r)},_addConvenienceMethods:function(t,n){var o=this,i=function(t){return e.Deferred().resolveWith(o,t).promise()};n.process=function(t,r){return(t||r)&&(n._processQueue=this._processQueue=(this._processQueue||i([this])).pipe((function(){return n.errorThrown?e.Deferred().rejectWith(o,[n]).promise():i(arguments)})).pipe(t,r)),this._processQueue||i([this])},n.submit=function(){return"pending"!==this.state()&&(n.jqXHR=this.jqXHR=!1!==o._trigger("submit",e.Event("submit",{delegatedEvent:t}),this)&&o._onSend(t,this)),this.jqXHR||o._getXHRPromise()},n.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",o._trigger("fail",null,this),o._getXHRPromise(!1))},n.state=function(){return this.jqXHR?o._getDeferredState(this.jqXHR):this._processQueue?o._getDeferredState(this._processQueue):void 0},n.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===o._getDeferredState(this._processQueue)},n.progress=function(){return this._progress},n.response=function(){return this._response}},_getUploadedBytes:function(e){var t=e.getResponseHeader("Range"),n=t&&t.split("-"),o=n&&n.length>1&&parseInt(n[1],10);return o&&o+1},_chunkedUpload:function(t,n){t.uploadedBytes=t.uploadedBytes||0;var o=this,i=t.files[0],r=i.size,a=t.uploadedBytes,s=t.maxChunkSize||r,l=this._blobSlice,u=e.Deferred(),p=u.promise(),c,d;return!(!(this._isXHRUpload(t)&&l&&(a||s<r))||t.data)&&(!!n||(a>=r?(i.error=t.i18n("uploadedBytes"),this._getXHRPromise(!1,t.context,[null,"error",i.error])):(d=function(){var n=e.extend({},t),p=n._progress.loaded;n.blob=l.call(i,a,a+s,i.type),n.chunkSize=n.blob.size,n.contentRange="bytes "+a+"-"+(a+n.chunkSize-1)+"/"+r,o._initXHRData(n),o._initProgressListener(n),c=(!1!==o._trigger("chunksend",null,n)&&e.ajax(n)||o._getXHRPromise(!1,n.context)).done((function(i,s,l){a=o._getUploadedBytes(l)||a+n.chunkSize,p+n.chunkSize-n._progress.loaded&&o._onProgress(e.Event("progress",{lengthComputable:!0,loaded:a-n.uploadedBytes,total:a-n.uploadedBytes}),n),t.uploadedBytes=n.uploadedBytes=a,n.result=i,n.textStatus=s,n.jqXHR=l,o._trigger("chunkdone",null,n),o._trigger("chunkalways",null,n),a<r?d():u.resolveWith(n.context,[i,s,l])})).fail((function(e,t,i){n.jqXHR=e,n.textStatus=t,n.errorThrown=i,o._trigger("chunkfail",null,n),o._trigger("chunkalways",null,n),u.rejectWith(n.context,[e,t,i])}))},this._enhancePromise(p),p.abort=function(){return c.abort()},d(),p)))},_beforeSend:function(e,t){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(t),this._initProgressObject(t),t._progress.loaded=t.loaded=t.uploadedBytes||0,t._progress.total=t.total=this._getTotal(t.files)||1,t._progress.bitrate=t.bitrate=0,this._active+=1,this._progress.loaded+=t.loaded,this._progress.total+=t.total},_onDone:function(t,n,o,i){var r=i._progress.total,a=i._response;i._progress.loaded<r&&this._onProgress(e.Event("progress",{lengthComputable:!0,loaded:r,total:r}),i),a.result=i.result=t,a.textStatus=i.textStatus=n,a.jqXHR=i.jqXHR=o,this._trigger("done",null,i)},_onFail:function(e,t,n,o){var i=o._response;o.recalculateProgress&&(this._progress.loaded-=o._progress.loaded,this._progress.total-=o._progress.total),i.jqXHR=o.jqXHR=e,i.textStatus=o.textStatus=t,i.errorThrown=o.errorThrown=n,this._trigger("fail",null,o)},_onAlways:function(e,t,n,o){this._trigger("always",null,o)},_onSend:function(t,n){n.submit||this._addConvenienceMethods(t,n);var o=this,i,r,a,s,l=o._getAJAXSettings(n),u=function(){return o._sending+=1,l._bitrateTimer=new o._BitrateTimer,i=i||((r||!1===o._trigger("send",e.Event("send",{delegatedEvent:t}),l))&&o._getXHRPromise(!1,l.context,r)||o._chunkedUpload(l)||e.ajax(l)).done((function(e,t,n){o._onDone(e,t,n,l)})).fail((function(e,t,n){o._onFail(e,t,n,l)})).always((function(e,t,n){if(o._onAlways(e,t,n,l),o._sending-=1,o._active-=1,l.limitConcurrentUploads&&l.limitConcurrentUploads>o._sending)for(var i=o._slots.shift();i;){if("pending"===o._getDeferredState(i)){i.resolve();break}i=o._slots.shift()}0===o._active&&o._trigger("stop")}))};return this._beforeSend(t,l),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(a=e.Deferred(),this._slots.push(a),s=a.pipe(u)):(this._sequence=this._sequence.pipe(u,u),s=this._sequence),s.abort=function(){return r=[void 0,"abort","abort"],i?i.abort():(a&&a.rejectWith(l.context,r),u())},this._enhancePromise(s)):u()},_onAdd:function(t,n){var o=this,i=!0,r=e.extend({},this.options,n),a=n.files,s=a.length,l=r.limitMultiFileUploads,u=r.limitMultiFileUploadSize,p=r.limitMultiFileUploadSizeOverhead,c=0,d=this._getParamName(r),f,h,g,m,v=0;if(!s)return!1;if(u&&void 0===a[0].size&&(u=void 0),(r.singleFileUploads||l||u)&&this._isXHRUpload(r))if(r.singleFileUploads||u||!l)if(!r.singleFileUploads&&u)for(g=[],f=[],m=0;m<s;m+=1)c+=a[m].size+p,(m+1===s||c+a[m+1].size+p>u||l&&m+1-v>=l)&&(g.push(a.slice(v,m+1)),(h=d.slice(v,m+1)).length||(h=d),f.push(h),v=m+1,c=0);else f=d;else for(g=[],f=[],m=0;m<s;m+=l)g.push(a.slice(m,m+l)),(h=d.slice(m,m+l)).length||(h=d),f.push(h);else g=[a],f=[d];return n.originalFiles=a,e.each(g||a,(function(r,a){var s=e.extend({},n);return s.files=g?a:[a],s.paramName=f[r],o._initResponseObject(s),o._initProgressObject(s),o._addConvenienceMethods(t,s),i=o._trigger("add",e.Event("add",{delegatedEvent:t}),s)})),i},_replaceFileInput:function(t){var n=t.fileInput,o=n.clone(!0),i=n.is(document.activeElement);t.fileInputClone=o,e("<form></form>").append(o)[0].reset(),n.after(o).detach(),i&&o.focus(),e.cleanData(n.unbind("remove")),this.options.fileInput=this.options.fileInput.map((function(e,t){return t===n[0]?o[0]:t})),n[0]===this.element[0]&&(this.element=o)},_handleFileTreeEntry:function(t,n){var o=this,i=e.Deferred(),r=function(e){e&&!e.entry&&(e.entry=t),i.resolve([e])},a=function(e){o._handleFileTreeEntries(e,n+t.name+"/").done((function(e){i.resolve(e)})).fail(r)},s=function(){l.readEntries((function(e){e.length?(u=u.concat(e),s()):a(u)}),r)},l,u=[];return n=n||"",t.isFile?t._file?(t._file.relativePath=n,i.resolve(t._file)):t.file((function(e){e.relativePath=n,i.resolve(e)}),r):t.isDirectory?(l=t.createReader(),s()):i.resolve([]),i.promise()},_handleFileTreeEntries:function(t,n){var o=this;return e.when.apply(e,e.map(t,(function(e){return o._handleFileTreeEntry(e,n)}))).pipe((function(){return Array.prototype.concat.apply([],arguments)}))},_getDroppedFiles:function(t){var n=(t=t||{}).items;return n&&n.length&&(n[0].webkitGetAsEntry||n[0].getAsEntry)?this._handleFileTreeEntries(e.map(n,(function(e){var t;return e.webkitGetAsEntry?((t=e.webkitGetAsEntry())&&(t._file=e.getAsFile()),t):e.getAsEntry()}))):e.Deferred().resolve(e.makeArray(t.files)).promise()},_getSingleFileInputFiles:function(t){var n=(t=e(t)).prop("webkitEntries")||t.prop("entries"),o,i;if(n&&n.length)return this._handleFileTreeEntries(n);if((o=e.makeArray(t.prop("files"))).length)void 0===o[0].name&&o[0].fileName&&e.each(o,(function(e,t){t.name=t.fileName,t.size=t.fileSize}));else{if(!(i=t.prop("value")))return e.Deferred().resolve([]).promise();o=[{name:i.replace(/^.*\\/,"")}]}return e.Deferred().resolve(o).promise()},_getFileInputFiles:function(t){return t instanceof e&&1!==t.length?e.when.apply(e,e.map(t,this._getSingleFileInputFiles)).pipe((function(){return Array.prototype.concat.apply([],arguments)})):this._getSingleFileInputFiles(t)},_onChange:function(t){var n=this,o={fileInput:e(t.target),form:e(t.target.form)};this._getFileInputFiles(o.fileInput).always((function(i){o.files=i,n.options.replaceFileInput&&n._replaceFileInput(o),!1!==n._trigger("change",e.Event("change",{delegatedEvent:t}),o)&&n._onAdd(t,o)}))},_onPaste:function(t){var n=t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.items,o={files:[]};n&&n.length&&(e.each(n,(function(e,t){var n=t.getAsFile&&t.getAsFile();n&&o.files.push(n)})),!1!==this._trigger("paste",e.Event("paste",{delegatedEvent:t}),o)&&this._onAdd(t,o))},_onDrop:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var n=this,o=t.dataTransfer,i={};o&&o.files&&o.files.length&&(t.preventDefault(),this._getDroppedFiles(o).always((function(o){i.files=o,!1!==n._trigger("drop",e.Event("drop",{delegatedEvent:t}),i)&&n._onAdd(t,i)})))},_onDragOver:t("dragover"),_onDragEnter:t("dragenter"),_onDragLeave:t("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),e.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(t,n){var o=-1!==e.inArray(t,this._specialOptions);o&&this._destroyEventHandlers(),this._super(t,n),o&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var t=this.options;void 0===t.fileInput?t.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):t.fileInput instanceof e||(t.fileInput=e(t.fileInput)),t.dropZone instanceof e||(t.dropZone=e(t.dropZone)),t.pasteZone instanceof e||(t.pasteZone=e(t.pasteZone))},_getRegExp:function(e){var t=e.split("/"),n=t.pop();return t.shift(),new RegExp(t.join("/"),n)},_isRegExpOption:function(t,n){return"url"!==t&&"string"===e.type(n)&&/^\/.*\/[igm]{0,3}$/.test(n)},_initDataAttributes:function(){var t=this,n=this.options,o=this.element.data();e.each(this.element[0].attributes,(function(e,i){var r=i.name.toLowerCase(),a;/^data-/.test(r)&&(r=r.slice(5).replace(/-[a-z]/g,(function(e){return e.charAt(1).toUpperCase()})),a=o[r],t._isRegExpOption(r,a)&&(a=t._getRegExp(a)),n[r]=a)}))},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(t){var n=this;t&&!this.options.disabled&&(t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always((function(e){t.files=e,n._onAdd(null,t)})):(t.files=e.makeArray(t.files),this._onAdd(null,t)))},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var n=this,o=e.Deferred(),i=o.promise(),r,a;return i.abort=function(){return a=!0,r?r.abort():(o.reject(null,"abort","abort"),i)},this._getFileInputFiles(t.fileInput).always((function(e){a||(e.length?(t.files=e,(r=n._onSend(null,t)).then((function(e,t,n){o.resolve(e,t,n)}),(function(e,t,n){o.reject(e,t,n)}))):o.reject())})),this._enhancePromise(i)}if(t.files=e.makeArray(t.files),t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})}))}.call(this),function(){i.__checkName("queueItem"),i.queueItem=new i("Template.queueItem",(function(){var e=this;return u.DIV({class:"uploadPanel",style:"margin-top: 6px"},"\n        ",u.DIV({class:function(){return l.mustache(e.lookup("class"),"progressOuter")}},"\n            ",u.DIV({class:function(){return l.mustache(e.lookup("class"),"progressInner")}},"\n                ",u.DIV({class:function(){return l.mustache(e.lookup("class"),"progressBar")},role:"progressbar","aria-valuemin":"0","aria-valuemax":"100",style:function(){return l.mustache(e.lookup("progress"))}},"\n                    ",u.Raw("&nbsp;"),"\n                "),"\n                ",u.DIV({class:"progress-label"},"\n                    ",r.View("lookup:infoLabel",(function(){return l.makeRaw(l.mustache(e.lookup("infoLabel")))})),"\n                "),"\n            "),"\n        "),"\n\n        ",r._TemplateWith((function(){return{state:l.call(e.lookup("buttonState")),type:l.call(e.lookup("type")),uploadContext:l.call(e.lookup("uploadContext")),name:l.call(l.dot(e.lookup("."),"item","name"))}}),(function(){return l.include(e.lookupTemplate("buttons"))})),"\n    ")}))}.call(this),function(){i.queueItem.helpers({class:function(e){return p.UI[this.type][e]},infoLabel:function(){var e=this.uploadContext.queue[this.item.name].get();return e.running?p.formatProgress(this.item.name,e.progress,e.bitrate):this.item.name+'&nbsp;<span style="font-size: smaller; color: grey">'+c(this.item.size)+"</span>"},buttonState:function(){var e=this;return{idle:function(){return!e.uploadContext.queue[e.item.name].get().running||100===e.uploadContext.queue[e.item.name].get().progress},cancelled:function(){return e.uploadContext.queue[e.item.name].get().cancelled},waiting:function(){return 100!==e.uploadContext.queue[e.item.name].get().progress},removeFromQueue:function(){return!0}}},progress:function(){return"width:"+this.uploadContext.queue[this.item.name].get().progress+"%"}})}.call(this),function(){i.__checkName("upload_bootstrap"),i.upload_bootstrap=new i("Template.upload_bootstrap",(function(){var e=this;return r._TemplateWith((function(){return{type:l.call("bootstrap"),formData:l.call(e.lookup("formData")),fileTypes:l.call(e.lookup("fileTypes")),multiple:l.call(e.lookup("multiple")),callbacks:l.call(e.lookup("callbacks")),autoStart:l.call(e.lookup("autoStart")),contentType:l.call(e.lookup("contentType"))}}),(function(){return l.include(e.lookupTemplate("upload"))}))})),i.__checkName("upload_semanticUI"),i.upload_semanticUI=new i("Template.upload_semanticUI",(function(){var e=this;return r._TemplateWith((function(){return{type:l.call("semanticUI"),formData:l.call(e.lookup("formData")),fileTypes:l.call(e.lookup("fileTypes")),multiple:l.call(e.lookup("multiple")),callbacks:l.call(e.lookup("callbacks")),autoStart:l.call(e.lookup("autoStart")),contentType:l.call(e.lookup("contentType"))}}),(function(){return l.include(e.lookupTemplate("upload"))}))})),i.__checkName("upload"),i.upload=new i("Template.upload",(function(){var e=this;return u.FORM({method:"POST",enctype:"multipart/form-data"},"\n\n        ",u.DIV({class:"uploadPanel"},"\n            ",u.Raw("\x3c!-- The fileinput-button span is used to style the file input field as button --\x3e"),"\n\n            ",u.DIV({class:function(){return l.mustache(e.lookup("class"),"upload")}},"\n                ",r.View("lookup:ut9n",(function(){return l.mustache(e.lookup("ut9n"),"browse")})),u.Raw("&hellip;")," ",u.INPUT({type:"file",class:"jqUploadclass",multiple:function(){return l.mustache(e.lookup("multiple"))},"data-form-data":function(){return l.mustache(e.lookup("submitData"))},accept:function(){return l.mustache(e.lookup("fileTypes"))}}),"\n            "),"\n\n            ",u.DIV({class:function(){return l.mustache(e.lookup("class"),"progressOuter")}},"\n                ",u.DIV({class:function(){return l.mustache(e.lookup("class"),"progressInner")}},"\n                    ",u.DIV({class:function(){return l.mustache(e.lookup("class"),"progressBar")},role:"progressbar","aria-valuemin":"0","aria-valuemax":"100",style:function(){return l.mustache(e.lookup("progress"))}},"\n                        ",u.Raw("&nbsp;"),"\n                    "),"\n                    ",u.DIV({class:"progress-label"},"\n                        ",r.View("lookup:infoLabel",(function(){return l.makeRaw(l.mustache(e.lookup("infoLabel")))})),"\n                    "),"\n                "),"\n            "),"\n\n            ",r._TemplateWith((function(){return{type:l.call(e.lookup("type")),state:l.call(e.lookup("buttonState")),uploadContext:l.call(e.lookup("uploadContext")),autoStart:l.call(e.lookup("autoStart"))}}),(function(){return l.include(e.lookupTemplate("buttons"))})),"\n        "),"\n        ",r.If((function(){return l.call(e.lookup("showQueue"))}),(function(){return["\n            ",u.DIV({class:"panel panel-default",style:"margin-top: 1px; background: #efefef"},"\n                ",u.DIV({class:"panel-body"},"\n                    ",r.Each((function(){return l.call(e.lookup("queueItems"))}),(function(){return["\n                        ",r._TemplateWith((function(){return{type:l.call(l.dot(e.lookup(".."),"type")),uploadContext:l.call(e.lookup("uploadContext")),item:l.call(e.lookup("."))}}),(function(){return l.include(e.lookupTemplate("queueItem"))})),"\n                    "]})),"\n                "),"\n            "),"\n        "]})),"\n    ")}))}.call(this),function(){i.registerHelper("ut9n",(function(e){return p.localisation[e]})),i.upload.created=function(){p.init(this),this.data&&(this.autoStart=this.data.autoStart)},i.upload.helpers({class:function(e){return p.UI[this.type][e]},uploadContext:function(){return i.instance()},submitData:function(){return this.formData?this.formData.contentType=this.contentType:this.formData={contentType:this.contentType},"string"==typeof this.formData?this.formData:JSON.stringify(this.formData)},infoLabel:function(){var e=i.instance(),t=e.globalInfo.get(),n=e.info.get();return e.info.get()?t.running?p.formatProgress(n.name,t.progress,t.bitrate):n.name+'&nbsp;<span style="font-size: smaller; color: #333">'+c(n.size)+"</span>":""},progress:function(){return"width:"+i.instance().globalInfo.get().progress+"%"},buttonState:function(){var e=i.instance();return{idle:function(){return!e.globalInfo.get().running},cancelled:function(){return e.globalInfo.get().cancelled},waiting:function(){return 100!==e.globalInfo.get().progress},removeFromQueue:function(){return!1}}},queueItems:function(){return i.instance().queueView.get()},showQueue:function(){return i.instance().queueView.get().length>1}}),i.upload.rendered=function(){p.render.call(this)}}.call(this),function(){i.__checkName("buttons"),i.buttons=new i("Template.buttons",(function(){var e=this;return r.If((function(){return l.call(e.lookup("idle"))}),(function(){return["\n        ",r.If((function(){return l.call(e.lookup("cancelled"))}),(function(){return["\n            ",u.DIV({class:function(){return l.mustache(e.lookup("class"),"cancelledButton")}},"\n                ",u.I({class:function(){return l.mustache(e.lookup("class"),"cancelledButtonIcon")}}),"\n                ",u.SPAN(r.View("lookup:ut9n",(function(){return l.mustache(e.lookup("ut9n"),"cancelled")}))),"\n            "),"\n        "]}),(function(){return["\n            ",r.If((function(){return l.call(e.lookup("waiting"))}),(function(){return["\n                ",r.If((function(){return l.call(e.lookup("removeFromQueue"))}),(function(){return["\n                    ",u.DIV({type:"submit",class:function(){return l.mustache(e.lookup("class"),"removeButton")}},"\n                        ",u.I({class:function(){return l.mustache(e.lookup("class"),"removeButtonIcon")}}),"\n                        ",u.SPAN(r.View("lookup:ut9n",(function(){return l.mustache(e.lookup("ut9n"),"remove")}))),"\n                    "),"\n                "]}),(function(){return["\n                    ",r.Unless((function(){return l.call(e.lookup("autoStart"))}),(function(){return["\n                        ",u.DIV({type:"submit",class:function(){return l.mustache(e.lookup("class"),"startButton")}},"\n                            ",u.I({class:function(){return l.mustache(e.lookup("class"),"startButtonIcon")}}),"\n                            ",u.SPAN(r.View("lookup:ut9n",(function(){return l.mustache(e.lookup("ut9n"),"upload")}))),"\n                        "),"\n                    "]})),"\n                "]})),"\n            "]}),(function(){return["\n                ",u.DIV({class:function(){return l.mustache(e.lookup("class"),"doneButton")}},"\n                    ",u.I({class:function(){return l.mustache(e.lookup("class"),"doneButtonIcon")}}),"\n                    ",r.View("lookup:ut9n",(function(){return l.mustache(e.lookup("ut9n"),"done")})),"\n                "),"\n            "]})),"\n        "]})),"\n    "]}),(function(){return["\n        ",u.DIV({class:function(){return l.mustache(e.lookup("class"),"cancelButton")}},"\n            ",u.I({class:function(){return l.mustache(e.lookup("class"),"cancelButtonIcon")}}),"\n            ",u.SPAN(r.View("lookup:ut9n",(function(){return l.mustache(e.lookup("ut9n"),"cancel")}))),"\n        "),"\n    "]}))}))}.call(this),function(){i.buttons.helpers({class:function(e){return p.UI[this.type][e]},idle:function(){return this.state.idle()},cancelled:function(){return this.state.cancelled()},waiting:function(){return this.state.waiting()},removeFromQueue:function(){return this.state.removeFromQueue()}}),i.buttons.events({"click .cancel":function(e){p.cancelUpload.call(this.uploadContext,e,this.name)},"click .start":function(e){p.startUpload.call(this.uploadContext,e,this.name)},"click .remove":function(e){p.removeFromQueue.call(this.uploadContext,e,this.name)},"click .done":function(e){p.reset.call(this.uploadContext,e)}})}.call(this),function(){i.__checkName("dropzone"),i.dropzone=new i("Template.dropzone",(function(){var e=this;return u.FORM({method:"POST",enctype:"multipart/form-data"},"\n        ",u.INPUT({type:"file",class:"jqUploadclass",multiple:"true","data-content-category":function(){return l.mustache(e.lookup("contentType"))},"data-form-data":function(){return l.mustache(e.lookup("submitData"))},accept:function(){return l.mustache(e.lookup("fileTypes"))},style:"display: none"}),"\n        ",u.DIV({class:"jqDropZone fade"},r.View("lookup:infoLabel",(function(){return l.makeRaw(l.mustache(e.lookup("infoLabel")))}))),"\n    ")}))}.call(this),function(){i.dropzone.created=function(){i.instance().autoStart=!0,p.init(this)},i.dropzone.helpers({infoLabel:function(){var e=i.instance().globalInfo.get();return 0==e.progress||100==e.progress?p.localisation.dropFiles:e.progress+"%"},submitData:function(){return this.formData?this.formData.contentType=this.contentType:this.formData={contentType:this.contentType},"string"==typeof this.formData?this.formData:JSON.stringify(this.formData)}}),i.dropzone.rendered=function(){p.render.call(this),$(document).bind("dragover",(function(e){var t=$(".jqDropZone"),n,o=window.dropZoneTimeout;o?clearTimeout(o):t.addClass("in");var i=!1,r=e.target;do{if($(r).hasClass("jqDropZone")){i=!0,n=$(r);break}r=r.parentNode}while(null!=r);t.removeClass("in hover"),i&&n.addClass("hover"),window.dropZoneTimeout=setTimeout((function(){window.dropZoneTimeout=null,t.removeClass("in hover")}),100)}))}}.call(this),function(){p={logLevels:{debug:0,error:1},logLevel:1,log:function(e,t){e>=p.logLevel&&console.log(t)},localisation:{browse:"Browse",cancelled:"Cancelled",remove:"Remove",upload:"Upload",done:"Done",cancel:"Cancel",dropFiles:"Drop files here"},UI:{bootstrap:{upload:"btn btn-primary btn-file upload-control",progressOuter:"form-control upload-control",progressInner:"progressInner",progressBar:"progress-bar progress-bar-success progress-bar-striped",removeButton:"btn btn-default upload-control remove",removeButtonIcon:"glyphicon glyphicon-remove",startButton:"btn btn-info upload-control start",startButtonIcon:"glyphicon glyphicon-upload",doneButton:"btn btn-default upload-control done",doneButtonIcon:"glyphicon glyphicon-ok",cancelButton:"btn btn-danger upload-control cancel",cancelButtonIcon:"glyphicon glyphicon-stop",cancelledButton:"btn btn-warning upload-control",cancelledButtonIcon:"glyphicon glyphicon-cross"},semanticUI:{upload:"ui icon button btn-file leftButton upload-control",progressOuter:"progressOuter",progressInner:"semantic progressInner",progressBar:"bar progress-bar",removeButton:"ui red button upload-control remove rightButton",removeButtonIcon:"trash icon",startButton:"ui button primary upload-control start rightButton",startButtonIcon:"upload icon",doneButton:"ui green button upload-control rightButton done",doneButtonIcon:"icon thumbs up",cancelButton:"ui yellow button upload-control cancel rightButton",cancelButtonIcon:"icon stop",cancelledButton:"ui yellow button upload-control rightButton"}},uploadUrl:"/upload",createName:function(e){if(1==e.queue.length){var t=e.queue[0];e.info.set(t)}else{var t={name:e.queue.length+" files",size:e.queue.size};e.info.set(t)}},startUpload:function(e,t){if(e&&e.preventDefault(),0!=this.queue.length){var n=this;$.each(this.queue,(function(e,o){var i=o.data;if(t&&i.files[0].name!==t)return!0;i.jqXHR=i.submit().done((function(e,t,i){n.queue.splice(n.queue.indexOf(o),1),p.log(p.logLevels.debug,"data.sumbit.done: textStatus= "+t),p.status&&p.status(!1,e,t,i)})).fail((function(e,t,r){n.queue.splice(n.queue.indexOf(o),1),"abort"===e.statusText?n.info.set({name:"Aborted",size:0}):n.info.set({name:"Failed: "+e.responseText+" "+e.status+" "+e.statusText,size:0}),p.status&&p.status(!0,i,t,e),p.log(p.logLevels.debug,"data.sumbit.fail: "+e.responseText+" "+e.status+" "+e.statusText)})).always((function(e,t,n){p.log(p.logLevels.debug,"data.sumbit.always:  textStatus= "+t)}))}))}},formatProgress:function(e,t,n){return t+"%&nbsp;of&nbsp;"+e+"&nbsp;<span style='font-size:smaller'>@&nbsp;"+c(n)+"&nbsp;/&nbsp;sec</span>"},removeFromQueue:function(e,t){e.preventDefault();var n=this;$.each(this.queue,(function(e,o){if(o.name===t)return n.queue.splice(e,1),!1})),this.queueView.set(this.queue),p.createName(this)},reset:function(e){e.preventDefault(),this.globalInfo.set({running:!1,cancelled:!1,progress:0,bitrate:0}),this.info.set("")},cancelUpload:function(e,t){e.preventDefault();var n=this;$.each(this.queue,(function(e,o){if(t&&o.name!==t)return!0;100!==n.queue[o.name].get().progress&&(o.data.jqXHR.abort(),n.queue[o.name].set({running:!1,cancelled:!0,progress:0,bitrate:0}))})),t||this.globalInfo.set({running:!1,cancelled:!0,progress:0,bitrate:0})},init:function(e){e.queueView=new o([]),e.queue=[],e.info=new o,e.globalInfo=new o({running:!1,progress:0,bitrate:0})},render:function(){var e=this;e.progressBar=this.$(".progress-bar"),e.progressLabel=this.$(".progress-label"),e.uploadControl=this.$(".jqUploadclass"),e.dropZone=this.$(".jqDropZone");var t=this.data;this.find("form").uploadContext=e,e.uploadControl.fileupload({url:p.uploadUrl,dataType:"json",dropZone:e.dropZone,add:function(n,i){p.log(p.logLevels.debug,"render.add "),(null==t||null==t.callbacks||(null!=t.callbacks.formData&&(i.formData=t.callbacks.formData()),null==t.callbacks.validate||t.callbacks.validate(i.files)))&&(null!=t&&t.multiple||(e.queue=[],e.queueView.set([])),$.each(i.files,(function(t,n){var r=n;r.data=i,e.queue[n.name]=new o({running:!1,progress:0}),e.queue.push(r),e.queue.size+=parseInt(n.size)})),p.createName(e),e.queueView.set(e.queue),e.autoStart&&p.startUpload.call(e))},done:function(n,o){p.log(p.logLevels.debug,"render.done "),e.globalInfo.set({running:!1,progress:100}),$.each(o.result.files,(function(n,o){p.finished(n,o,e),null!=t&&null!=t.callbacks&&null!=t.callbacks.finished&&t.callbacks.finished(n,o,e)}))},fail:function(e,t){p.log(p.logLevels.debug,"render.fail ")},progress:function(t,n){var o=e.queue[n.files[0].name];o&&o.set({running:!0,progress:parseInt(n.loaded/n.total*100,10),bitrate:n.bitrate})},progressall:function(t,n){e.globalInfo.set({running:!0,progress:parseInt(n.loaded/n.total*100,10),bitrate:n.bitrate})},drop:function(e,t){$.each(t.files,(function(e,t){p.log(p.logLevels.debug,"render.drop file: "+t.name)}))},change:function(t,n){e.queue=[],e.queue.size=0,e.progressBar.css("width","0%"),e.globalInfo.set({running:!1,progress:0}),$.each(n.files,(function(e,t){p.log(p.logLevels.debug,"render.change file: "+t.name)}))}}).prop("disabled",null!=$.support&&null!=$.support.fileInput&&!$.support.fileInput).parent().addClass(null==$.support||null==$.support.fileInput||$.support.fileInput?void 0:"disabled")},finished:function(){}},c=function(e){if(0==e)return"0 Byte";var t=1e3,n=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],o=Math.floor(Math.log(e)/Math.log(t));return(e/Math.pow(t,o)).toPrecision(3)+"&nbsp;"+n[o]}}.call(this),Package._define("tomi:upload-jquery",{Uploader:p})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,o=Package.meteor.meteorEnv,i=Package.jquery.$,n=Package.jquery.jQuery;(function(){(function(){
/*!                                                                                                               // 1
	Autosize v1.17.8 - 2013-09-07                                                                                    // 2
	Automatically adjust textarea height based on user input.                                                        // 3
	(c) 2013 Jack Moore - http://www.jacklmoore.com/autosize                                                         // 4
	license: http://www.opensource.org/licenses/mit-license.php                                                      // 5
*/var e;e=function(e){var t={className:"autosizejs",append:"",callback:!1,resizeDelay:10},o,i=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],n,a=e('<textarea tabindex="-1" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; padding: 0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden; transition:none; -webkit-transition:none; -moz-transition:none;"/>').data("autosize",!0)[0];a.style.lineHeight="99px","99px"===e(a).css("lineHeight")&&i.push("lineHeight"),a.style.lineHeight="",e.fn.autosize=function(o){return this.length?(o=e.extend({},t,o||{}),a.parentNode!==document.body&&e(document.body).append(a),this.each((function(){var t=this,s=e(t),r,l,c=0,d=e.isFunction(o.callback),u={height:t.style.height,overflow:t.style.overflow,overflowY:t.style.overflowY,wordWrap:t.style.wordWrap,resize:t.style.resize},h,f=s.width();function p(){var o,i;"getComputedStyle"in window?(o=window.getComputedStyle(t),i=t.getBoundingClientRect().width,e.each(["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"],(function(e,t){i-=parseInt(o[t],10)})),a.style.width=i+"px"):a.style.width=Math.max(s.width(),0)+"px"}function w(){var l={};if(n=t,a.className=o.className,r=parseInt(s.css("maxHeight"),10),e.each(i,(function(e,t){l[t]=s.css(t)})),e(a).css(l),p(),window.chrome){var c=t.style.width;t.style.width="0px";var d=t.offsetWidth;t.style.width=c}}function g(){var e,i;n!==t?w():p(),a.value=t.value+o.append,a.style.overflowY=t.style.overflowY,i=parseInt(t.style.height,10),a.scrollTop=0,a.scrollTop=9e4,e=a.scrollTop,r&&e>r?(t.style.overflowY="scroll",e=r):(t.style.overflowY="hidden",e<l&&(e=l)),i!==(e+=c)&&(t.style.height=e+"px",d&&o.callback.call(t,t))}function y(){clearTimeout(h),h=setTimeout((function(){var e=s.width();e!==f&&(f=e,g())}),parseInt(o.resizeDelay,10))}s.data("autosize")||(s.data("autosize",!0),"border-box"!==s.css("box-sizing")&&"border-box"!==s.css("-moz-box-sizing")&&"border-box"!==s.css("-webkit-box-sizing")||(c=s.outerHeight()-s.height()),l=Math.max(parseInt(s.css("minHeight"),10)-c||0,s.height()),s.css({overflow:"hidden",overflowY:"hidden",wordWrap:"break-word",resize:"none"===s.css("resize")||"vertical"===s.css("resize")?"none":"horizontal"}),"onpropertychange"in t?"oninput"in t?s.on("input.autosize keyup.autosize",g):s.on("propertychange.autosize",(function(){"value"===event.propertyName&&g()})):s.on("input.autosize",g),!1!==o.resizeDelay&&e(window).on("resize.autosize",y),s.on("autosize.resize",g),s.on("autosize.resizeIncludeStyle",(function(){n=null,g()})),s.on("autosize.destroy",(function(){n=null,clearTimeout(h),e(window).off("resize",y),s.off("autosize").off(".autosize").css(u).removeData("autosize")})),g())}))):this}},"function"==typeof define&&define.amd?define(["jquery"],e):e(window.jQuery||window.$)}).call(this)}).call(this),Package._define("copleykj:jquery-autosize")}();

!function(){var a=Package.meteor.Meteor,e=Package.meteor.global,t=Package.meteor.meteorEnv,i=Package["templating-runtime"].Template,n=Package.underscore._,o=Package["momentjs:moment"].moment,r=Package.blaze.Blaze,s=Package.blaze.UI,m=Package.blaze.Handlebars,l=Package.spacebars.Spacebars,c=Package.htmljs.HTML,u;(function(){(function(){!function(a,e){var t=1e3,i=!1,n=a([]),o=function(){m.resume()},r=function(t,i){var o=t.data("livestampdata");if("number"==typeof i&&(i*=1e3),t.removeAttr("data-livestamp").removeData("livestamp"),i=e(i),e.isMoment(i)&&!isNaN(+i)){var r=a.extend({},{original:t.contents()},o);r.moment=e(i),t.data("livestampdata",r).empty(),n.push(t[0])}},s=function(){i||(m.update(),setTimeout(s,t))},m={update:function(){a("[data-livestamp]").each((function(){var e=a(this);r(e,e.data("livestamp"))}));var t=[];n.each((function(){var i=a(this),n=i.data("livestampdata");if(void 0===n)t.push(this);else if(e.isMoment(n.moment)){var o=i.html(),r=n.moment.fromNow();if(o!=r){var s=a.Event("change.livestamp");i.trigger(s,[o,r]),s.isDefaultPrevented()||i.html(r)}}})),n=n.not(t)},pause:function(){i=!0},resume:function(){i=!1,s()},interval:function(a){if(void 0===a)return t;t=a}},l={add:function(t,i){return"number"==typeof i&&(i*=1e3),i=e(i),e.isMoment(i)&&!isNaN(+i)&&(t.each((function(){r(a(this),i)})),m.update()),t},destroy:function(e){return n=n.not(e),e.each((function(){var t=a(this),i=t.data("livestampdata");if(void 0===i)return e;t.html(i.original?i.original:"").removeData("livestampdata")})),e},isLivestamp:function(a){return void 0!==a.data("livestampdata")}};a.livestamp=m,a(o),a.fn.livestamp=function(a,e){return l[a]||(e=a,a="add"),l[a](this,e)}}(jQuery,o)}).call(this),function(){"undefined"!=typeof Package&&(u=this.livestamp)}.call(this),function(){var a;Package.templating.Template.registerHelper("livestamp",(function(a){var e=o(a);e.isValid()||(e=o());var t=e.toISOString(),i=e.fromNow();return new l.SafeString('<span class="livestamp" data-livestamp="'+t+'">'+i+"</span>")}))}.call(this)}).call(this),Package._define("copleykj:livestamp",{livestamp:u})}();

!function(){var t=Package.meteor.Meteor,e=Package.meteor.global,r=Package.meteor.meteorEnv,i;(function(){var t,e,r,n,s,a,o,c,l,h,u,g;(
/*!
	 * Autolinker.js
	 * 0.15.2
	 *
	 * Copyright(c) 2015 Gregory Jacobs <greg@greg-jacobs.com>
	 * MIT Licensed. http://www.opensource.org/licenses/mit-license.php
	 *
	 * https://github.com/gregjacobs/Autolinker.js
	 */
i=function(t){i.Util.assign(this,t),this.matchValidator=new i.MatchValidator}).prototype={constructor:i,urls:!0,email:!0,twitter:!0,newWindow:!0,stripPrefix:!0,className:"",htmlCharacterEntitiesRegex:/(&nbsp;|&#160;|&lt;|&#60;|&gt;|&#62;|&quot;|&#34;|&#39;)/gi,matcherRegex:(r=/(?:[A-Za-z][-.+A-Za-z0-9]+:(?![A-Za-z][-.+A-Za-z0-9]+:\/\/)(?!\d+\/?)(?:\/\/)?)/,n=/(?:www\.)/,s=/[A-Za-z0-9\.\-]*[A-Za-z0-9\-]/,a=/\.(?:international|construction|contractors|enterprises|photography|productions|foundation|immobilien|industries|management|properties|technology|christmas|community|directory|education|equipment|institute|marketing|solutions|vacations|bargains|boutique|builders|catering|cleaning|clothing|computer|democrat|diamonds|graphics|holdings|lighting|partners|plumbing|supplies|training|ventures|academy|careers|company|cruises|domains|exposed|flights|florist|gallery|guitars|holiday|kitchen|neustar|okinawa|recipes|rentals|reviews|shiksha|singles|support|systems|agency|berlin|camera|center|coffee|condos|dating|estate|events|expert|futbol|kaufen|luxury|maison|monash|museum|nagoya|photos|repair|report|social|supply|tattoo|tienda|travel|viajes|villas|vision|voting|voyage|actor|build|cards|cheap|codes|dance|email|glass|house|mango|ninja|parts|photo|shoes|solar|today|tokyo|tools|watch|works|aero|arpa|asia|best|bike|blue|buzz|camp|club|cool|coop|farm|fish|gift|guru|info|jobs|kiwi|kred|land|limo|link|menu|mobi|moda|name|pics|pink|post|qpon|rich|ruhr|sexy|tips|vote|voto|wang|wien|wiki|zone|bar|bid|biz|cab|cat|ceo|com|edu|gov|int|kim|mil|net|onl|org|pro|pub|red|tel|uno|wed|xxx|xyz|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw)\b/,o=/((?:\([0-9]{1,3}\)|[0-9]{2})[ \-]*?[0-9]{4,5}(?:[\-\s\_]{1,2})?[0-9]{4}(?:(?=[^0-9])|$)|[0-9]{4,5}(?:[\-\s\_]{1,2})?[0-9]{4}(?:(?=[^0-9])|$))/,c=/[\-A-Za-z0-9+&@#\/%=~_()|'$*\[\]?!:,.;]*[\-A-Za-z0-9+&@#\/%=~_()|'$*\[\]]/,new RegExp(["(",/(^|[^\w])@(\w{1,15})/.source,")","|","(",/(?:[\-;:&=\+\$,\w\.]+@)/.source,s.source,a.source,")","|","(","(?:","(",r.source,s.source,")","|","(?:","(.?//)?",n.source,s.source,")","|","(?:","(.?//)?",s.source,a.source,")",")","(?:"+c.source+")?",")","|","(",o.source,")"].join(""),"gi")),charBeforeProtocolRelMatchRegex:/^(.)?\/\//,link:function(t){var e=this,r=this.getHtmlParser(),n=this.htmlCharacterEntitiesRegex,s=0,a=[];return r.parse(t,{processHtmlNode:function(t,e,r){"a"===e&&(r?s=Math.max(s-1,0):s++),a.push(t)},processTextNode:function(t){if(0===s)for(var r=i.Util.splitAndCapture(t,n),o=0,c=r.length;o<c;o++){var l=r[o],h=e.processTextNode(l);a.push(h)}else a.push(t)}}),a.join("")},getHtmlParser:function(){var t=this.htmlParser;return t||(t=this.htmlParser=new i.HtmlParser),t},getTagBuilder:function(){var t=this.tagBuilder;return t||(t=this.tagBuilder=new i.AnchorTagBuilder({newWindow:this.newWindow,truncate:this.truncate,className:this.className})),t},processTextNode:function(t){var e=this;return t.replace(this.matcherRegex,(function(t,r,i,n,s,a,o,c,l,h){var u=e.processCandidateMatch(t,r,i,n,s,a,o,c,l,h);if(u){var g=e.createMatchReturnVal(u.match,u.matchStr);return u.prefixStr+g+u.suffixStr}return t}))},processCandidateMatch:function(t,e,r,n,s,a,o,c,l,h){var u=c||l,g,m="",p="";if(e&&!this.twitter||s&&!this.email||a&&!this.urls||!this.matchValidator.isValidMatch(a,o,u))return null;if(this.matchHasUnbalancedClosingParen(t)&&(t=t.substr(0,t.length-1),p=")"),s)g=new i.match.Email({matchedText:t,email:s});else if(e)r&&(m=r,t=t.slice(1)),g=new i.match.Twitter({matchedText:t,twitterHandle:n});else if(h)g=new i.match.Phone({matchedText:t,phone:h});else{if(u){var f=u.match(this.charBeforeProtocolRelMatchRegex)[1]||"";f&&(m=f,t=t.slice(1))}g=new i.match.Url({matchedText:t,url:t,protocolUrlMatch:!!o,protocolRelativeMatch:!!u,stripPrefix:this.stripPrefix})}return{prefixStr:m,suffixStr:p,matchStr:t,match:g}},matchHasUnbalancedClosingParen:function(t){var e;if(")"===t.charAt(t.length-1)){var r=t.match(/\(/g),i=t.match(/\)/g),n,s;if((r&&r.length||0)<(i&&i.length||0))return!0}return!1},createMatchReturnVal:function(t,e){var r,n,s;return this.replaceFn&&(r=this.replaceFn.call(this,this,t)),"string"==typeof r?r:!1===r?e:r instanceof i.HtmlTag?r.toString():this.getTagBuilder().build(t).toString()}},i.link=function(t,e){var r;return new i(e).link(t)},i.match={},i.Util={abstractMethod:function(){throw"abstract"},assign:function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t},extend:function(t,e){var r=t.prototype,n=function(){},s;n.prototype=r;var a=(s=e.hasOwnProperty("constructor")?e.constructor:function(){r.constructor.apply(this,arguments)}).prototype=new n;return a.constructor=s,a.superclass=r,delete e.constructor,i.Util.assign(a,e),s},ellipsis:function(t,e,r){return t.length>e&&(r=null==r?"..":r,t=t.substring(0,e-r.length)+r),t},indexOf:function(t,e){if(Array.prototype.indexOf)return t.indexOf(e);for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1},splitAndCapture:function(t,e){if(!e.global)throw new Error("`splitRegex` must have the 'g' flag set");for(var r=[],i=0,n;n=e.exec(t);)r.push(t.substring(i,n.index)),r.push(n[0]),i=n.index+n[0].length;return r.push(t.substring(i)),r}},i.HtmlParser=i.Util.extend(Object,{htmlRegex:(u=/(?:"[^"]*?"|'[^']*?'|[^'"=<>`\s]+)/,g=/[^\s\0"'>\/=\x01-\x1F\x7F]+/.source+"(?:\\s*=\\s*"+u.source+")?",new RegExp(["(?:","<(!DOCTYPE)","(?:","\\s+","(?:",g,"|",u.source+")",")*",">",")","|","(?:","<(/)?","("+/[0-9a-zA-Z][0-9a-zA-Z:]*/.source+")","(?:","\\s+",g,")*","\\s*/?",">",")"].join(""),"gi")),parse:function(t,e){for(var r=(e=e||{}).processHtmlNode||function(){},i=e.processTextNode||function(){},n=this.htmlRegex,s,a=0;null!==(s=n.exec(t));){var o=s[0],c=s[1]||s[3],l=!!s[2],h=t.substring(a,s.index);h&&i(h),r(o,c.toLowerCase(),l),a=s.index+o.length}if(a<t.length){var u=t.substring(a);u&&i(u)}}}),i.HtmlTag=i.Util.extend(Object,{whitespaceRegex:/\s+/,constructor:function(t){i.Util.assign(this,t),this.innerHtml=this.innerHtml||this.innerHTML},setTagName:function(t){return this.tagName=t,this},getTagName:function(){return this.tagName||""},setAttr:function(t,e){var r;return this.getAttrs()[t]=e,this},getAttr:function(t){return this.getAttrs()[t]},setAttrs:function(t){var e=this.getAttrs();return i.Util.assign(e,t),this},getAttrs:function(){return this.attrs||(this.attrs={})},setClass:function(t){return this.setAttr("class",t)},addClass:function(t){for(var e=this.getClass(),r=this.whitespaceRegex,n=i.Util.indexOf,s=e?e.split(r):[],a=t.split(r),o;o=a.shift();)-1===n(s,o)&&s.push(o);return this.getAttrs().class=s.join(" "),this},removeClass:function(t){for(var e=this.getClass(),r=this.whitespaceRegex,n=i.Util.indexOf,s=e?e.split(r):[],a=t.split(r),o;s.length&&(o=a.shift());){var c=n(s,o);-1!==c&&s.splice(c,1)}return this.getAttrs().class=s.join(" "),this},getClass:function(){return this.getAttrs().class||""},hasClass:function(t){return-1!==(" "+this.getClass()+" ").indexOf(" "+t+" ")},setInnerHtml:function(t){return this.innerHtml=t,this},getInnerHtml:function(){return this.innerHtml||""},toString:function(){var t=this.getTagName(),e=this.buildAttrsStr();return["<",t,e=e?" "+e:"",">",this.getInnerHtml(),"</",t,">"].join("")},buildAttrsStr:function(){if(!this.attrs)return"";var t=this.getAttrs(),e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(r+'="'+t[r]+'"');return e.join(" ")}}),i.MatchValidator=i.Util.extend(Object,{invalidProtocolRelMatchRegex:/^[\w]\/\//,hasFullProtocolRegex:/^[A-Za-z][-.+A-Za-z0-9]+:\/\//,uriSchemeRegex:/^[A-Za-z][-.+A-Za-z0-9]+:/,hasWordCharAfterProtocolRegex:/:[^\s]*?[A-Za-z]/,isValidMatch:function(t,e,r){return!(e&&!this.isValidUriScheme(e)||this.urlMatchDoesNotHaveProtocolOrDot(t,e)||this.urlMatchDoesNotHaveAtLeastOneWordChar(t,e)||this.isInvalidProtocolRelativeMatch(r))},isValidUriScheme:function(t){var e=t.match(this.uriSchemeRegex)[0].toLowerCase();return"javascript:"!==e&&"vbscript:"!==e},urlMatchDoesNotHaveProtocolOrDot:function(t,e){return!(!t||e&&this.hasFullProtocolRegex.test(e)||-1!==t.indexOf("."))},urlMatchDoesNotHaveAtLeastOneWordChar:function(t,e){return!(!t||!e)&&!this.hasWordCharAfterProtocolRegex.test(t)},isInvalidProtocolRelativeMatch:function(t){return!!t&&this.invalidProtocolRelMatchRegex.test(t)}}),i.AnchorTagBuilder=i.Util.extend(Object,{constructor:function(t){i.Util.assign(this,t)},build:function(t){var e;return new i.HtmlTag({tagName:"a",attrs:this.createAttrs(t.getType(),t.getAnchorHref()),innerHtml:this.processAnchorText(t.getAnchorText())})},createAttrs:function(t,e){var r={href:e},i=this.createCssClass(t);return i&&(r.class=i),this.newWindow&&(r.target="_blank"),r},createCssClass:function(t){var e=this.className;return e?e+" "+e+"-"+t:""},processAnchorText:function(t){return t=this.doTruncate(t)},doTruncate:function(t){return i.Util.ellipsis(t,this.truncate||Number.POSITIVE_INFINITY)}}),i.match.Match=i.Util.extend(Object,{constructor:function(t){i.Util.assign(this,t)},getType:i.Util.abstractMethod,getMatchedText:function(){return this.matchedText},getAnchorHref:i.Util.abstractMethod,getAnchorText:i.Util.abstractMethod}),i.match.Email=i.Util.extend(i.match.Match,{getType:function(){return"email"},getEmail:function(){return this.email},getAnchorHref:function(){return"mailto:"+this.email},getAnchorText:function(){return this.email}}),i.match.Twitter=i.Util.extend(i.match.Match,{getType:function(){return"twitter"},getTwitterHandle:function(){return this.twitterHandle},getAnchorHref:function(){return"https://twitter.com/"+this.twitterHandle},getAnchorText:function(){return"@"+this.twitterHandle}}),i.match.Url=i.Util.extend(i.match.Match,{urlPrefixRegex:/^(https?:\/\/)?(www\.)?/i,protocolRelativeRegex:/^\/\//,protocolPrepended:!1,getType:function(){return"url"},getUrl:function(){var t=this.url;return this.protocolRelativeMatch||this.protocolUrlMatch||this.protocolPrepended||(t=this.url="http://"+t,this.protocolPrepended=!0),t},getAnchorHref:function(){var t;return this.getUrl().replace(/&amp;/g,"&")},getAnchorText:function(){var t=this.getUrl();return this.protocolRelativeMatch&&(t=this.stripProtocolRelativePrefix(t)),this.stripPrefix&&(t=this.stripUrlPrefix(t)),t=this.removeTrailingSlash(t)},stripUrlPrefix:function(t){return t.replace(this.urlPrefixRegex,"")},stripProtocolRelativePrefix:function(t){return t.replace(this.protocolRelativeRegex,"")},removeTrailingSlash:function(t){return"/"===t.charAt(t.length-1)&&(t=t.slice(0,-1)),t}}),i.match.Phone=i.Util.extend(i.match.Match,{getType:function(){return"phone"},getAnchorHref:function(){return"tel:"+this.phone},getAnchorText:function(){return this.phone}})}).call(this),function(){if(Package.templating){var t=Package.templating.Template,e=Package.blaze.Blaze,r=Package.htmljs.HTML;e.Template.registerHelper("autolink",new t("autolink",(function(){var t=this,n="",s={},a;return this.outputMarkdown&&(s.outputMarkdown=!0),this.templateContentBlock&&(n=e._toText(this.templateContentBlock,r.TEXTMODE.STRING)),a=new i(s),r.Raw(a.link(n))})))}}.call(this),Package._define("konecty:autolinker",{Autolinker:i})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,i=Package.jquery.$,o=Package.jquery.jQuery;(function(){(function(){!function(e){var t="Close",n="BeforeClose",i="AfterClose",o="BeforeAppend",a="MarkupParse",r="Open",s="Change",l="mfp",c=".mfp",p="mfp-ready",u="mfp-removing",d="mfp-prevent-close",f,m=function(){},g=!!window.jQuery,h,v=e(window),C,y,w,b,I,x=function(e,t){f.ev.on(l+e+".mfp",t)},k=function(t,n,i,o){var a=document.createElement("div");return a.className="mfp-"+t,i&&(a.innerHTML=i),o?n&&n.appendChild(a):(a=e(a),n&&a.appendTo(n)),a},T=function(t,n){f.ev.triggerHandler(l+t,n),f.st.callbacks&&(t=t.charAt(0).toLowerCase()+t.slice(1),f.st.callbacks[t]&&f.st.callbacks[t].apply(f,e.isArray(n)?n:[n]))},P=function(t){return t===I&&f.currTemplate.closeBtn||(f.currTemplate.closeBtn=e(f.st.closeMarkup.replace("%title%",f.st.tClose)),I=t),f.currTemplate.closeBtn},E=function(){e.magnificPopup.instance||((f=new m).init(),e.magnificPopup.instance=f)},_=function(){var e=document.createElement("p").style,t=["ms","O","Moz","Webkit"];if(void 0!==e.transition)return!0;for(;t.length;)if(t.pop()+"Transition"in e)return!0;return!1};m.prototype={constructor:m,init:function(){var t=navigator.appVersion;f.isIE7=-1!==t.indexOf("MSIE 7."),f.isIE8=-1!==t.indexOf("MSIE 8."),f.isLowIE=f.isIE7||f.isIE8,f.isAndroid=/android/gi.test(t),f.isIOS=/iphone|ipad|ipod/gi.test(t),f.supportsTransition=_(),f.probablyMobile=f.isAndroid||f.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),y=e(document),f.popupsCache={}},open:function(t){var n;if(C||(C=e(document.body)),!1===t.isObj){f.items=t.items.toArray(),f.index=0;var i=t.items,o;for(n=0;n<i.length;n++)if((o=i[n]).parsed&&(o=o.el[0]),o===t.el[0]){f.index=n;break}}else f.items=e.isArray(t.items)?t.items:[t.items],f.index=t.index||0;if(!f.isOpen){f.types=[],b="",t.mainEl&&t.mainEl.length?f.ev=t.mainEl.eq(0):f.ev=y,t.key?(f.popupsCache[t.key]||(f.popupsCache[t.key]={}),f.currTemplate=f.popupsCache[t.key]):f.currTemplate={},f.st=e.extend(!0,{},e.magnificPopup.defaults,t),f.fixedContentPos="auto"===f.st.fixedContentPos?!f.probablyMobile:f.st.fixedContentPos,f.st.modal&&(f.st.closeOnContentClick=!1,f.st.closeOnBgClick=!1,f.st.showCloseBtn=!1,f.st.enableEscapeKey=!1),f.bgOverlay||(f.bgOverlay=k("bg").on("click.mfp",(function(){f.close()})),f.wrap=k("wrap").attr("tabindex",-1).on("click.mfp",(function(e){f._checkIfClose(e.target)&&f.close()})),f.container=k("container",f.wrap)),f.contentContainer=k("content"),f.st.preloader&&(f.preloader=k("preloader",f.container,f.st.tLoading));var a=e.magnificPopup.modules;for(n=0;n<a.length;n++){var r=a[n];r=r.charAt(0).toUpperCase()+r.slice(1),f["init"+r].call(f)}T("BeforeOpen"),f.st.showCloseBtn&&(f.st.closeBtnInside?(x("MarkupParse",(function(e,t,n,i){n.close_replaceWith=P(i.type)})),b+=" mfp-close-btn-in"):f.wrap.append(P())),f.st.alignTop&&(b+=" mfp-align-top"),f.fixedContentPos?f.wrap.css({overflow:f.st.overflowY,overflowX:"hidden",overflowY:f.st.overflowY}):f.wrap.css({top:v.scrollTop(),position:"absolute"}),(!1===f.st.fixedBgPos||"auto"===f.st.fixedBgPos&&!f.fixedContentPos)&&f.bgOverlay.css({height:y.height(),position:"absolute"}),f.st.enableEscapeKey&&y.on("keyup.mfp",(function(e){27===e.keyCode&&f.close()})),v.on("resize.mfp",(function(){f.updateSize()})),f.st.closeOnContentClick||(b+=" mfp-auto-cursor"),b&&f.wrap.addClass(b);var s=f.wH=v.height(),l={};if(f.fixedContentPos&&f._hasScrollBar(s)){var c=f._getScrollbarSize();c&&(l.marginRight=c)}f.fixedContentPos&&(f.isIE7?e("body, html").css("overflow","hidden"):l.overflow="hidden");var p=f.st.mainClass;return f.isIE7&&(p+=" mfp-ie7"),p&&f._addClassToMFP(p),f.updateItemHTML(),T("BuildControls"),e("html").css(l),f.bgOverlay.add(f.wrap).prependTo(f.st.prependTo||C),f._lastFocusedEl=document.activeElement,setTimeout((function(){f.content?(f._addClassToMFP("mfp-ready"),f._setFocus()):f.bgOverlay.addClass("mfp-ready"),y.on("focusin.mfp",f._onFocusIn)}),16),f.isOpen=!0,f.updateSize(s),T("Open"),t}f.updateItemHTML()},close:function(){f.isOpen&&(T("BeforeClose"),f.isOpen=!1,f.st.removalDelay&&!f.isLowIE&&f.supportsTransition?(f._addClassToMFP("mfp-removing"),setTimeout((function(){f._close()}),f.st.removalDelay)):f._close())},_close:function(){T("Close");var t="mfp-removing mfp-ready ";if(f.bgOverlay.detach(),f.wrap.detach(),f.container.empty(),f.st.mainClass&&(t+=f.st.mainClass+" "),f._removeClassFromMFP(t),f.fixedContentPos){var n={marginRight:""};f.isIE7?e("body, html").css("overflow",""):n.overflow="",e("html").css(n)}y.off("keyup.mfp focusin.mfp"),f.ev.off(".mfp"),f.wrap.attr("class","mfp-wrap").removeAttr("style"),f.bgOverlay.attr("class","mfp-bg"),f.container.attr("class","mfp-container"),!f.st.showCloseBtn||f.st.closeBtnInside&&!0!==f.currTemplate[f.currItem.type]||f.currTemplate.closeBtn&&f.currTemplate.closeBtn.detach(),f._lastFocusedEl&&e(f._lastFocusedEl).focus(),f.currItem=null,f.content=null,f.currTemplate=null,f.prevHeight=0,T("AfterClose")},updateSize:function(e){if(f.isIOS){var t=document.documentElement.clientWidth/window.innerWidth,n=window.innerHeight*t;f.wrap.css("height",n),f.wH=n}else f.wH=e||v.height();f.fixedContentPos||f.wrap.css("height",f.wH),T("Resize")},updateItemHTML:function(){var t=f.items[f.index];f.contentContainer.detach(),f.content&&f.content.detach(),t.parsed||(t=f.parseEl(f.index));var n=t.type;if(T("BeforeChange",[f.currItem?f.currItem.type:"",n]),f.currItem=t,!f.currTemplate[n]){var i=!!f.st[n]&&f.st[n].markup;T("FirstMarkupParse",i),f.currTemplate[n]=!i||e(i)}w&&w!==t.type&&f.container.removeClass("mfp-"+w+"-holder");var o=f["get"+n.charAt(0).toUpperCase()+n.slice(1)](t,f.currTemplate[n]);f.appendContent(o,n),t.preloaded=!0,T("Change",t),w=t.type,f.container.prepend(f.contentContainer),T("AfterChange")},appendContent:function(e,t){f.content=e,e?f.st.showCloseBtn&&f.st.closeBtnInside&&!0===f.currTemplate[t]?f.content.find(".mfp-close").length||f.content.append(P()):f.content=e:f.content="",T("BeforeAppend"),f.container.addClass("mfp-"+t+"-holder"),f.contentContainer.append(f.content)},parseEl:function(t){var n=f.items[t],i;if(n.tagName?n={el:e(n)}:(i=n.type,n={data:n,src:n.src}),n.el){for(var o=f.types,a=0;a<o.length;a++)if(n.el.hasClass("mfp-"+o[a])){i=o[a];break}n.src=n.el.attr("data-mfp-src"),n.src||(n.src=n.el.attr("href"))}return n.type=i||f.st.type||"inline",n.index=t,n.parsed=!0,f.items[t]=n,T("ElementParse",n),f.items[t]},addGroup:function(e,t){var n=function(n){n.mfpEl=this,f._openClick(n,e,t)};t||(t={});var i="click.magnificPopup";t.mainEl=e,t.items?(t.isObj=!0,e.off(i).on(i,n)):(t.isObj=!1,t.delegate?e.off(i).on(i,t.delegate,n):(t.items=e,e.off(i).on(i,n)))},_openClick:function(t,n,i){var o;if((void 0!==i.midClick?i.midClick:e.magnificPopup.defaults.midClick)||2!==t.which&&!t.ctrlKey&&!t.metaKey){var a=void 0!==i.disableOn?i.disableOn:e.magnificPopup.defaults.disableOn;if(a)if(e.isFunction(a)){if(!a.call(f))return!0}else if(v.width()<a)return!0;t.type&&(t.preventDefault(),f.isOpen&&t.stopPropagation()),i.el=e(t.mfpEl),i.delegate&&(i.items=n.find(i.delegate)),f.open(i)}},updateStatus:function(e,t){if(f.preloader){h!==e&&f.container.removeClass("mfp-s-"+h),t||"loading"!==e||(t=f.st.tLoading);var n={status:e,text:t};T("UpdateStatus",n),e=n.status,t=n.text,f.preloader.html(t),f.preloader.find("a").on("click",(function(e){e.stopImmediatePropagation()})),f.container.addClass("mfp-s-"+e),h=e}},_checkIfClose:function(t){if(!e(t).hasClass("mfp-prevent-close")){var n=f.st.closeOnContentClick,i=f.st.closeOnBgClick;if(n&&i)return!0;if(!f.content||e(t).hasClass("mfp-close")||f.preloader&&t===f.preloader[0])return!0;if(t===f.content[0]||e.contains(f.content[0],t)){if(n)return!0}else if(i&&e.contains(document,t))return!0;return!1}},_addClassToMFP:function(e){f.bgOverlay.addClass(e),f.wrap.addClass(e)},_removeClassFromMFP:function(e){this.bgOverlay.removeClass(e),f.wrap.removeClass(e)},_hasScrollBar:function(e){return(f.isIE7?y.height():document.body.scrollHeight)>(e||v.height())},_setFocus:function(){(f.st.focus?f.content.find(f.st.focus).eq(0):f.wrap).focus()},_onFocusIn:function(t){if(t.target!==f.wrap[0]&&!e.contains(f.wrap[0],t.target))return f._setFocus(),!1},_parseMarkup:function(t,n,i){var o;i.data&&(n=e.extend(i.data,n)),T("MarkupParse",[t,n,i]),e.each(n,(function(e,n){if(void 0===n||!1===n)return!0;if((o=e.split("_")).length>1){var i=t.find(".mfp-"+o[0]);if(i.length>0){var a=o[1];"replaceWith"===a?i[0]!==n[0]&&i.replaceWith(n):"img"===a?i.is("img")?i.attr("src",n):i.replaceWith('<img src="'+n+'" class="'+i.attr("class")+'" />'):i.attr(o[1],n)}}else t.find(".mfp-"+e).html(n)}))},_getScrollbarSize:function(){if(void 0===f.scrollbarSize){var e=document.createElement("div");e.id="mfp-sbm",e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e),f.scrollbarSize=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return f.scrollbarSize}},e.magnificPopup={instance:null,proto:m.prototype,modules:[],open:function(t,n){return E(),(t=t?e.extend(!0,{},t):{}).isObj=!0,t.index=n||0,this.instance.open(t)},close:function(){return e.magnificPopup.instance&&e.magnificPopup.instance.close()},registerModule:function(t,n){n.options&&(e.magnificPopup.defaults[t]=n.options),e.extend(this.proto,n.proto),this.modules.push(t)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}},e.fn.magnificPopup=function(t){E();var n=e(this);if("string"==typeof t)if("open"===t){var i,o=g?n.data("magnificPopup"):n[0].magnificPopup,a=parseInt(arguments[1],10)||0;o.items?i=o.items[a]:(i=n,o.delegate&&(i=i.find(o.delegate)),i=i.eq(a)),f._openClick({mfpEl:i},n,o)}else f.isOpen&&f[t].apply(f,Array.prototype.slice.call(arguments,1));else t=e.extend(!0,{},t),g?n.data("magnificPopup",t):n[0].magnificPopup=t,f.addGroup(n,t);return n};var S="inline",O,M,z,B=function(){z&&(M.after(z.addClass(O)).detach(),z=null)};e.magnificPopup.registerModule("inline",{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){f.types.push("inline"),x("Close.inline",(function(){B()}))},getInline:function(t,n){if(B(),t.src){var i=f.st.inline,o=e(t.src);if(o.length){var a=o[0].parentNode;a&&a.tagName&&(M||(O=i.hiddenClass,M=k(O),O="mfp-"+O),z=o.after(M).detach().removeClass(O)),f.updateStatus("ready")}else f.updateStatus("error",i.tNotFound),o=e("<div>");return t.inlineElement=o,o}return f.updateStatus("ready"),f._parseMarkup(n,{},t),n}}});var F="ajax",A,H=function(){A&&C.removeClass(A)},L=function(){H(),f.req&&f.req.abort()};e.magnificPopup.registerModule("ajax",{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){f.types.push("ajax"),A=f.st.ajax.cursor,x("Close.ajax",L),x("BeforeChange.ajax",L)},getAjax:function(t){A&&C.addClass(A),f.updateStatus("loading");var n=e.extend({url:t.src,success:function(n,i,o){var a={data:n,xhr:o};T("ParseAjax",a),f.appendContent(e(a.data),"ajax"),t.finished=!0,H(),f._setFocus(),setTimeout((function(){f.wrap.addClass("mfp-ready")}),16),f.updateStatus("ready"),T("AjaxContentAdded")},error:function(){H(),t.finished=t.loadError=!0,f.updateStatus("error",f.st.ajax.tError.replace("%url%",t.src))}},f.st.ajax.settings);return f.req=e.ajax(n),""}}});var j,N=function(t){if(t.data&&void 0!==t.data.title)return t.data.title;var n=f.st.image.titleSrc;if(n){if(e.isFunction(n))return n.call(f,t);if(t.el)return t.el.attr(n)||""}return""};e.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var e=f.st.image,t=".image";f.types.push("image"),x("Open"+t,(function(){"image"===f.currItem.type&&e.cursor&&C.addClass(e.cursor)})),x("Close"+t,(function(){e.cursor&&C.removeClass(e.cursor),v.off("resize.mfp")})),x("Resize"+t,f.resizeImage),f.isLowIE&&x("AfterChange",f.resizeImage)},resizeImage:function(){var e=f.currItem;if(e&&e.img&&f.st.image.verticalFit){var t=0;f.isLowIE&&(t=parseInt(e.img.css("padding-top"),10)+parseInt(e.img.css("padding-bottom"),10)),e.img.css("max-height",f.wH-t)}},_onImageHasSize:function(e){e.img&&(e.hasSize=!0,j&&clearInterval(j),e.isCheckingImgSize=!1,T("ImageHasSize",e),e.imgHidden&&(f.content&&f.content.removeClass("mfp-loading"),e.imgHidden=!1))},findImageSize:function(e){var t=0,n=e.img[0],i=function(o){j&&clearInterval(j),j=setInterval((function(){n.naturalWidth>0?f._onImageHasSize(e):(t>200&&clearInterval(j),3===++t?i(10):40===t?i(50):100===t&&i(500))}),o)};i(1)},getImage:function(t,n){var i=0,o=function(){t&&(t.img[0].complete?(t.img.off(".mfploader"),t===f.currItem&&(f._onImageHasSize(t),f.updateStatus("ready")),t.hasSize=!0,t.loaded=!0,T("ImageLoadComplete")):++i<200?setTimeout(o,100):a())},a=function(){t&&(t.img.off(".mfploader"),t===f.currItem&&(f._onImageHasSize(t),f.updateStatus("error",r.tError.replace("%url%",t.src))),t.hasSize=!0,t.loaded=!0,t.loadError=!0)},r=f.st.image,s=n.find(".mfp-img");if(s.length){var l=document.createElement("img");l.className="mfp-img",t.img=e(l).on("load.mfploader",o).on("error.mfploader",a),l.src=t.src,s.is("img")&&(t.img=t.img.clone()),(l=t.img[0]).naturalWidth>0?t.hasSize=!0:l.width||(t.hasSize=!1)}return f._parseMarkup(n,{title:N(t),img_replaceWith:t.img},t),f.resizeImage(),t.hasSize?(j&&clearInterval(j),t.loadError?(n.addClass("mfp-loading"),f.updateStatus("error",r.tError.replace("%url%",t.src))):(n.removeClass("mfp-loading"),f.updateStatus("ready")),n):(f.updateStatus("loading"),t.loading=!0,t.hasSize||(t.imgHidden=!0,n.addClass("mfp-loading"),f.findImageSize(t)),n)}}});var W,R=function(){return void 0===W&&(W=void 0!==document.createElement("p").style.MozTransform),W};e.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(e){return e.is("img")?e:e.find("img")}},proto:{initZoom:function(){var e=f.st.zoom,t=".zoom",n;if(e.enabled&&f.supportsTransition){var i=e.duration,o=function(t){var n=t.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),i="all "+e.duration/1e3+"s "+e.easing,o={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},a="transition";return o["-webkit-"+a]=o["-moz-"+a]=o["-o-"+a]=o[a]=i,n.css(o),n},a=function(){f.content.css("visibility","visible")},r,s;x("BuildControls"+t,(function(){if(f._allowZoom()){if(clearTimeout(r),f.content.css("visibility","hidden"),!(n=f._getItemToZoom()))return void a();(s=o(n)).css(f._getOffset()),f.wrap.append(s),r=setTimeout((function(){s.css(f._getOffset(!0)),r=setTimeout((function(){a(),setTimeout((function(){s.remove(),n=s=null,T("ZoomAnimationEnded")}),16)}),i)}),16)}})),x("BeforeClose"+t,(function(){if(f._allowZoom()){if(clearTimeout(r),f.st.removalDelay=i,!n){if(!(n=f._getItemToZoom()))return;s=o(n)}s.css(f._getOffset(!0)),f.wrap.append(s),f.content.css("visibility","hidden"),setTimeout((function(){s.css(f._getOffset())}),16)}})),x("Close"+t,(function(){f._allowZoom()&&(a(),s&&s.remove(),n=null)}))}},_allowZoom:function(){return"image"===f.currItem.type},_getItemToZoom:function(){return!!f.currItem.hasSize&&f.currItem.img},_getOffset:function(t){var n,i=(n=t?f.currItem.img:f.st.zoom.opener(f.currItem.el||f.currItem)).offset(),o=parseInt(n.css("padding-top"),10),a=parseInt(n.css("padding-bottom"),10);i.top-=e(window).scrollTop()-o;var r={width:n.width(),height:(g?n.innerHeight():n[0].offsetHeight)-a-o};return R()?r["-moz-transform"]=r.transform="translate("+i.left+"px,"+i.top+"px)":(r.left=i.left,r.top=i.top),r}}});var Z="iframe",q="//about:blank",D=function(e){if(f.currTemplate.iframe){var t=f.currTemplate.iframe.find("iframe");t.length&&(e||(t[0].src=q),f.isIE8&&t.css("display",e?"block":"none"))}};e.magnificPopup.registerModule("iframe",{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){f.types.push("iframe"),x("BeforeChange",(function(e,t,n){t!==n&&("iframe"===t?D():"iframe"===n&&D(!0))})),x("Close.iframe",(function(){D()}))},getIframe:function(t,n){var i=t.src,o=f.st.iframe;e.each(o.patterns,(function(){if(i.indexOf(this.index)>-1)return this.id&&(i="string"==typeof this.id?i.substr(i.lastIndexOf(this.id)+this.id.length,i.length):this.id.call(this,i)),i=this.src.replace("%id%",i),!1}));var a={};return o.srcAction&&(a[o.srcAction]=i),f._parseMarkup(n,a,t),f.updateStatus("ready"),n}}});var K=function(e){var t=f.items.length;return e>t-1?e-t:e<0?t+e:e},Y=function(e,t,n){return e.replace(/%curr%/gi,t+1).replace(/%total%/gi,n)};e.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var t=f.st.gallery,n=".mfp-gallery",i=Boolean(e.fn.mfpFastClick);if(f.direction=!0,!t||!t.enabled)return!1;b+=" mfp-gallery",x("Open"+n,(function(){t.navigateByImgClick&&f.wrap.on("click"+n,".mfp-img",(function(){if(f.items.length>1)return f.next(),!1})),y.on("keydown"+n,(function(e){37===e.keyCode?f.prev():39===e.keyCode&&f.next()}))})),x("UpdateStatus"+n,(function(e,t){t.text&&(t.text=Y(t.text,f.currItem.index,f.items.length))})),x("MarkupParse"+n,(function(e,n,i,o){var a=f.items.length;i.counter=a>1?Y(t.tCounter,o.index,a):""})),x("BuildControls"+n,(function(){if(f.items.length>1&&t.arrows&&!f.arrowLeft){var n=t.arrowMarkup,o=f.arrowLeft=e(n.replace(/%title%/gi,t.tPrev).replace(/%dir%/gi,"left")).addClass("mfp-prevent-close"),a=f.arrowRight=e(n.replace(/%title%/gi,t.tNext).replace(/%dir%/gi,"right")).addClass("mfp-prevent-close"),r=i?"mfpFastClick":"click";o[r]((function(){f.prev()})),a[r]((function(){f.next()})),f.isIE7&&(k("b",o[0],!1,!0),k("a",o[0],!1,!0),k("b",a[0],!1,!0),k("a",a[0],!1,!0)),f.container.append(o.add(a))}})),x("Change"+n,(function(){f._preloadTimeout&&clearTimeout(f._preloadTimeout),f._preloadTimeout=setTimeout((function(){f.preloadNearbyImages(),f._preloadTimeout=null}),16)})),x("Close"+n,(function(){y.off(n),f.wrap.off("click"+n),f.arrowLeft&&i&&f.arrowLeft.add(f.arrowRight).destroyMfpFastClick(),f.arrowRight=f.arrowLeft=null}))},next:function(){f.direction=!0,f.index=K(f.index+1),f.updateItemHTML()},prev:function(){f.direction=!1,f.index=K(f.index-1),f.updateItemHTML()},goTo:function(e){f.direction=e>=f.index,f.index=e,f.updateItemHTML()},preloadNearbyImages:function(){var e=f.st.gallery.preload,t=Math.min(e[0],f.items.length),n=Math.min(e[1],f.items.length),i;for(i=1;i<=(f.direction?n:t);i++)f._preloadItem(f.index+i);for(i=1;i<=(f.direction?t:n);i++)f._preloadItem(f.index-i)},_preloadItem:function(t){if(t=K(t),!f.items[t].preloaded){var n=f.items[t];n.parsed||(n=f.parseEl(t)),T("LazyLoad",n),"image"===n.type&&(n.img=e('<img class="mfp-img" />').on("load.mfploader",(function(){n.hasSize=!0})).on("error.mfploader",(function(){n.hasSize=!0,n.loadError=!0,T("LazyLoadError",n)})).attr("src",n.src)),n.preloaded=!0}}}});var U="retina",G,Q,X,$,V;e.magnificPopup.registerModule("retina",{options:{replaceSrc:function(e){return e.src.replace(/\.\w+$/,(function(e){return"@2x"+e}))},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var e=f.st.retina,t=e.ratio;(t=isNaN(t)?t():t)>1&&(x("ImageHasSize.retina",(function(e,n){n.img.css({"max-width":n.img[0].naturalWidth/t,width:"100%"})})),x("ElementParse.retina",(function(n,i){i.src=e.replaceSrc(i,t)})))}}}}),G=1e3,Q="ontouchstart"in window,X=function(){v.off("touchmove"+V+" touchend"+V)},V=".mfpFastClick",e.fn.mfpFastClick=function(t){return e(this).each((function(){var n=e(this),i,o,a,r,s,l,c;Q&&n.on("touchstart"+V,(function(e){s=!1,c=1,l=e.originalEvent?e.originalEvent.touches[0]:e.touches[0],a=l.clientX,r=l.clientY,v.on("touchmove"+V,(function(e){l=e.originalEvent?e.originalEvent.touches:e.touches,c=l.length,l=l[0],(Math.abs(l.clientX-a)>10||Math.abs(l.clientY-r)>10)&&(s=!0,X())})).on("touchend"+V,(function(e){X(),s||c>1||(i=!0,e.preventDefault(),clearTimeout(o),o=setTimeout((function(){i=!1}),1e3),t())}))})),n.on("click"+V,(function(){i||t()}))}))},e.fn.destroyMfpFastClick=function(){e(this).off("touchstart"+V+" click"+V),Q&&v.off("touchmove"+V+" touchend"+V)},E()}(window.jQuery||window.Zepto)}).call(this)}).call(this),Package._define("gabrielengel:konecty-magnific-popup")}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,c=Package.meteor.meteorEnv,g;(function(){}).call(this),Package._define("cfs:graphicsmagick",{gm:g})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv;(function(){!function(e,t){"use strict";function n(e,t){for(var n,r=[],i=0;i<e.length;++i){if(!(n=s[e[i]]||o(e[i])))throw"module definition dependecy not found: "+e[i];r.push(n)}t.apply(null,r)}function r(e,r,i){if("string"!=typeof e)throw"invalid module definition, module id must be defined and be a string";if(r===t)throw"invalid module definition, dependencies must be specified";if(i===t)throw"invalid module definition, definition function must be specified";n(r,(function(){s[e]=i.apply(null,arguments)}))}function i(e){return!!s[e]}function o(t){for(var n=e,r=t.split(/[.\/]/),i=0;i<r.length;++i){if(!n[r[i]])return;n=n[r[i]]}return n}function a(n){var r,i,o,a,l;for(r=0;r<n.length;r++){i=e,a=(o=n[r]).split(/[.\/]/);for(var c=0;c<a.length-1;++c)i[a[c]]===t&&(i[a[c]]={}),i=i[a[c]];i[a[a.length-1]]=s[o]}if(e.AMDLC_TESTS){for(o in l=e.privateModules||{},s)l[o]=s[o];for(r=0;r<n.length;r++)delete l[n[r]];e.privateModules=l}}var s={},l="tinymce/geom/Rect",c="tinymce/util/Promise",u="tinymce/util/Delay",d="tinymce/Env",f="tinymce/dom/EventUtils",m="tinymce/dom/Sizzle",g="tinymce/util/Arr",p="tinymce/util/Tools",h="tinymce/dom/DomQuery",v="tinymce/html/Styles",b="tinymce/dom/TreeWalker",y="tinymce/dom/Range",x="tinymce/html/Entities",w="tinymce/dom/StyleSheetLoader",C="tinymce/dom/DOMUtils",k="tinymce/dom/ScriptLoader",N="tinymce/AddOnManager",S="tinymce/dom/NodeType",_="tinymce/text/Zwsp",T="tinymce/caret/CaretContainer",E="tinymce/dom/RangeUtils",R="tinymce/NodeChange",A="tinymce/html/Node",B="tinymce/html/Schema",P="tinymce/html/SaxParser",M="tinymce/html/DomParser",D="tinymce/html/Writer",I="tinymce/html/Serializer",L="tinymce/dom/Serializer",O="tinymce/dom/TridentSelection",H="tinymce/util/VK",F="tinymce/dom/ControlSelection",z="tinymce/util/Fun",U="tinymce/caret/CaretCandidate",W="tinymce/geom/ClientRect",$="tinymce/text/ExtendingChar",j="tinymce/caret/CaretPosition",V="tinymce/caret/CaretBookmark",q="tinymce/dom/BookmarkManager",Y="tinymce/dom/Selection",K="tinymce/dom/ElementUtils",X="tinymce/fmt/Preview",G="tinymce/fmt/Hooks",J="tinymce/Formatter",Z="tinymce/undo/Diff",Q="tinymce/undo/Fragments",ee="tinymce/undo/Levels",te="tinymce/UndoManager",ne="tinymce/EnterKey",re="tinymce/ForceBlocks",ie="tinymce/caret/CaretUtils",oe="tinymce/caret/CaretWalker",ae="tinymce/InsertList",se="tinymce/InsertContent",le="tinymce/EditorCommands",ce="tinymce/util/URI",ue="tinymce/util/Class",de="tinymce/util/EventDispatcher",fe="tinymce/data/Binding",me="tinymce/util/Observable",ge="tinymce/data/ObservableObject",pe="tinymce/ui/Selector",he="tinymce/ui/Collection",ve="tinymce/ui/DomUtils",be="tinymce/ui/BoxUtils",ye="tinymce/ui/ClassList",xe="tinymce/ui/ReflowQueue",we="tinymce/ui/Control",Ce="tinymce/ui/Factory",ke="tinymce/ui/KeyboardNavigation",Ne="tinymce/ui/Container",Se="tinymce/ui/DragHelper",_e="tinymce/ui/Scrollable",Te="tinymce/ui/Panel",Ee="tinymce/ui/Movable",Re="tinymce/ui/Resizable",Ae="tinymce/ui/FloatPanel",Be="tinymce/ui/Window",Pe="tinymce/ui/MessageBox",Me="tinymce/WindowManager",De="tinymce/ui/Tooltip",Ie="tinymce/ui/Widget",Le="tinymce/ui/Progress",Oe="tinymce/ui/Notification",He="tinymce/NotificationManager",Fe="tinymce/dom/NodePath",ze="tinymce/util/Quirks",Ue="tinymce/EditorObservable",We="tinymce/Mode",$e="tinymce/Shortcuts",je="tinymce/file/Uploader",Ve="tinymce/file/Conversions",qe="tinymce/file/ImageScanner",Ye="tinymce/file/BlobCache",Ke="tinymce/file/UploadStatus",Xe="tinymce/ErrorReporter",Ge="tinymce/EditorUpload",Je="tinymce/caret/FakeCaret",Ze="tinymce/dom/Dimensions",Qe="tinymce/caret/LineWalker",et="tinymce/caret/LineUtils",tt="tinymce/dom/MousePosition",nt="tinymce/DragDropOverrides",rt="tinymce/SelectionOverrides",it="tinymce/util/Uuid",ot="tinymce/ui/Sidebar",at="tinymce/Editor",st="tinymce/util/I18n",lt="tinymce/FocusManager",ct="tinymce/EditorManager",ut="tinymce/LegacyInput",dt="tinymce/util/XHR",ft="tinymce/util/JSON",mt="tinymce/util/JSONRequest",gt="tinymce/util/JSONP",pt="tinymce/util/LocalStorage",ht="tinymce/Compat",vt="tinymce/ui/Layout",bt="tinymce/ui/AbsoluteLayout",yt="tinymce/ui/Button",xt="tinymce/ui/ButtonGroup",wt="tinymce/ui/Checkbox",Ct="tinymce/ui/ComboBox",kt="tinymce/ui/ColorBox",Nt="tinymce/ui/PanelButton",St="tinymce/ui/ColorButton",_t="tinymce/util/Color",Tt="tinymce/ui/ColorPicker",Et="tinymce/ui/Path",Rt="tinymce/ui/ElementPath",At="tinymce/ui/FormItem",Bt="tinymce/ui/Form",Pt="tinymce/ui/FieldSet",Mt="tinymce/content/LinkTargets",Dt="tinymce/ui/FilePicker",It="tinymce/ui/FitLayout",Lt="tinymce/ui/FlexLayout",Ot="tinymce/ui/FlowLayout",Ht="tinymce/fmt/FontInfo",Ft="tinymce/ui/FormatControls",zt="tinymce/ui/GridLayout",Ut="tinymce/ui/Iframe",Wt="tinymce/ui/InfoBox",$t="tinymce/ui/Label",jt="tinymce/ui/Toolbar",Vt="tinymce/ui/MenuBar",qt="tinymce/ui/MenuButton",Yt="tinymce/ui/MenuItem",Kt="tinymce/ui/Throbber",Xt="tinymce/ui/Menu",Gt="tinymce/ui/ListBox",Jt="tinymce/ui/Radio",Zt="tinymce/ui/ResizeHandle",Qt="tinymce/ui/SelectBox",en="tinymce/ui/Slider",tn="tinymce/ui/Spacer",nn="tinymce/ui/SplitButton",rn="tinymce/ui/StackLayout",on="tinymce/ui/TabPanel",an="tinymce/ui/TextBox",sn="tinymce/Register";r(l,[],(function(){function e(e,t,n){var r,i,a,s,l,u;return r=t.x,i=t.y,a=e.w,s=e.h,l=t.w,u=t.h,"b"===(n=(n||"").split(""))[0]&&(i+=u),"r"===n[1]&&(r+=l),"c"===n[0]&&(i+=c(u/2)),"c"===n[1]&&(r+=c(l/2)),"b"===n[3]&&(i-=s),"r"===n[4]&&(r-=a),"c"===n[3]&&(i-=c(s/2)),"c"===n[4]&&(r-=c(a/2)),o(r,i,a,s)}function t(t,n,r,i){var o,a;for(a=0;a<i.length;a++)if((o=e(t,n,i[a])).x>=r.x&&o.x+o.w<=r.w+r.x&&o.y>=r.y&&o.y+o.h<=r.h+r.y)return i[a];return null}function n(e,t,n){return o(e.x-t,e.y-n,e.w+2*t,e.h+2*n)}function r(e,t){var n,r,i,a;return n=l(e.x,t.x),r=l(e.y,t.y),i=s(e.x+e.w,t.x+t.w),a=s(e.y+e.h,t.y+t.h),i-n<0||a-r<0?null:o(n,r,i-n,a-r)}function i(e,t,n){var r,i,a,s,c,u,d,f,m,g;return c=e.x,u=e.y,d=e.x+e.w,f=e.y+e.h,m=t.x+t.w,g=t.y+t.h,r=l(0,t.x-c),i=l(0,t.y-u),a=l(0,d-m),s=l(0,f-g),c+=r,u+=i,n&&(d+=r,f+=i,c-=a,u-=s),o(c,u,(d-=a)-c,(f-=s)-u)}function o(e,t,n,r){return{x:e,y:t,w:n,h:r}}function a(e){return o(e.left,e.top,e.width,e.height)}var s=Math.min,l=Math.max,c=Math.round;return{inflate:n,relativePosition:e,findBestRelativePosition:t,intersect:r,clamp:i,create:o,fromClientRect:a}})),r(c,[],(function(){function e(e,t){return function(){e.apply(t,arguments)}}function t(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],s(t,e(r,this),e(i,this))}function n(e){var t=this;return null===this._state?void this._deferreds.push(e):void l((function(){var n=t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(i){return void e.reject(i)}e.resolve(r)}else(t._state?e.resolve:e.reject)(t._value)}))}function r(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void s(e(n,t),e(r,this),e(i,this))}this._state=!0,this._value=t,o.call(this)}catch(a){i.call(this,a)}}function i(e){this._state=!1,this._value=e,o.call(this)}function o(){for(var e=0,t=this._deferreds.length;e<t;e++)n.call(this,this._deferreds[e]);this._deferreds=null}function a(e,t,n,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r}function s(e,t,n){var r=!1;try{e((function(e){r||(r=!0,t(e))}),(function(e){r||(r=!0,n(e))}))}catch(i){if(r)return;r=!0,n(i)}}if(window.Promise)return window.Promise;var l=t.immediateFn||"function"==typeof setImmediate&&setImmediate||function(e){setTimeout(e,1)},c=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.then=function(e,r){var i=this;return new t((function(t,o){n.call(i,new a(e,r,t,o))}))},t.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&c(arguments[0])?arguments[0]:arguments);return new t((function(t,n){function r(o,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,(function(e){r(o,e)}),n)}e[o]=a,0==--i&&t(e)}catch(l){n(l)}}if(0===e.length)return t([]);for(var i=e.length,o=0;o<e.length;o++)r(o,e[o])}))},t.resolve=function(e){return e&&"object"==typeof e&&e.constructor===t?e:new t((function(t){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var r=0,i=e.length;r<i;r++)e[r].then(t,n)}))},t})),r(u,[c],(function(e){function t(e,t){function n(e){window.setTimeout(e,0)}var r,i=window.requestAnimationFrame,o=["ms","moz","webkit"];for(r=0;r<o.length&&!i;r++)i=window[o[r]+"RequestAnimationFrame"];i||(i=n),i(e,t)}function n(e,t){return"number"!=typeof t&&(t=0),setTimeout(e,t)}function r(e,t){return"number"!=typeof t&&(t=1),setInterval(e,t)}function i(e){return clearTimeout(e)}function o(e){return clearInterval(e)}function a(e,t){var r,i;return(i=function(){var i=arguments;clearTimeout(r),r=n((function(){e.apply(this,i)}),t)}).stop=function(){clearTimeout(r)},i}var s;return{requestAnimationFrame:function(n,r){return s?void s.then(n):void(s=new e((function(e){r||(r=document.body),t(e,r)})).then(n))},setTimeout:n,setInterval:r,setEditorTimeout:function(e,t,r){return n((function(){e.removed||t()}),r)},setEditorInterval:function(e,t,n){var i;return i=r((function(){e.removed?clearInterval(i):t()}),n)},debounce:a,throttle:a,clearInterval:o,clearTimeout:i}})),r(d,[],(function(){function e(e){return"matchMedia"in window&&matchMedia(e).matches}var t=navigator,n=t.userAgent,r,i,o,a,s,l,c,u,d,f,m,g,p,h;return r=window.opera&&window.opera.buildNumber,d=/Android/.test(n),o=(o=!(i=/WebKit/.test(n))&&!r&&/MSIE/gi.test(n)&&/Explorer/gi.test(t.appName))&&/MSIE (\w+)\./.exec(n)[1],a=-1!=n.indexOf("Trident/")&&(-1!=n.indexOf("rv:")||-1!=t.appName.indexOf("Netscape"))&&11,s=-1!=n.indexOf("Edge/")&&!o&&!a&&12,o=o||a||s,l=!i&&!a&&/Gecko/.test(n),c=-1!=n.indexOf("Mac"),u=/(iPad|iPhone)/.test(n),f="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,m=e("only screen and (max-device-width: 480px)")&&(d||u),g=e("only screen and (min-width: 800px)")&&(d||u),p=-1!=n.indexOf("Windows Phone"),s&&(i=!1),{opera:r,webkit:i,ie:o,gecko:l,mac:c,iOS:u,android:d,contentEditable:!u||f||n.match(/AppleWebKit\/(\d*)/)[1]>=534,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!=o,range:window.getSelection&&"Range"in window,documentMode:o&&!s?document.documentMode||7:10,fileApi:f,ceFalse:!1===o||o>8,canHaveCSP:!1===o||o>11,desktop:!m&&!g,windowsPhone:p}})),r(f,[u,d],(function(e,t){function n(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent&&e.attachEvent("on"+t,n)}function r(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r||!1):e.detachEvent&&e.detachEvent("on"+t,n)}function i(e,t){var n,r=t;return(n=e.path)&&n.length>0&&(r=n[0]),e.deepPath&&((n=e.deepPath())&&n.length>0&&(r=n[0])),r}function o(e,n){function r(){return!1}function o(){return!0}var a,s=n||{},l;for(a in e)u[a]||(s[a]=e[a]);if(s.target||(s.target=s.srcElement||document),t.experimentalShadowDom&&(s.target=i(e,s.target)),e&&c.test(e.type)&&e.pageX===l&&e.clientX!==l){var d=s.target.ownerDocument||document,f=d.documentElement,m=d.body;s.pageX=e.clientX+(f&&f.scrollLeft||m&&m.scrollLeft||0)-(f&&f.clientLeft||m&&m.clientLeft||0),s.pageY=e.clientY+(f&&f.scrollTop||m&&m.scrollTop||0)-(f&&f.clientTop||m&&m.clientTop||0)}return s.preventDefault=function(){s.isDefaultPrevented=o,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},s.stopPropagation=function(){s.isPropagationStopped=o,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},s.stopImmediatePropagation=function(){s.isImmediatePropagationStopped=o,s.stopPropagation()},s.isDefaultPrevented||(s.isDefaultPrevented=r,s.isPropagationStopped=r,s.isImmediatePropagationStopped=r),void 0===s.metaKey&&(s.metaKey=!1),s}function a(t,i,o){function a(){o.domLoaded||(o.domLoaded=!0,i(u))}function s(){("complete"===c.readyState||"interactive"===c.readyState&&c.body)&&(r(c,"readystatechange",s),a())}function l(){try{c.documentElement.doScroll("left")}catch(t){return void e.setTimeout(l)}a()}var c=t.document,u={type:"ready"};return o.domLoaded?void i(u):(c.addEventListener?"complete"===c.readyState?a():n(t,"DOMContentLoaded",a):(n(c,"readystatechange",s),c.documentElement.doScroll&&t.self===t.top&&l()),void n(t,"load",a))}function s(){function e(e,t){var n,r,o,a,s=i[t];if(n=s&&s[e.type])for(r=0,o=n.length;r<o;r++)if((a=n[r])&&!1===a.func.call(a.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return}var t=this,i={},s,c,u,d,f;c=l+(+new Date).toString(32),d="onmouseenter"in document.documentElement,u="onfocusin"in document.documentElement,f={mouseenter:"mouseover",mouseleave:"mouseout"},s=1,t.domLoaded=!1,t.events=i,t.bind=function(r,l,m,g){function p(t){e(o(t||k.event),h)}var h,v,b,y,x,w,C,k=window;if(r&&3!==r.nodeType&&8!==r.nodeType){for(r[c]?h=r[c]:(h=s++,r[c]=h,i[h]={}),g=g||r,b=(l=l.split(" ")).length;b--;)w=p,x=C=!1,"DOMContentLoaded"===(y=l[b])&&(y="ready"),t.domLoaded&&"ready"===y&&"complete"==r.readyState?m.call(g,o({type:y})):(d||(x=f[y])&&(w=function(t){var n,r;if(n=t.currentTarget,(r=t.relatedTarget)&&n.contains)r=n.contains(r);else for(;r&&r!==n;)r=r.parentNode;r||((t=o(t||k.event)).type="mouseout"===t.type?"mouseleave":"mouseenter",t.target=n,e(t,h))}),u||"focusin"!==y&&"focusout"!==y||(C=!0,x="focusin"===y?"focus":"blur",w=function(t){(t=o(t||k.event)).type="focus"===t.type?"focusin":"focusout",e(t,h)}),(v=i[h][y])?"ready"===y&&t.domLoaded?m({type:y}):v.push({func:m,scope:g}):(i[h][y]=v=[{func:m,scope:g}],v.fakeName=x,v.capture=C,v.nativeHandler=w,"ready"===y?a(r,w,t):n(r,x||y,w,C)));return r=v=0,m}},t.unbind=function(e,n,o){var a,s,l,u,d,f;if(!e||3===e.nodeType||8===e.nodeType)return t;if(a=e[c]){if(f=i[a],n){for(l=(n=n.split(" ")).length;l--;)if(s=f[d=n[l]]){if(o)for(u=s.length;u--;)if(s[u].func===o){var m=s.nativeHandler,g=s.fakeName,p=s.capture;(s=s.slice(0,u).concat(s.slice(u+1))).nativeHandler=m,s.fakeName=g,s.capture=p,f[d]=s}o&&0!==s.length||(delete f[d],r(e,s.fakeName||d,s.nativeHandler,s.capture))}}else{for(d in f)r(e,(s=f[d]).fakeName||d,s.nativeHandler,s.capture);f={}}for(d in f)return t;delete i[a];try{delete e[c]}catch(h){e[c]=null}}return t},t.fire=function(n,r,i){var a;if(!n||3===n.nodeType||8===n.nodeType)return t;(i=o(null,i)).type=r,i.target=n;do{(a=n[c])&&e(i,a),n=n.parentNode||n.ownerDocument||n.defaultView||n.parentWindow}while(n&&!i.isPropagationStopped());return t},t.clean=function(e){var n,r,i=t.unbind;if(!e||3===e.nodeType||8===e.nodeType)return t;if(e[c]&&i(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName)for(i(e),n=(r=e.getElementsByTagName("*")).length;n--;)(e=r[n])[c]&&i(e);return t},t.destroy=function(){i={}},t.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}}var l="mce-data-",c=/^(?:mouse|contextmenu)|click/,u={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1};return s.Event=new s,s.Event.bind(window,"ready",(function(){})),s})),r(m,[],(function(){function e(e,t,n,r){var i,o,a,s,l,c,d,m,g,p;if((t?t.ownerDocument||t:z)!==P&&B(t),n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=(t=t||P).nodeType)&&9!==s)return[];if(D&&!r){if(i=ve.exec(e))if(a=i[1]){if(9===s){if(!(o=t.getElementById(a))||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&H(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return Q.apply(n,t.getElementsByTagName(e)),n;if((a=i[3])&&w.getElementsByClassName)return Q.apply(n,t.getElementsByClassName(a)),n}if(w.qsa&&(!I||!I.test(e))){if(m=d=F,g=t,p=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=S(e),(d=t.getAttribute("id"))?m=d.replace(ye,"\\$&"):t.setAttribute("id",m),m="[id='"+m+"'] ",l=c.length;l--;)c[l]=m+f(c[l]);g=be.test(e)&&u(t.parentNode)||t,p=c.join(",")}if(p)try{return Q.apply(n,g.querySelectorAll(p)),n}catch(h){}finally{d||t.removeAttribute("id")}}}return T(e.replace(se,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>C.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[F]=!0,e}function i(e){var t=P.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=e.length;r--;)C.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||K)-(~e.sourceIndex||K);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n;return"input"===t.nodeName.toLowerCase()&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return r((function(t){return t=+t,r((function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))}))}))}function u(e){return e&&typeof e.getElementsByTagName!==Y&&e}function d(){}function f(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function m(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=W++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,l,c=[U,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if((s=(l=t[F]||(t[F]={}))[r])&&s[0]===U&&s[1]===o)return c[2]=s[2];if(l[r]=c,c[2]=e(t,n,a))return!0}}}function g(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function p(t,n,r){for(var i=0,o=n.length;i<o;i++)e(t,n[i],r);return r}function h(e,t,n,r,i){for(var o,a=[],s=0,l=e.length,c=null!=t;s<l;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),c&&t.push(s)));return a}function v(e,t,n,i,o,a){return i&&!i[F]&&(i=v(i)),o&&!o[F]&&(o=v(o,a)),r((function(r,a,s,l){var c,u,d,f=[],m=[],g=a.length,v=r||p(t||"*",s.nodeType?[s]:s,[]),b=!e||!r&&t?v:h(v,f,e,s,l),y=n?o||(r?e:g||i)?[]:a:b;if(n&&n(b,y,s,l),i)for(c=h(y,m),i(c,[],s,l),u=c.length;u--;)(d=c[u])&&(y[m[u]]=!(b[m[u]]=d));if(r){if(o||e){if(o){for(c=[],u=y.length;u--;)(d=y[u])&&c.push(b[u]=d);o(null,y=[],c,l)}for(u=y.length;u--;)(d=y[u])&&(c=o?te.call(r,d):f[u])>-1&&(r[c]=!(a[c]=d))}}else y=h(y===a?y.splice(g,y.length):y),o?o(null,a,y,l):Q.apply(a,y)}))}function b(e){for(var t,n,r,i=e.length,o=C.relative[e[0].type],a=o||C.relative[" "],s=o?1:0,l=m((function(e){return e===t}),a,!0),c=m((function(e){return te.call(t,e)>-1}),a,!0),u=[function(e,n,r){return!o&&(r||n!==E)||((t=n).nodeType?l(e,n,r):c(e,n,r))}];s<i;s++)if(n=C.relative[e[s].type])u=[m(g(u),n)];else{if((n=C.filter[e[s].type].apply(null,e[s].matches))[F]){for(r=++s;r<i&&!C.relative[e[r].type];r++);return v(s>1&&g(u),s>1&&f(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(se,"$1"),n,s<r&&b(e.slice(s,r)),r<i&&b(e=e.slice(r)),r<i&&f(e))}u.push(n)}return g(u)}function y(t,n){var i=n.length>0,o=t.length>0,a=function(r,a,s,l,c){var u,d,f,m=0,g="0",p=r&&[],v=[],b=E,y=r||o&&C.find.TAG("*",c),x=U+=null==b?1:Math.random()||.1,w=y.length;for(c&&(E=a!==P&&a);g!==w&&null!=(u=y[g]);g++){if(o&&u){for(d=0;f=t[d++];)if(f(u,a,s)){l.push(u);break}c&&(U=x)}i&&((u=!f&&u)&&m--,r&&p.push(u))}if(m+=g,i&&g!==m){for(d=0;f=n[d++];)f(p,v,a,s);if(r){if(m>0)for(;g--;)p[g]||v[g]||(v[g]=J.call(l));v=h(v)}Q.apply(l,v),c&&!r&&v.length>0&&m+n.length>1&&e.uniqueSort(l)}return c&&(U=x,E=b),p};return i?r(a):a}var x,w,C,k,N,S,_,T,E,R,A,B,P,M,D,I,L,O,H,F="sizzle"+-new Date,z=window.document,U=0,W=0,$=n(),j=n(),V=n(),q=function(e,t){return e===t&&(A=!0),0},Y=typeof t,K=1<<31,X={}.hasOwnProperty,G=[],J=G.pop,Z=G.push,Q=G.push,ee=G.slice,te=G.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},ne="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",re="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",oe="\\["+re+"*("+ie+")(?:"+re+"*([*^$|!~]?=)"+re+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+re+"*\\]",ae=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",se=new RegExp("^"+re+"+|((?:^|[^\\\\])(?:\\\\.)*)"+re+"+$","g"),le=new RegExp("^"+re+"*,"+re+"*"),ce=new RegExp("^"+re+"*([>+~]|"+re+")"+re+"*"),ue=new RegExp("="+re+"*([^\\]'\"]*?)"+re+"*\\]","g"),de=new RegExp(ae),fe=new RegExp("^"+ie+"$"),me={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie+"|[*])"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+re+"*(even|odd|(([+-]|)(\\d*)n|)"+re+"*(?:([+-]|)"+re+"*(\\d+)|))"+re+"*\\)|)","i"),bool:new RegExp("^(?:"+ne+")$","i"),needsContext:new RegExp("^"+re+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+re+"*((?:-\\d)?\\d*)"+re+"*\\)|)(?=[^-]|$)","i")},ge=/^(?:input|select|textarea|button)$/i,pe=/^h\d$/i,he=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,ye=/'|\\/g,xe=new RegExp("\\\\([\\da-f]{1,6}"+re+"?|("+re+")|.)","ig"),we=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{Q.apply(G=ee.call(z.childNodes),z.childNodes),G[z.childNodes.length].nodeType}catch(Ce){Q={apply:G.length?function(e,t){Z.apply(e,ee.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}for(x in w=e.support={},N=e.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},B=e.setDocument=function(e){function t(e){try{return e.top}catch(t){}return null}var n,r=e?e.ownerDocument||e:z,o=r.defaultView;return r!==P&&9===r.nodeType&&r.documentElement?(P=r,M=r.documentElement,D=!N(r),o&&o!==t(o)&&(o.addEventListener?o.addEventListener("unload",(function(){B()}),!1):o.attachEvent&&o.attachEvent("onunload",(function(){B()}))),w.attributes=i((function(e){return e.className="i",!e.getAttribute("className")})),w.getElementsByTagName=i((function(e){return e.appendChild(r.createComment("")),!e.getElementsByTagName("*").length})),w.getElementsByClassName=he.test(r.getElementsByClassName),w.getById=i((function(e){return M.appendChild(e).id=F,!r.getElementsByName||!r.getElementsByName(F).length})),w.getById?(C.find.ID=function(e,t){if(typeof t.getElementById!==Y&&D){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},C.filter.ID=function(e){var t=e.replace(xe,we);return function(e){return e.getAttribute("id")===t}}):(delete C.find.ID,C.filter.ID=function(e){var t=e.replace(xe,we);return function(e){var n=typeof e.getAttributeNode!==Y&&e.getAttributeNode("id");return n&&n.value===t}}),C.find.TAG=w.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==Y)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},C.find.CLASS=w.getElementsByClassName&&function(e,t){if(D)return t.getElementsByClassName(e)},L=[],I=[],(w.qsa=he.test(r.querySelectorAll))&&(i((function(e){e.innerHTML="<select msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&I.push("[*^$]="+re+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||I.push("\\["+re+"*(?:value|"+ne+")"),e.querySelectorAll(":checked").length||I.push(":checked")})),i((function(e){var t=r.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&I.push("name"+re+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||I.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),I.push(",.*:")}))),(w.matchesSelector=he.test(O=M.matches||M.webkitMatchesSelector||M.mozMatchesSelector||M.oMatchesSelector||M.msMatchesSelector))&&i((function(e){w.disconnectedMatch=O.call(e,"div"),O.call(e,"[s!='']:x"),L.push("!=",ae)})),I=I.length&&new RegExp(I.join("|")),L=L.length&&new RegExp(L.join("|")),n=he.test(M.compareDocumentPosition),H=n||he.test(M.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},q=n?function(e,t){if(e===t)return A=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===r||e.ownerDocument===z&&H(z,e)?-1:t===r||t.ownerDocument===z&&H(z,t)?1:R?te.call(R,e)-te.call(R,t):0:4&n?-1:1)}:function(e,t){if(e===t)return A=!0,0;var n,i=0,o=e.parentNode,s=t.parentNode,l=[e],c=[t];if(!o||!s)return e===r?-1:t===r?1:o?-1:s?1:R?te.call(R,e)-te.call(R,t):0;if(o===s)return a(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)c.unshift(n);for(;l[i]===c[i];)i++;return i?a(l[i],c[i]):l[i]===z?-1:c[i]===z?1:0},r):P},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==P&&B(t),n=n.replace(ue,"='$1']"),w.matchesSelector&&D&&(!L||!L.test(n))&&(!I||!I.test(n)))try{var r=O.call(t,n);if(r||w.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(i){}return e(n,P,null,[t]).length>0},e.contains=function(e,t){return(e.ownerDocument||e)!==P&&B(e),H(e,t)},e.attr=function(e,n){(e.ownerDocument||e)!==P&&B(e);var r=C.attrHandle[n.toLowerCase()],i=r&&X.call(C.attrHandle,n.toLowerCase())?r(e,n,!D):t;return i!==t?i:w.attributes||!D?e.getAttribute(n):(i=e.getAttributeNode(n))&&i.specified?i.value:null},e.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},e.uniqueSort=function(e){var t,n=[],r=0,i=0;if(A=!w.detectDuplicates,R=!w.sortStable&&e.slice(0),e.sort(q),A){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return R=null,e},k=e.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=k(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=k(t);return n},(C=e.selectors={cacheLength:50,createPseudo:r,match:me,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(xe,we),e[3]=(e[3]||e[4]||e[5]||"").replace(xe,we),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(e){var t,n=!e[6]&&e[2];return me.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&de.test(n)&&(t=S(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(xe,we).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=$[e+" "];return t||(t=new RegExp("(^|"+re+")"+e+"("+re+"|$)"))&&$(e,(function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==Y&&e.getAttribute("class")||"")}))},ATTR:function(t,n,r){return function(i){var o=e.attr(i,t);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,f,m,g,p=o!==a?"nextSibling":"previousSibling",h=t.parentNode,v=s&&t.nodeName.toLowerCase(),b=!l&&!s;if(h){if(o){for(;p;){for(d=t;d=d[p];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;g=p="only"===e&&!g&&"nextSibling"}return!0}if(g=[a?h.firstChild:h.lastChild],a&&b){for(m=(c=(u=h[F]||(h[F]={}))[e]||[])[0]===U&&c[1],f=c[0]===U&&c[2],d=m&&h.childNodes[m];d=++m&&d&&d[p]||(f=m=0)||g.pop();)if(1===d.nodeType&&++f&&d===t){u[e]=[U,m,f];break}}else if(b&&(c=(t[F]||(t[F]={}))[e])&&c[0]===U)f=c[1];else for(;(d=++m&&d&&d[p]||(f=m=0)||g.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++f||(b&&((d[F]||(d[F]={}))[e]=[U,f]),d!==t)););return(f-=i)===r||f%r==0&&f/r>=0}}},PSEUDO:function(t,n){var i,o=C.pseudos[t]||C.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[F]?o(n):o.length>1?(i=[t,t,"",n],C.setFilters.hasOwnProperty(t.toLowerCase())?r((function(e,t){for(var r,i=o(e,n),a=i.length;a--;)e[r=te.call(e,i[a])]=!(t[r]=i[a])})):function(e){return o(e,0,i)}):o}},pseudos:{not:r((function(e){var t=[],n=[],i=_(e.replace(se,"$1"));return i[F]?r((function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))})):function(e,r,o){return t[0]=e,i(t,null,o,n),!n.pop()}})),has:r((function(t){return function(n){return e(t,n).length>0}})),contains:r((function(e){return e=e.replace(xe,we),function(t){return(t.textContent||t.innerText||k(t)).indexOf(e)>-1}})),lang:r((function(t){return fe.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(xe,we).toLowerCase(),function(e){var n;do{if(n=D?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var t=window.location&&window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===M},focus:function(e){return e===P.activeElement&&(!P.hasFocus||P.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!C.pseudos.empty(e)},header:function(e){return pe.test(e.nodeName)},input:function(e){return ge.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c((function(){return[0]})),last:c((function(e,t){return[t-1]})),eq:c((function(e,t,n){return[n<0?n+t:n]})),even:c((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:c((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:c((function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e})),gt:c((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}}).pseudos.nth=C.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[x]=s(x);for(x in{submit:!0,reset:!0})C.pseudos[x]=l(x);return d.prototype=C.filters=C.pseudos,C.setFilters=new d,S=e.tokenize=function(t,n){var r,i,o,a,s,l,c,u=j[t+" "];if(u)return n?0:u.slice(0);for(s=t,l=[],c=C.preFilter;s;){for(a in r&&!(i=le.exec(s))||(i&&(s=s.slice(i[0].length)||s),l.push(o=[])),r=!1,(i=ce.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(se," ")}),s=s.slice(r.length)),C.filter)!(i=me[a].exec(s))||c[a]&&!(i=c[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?e.error(t):j(t,l).slice(0)},_=e.compile=function(e,t){var n,r=[],i=[],o=V[e+" "];if(!o){for(t||(t=S(e)),n=t.length;n--;)(o=b(t[n]))[F]?r.push(o):i.push(o);(o=V(e,y(i,r))).selector=e}return o},T=e.select=function(e,t,n,r){var i,o,a,s,l,c="function"==typeof e&&e,d=!r&&S(e=c.selector||e);if(n=n||[],1===d.length){if((o=d[0]=d[0].slice(0)).length>2&&"ID"===(a=o[0]).type&&w.getById&&9===t.nodeType&&D&&C.relative[o[1].type]){if(!(t=(C.find.ID(a.matches[0].replace(xe,we),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=me.needsContext.test(e)?0:o.length;i--&&(a=o[i],!C.relative[s=a.type]);)if((l=C.find[s])&&(r=l(a.matches[0].replace(xe,we),be.test(o[0].type)&&u(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&f(o)))return Q.apply(n,r),n;break}}return(c||_(e,d))(r,t,!D,n,be.test(e)&&u(t.parentNode)||t),n},w.sortStable=F.split("").sort(q).join("")===F,w.detectDuplicates=!!A,B(),w.sortDetached=i((function(e){return 1&e.compareDocumentPosition(P.createElement("div"))})),i((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||o("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),w.attributes&&i((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||o("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),i((function(e){return null==e.getAttribute("disabled")}))||o(ne,(function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null})),e})),r(g,[],(function(){function e(e){var t=e,n,r;if(!u(e))for(t=[],n=0,r=e.length;n<r;n++)t[n]=e[n];return t}function n(e,n,r){var i,o;if(!e)return 0;if(r=r||e,e.length!==t){for(i=0,o=e.length;i<o;i++)if(!1===n.call(r,e[i],i,e))return 0}else for(i in e)if(e.hasOwnProperty(i)&&!1===n.call(r,e[i],i,e))return 0;return 1}function r(e,t){var r=[];return n(e,(function(n,i){r.push(t(n,i,e))})),r}function i(e,t){var r=[];return n(e,(function(n,i){t&&!t(n,i,e)||r.push(n)})),r}function o(e,t){var n,r;if(e)for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function a(e,t,n,r){var i=0;for(arguments.length<3&&(n=e[0]);i<e.length;i++)n=t.call(r,n,e[i],i);return n}function s(e,t,n){var r,i;for(r=0,i=e.length;r<i;r++)if(t.call(n,e[r],r,e))return r;return-1}function l(e,n,r){var i=s(e,n,r);return-1!==i?e[i]:t}function c(e){return e[e.length-1]}var u=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};return{isArray:u,toArray:e,each:n,map:r,filter:i,indexOf:o,reduce:a,findIndex:s,find:l,last:c}})),r(p,[d,g],(function(e,n){function r(e){return null===e||e===t?"":(""+e).replace(g,"")}function i(e,r){return r?!("array"!=r||!n.isArray(e))||typeof e==r:e!==t}function o(e,t,n){var r;for(t=t||",","string"==typeof(e=e||[])&&(e=e.split(t)),n=n||{},r=e.length;r--;)n[e[r]]={};return n}function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function s(e,t,n){var r=this,i,o,a,s,l,c=0;if(e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e),a=e[3].match(/(^|\.)(\w+)$/i)[2],!(o=r.createNS(e[3].replace(/\.\w+$/,""),n))[a]){if("static"==e[2])return o[a]=t,void(this.onCreate&&this.onCreate(e[2],e[3],o[a]));t[a]||(t[a]=function(){},c=1),o[a]=t[a],r.extend(o[a].prototype,t),e[5]&&(i=r.resolve(e[5]).prototype,s=e[5].match(/\.(\w+)$/i)[1],l=o[a],o[a]=c?function(){return i[s].apply(this,arguments)}:function(){return this.parent=i[s],l.apply(this,arguments)},o[a].prototype[a]=o[a],r.each(i,(function(e,t){o[a].prototype[t]=i[t]})),r.each(t,(function(e,t){i[t]?o[a].prototype[t]=function(){return this.parent=i[t],e.apply(this,arguments)}:t!=a&&(o[a].prototype[t]=e)}))),r.each(t.static,(function(e,t){o[a][t]=e}))}}function l(e,n){var r,i,o,a=arguments,s;for(r=1,i=a.length;r<i;r++)for(o in n=a[r])n.hasOwnProperty(o)&&((s=n[o])!==t&&(e[o]=s));return e}function c(e,t,r,i){i=i||this,e&&(r&&(e=e[r]),n.each(e,(function(e,n){return!1!==t.call(i,e,n,r)&&void c(e,t,r,i)})))}function u(e,t){var n,r;for(t=t||window,e=e.split("."),n=0;n<e.length;n++)t[r=e[n]]||(t[r]={}),t=t[r];return t}function d(e,t){var n,r;for(t=t||window,n=0,r=(e=e.split(".")).length;n<r&&(t=t[e[n]]);n++);return t}function f(e,t){return!e||i(e,"array")?e:n.map(e.split(t||","),r)}function m(t){var n=e.cacheSuffix;return n&&(t+=(-1===t.indexOf("?")?"?":"&")+n),t}var g=/^\s*|\s*$/g;return{trim:r,isArray:n.isArray,is:i,toArray:n.toArray,makeMap:o,each:n.each,map:n.map,grep:n.filter,inArray:n.indexOf,hasOwn:a,extend:l,create:s,walk:c,createNS:u,resolve:d,explode:f,_addCacheSuffix:m}})),r(h,[f,m,p,d],(function(e,n,r,i){function o(e){return void 0!==e}function a(e){return"string"==typeof e}function s(e){return e&&e==e.window}function l(e,t){var n,r,i;for(i=(t=t||C).createElement("div"),n=t.createDocumentFragment(),i.innerHTML=e;r=i.firstChild;)n.appendChild(r);return n}function c(e,t,n,r){var i;if(a(t))t=l(t,v(e[0]));else if(t.length&&!t.nodeType){if(t=f.makeArray(t),r)for(i=t.length-1;i>=0;i--)c(e,t[i],n,r);else for(i=0;i<t.length;i++)c(e,t[i],n,r);return e}if(t.nodeType)for(i=e.length;i--;)n.call(e[i],t);return e}function u(e,t){return e&&t&&-1!==(" "+e.className+" ").indexOf(" "+t+" ")}function d(e,t,n){var r,i;return t=f(t)[0],e.each((function(){var e=this;n&&r==e.parentNode?i.appendChild(e):(r=e.parentNode,i=t.cloneNode(!1),e.parentNode.insertBefore(i,e),i.appendChild(e))})),e}function f(e,t){return new f.fn.init(e,t)}function m(e,t){var n;if(t.indexOf)return t.indexOf(e);for(n=t.length;n--;)if(t[n]===e)return n;return-1}function g(e){return null===e||e===T?"":(""+e).replace(I,"")}function p(e,t){var n,r,i,o,a;if(e)if((n=e.length)===o){for(r in e)if(e.hasOwnProperty(r)&&(a=e[r],!1===t.call(a,r,a)))break}else for(i=0;i<n&&(a=e[i],!1!==t.call(a,i,a));i++);return e}function h(e,t){var n=[];return p(e,(function(e,r){t(r,e)&&n.push(r)})),n}function v(e){return e?9==e.nodeType?e:e.ownerDocument:C}function b(e,n,r){var i=[],o=e[n];for("string"!=typeof r&&r instanceof f&&(r=r[0]);o&&9!==o.nodeType;){if(r!==t){if(o===r)break;if("string"==typeof r&&f(o).is(r))break}1===o.nodeType&&i.push(o),o=o[n]}return i}function y(e,n,r,i){var o=[];for(i instanceof f&&(i=i[0]);e;e=e[n])if(!r||e.nodeType===r){if(i!==t){if(e===i)break;if("string"==typeof i&&f(e).is(i))break}o.push(e)}return o}function x(e,t,n){for(e=e[t];e;e=e[t])if(e.nodeType==n)return e;return null}function w(e,t,n){p(n,(function(n,r){e[n]=e[n]||{},e[n][t]=r}))}var C=document,k=Array.prototype.push,N=Array.prototype.slice,S=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,_=e.Event,T,E=r.makeMap("children,contents,next,prev"),R=r.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),A=r.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),B={for:"htmlFor",class:"className",readonly:"readOnly"},P={float:"cssFloat"},M={},D={},I=/^\s*|\s*$/g;return f.fn=f.prototype={constructor:f,selector:"",context:null,length:0,init:function(e,t){var n=this,r,i;if(!e)return n;if(e.nodeType)return n.context=n[0]=e,n.length=1,n;if(t&&t.nodeType)n.context=t;else{if(t)return f(e).attr(t);n.context=t=document}if(a(e)){if(n.selector=e,!(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:S.exec(e)))return f(t).find(e);if(r[1])for(i=l(e,v(t)).firstChild;i;)k.call(n,i),i=i.nextSibling;else{if(!(i=v(t).getElementById(r[2])))return n;if(i.id!==r[2])return n.find(e);n.length=1,n[0]=i}}else this.add(e,!1);return n},toArray:function(){return r.toArray(this)},add:function(e,t){var n=this,r,i;if(a(e))return n.add(f(e));if(!1!==t)for(r=f.unique(n.toArray().concat(f.makeArray(e))),n.length=r.length,i=0;i<r.length;i++)n[i]=r[i];else k.apply(n,f.makeArray(e));return n},attr:function(e,t){var n=this,r;if("object"==typeof e)p(e,(function(e,t){n.attr(e,t)}));else{if(!o(t)){if(n[0]&&1===n[0].nodeType){if((r=M[e])&&r.get)return r.get(n[0],e);if(A[e])return n.prop(e)?e:T;null===(t=n[0].getAttribute(e,2))&&(t=T)}return t}this.each((function(){var n;if(1===this.nodeType){if((n=M[e])&&n.set)return void n.set(this,t);null===t?this.removeAttribute(e,2):this.setAttribute(e,t,2)}}))}return n},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;if("object"==typeof(e=B[e]||e))p(e,(function(e,t){n.prop(e,t)}));else{if(!o(t))return n[0]&&n[0].nodeType&&e in n[0]?n[0][e]:t;this.each((function(){1==this.nodeType&&(this[e]=t)}))}return n},css:function(e,t){function n(e){return e.replace(/-(\D)/g,(function(e,t){return t.toUpperCase()}))}function r(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e}))}var i=this,a,s;if("object"==typeof e)p(e,(function(e,t){i.css(e,t)}));else if(o(t))e=n(e),"number"!=typeof t||R[e]||(t+="px"),i.each((function(){var n=this.style;if((s=D[e])&&s.set)s.set(this,t);else{try{this.style[P[e]||e]=t}catch(i){}null!==t&&""!==t||(n.removeProperty?n.removeProperty(r(e)):n.removeAttribute(e))}}));else{if(a=i[0],(s=D[e])&&s.get)return s.get(a);if(a.ownerDocument.defaultView)try{return a.ownerDocument.defaultView.getComputedStyle(a,null).getPropertyValue(r(e))}catch(l){return T}else if(a.currentStyle)return a.currentStyle[n(e)]}return i},remove:function(){for(var e=this,t,n=this.length;n--;)t=e[n],_.clean(t),t.parentNode&&t.parentNode.removeChild(t);return this},empty:function(){for(var e=this,t,n=this.length;n--;)for(t=e[n];t.firstChild;)t.removeChild(t.firstChild);return this},html:function(e){var t=this,n;if(o(e)){n=t.length;try{for(;n--;)t[n].innerHTML=e}catch(r){f(t[n]).empty().append(e)}return t}return t[0]?t[0].innerHTML:""},text:function(e){var t=this,n;if(o(e)){for(n=t.length;n--;)"innerText"in t[n]?t[n].innerText=e:t[0].textContent=e;return t}return t[0]?t[0].innerText||t[0].textContent:""},append:function(){return c(this,arguments,(function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(e)}))},prepend:function(){return c(this,arguments,(function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(e,this.firstChild)}),!0)},before:function(){var e=this;return e[0]&&e[0].parentNode?c(e,arguments,(function(e){this.parentNode.insertBefore(e,this)})):e},after:function(){var e=this;return e[0]&&e[0].parentNode?c(e,arguments,(function(e){this.parentNode.insertBefore(e,this.nextSibling)}),!0):e},appendTo:function(e){return f(e).append(this),this},prependTo:function(e){return f(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return d(this,e)},wrapAll:function(e){return d(this,e,!0)},wrapInner:function(e){return this.each((function(){f(this).contents().wrapAll(e)})),this},unwrap:function(){return this.parent().each((function(){f(this).replaceWith(this.childNodes)}))},clone:function(){var e=[];return this.each((function(){e.push(this.cloneNode(!0))})),f(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,t){var n=this;return"string"!=typeof e?n:(-1!==e.indexOf(" ")?p(e.split(" "),(function(){n.toggleClass(this,t)})):n.each((function(n,r){var i,o;(o=u(r,e))!==t&&(i=r.className,o?r.className=g((" "+i+" ").replace(" "+e+" "," ")):r.className+=i?" "+e:e)})),n)},hasClass:function(e){return u(this[0],e)},each:function(e){return p(this,e)},on:function(e,t){return this.each((function(){_.bind(this,e,t)}))},off:function(e,t){return this.each((function(){_.unbind(this,e,t)}))},trigger:function(e){return this.each((function(){"object"==typeof e?_.fire(this,e.type,e):_.fire(this,e)}))},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new f(N.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var t,n,r=[];for(t=0,n=this.length;t<n;t++)f.find(e,this[t],r);return f(r)},filter:function(e){return f("function"==typeof e?h(this.toArray(),(function(t,n){return e(n,t)})):f.filter(e,this.toArray()))},closest:function(e){var t=[];return e instanceof f&&(e=e[0]),this.each((function(n,r){for(;r;){if("string"==typeof e&&f(r).is(e)){t.push(r);break}if(r==e){t.push(r);break}r=r.parentNode}})),f(t)},offset:function(e){var t,n,r,i=0,o=0,a;return e?this.css(e):((t=this[0])&&(r=(n=t.ownerDocument).documentElement,t.getBoundingClientRect&&(i=(a=t.getBoundingClientRect()).left+(r.scrollLeft||n.body.scrollLeft)-r.clientLeft,o=a.top+(r.scrollTop||n.body.scrollTop)-r.clientTop)),{left:i,top:o})},push:k,sort:[].sort,splice:[].splice},r.extend(f,{extend:r.extend,makeArray:function(e){return s(e)||e.nodeType?[e]:r.toArray(e)},inArray:m,isArray:r.isArray,each:p,trim:g,grep:h,find:n,expr:n.selectors,unique:n.uniqueSort,text:n.getText,contains:n.contains,filter:function(e,t,n){var r=t.length;for(n&&(e=":not("+e+")");r--;)1!=t[r].nodeType&&t.splice(r,1);return 1===t.length?f.find.matchesSelector(t[0],e)?[t[0]]:[]:f.find.matches(e,t)}}),p({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return b(e,"parentNode")},next:function(e){return x(e,"nextSibling",1)},prev:function(e){return x(e,"previousSibling",1)},children:function(e){return y(e.firstChild,"nextSibling",1)},contents:function(e){return r.toArray(("iframe"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes)}},(function(e,t){f.fn[e]=function(n){var r,i=[];return this.each((function(){var e=t.call(i,this,n,i);e&&(f.isArray(e)?i.push.apply(i,e):i.push(e))})),this.length>1&&(E[e]||(i=f.unique(i)),0===e.indexOf("parents")&&(i=i.reverse())),i=f(i),n?i.filter(n):i}})),p({parentsUntil:function(e,t){return b(e,"parentNode",t)},nextUntil:function(e,t){return y(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return y(e,"previousSibling",1,t).slice(1)}},(function(e,t){f.fn[e]=function(n,r){var i,o=[];return this.each((function(){var e=t.call(o,this,n,o);e&&(f.isArray(e)?o.push.apply(o,e):o.push(e))})),this.length>1&&(o=f.unique(o),0!==e.indexOf("parents")&&"prevUntil"!==e||(o=o.reverse())),o=f(o),r?o.filter(r):o}})),f.fn.is=function(e){return!!e&&this.filter(e).length>0},f.fn.init.prototype=f.fn,f.overrideDefaults=function(e){function t(r,i){return n=n||e(),0===arguments.length&&(r=n.element),i||(i=n.context),new t.fn.init(r,i)}var n;return f.extend(t,this),t},i.ie&&i.ie<8&&(w(M,"get",{maxlength:function(e){var t=e.maxLength;return 2147483647===t?T:t},size:function(e){var t=e.size;return 20===t?T:t},class:function(e){return e.className},style:function(e){var t=e.style.cssText;return 0===t.length?T:t}}),w(M,"set",{class:function(e,t){e.className=t},style:function(e,t){e.style.cssText=t}})),i.ie&&i.ie<9&&(P.float="styleFloat",w(D,"set",{opacity:function(e,t){var n=e.style;null===t||""===t?n.removeAttribute("filter"):(n.zoom=1,n.filter="alpha(opacity="+100*t+")")}})),f.attrHooks=M,f.cssHooks=D,f})),r(v,[],(function(){return function(e,t){function n(e,t,n,r){function i(e){return(e=parseInt(e,10).toString(16)).length>1?e:"0"+e}return"#"+i(t)+i(n)+i(r)}var r=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,i=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,o=/\s*([^:]+):\s*([^;]+);?/g,a=/\s+$/,s,l={},c,u,d,f="\ufeff";for(e=e||{},t&&(u=t.getValidStyles(),d=t.getInvalidStyles()),c=("\\\" \\' \\; \\: ; : "+f).split(" "),s=0;s<c.length;s++)l[c[s]]=f+s,l[f+s]=c[s];return{toHex:function(e){return e.replace(r,n)},parse:function(t){function c(e,t,n){var r,i,o,a;if((r=b[e+"-top"+t])&&((i=b[e+"-right"+t])&&((o=b[e+"-bottom"+t])&&(a=b[e+"-left"+t])))){var l=[r,i,o,a];for(s=l.length-1;s--&&l[s]===l[s+1];);s>-1&&n||(b[e+t]=-1==s?l[0]:l.join(" "),delete b[e+"-top"+t],delete b[e+"-right"+t],delete b[e+"-bottom"+t],delete b[e+"-left"+t])}}function u(e){var t=b[e],n;if(t){for(n=(t=t.split(" ")).length;n--;)if(t[n]!==t[0])return!1;return b[e]=t[0],!0}}function d(e,t,n,r){u(t)&&u(n)&&u(r)&&(b[e]=b[t]+" "+b[n]+" "+b[r],delete b[t],delete b[n],delete b[r])}function m(e){return C=!0,l[e]}function g(e,t){return C&&(e=e.replace(/\uFEFF[0-9]/g,(function(e){return l[e]}))),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e}function p(e){return String.fromCharCode(parseInt(e.slice(1),16))}function h(e){return e.replace(/\\[0-9a-f]+/gi,p)}function v(t,n,r,i,o,a){if(o=o||a)return"'"+(o=g(o)).replace(/\'/g,"\\'")+"'";if(n=g(n||r||i),!e.allow_script_urls){var s=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(s))return"";if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(s))return""}return k&&(n=k.call(N,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"}var b={},y,x,w,C,k=e.url_converter,N=e.url_converter_scope||this;if(t){for(t=(t=t.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,m).replace(/\"[^\"]+\"|\'[^\']+\'/g,(function(e){return e.replace(/[;:]/g,m)}));y=o.exec(t);)if(o.lastIndex=y.index+y[0].length,x=y[1].replace(a,"").toLowerCase(),w=y[2].replace(a,""),x&&w){if(x=h(x),w=h(w),-1!==x.indexOf(f)||-1!==x.indexOf('"'))continue;if(!e.allow_script_urls&&("behavior"==x||/expression\s*\(|\/\*|\*\//.test(w)))continue;"font-weight"===x&&"700"===w?w="bold":"color"!==x&&"background-color"!==x||(w=w.toLowerCase()),w=(w=w.replace(r,n)).replace(i,v),b[x]=C?g(w,!0):w}c("border","",!0),c("border","-width"),c("border","-color"),c("border","-style"),c("padding",""),c("margin",""),d("border","border-width","border-style","border-color"),"medium none"===b.border&&delete b.border,"none"===b["border-image"]&&delete b["border-image"]}return b},serialize:function(e,t){function n(t){var n,r,o,a;if(n=u[t])for(r=0,o=n.length;r<o;r++)t=n[r],(a=e[t])&&(i+=(i.length>0?" ":"")+t+": "+a+";")}function r(e,t){var n;return!((n=d["*"])&&n[e]||(n=d[t],n&&n[e]))}var i="",o,a;if(t&&u)n("*"),n(t);else for(o in e)!(a=e[o])||d&&!r(o,t)||(i+=(i.length>0?" ":"")+o+": "+a+";");return i}}}})),r(b,[],(function(){return function(e,t){function n(e,n,r,i){var o,a;if(e){if(!i&&e[n])return e[n];if(e!=t){if(o=e[r])return o;for(a=e.parentNode;a&&a!=t;a=a.parentNode)if(o=a[r])return o}}}function r(e,n,r,i){var o,a,s;if(e){if(o=e[r],t&&o===t)return;if(o){if(!i)for(s=o[n];s;s=s[n])if(!s[n])return s;return o}if((a=e.parentNode)&&a!==t)return a}}var i=e;this.current=function(){return i},this.next=function(e){return i=n(i,"firstChild","nextSibling",e)},this.prev=function(e){return i=n(i,"lastChild","previousSibling",e)},this.prev2=function(e){return i=r(i,"lastChild","previousSibling",e)}}})),r(y,[p],(function(e){function t(n){function r(){return I.createDocumentFragment()}function i(e,t){k(F,e,t)}function o(e,t){k(z,e,t)}function a(e){i(e.parentNode,q(e))}function s(e){i(e.parentNode,q(e)+1)}function l(e){o(e.parentNode,q(e))}function c(e){o(e.parentNode,q(e)+1)}function u(e){e?(D[$]=D[W],D[j]=D[U]):(D[W]=D[$],D[U]=D[j]),D.collapsed=F}function d(e){a(e),c(e)}function f(e){i(e,0),o(e,1===e.nodeType?e.childNodes.length:e.nodeValue.length)}function m(e,t){var n=D[W],r=D[U],i=D[$],o=D[j],a=t.startContainer,s=t.startOffset,l=t.endContainer,c=t.endOffset;return 0===e?C(n,r,a,s):1===e?C(i,o,a,s):2===e?C(i,o,l,c):3===e?C(n,r,l,c):void 0}function g(){N(H)}function p(){return N(L)}function h(){return N(O)}function v(e){var t=this[W],r=this[U],i,o;3!==t.nodeType&&4!==t.nodeType||!t.nodeValue?(t.childNodes.length>0&&(o=t.childNodes[r]),o?t.insertBefore(e,o):3==t.nodeType?n.insertAfter(e,t):t.appendChild(e)):r?r>=t.nodeValue.length?n.insertAfter(e,t):(i=t.splitText(r),t.parentNode.insertBefore(e,i)):t.parentNode.insertBefore(e,t)}function b(e){var t=D.extractContents();D.insertNode(e),e.appendChild(t),D.selectNode(e)}function y(){return V(new t(n),{startContainer:D[W],startOffset:D[U],endContainer:D[$],endOffset:D[j],collapsed:D.collapsed,commonAncestorContainer:D.commonAncestorContainer})}function x(e,t){var n;if(3==e.nodeType)return e;if(t<0)return e;for(n=e.firstChild;n&&t>0;)--t,n=n.nextSibling;return n||e}function w(){return D[W]==D[$]&&D[U]==D[j]}function C(e,t,r,i){var o,a,s,l,c,u;if(e==r)return t==i?0:t<i?-1:1;for(o=r;o&&o.parentNode!=e;)o=o.parentNode;if(o){for(a=0,s=e.firstChild;s!=o&&a<t;)a++,s=s.nextSibling;return t<=a?-1:1}for(o=e;o&&o.parentNode!=r;)o=o.parentNode;if(o){for(a=0,s=r.firstChild;s!=o&&a<i;)a++,s=s.nextSibling;return a<i?-1:1}for(l=n.findCommonAncestor(e,r),c=e;c&&c.parentNode!=l;)c=c.parentNode;for(c||(c=l),u=r;u&&u.parentNode!=l;)u=u.parentNode;if(u||(u=l),c==u)return 0;for(s=l.firstChild;s;){if(s==c)return-1;if(s==u)return 1;s=s.nextSibling}}function k(e,t,r){var i,o;for(e?(D[W]=t,D[U]=r):(D[$]=t,D[j]=r),i=D[$];i.parentNode;)i=i.parentNode;for(o=D[W];o.parentNode;)o=o.parentNode;o==i?C(D[W],D[U],D[$],D[j])>0&&D.collapse(e):D.collapse(e),D.collapsed=w(),D.commonAncestorContainer=n.findCommonAncestor(D[W],D[$])}function N(e){var t,n=0,r=0,i,o,a,s,l,c;if(D[W]==D[$])return S(e);for(i=(t=D[$]).parentNode;i;t=i,i=i.parentNode){if(i==D[W])return _(t,e);++n}for(i=(t=D[W]).parentNode;i;t=i,i=i.parentNode){if(i==D[$])return T(t,e);++r}for(o=r-n,a=D[W];o>0;)a=a.parentNode,o--;for(s=D[$];o<0;)s=s.parentNode,o++;for(l=a.parentNode,c=s.parentNode;l!=c;l=l.parentNode,c=c.parentNode)a=l,s=c;return E(a,s,e)}function S(e){var t,n,i,o,a,s,l,c,u;if(e!=H&&(t=r()),D[U]==D[j])return t;if(3==D[W].nodeType){if(i=(n=D[W].nodeValue).substring(D[U],D[j]),e!=O&&(o=D[W],c=D[U],u=D[j]-D[U],0===c&&u>=o.nodeValue.length-1?o.parentNode.removeChild(o):o.deleteData(c,u),D.collapse(F)),e==H)return;return i.length>0&&t.appendChild(I.createTextNode(i)),t}for(o=x(D[W],D[U]),a=D[j]-D[U];o&&a>0;)s=o.nextSibling,l=P(o,e),t&&t.appendChild(l),--a,o=s;return e!=O&&D.collapse(F),t}function _(e,t){var n,i,o,a,s,l;if(t!=H&&(n=r()),i=R(e,t),n&&n.appendChild(i),(a=(o=q(e))-D[U])<=0)return t!=O&&(D.setEndBefore(e),D.collapse(z)),n;for(i=e.previousSibling;a>0;)s=i.previousSibling,l=P(i,t),n&&n.insertBefore(l,n.firstChild),--a,i=s;return t!=O&&(D.setEndBefore(e),D.collapse(z)),n}function T(e,t){var n,i,o,a,s,l;for(t!=H&&(n=r()),o=A(e,t),n&&n.appendChild(o),i=q(e),++i,a=D[j]-i,o=e.nextSibling;o&&a>0;)s=o.nextSibling,l=P(o,t),n&&n.appendChild(l),--a,o=s;return t!=O&&(D.setStartAfter(e),D.collapse(F)),n}function E(e,t,n){var i,o,a,s,l,c,u;for(n!=H&&(o=r()),i=A(e,n),o&&o.appendChild(i),a=q(e),l=(s=q(t))-++a,c=e.nextSibling;l>0;)u=c.nextSibling,i=P(c,n),o&&o.appendChild(i),c=u,--l;return i=R(t,n),o&&o.appendChild(i),n!=O&&(D.setStartAfter(e),D.collapse(F)),o}function R(e,t){var n=x(D[$],D[j]-1),r,i,o,a,s,l=n!=D[$];if(n==e)return B(n,l,z,t);for(i=B(r=n.parentNode,z,z,t);r;){for(;n;)o=n.previousSibling,a=B(n,l,z,t),t!=H&&i.insertBefore(a,i.firstChild),l=F,n=o;if(r==e)return i;n=r.previousSibling,s=B(r=r.parentNode,z,z,t),t!=H&&s.appendChild(i),i=s}}function A(e,t){var n=x(D[W],D[U]),r=n!=D[W],i,o,a,s,l;if(n==e)return B(n,r,F,t);for(o=B(i=n.parentNode,z,F,t);i;){for(;n;)a=n.nextSibling,s=B(n,r,F,t),t!=H&&o.appendChild(s),r=F,n=a;if(i==e)return o;n=i.nextSibling,l=B(i=i.parentNode,z,F,t),t!=H&&l.appendChild(o),o=l}}function B(e,t,r,i){var o,a,s,l,c;if(t)return P(e,i);if(3==e.nodeType){if(o=e.nodeValue,r?(l=D[U],a=o.substring(l),s=o.substring(0,l)):(l=D[j],a=o.substring(0,l),s=o.substring(l)),i!=O&&(e.nodeValue=s),i==H)return;return(c=n.clone(e,z)).nodeValue=a,c}return i!=H?n.clone(e,z):void 0}function P(e,t){return t!=H?t==O?n.clone(e,F):e:void e.parentNode.removeChild(e)}function M(){return n.create("body",null,h()).outerText}var D=this,I=n.doc,L=0,O=1,H=2,F=!0,z=!1,U="startOffset",W="startContainer",$="endContainer",j="endOffset",V=e.extend,q=n.nodeIndex;return V(D,{startContainer:I,startOffset:0,endContainer:I,endOffset:0,collapsed:F,commonAncestorContainer:I,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:i,setEnd:o,setStartBefore:a,setStartAfter:s,setEndBefore:l,setEndAfter:c,collapse:u,selectNode:d,selectNodeContents:f,compareBoundaryPoints:m,deleteContents:g,extractContents:p,cloneContents:h,insertNode:v,surroundContents:b,cloneRange:y,toStringIE:M}),D}return t.prototype.toString=function(){return this.toStringIE()},t})),r(x,[p],(function(e){function t(e){var t;return(t=document.createElement("div")).innerHTML=e,t.textContent||t.innerText||e}function n(e,t){var n,r,i,a={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)r=String.fromCharCode(parseInt(e[n],t)),o[r]||(i="&"+e[n+1]+";",a[r]=i,a[i]=r);return a}}var r=e.makeMap,i,o,a,s=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,l=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=/[<>&\"\']/g,u=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,d={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""};o={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},a={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},i=n("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var f={encodeRaw:function(e,t){return e.replace(t?s:l,(function(e){return o[e]||e}))},encodeAllRaw:function(e){return(""+e).replace(c,(function(e){return o[e]||e}))},encodeNumeric:function(e,t){return e.replace(t?s:l,(function(e){return e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":o[e]||"&#"+e.charCodeAt(0)+";"}))},encodeNamed:function(e,t,n){return n=n||i,e.replace(t?s:l,(function(e){return o[e]||n[e]||e}))},getEncodeFunc:function(e,t){function a(e,n){return e.replace(n?s:l,(function(e){return o[e]||t[e]||"&#"+e.charCodeAt(0)+";"||e}))}function c(e,n){return f.encodeNamed(e,n,t)}return t=n(t)||i,(e=r(e.replace(/\+/g,","))).named&&e.numeric?a:e.named?t?c:f.encodeNamed:e.numeric?f.encodeNumeric:f.encodeRaw},decode:function(e){return e.replace(u,(function(e,n){return n?(n="x"===n.charAt(0).toLowerCase()?parseInt(n.substr(1),16):parseInt(n,10))>65535?(n-=65536,String.fromCharCode(55296+(n>>10),56320+(1023&n))):d[n]||String.fromCharCode(n):a[e]||i[e]||t(e)}))}};return f})),r(w,[p,u],(function(e,t){return function(n,r){function i(e){n.getElementsByTagName("head")[0].appendChild(e)}function o(r,o,c){function u(){for(var e=y.passed,t=e.length;t--;)e[t]();y.status=2,y.passed=[],y.failed=[]}function d(){for(var e=y.failed,t=e.length;t--;)e[t]();y.status=3,y.passed=[],y.failed=[]}function f(){var e=navigator.userAgent.match(/WebKit\/(\d*)/);return!!(e&&e[1]<536)}function m(e,n){e()||((new Date).getTime()-b<l?t.setTimeout(n):d())}function g(){m((function(){for(var e=n.styleSheets,t,r=e.length,i;r--;)if((i=(t=e[r]).ownerNode?t.ownerNode:t.owningElement)&&i.id===h.id)return u(),!0}),g)}function p(){m((function(){try{var e=v.sheet.cssRules;return u(),!!e}catch(t){}}),p)}var h,v,b,y;if(r=e._addCacheSuffix(r),s[r]?y=s[r]:(y={passed:[],failed:[]},s[r]=y),o&&y.passed.push(o),c&&y.failed.push(c),1!=y.status){if(2==y.status)return void u();if(3==y.status)return void d();if(y.status=1,(h=n.createElement("link")).rel="stylesheet",h.type="text/css",h.id="u"+a++,h.async=!1,h.defer=!1,b=(new Date).getTime(),"onload"in h&&!f())h.onload=g,h.onerror=d;else{if(navigator.userAgent.indexOf("Firefox")>0)return(v=n.createElement("style")).textContent='@import "'+r+'"',p(),void i(v);g()}i(h),h.href=r}}var a=0,s={},l;l=(r=r||{}).maxLoadTime||5e3,this.load=o}})),r(C,[m,h,v,f,b,y,x,d,p,w],(function(e,n,r,i,o,a,s,l,c,u){function d(e,t){var n={},r=t.keep_values,i;return i={set:function(n,r,i){t.url_converter&&(r=t.url_converter.call(t.url_converter_scope||e,r,i,n[0])),n.attr("data-mce-"+i,r).attr(i,r)},get:function(e,t){return e.attr("data-mce-"+t)||e.attr(t)}},n={style:{set:function(e,t){return null!==t&&"object"==typeof t?void e.css(t):(r&&e.attr("data-mce-style",t),void e.attr("style",t))},get:function(t){var n=t.attr("data-mce-style")||t.attr("style");return e.serializeStyle(e.parseStyle(n),t[0].nodeName)}}},r&&(n.href=n.src=i),n}function f(e,t){var n=t.attr("style");(n=e.serializeStyle(e.parseStyle(n),t[0].nodeName))||(n=null),t.attr("data-mce-style",n)}function m(e,t){var n=0,r,i;if(e)for(r=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)i=e.nodeType,(!t||3!=i||i!=r&&e.nodeValue.length)&&(n++,r=i);return n}function g(e,t){var o=this,a;o.doc=e,o.win=window,o.files={},o.counter=0,o.stdMode=!y||e.documentMode>=8,o.boxModel=!y||"CSS1Compat"==e.compatMode||o.stdMode,o.styleSheetLoader=new u(e),o.boundEvents=[],o.settings=t=t||{},o.schema=t.schema,o.styles=new r({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),o.fixDoc(e),o.events=t.ownEvents?new i(t.proxy):i.Event,o.attrHooks=d(o,t),a=t.schema?t.schema.getBlockElements():{},o.$=n.overrideDefaults((function(){return{context:e,element:o.getRoot()}})),o.isBlock=function(e){if(!e)return!1;var t=e.nodeType;return t?!(1!==t||!a[e.nodeName]):!!a[e]}}var p=c.each,h=c.is,v=c.grep,b=c.trim,y=l.ie,x=/^([a-z0-9],?)+$/i,w=/^[ \t\r\n]*$/;return g.prototype={$$:function(e){return"string"==typeof e&&(e=this.get(e)),this.$(e)},root:null,fixDoc:function(e){var t=this.settings,n;if(y&&t.schema)for(n in"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,(function(t){e.createElement(t)})),t.schema.getCustomElements())e.createElement(n)},clone:function(e,t){var n=this,r,i;return!y||1!==e.nodeType||t?e.cloneNode(t):(i=n.doc,t?r.firstChild:(r=i.createElement(e.nodeName),p(n.getAttribs(e),(function(t){n.setAttrib(r,t.nodeName,n.getAttrib(e,t.nodeName))})),r))},getRoot:function(){var e=this;return e.settings.root_element||e.doc.body},getViewPort:function(e){var t,n;return t=(e=e||this.win).document,n=this.boxModel?t.documentElement:t.body,{x:e.pageXOffset||n.scrollLeft,y:e.pageYOffset||n.scrollTop,w:e.innerWidth||n.clientWidth,h:e.innerHeight||n.clientHeight}},getRect:function(e){var t=this,n,r;return e=t.get(e),n=t.getPos(e),r=t.getSize(e),{x:n.x,y:n.y,w:r.w,h:r.h}},getSize:function(e){var t=this,n,r;return e=t.get(e),n=t.getStyle(e,"width"),r=t.getStyle(e,"height"),-1===n.indexOf("px")&&(n=0),-1===r.indexOf("px")&&(r=0),{w:parseInt(n,10)||e.offsetWidth||e.clientWidth,h:parseInt(r,10)||e.offsetHeight||e.clientHeight}},getParent:function(e,t,n){return this.getParents(e,t,n,!1)},getParents:function(e,n,r,i){var o=this,a,s=[];for(e=o.get(e),i=i===t,r=r||("BODY"!=o.getRoot().nodeName?o.getRoot().parentNode:null),h(n,"string")&&(a=n,n="*"===n?function(e){return 1==e.nodeType}:function(e){return o.is(e,a)});e&&e!=r&&e.nodeType&&9!==e.nodeType;){if(!n||n(e)){if(!i)return e;s.push(e)}e=e.parentNode}return i?s:null},get:function(e){var t;return e&&this.doc&&"string"==typeof e&&(t=e,(e=this.doc.getElementById(e))&&e.id!==t)?this.doc.getElementsByName(t)[1]:e},getNext:function(e,t){return this._findSib(e,t,"nextSibling")},getPrev:function(e,t){return this._findSib(e,t,"previousSibling")},select:function(t,n){var r=this;return e(t,r.get(n)||r.settings.root_element||r.doc,[])},is:function(n,r){var i;if(n.length===t){if("*"===r)return 1==n.nodeType;if(x.test(r)){for(r=r.toLowerCase().split(/,/),n=n.nodeName.toLowerCase(),i=r.length-1;i>=0;i--)if(r[i]==n)return!0;return!1}}if(n.nodeType&&1!=n.nodeType)return!1;var o=n.nodeType?[n]:n;return e(r,o[0].ownerDocument||o[0],null,o).length>0},add:function(e,t,n,r,i){var o=this;return this.run(e,(function(e){var a;return a=h(t,"string")?o.doc.createElement(t):t,o.setAttribs(a,n),r&&(r.nodeType?a.appendChild(r):o.setHTML(a,r)),i?a:e.appendChild(a)}))},create:function(e,t,n){return this.add(this.doc.createElement(e),e,t,n,1)},createHTML:function(e,t,n){var r="",i;for(i in r+="<"+e,t)t.hasOwnProperty(i)&&null!==t[i]&&void 0!==t[i]&&(r+=" "+i+'="'+this.encode(t[i])+'"');return void 0!==n?r+">"+n+"</"+e+">":r+" />"},createFragment:function(e){var t,n,r=this.doc,i;for(i=r.createElement("div"),t=r.createDocumentFragment(),e&&(i.innerHTML=e);n=i.firstChild;)t.appendChild(n);return t},remove:function(e,t){return e=this.$$(e),t?e.each((function(){for(var e;e=this.firstChild;)3==e.nodeType&&0===e.data.length?this.removeChild(e):this.parentNode.insertBefore(e,this)})).remove():e.remove(),e.length>1?e.toArray():e[0]},setStyle:function(e,t,n){e=this.$$(e).css(t,n),this.settings.update_styles&&f(this,e)},getStyle:function(e,n,r){return e=this.$$(e),r?e.css(n):("float"==(n=n.replace(/-(\D)/g,(function(e,t){return t.toUpperCase()})))&&(n=l.ie&&l.ie<12?"styleFloat":"cssFloat"),e[0]&&e[0].style?e[0].style[n]:t)},setStyles:function(e,t){e=this.$$(e).css(t),this.settings.update_styles&&f(this,e)},removeAllAttribs:function(e){return this.run(e,(function(e){var t,n=e.attributes;for(t=n.length-1;t>=0;t--)e.removeAttributeNode(n.item(t))}))},setAttrib:function(e,t,n){var r=this,i,o,a=r.settings;""===n&&(n=null),i=(e=r.$$(e)).attr(t),e.length&&((o=r.attrHooks[t])&&o.set?o.set(e,n,t):e.attr(t,n),i!=n&&a.onSetAttrib&&a.onSetAttrib({attrElm:e,attrName:t,attrValue:n}))},setAttribs:function(e,t){var n=this;n.$$(e).each((function(e,r){p(t,(function(e,t){n.setAttrib(r,t,e)}))}))},getAttrib:function(e,t,n){var r=this,i,o;return(e=r.$$(e)).length&&(o=(i=r.attrHooks[t])&&i.get?i.get(e,t):e.attr(t)),void 0===o&&(o=n||""),o},getPos:function(e,t){var r=this,i=0,o=0,a,s=r.doc,l=s.body,c;if(t=t||l,e=r.get(e)){if(t===l&&e.getBoundingClientRect&&"static"===n(l).css("position"))return c=e.getBoundingClientRect(),t=r.boxModel?s.documentElement:l,{x:i=c.left+(s.documentElement.scrollLeft||l.scrollLeft)-t.clientLeft,y:o=c.top+(s.documentElement.scrollTop||l.scrollTop)-t.clientTop};for(a=e;a&&a!=t&&a.nodeType;)i+=a.offsetLeft||0,o+=a.offsetTop||0,a=a.offsetParent;for(a=e.parentNode;a&&a!=t&&a.nodeType;)i-=a.scrollLeft||0,o-=a.scrollTop||0,a=a.parentNode}return{x:i,y:o}},parseStyle:function(e){return this.styles.parse(e)},serializeStyle:function(e,t){return this.styles.serialize(e,t)},addStyle:function(e){var t=this,n=t.doc,r,i;if(t!==g.DOM&&n===document){var o=g.DOM.addedStyles;if((o=o||[])[e])return;o[e]=!0,g.DOM.addedStyles=o}(i=n.getElementById("mceDefaultStyles"))||((i=n.createElement("style")).id="mceDefaultStyles",i.type="text/css",(r=n.getElementsByTagName("head")[0]).firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i)),i.styleSheet?i.styleSheet.cssText+=e:i.appendChild(n.createTextNode(e))},loadCSS:function(e){var t=this,n=t.doc,r;return t!==g.DOM&&n===document?void g.DOM.loadCSS(e):(e||(e=""),r=n.getElementsByTagName("head")[0],void p(e.split(","),(function(e){var i;e=c._addCacheSuffix(e),t.files[e]||(t.files[e]=!0,i=t.create("link",{rel:"stylesheet",href:e}),y&&n.documentMode&&n.recalc&&(i.onload=function(){n.recalc&&n.recalc(),i.onload=null}),r.appendChild(i))})))},addClass:function(e,t){this.$$(e).addClass(t)},removeClass:function(e,t){this.toggleClass(e,t,!1)},hasClass:function(e,t){return this.$$(e).hasClass(t)},toggleClass:function(e,t,r){this.$$(e).toggleClass(t,r).each((function(){""===this.className&&n(this).attr("class",null)}))},show:function(e){this.$$(e).show()},hide:function(e){this.$$(e).hide()},isHidden:function(e){return"none"==this.$$(e).css("display")},uniqueId:function(e){return(e||"mce_")+this.counter++},setHTML:function(e,t){e=this.$$(e),y?e.each((function(e,r){if(!1!==r.canHaveHTML){for(;r.firstChild;)r.removeChild(r.firstChild);try{r.innerHTML="<br>"+t,r.removeChild(r.firstChild)}catch(i){n("<div></div>").html("<br>"+t).contents().slice(1).appendTo(r)}return t}})):e.html(t)},getOuterHTML:function(e){return 1==(e=this.get(e)).nodeType&&"outerHTML"in e?e.outerHTML:n("<div></div>").append(n(e).clone()).html()},setOuterHTML:function(e,t){var r=this;r.$$(e).each((function(){try{if("outerHTML"in this)return void(this.outerHTML=t)}catch(e){}r.remove(n(this).html(t),!0)}))},decode:s.decode,encode:s.encodeAllRaw,insertAfter:function(e,t){return t=this.get(t),this.run(e,(function(e){var n,r;return n=t.parentNode,(r=t.nextSibling)?n.insertBefore(e,r):n.appendChild(e),e}))},replace:function(e,t,n){var r;return this.run(t,(function(t){return h(t,"array")&&(e=e.cloneNode(!0)),n&&p(v(t.childNodes),(function(t){e.appendChild(t)})),t.parentNode.replaceChild(e,t)}))},rename:function(e,t){var n=this,r;return e.nodeName!=t.toUpperCase()&&(r=n.create(t),p(n.getAttribs(e),(function(t){n.setAttrib(r,t.nodeName,n.getAttrib(e,t.nodeName))})),n.replace(r,e,1)),r||e},findCommonAncestor:function(e,t){for(var n=e,r;n;){for(r=t;r&&n!=r;)r=r.parentNode;if(n==r)break;n=n.parentNode}return!n&&e.ownerDocument?e.ownerDocument.documentElement:n},toHex:function(e){return this.styles.toHex(c.trim(e))},run:function(e,t,n){var r=this,i;return"string"==typeof e&&(e=r.get(e)),!!e&&(n=n||this,e.nodeType||!e.length&&0!==e.length?t.call(n,e):(i=[],p(e,(function(e,o){e&&("string"==typeof e&&(e=r.get(e)),i.push(t.call(n,e,o)))})),i))},getAttribs:function(e){var t;if(!(e=this.get(e)))return[];if(y){if(t=[],"OBJECT"==e.nodeName)return e.attributes;"OPTION"===e.nodeName&&this.getAttrib(e,"selected")&&t.push({specified:1,nodeName:"selected"});var n=/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi;return e.cloneNode(!1).outerHTML.replace(n,"").replace(/[\w:\-]+/gi,(function(e){t.push({specified:1,nodeName:e})})),t}return e.attributes},isEmpty:function(e,t){var n=this,r,i,a,s,l,c,u=0;if(e=e.firstChild){l=new o(e,e.parentNode),t=t||(n.schema?n.schema.getNonEmptyElements():null),s=n.schema?n.schema.getWhiteSpaceElements():{};do{if(1===(a=e.nodeType)){var d=e.getAttribute("data-mce-bogus");if(d){e=l.next("all"===d);continue}if(c=e.nodeName.toLowerCase(),t&&t[c]){if("br"===c){u++,e=l.next();continue}return!1}for(r=(i=n.getAttribs(e)).length;r--;)if("name"===(c=i[r].nodeName)||"data-mce-bookmark"===c)return!1}if(8==a)return!1;if(3===a&&!w.test(e.nodeValue))return!1;if(3===a&&e.parentNode&&s[e.parentNode.nodeName]&&w.test(e.nodeValue))return!1;e=l.next()}while(e)}return u<=1},createRng:function(){var e=this.doc;return e.createRange?e.createRange():new a(this)},nodeIndex:m,split:function(e,t,n){function r(e){function t(e){var t=e.previousSibling&&"SPAN"==e.previousSibling.nodeName,n=e.nextSibling&&"SPAN"==e.nextSibling.nodeName;return t&&n}var n,o=e.childNodes,a=e.nodeType;if(1!=a||"bookmark"!=e.getAttribute("data-mce-type")){for(n=o.length-1;n>=0;n--)r(o[n]);if(9!=a){if(3==a&&e.nodeValue.length>0){var s=b(e.nodeValue).length;if(!i.isBlock(e.parentNode)||s>0||0===s&&t(e))return}else if(1==a&&(1==(o=e.childNodes).length&&o[0]&&1==o[0].nodeType&&"bookmark"==o[0].getAttribute("data-mce-type")&&e.parentNode.insertBefore(o[0],e),o.length||/^(br|hr|input|img)$/i.test(e.nodeName)))return;i.remove(e)}return e}}var i=this,o=i.createRng(),a,s,l;if(e&&t)return o.setStart(e.parentNode,i.nodeIndex(e)),o.setEnd(t.parentNode,i.nodeIndex(t)),a=o.extractContents(),(o=i.createRng()).setStart(t.parentNode,i.nodeIndex(t)+1),o.setEnd(e.parentNode,i.nodeIndex(e)+1),s=o.extractContents(),(l=e.parentNode).insertBefore(r(a),e),n?l.insertBefore(n,e):l.insertBefore(t,e),l.insertBefore(r(s),e),i.remove(e),n||t},bind:function(e,t,n,r){var i=this;if(c.isArray(e)){for(var o=e.length;o--;)e[o]=i.bind(e[o],t,n,r);return e}return!i.settings.collect||e!==i.doc&&e!==i.win||i.boundEvents.push([e,t,n,r]),i.events.bind(e,t,n,r||i)},unbind:function(e,t,n){var r=this,i;if(c.isArray(e)){for(i=e.length;i--;)e[i]=r.unbind(e[i],t,n);return e}if(r.boundEvents&&(e===r.doc||e===r.win))for(i=r.boundEvents.length;i--;){var o=r.boundEvents[i];e!=o[0]||t&&t!=o[1]||n&&n!=o[2]||this.events.unbind(o[0],o[1],o[2])}return this.events.unbind(e,t,n)},fire:function(e,t,n){return this.events.fire(e,t,n)},getContentEditable:function(e){var t;return e&&1==e.nodeType?(t=e.getAttribute("data-mce-contenteditable"))&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null:null},getContentEditableParent:function(e){for(var t=this.getRoot(),n=null;e&&e!==t&&null===(n=this.getContentEditable(e));e=e.parentNode);return n},destroy:function(){var t=this;if(t.boundEvents){for(var n=t.boundEvents.length;n--;){var r=t.boundEvents[n];this.events.unbind(r[0],r[1],r[2])}t.boundEvents=null}e.setDocument&&e.setDocument(),t.win=t.doc=t.root=t.events=t.frag=null},isChildOf:function(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},dumpRng:function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset},_findSib:function(e,t,n){var r=this,i=t;if(e)for("string"==typeof i&&(i=function(e){return r.is(e,t)}),e=e[n];e;e=e[n])if(i(e))return e;return null}},g.DOM=new g(document),g.nodeIndex=m,g})),r(k,[C,p],(function(e,t){function n(){function e(e,n,i){function o(){l.remove(u),c&&(c.onreadystatechange=c.onload=c=null),n()}function s(){a(i)?i():"undefined"!=typeof console&&console.log&&console.log("Failed to load script: "+e)}var l=r,c,u;u=l.uniqueId(),(c=document.createElement("script")).id=u,c.type="text/javascript",c.src=t._addCacheSuffix(e),"onreadystatechange"in c?c.onreadystatechange=function(){/loaded|complete/.test(c.readyState)&&o()}:c.onload=o,c.onerror=s,(document.getElementsByTagName("head")[0]||document.body).appendChild(c)}var n=0,s=1,l=2,c=3,u={},d=[],f={},m=[],g=0,p;this.isDone=function(e){return 2==u[e]},this.markDone=function(e){u[e]=2},this.add=this.load=function(e,t,n,r){var i;u[e]==p&&(d.push(e),u[e]=0),t&&(f[e]||(f[e]=[]),f[e].push({success:t,failure:r,scope:n||this}))},this.remove=function(e){delete u[e],delete f[e]},this.loadQueue=function(e,t,n){this.loadScripts(d,e,t,n)},this.loadScripts=function(t,n,r,s){function l(e,t){i(f[t],(function(t){a(t[e])&&t[e].call(t.scope)})),f[t]=p}var c,d=[];m.push({success:n,failure:s,scope:r||this}),(c=function(){var n=o(t);t.length=0,i(n,(function(t){return 2===u[t]?void l("success",t):3===u[t]?void l("failure",t):void(1!==u[t]&&(u[t]=1,g++,e(t,(function(){u[t]=2,g--,l("success",t),c()}),(function(){u[t]=3,g--,d.push(t),l("failure",t),c()}))))})),g||(i(m,(function(e){0===d.length?a(e.success)&&e.success.call(e.scope):a(e.failure)&&e.failure.call(e.scope,d)})),m.length=0)})()}}var r=e.DOM,i=t.each,o=t.grep,a=function(e){return"function"==typeof e};return n.ScriptLoader=new n,n})),r(N,[k,p],(function(e,n){function r(){var e=this;e.items=[],e.urls={},e.lookup={}}var i=n.each;return r.prototype={get:function(e){return this.lookup[e]?this.lookup[e].instance:t},dependencies:function(e){var t;return this.lookup[e]&&(t=this.lookup[e].dependencies),t||[]},requireLangPack:function(t,n){var i=r.language;if(i&&!1!==r.languageLoad){if(n)if(-1!=(n=","+n+",").indexOf(","+i.substr(0,2)+","))i=i.substr(0,2);else if(-1==n.indexOf(","+i+","))return;e.ScriptLoader.add(this.urls[t]+"/langs/"+i+".js")}},add:function(e,t,n){return this.items.push(t),this.lookup[e]={instance:t,dependencies:n},t},remove:function(e){delete this.urls[e],delete this.lookup[e]},createUrl:function(e,t){return"object"==typeof t?t:{prefix:e.prefix,resource:t,suffix:e.suffix}},addComponents:function(t,n){var r=this.urls[t];i(n,(function(t){e.ScriptLoader.add(r+"/"+t)}))},load:function(n,o,a,s,l){function c(){var r=u.dependencies(n);i(r,(function(e){var n=u.createUrl(o,e);u.load(n.resource,n,t,t)})),a&&(s?a.call(s):a.call(e))}var u=this,d=o;u.urls[n]||("object"==typeof o&&(d=o.prefix+o.resource+o.suffix),0!==d.indexOf("/")&&-1==d.indexOf("://")&&(d=r.baseURL+"/"+d),u.urls[n]=d.substring(0,d.lastIndexOf("/")),u.lookup[n]?c():e.ScriptLoader.add(d,c,s,l))}},r.PluginManager=new r,r.ThemeManager=new r,r})),r(S,[],(function(){function e(e){return function(t){return!!t&&t.nodeType==e}}function t(e){return e=e.toLowerCase().split(" "),function(t){var n,r;if(t&&t.nodeType)for(r=t.nodeName.toLowerCase(),n=0;n<e.length;n++)if(r===e[n])return!0;return!1}}function n(e,t){return t=t.toLowerCase().split(" "),function(n){var r,i;if(s(n))for(r=0;r<t.length;r++)if((i=getComputedStyle(n,null).getPropertyValue(e))===t[r])return!0;return!1}}function r(e,t){return function(n){return s(n)&&n[e]===t}}function i(e,t){return function(n){return s(n)&&n.getAttribute(e)===t}}function o(e){return s(e)&&e.hasAttribute("data-mce-bogus")}function a(e){return function(t){if(s(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1}}var s=e(1);return{isText:e(3),isElement:s,isComment:e(8),isBr:t("br"),isContentEditableTrue:a("true"),isContentEditableFalse:a("false"),matchNodeNames:t,hasPropValue:r,hasAttributeValue:i,matchStyleValues:n,isBogus:o}})),r(_,[],(function(){function e(e){return e==n}function t(e){return e.replace(new RegExp(n,"g"),"")}var n="\ufeff";return{isZwsp:e,ZWSP:n,trim:t}})),r(T,[S,_],(function(e,t){function n(e){return b(e)&&(e=e.parentNode),v(e)&&e.hasAttribute("data-mce-caret")}function r(e){return b(e)&&t.isZwsp(e.data)}function i(e){return n(e)||r(e)}function o(e){var t=e.parentNode;t&&t.removeChild(e)}function a(e){try{return e.nodeValue}catch(t){return""}}function s(e,t){0===t.length?o(e):e.nodeValue=t}function l(e,n){var r,o,a,s;if(a=(r=e.ownerDocument).createTextNode(t.ZWSP),s=e.parentNode,n){if(o=e.previousSibling,b(o)){if(i(o))return o;if(g(o))return o.splitText(o.data.length-1)}s.insertBefore(a,e)}else{if(o=e.nextSibling,b(o)){if(i(o))return o;if(m(o))return o.splitText(1),o}e.nextSibling?s.insertBefore(a,e.nextSibling):s.appendChild(a)}return a}function c(){var e=document.createElement("br");return e.setAttribute("data-mce-bogus","1"),e}function u(e,t,n){var r,i,o;return(i=(r=t.ownerDocument).createElement(e)).setAttribute("data-mce-caret",n?"before":"after"),i.setAttribute("data-mce-bogus","all"),i.appendChild(c()),o=t.parentNode,n?o.insertBefore(i,t):t.nextSibling?o.insertBefore(i,t.nextSibling):o.appendChild(i),i}function d(t){return t.firstChild!==t.lastChild||!e.isBr(t.firstChild)}function f(e){var n;(v(e)&&i(e)&&(d(e)?e.removeAttribute("data-mce-caret"):o(e)),b(e))&&s(e,t.trim(a(e)))}function m(e){return b(e)&&e.data[0]==t.ZWSP}function g(e){return b(e)&&e.data[e.data.length-1]==t.ZWSP}function p(t){var n=t.getElementsByTagName("br"),r=n[n.length-1];e.isBogus(r)&&r.parentNode.removeChild(r)}function h(e){return e&&e.hasAttribute("data-mce-caret")?(p(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null}var v=e.isElement,b=e.isText;return{isCaretContainer:i,isCaretContainerBlock:n,isCaretContainerInline:r,showCaretContainerBlock:h,insertInline:l,insertBlock:u,hasContent:d,remove:f,startsWithCaretContainer:m,endsWithCaretContainer:g}})),r(E,[p,b,S,y,T],(function(e,t,n,r,i){function o(e){return p(e)||h(e)}function a(e,t){var n=e.childNodes;return--t>n.length-1?t=n.length-1:t<0&&(t=0),n[t]||e}function s(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null}function l(e,t,n){return null!==s(e,t,n)}function c(e){return"_mce_caret"===e.id}function u(e,t){return v(e)&&!1===l(e,t,c)}function d(e){this.walk=function(t,n){function r(e){var t;return 3===(t=e[0]).nodeType&&t===l&&c>=t.nodeValue.length&&e.splice(0,1),t=e[e.length-1],0===d&&e.length>0&&t===u&&3===t.nodeType&&e.splice(e.length-1,1),e}function i(e,t,n){for(var r=[];e&&e!=n;e=e[t])r.push(e);return r}function o(e,t){do{if(e.parentNode==t)return e;e=e.parentNode}while(e)}function s(e,t,o){var a=o?"nextSibling":"previousSibling";for(v=(h=e).parentNode;h&&h!=t;h=v)v=h.parentNode,(b=i(h==e?h:h[a],a)).length&&(o||b.reverse(),n(r(b)))}var l=t.startContainer,c=t.startOffset,u=t.endContainer,d=t.endOffset,f,m,p,h,v,b,y;if((y=e.select("td[data-mce-selected],th[data-mce-selected]")).length>0)g(y,(function(e){n([e])}));else{if(1==l.nodeType&&l.hasChildNodes()&&(l=l.childNodes[c]),1==u.nodeType&&u.hasChildNodes()&&(u=a(u,d)),l==u)return n(r([l]));for(f=e.findCommonAncestor(l,u),h=l;h;h=h.parentNode){if(h===u)return s(l,f,!0);if(h===f)break}for(h=u;h;h=h.parentNode){if(h===l)return s(u,f);if(h===f)break}m=o(l,f)||l,p=o(u,f)||u,s(l,m,!0),(b=i(m==l?m:m.nextSibling,"nextSibling",p==u?p.nextSibling:p)).length&&n(r(b)),s(u,p)}},this.split=function(e){function t(e,t){return e.splitText(t)}var n=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset;return n==i&&3==n.nodeType?r>0&&r<n.nodeValue.length&&(n=(i=t(n,r)).previousSibling,o>r?(n=i=t(i,o-=r).previousSibling,o=i.nodeValue.length,r=0):o=0):(3==n.nodeType&&r>0&&r<n.nodeValue.length&&(n=t(n,r),r=0),3==i.nodeType&&o>0&&o<i.nodeValue.length&&(o=(i=t(i,o).previousSibling).nodeValue.length)),{startContainer:n,startOffset:r,endContainer:i,endOffset:o}},this.normalize=function(n){function r(r){function a(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)}function s(n,r){for(var i=new t(n,e.getParent(n.parentNode,e.isBlock)||p);n=i[r?"prev":"next"]();)if("BR"===n.nodeName)return!0}function l(e){for(;e&&e!=p;){if(h(e))return!0;e=e.parentNode}return!1}function c(e,t){return e.previousSibling&&e.previousSibling.nodeName==t}function d(n,r){var a,s,l;if(r=r||f,l=e.getParent(r.parentNode,e.isBlock)||p,n&&"BR"==r.nodeName&&w&&e.isEmpty(l))return f=r.parentNode,m=e.nodeIndex(r),void(i=!0);for(a=new t(r,l);b=a[n?"prev":"next"]();){if("false"===e.getContentEditableParent(b)||u(b,e.getRoot()))return;if(3===b.nodeType&&b.nodeValue.length>0)return f=b,m=n?b.nodeValue.length:0,void(i=!0);if(e.isBlock(b)||y[b.nodeName.toLowerCase()])return;s=b}o&&s&&(f=s,i=!0,m=0)}var f,m,g,p=e.getRoot(),b,y,x,w;if(f=n[(r?"start":"end")+"Container"],m=n[(r?"start":"end")+"Offset"],w=1==f.nodeType&&m===f.childNodes.length,y=e.schema.getNonEmptyElements(),x=r,!v(f)){if(1==f.nodeType&&m>f.childNodes.length-1&&(x=!1),9===f.nodeType&&(f=e.getRoot(),m=0),f===p){if(x&&(b=f.childNodes[m>0?m-1:0])){if(v(b))return;if(y[b.nodeName]||"TABLE"==b.nodeName)return}if(f.hasChildNodes()){if(m=Math.min(!x&&m>0?m-1:m,f.childNodes.length-1),f=f.childNodes[m],m=0,!o&&f===p.lastChild&&"TABLE"===f.nodeName)return;if(l(f)||v(f))return;if(f.hasChildNodes()&&!/TABLE/.test(f.nodeName)){b=f,g=new t(f,p);do{if(h(b)||v(b)){i=!1;break}if(3===b.nodeType&&b.nodeValue.length>0){m=x?0:b.nodeValue.length,f=b,i=!0;break}if(y[b.nodeName.toLowerCase()]&&!a(b)){m=e.nodeIndex(b),f=b.parentNode,"IMG"!=b.nodeName||x||m++,i=!0;break}}while(b=x?g.next():g.prev())}}}o&&(3===f.nodeType&&0===m&&d(!0),1===f.nodeType&&((b=f.childNodes[m])||(b=f.childNodes[m-1]),!b||"BR"!==b.nodeName||c(b,"A")||s(b)||s(b,!0)||d(!0,b))),x&&!o&&3===f.nodeType&&m===f.nodeValue.length&&d(!1),i&&n["set"+(r?"Start":"End")](f,m)}}var i,o;return o=n.collapsed,r(!0),o||r(),i&&o&&n.collapse(!0),i}}function f(t,n,r){var i,o,a;if(i=r.elementFromPoint(t,n),o=r.body.createTextRange(),i&&"HTML"!=i.tagName||(i=r.body),o.moveToElementText(i),(a=(a=e.toArray(o.getClientRects())).sort((function(e,t){return(e=Math.abs(Math.max(e.top-n,e.bottom-n)))-(t=Math.abs(Math.max(t.top-n,t.bottom-n)))}))).length>0){n=(a[0].bottom+a[0].top)/2;try{return o.moveToPoint(t,n),o.collapse(!0),o}catch(s){}}return null}function m(e,t){var n=e&&e.parentElement?e.parentElement():null;return h(s(n,t,o))?null:e}var g=e.each,p=n.isContentEditableTrue,h=n.isContentEditableFalse,v=i.isCaretContainer;return d.compareRanges=function(e,t){if(e&&t){if(!e.item&&!e.duplicate)return e.startContainer==t.startContainer&&e.startOffset==t.startOffset;if(e.item&&t.item&&e.item(0)===t.item(0))return!0;if(e.isEqual&&t.isEqual&&t.isEqual(e))return!0}return!1},d.getCaretRangeFromPoint=function(e,t,n){var r,i;if(n.caretPositionFromPoint)i=n.caretPositionFromPoint(e,t),(r=n.createRange()).setStart(i.offsetNode,i.offset),r.collapse(!0);else if(n.caretRangeFromPoint)r=n.caretRangeFromPoint(e,t);else if(n.body.createTextRange){r=n.body.createTextRange();try{r.moveToPoint(e,t),r.collapse(!0)}catch(o){r=f(e,t,n)}return m(r,n.body)}return r},d.getSelectedNode=function(e){var t=e.startContainer,n=e.startOffset;return t.hasChildNodes()&&e.endOffset==n+1?t.childNodes[n]:null},d.getNode=function(e,t){return 1==e.nodeType&&e.hasChildNodes()&&(t>=e.childNodes.length&&(t=e.childNodes.length-1),e=e.childNodes[t]),e},d})),r(R,[E,d,u],(function(e,t,n){return function(r){function i(e){var t,n;if((n=r.$(e).parentsUntil(r.getBody()).add(e)).length===a.length){for(t=n.length;t>=0&&n[t]===a[t];t--);if(-1===t)return a=n,!0}return a=n,!1}var o,a=[];"onselectionchange"in r.getDoc()||r.on("NodeChange Click MouseUp KeyUp Focus",(function(t){var n,i;i={startContainer:(n=r.selection.getRng()).startContainer,startOffset:n.startOffset,endContainer:n.endContainer,endOffset:n.endOffset},"nodechange"!=t.type&&e.compareRanges(i,o)||r.fire("SelectionChange"),o=i})),r.on("contextmenu",(function(){r.fire("SelectionChange")})),r.on("SelectionChange",(function(){var e=r.selection.getStart(!0);!t.range&&r.selection.isCollapsed()||!i(e)&&r.dom.isChildOf(e,r.getBody())&&r.nodeChanged({selectionChange:!0})})),r.on("MouseUp",(function(e){e.isDefaultPrevented()||("IMG"==r.selection.getNode().nodeName?n.setEditorTimeout(r,(function(){r.nodeChanged()})):r.nodeChanged())})),this.nodeChanged=function(e){var t=r.selection,n,i,o;r.initialized&&t&&!r.settings.disable_nodechange&&!r.readonly&&(o=r.getBody(),(n=t.getStart()||o).ownerDocument==r.getDoc()&&r.dom.isChildOf(n,o)||(n=o),"IMG"==n.nodeName&&t.isCollapsed()&&(n=n.parentNode),i=[],r.dom.getParent(n,(function(e){return e===o||void i.push(e)})),(e=e||{}).element=n,e.parents=i,r.fire("NodeChange",e))}}})),r(A,[],(function(){function e(e,t,n){var r,i,o=n?"lastChild":"firstChild",a=n?"prev":"next";if(e[o])return e[o];if(e!==t){if(r=e[a])return r;for(i=e.parent;i&&i!==t;i=i.parent)if(r=i[a])return r}}function t(e,t){this.name=e,this.type=t,1===t&&(this.attributes=[],this.attributes.map={})}var n=/^[ \t\r\n]*$/,r={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};return t.prototype={replace:function(e){var t=this;return e.parent&&e.remove(),t.insert(e,t),t.remove(),t},attr:function(e,t){var n=this,r,i,o;if("string"!=typeof e){for(i in e)n.attr(i,e[i]);return n}if(r=n.attributes){if(t!==o){if(null===t){if(e in r.map)for(delete r.map[e],i=r.length;i--;)if(r[i].name===e)return r=r.splice(i,1),n;return n}if(e in r.map){for(i=r.length;i--;)if(r[i].name===e){r[i].value=t;break}}else r.push({name:e,value:t});return r.map[e]=t,n}return r.map[e]}},clone:function(){var e=this,n=new t(e.name,e.type),r,i,o,a,s;if(o=e.attributes){for((s=[]).map={},r=0,i=o.length;r<i;r++)"id"!==(a=o[r]).name&&(s[s.length]={name:a.name,value:a.value},s.map[a.name]=a.value);n.attributes=s}return n.value=e.value,n.shortEnded=e.shortEnded,n},wrap:function(e){var t=this;return t.parent.insert(e,t),e.append(t),t},unwrap:function(){var e=this,t,n;for(t=e.firstChild;t;)n=t.next,e.insert(t,e,!0),t=n;e.remove()},remove:function(){var e=this,t=e.parent,n=e.next,r=e.prev;return t&&(t.firstChild===e?(t.firstChild=n,n&&(n.prev=null)):r.next=n,t.lastChild===e?(t.lastChild=r,r&&(r.next=null)):n.prev=r,e.parent=e.next=e.prev=null),e},append:function(e){var t=this,n;return e.parent&&e.remove(),(n=t.lastChild)?(n.next=e,e.prev=n,t.lastChild=e):t.lastChild=t.firstChild=e,e.parent=t,e},insert:function(e,t,n){var r;return e.parent&&e.remove(),r=t.parent||this,n?(t===r.firstChild?r.firstChild=e:t.prev.next=e,e.prev=t.prev,e.next=t,t.prev=e):(t===r.lastChild?r.lastChild=e:t.next.prev=e,e.next=t.next,e.prev=t,t.next=e),e.parent=r,e},getAll:function(t){var n=this,r,i=[];for(r=n.firstChild;r;r=e(r,n))r.name===t&&i.push(r);return i},empty:function(){var t=this,n,r,i;if(t.firstChild){for(n=[],i=t.firstChild;i;i=e(i,t))n.push(i);for(r=n.length;r--;)(i=n[r]).parent=i.firstChild=i.lastChild=i.next=i.prev=null}return t.firstChild=t.lastChild=null,t},isEmpty:function(t,r){var i=this,o=i.firstChild,a,s;if(r=r||{},o)do{if(1===o.type){if(o.attributes.map["data-mce-bogus"])continue;if(t[o.name])return!1;for(a=o.attributes.length;a--;)if("name"===(s=o.attributes[a].name)||0===s.indexOf("data-mce-bookmark"))return!1}if(8===o.type)return!1;if(3===o.type&&!n.test(o.value))return!1;if(3===o.type&&o.parent&&r[o.parent.name]&&n.test(o.value))return!1}while(o=e(o,i));return!0},walk:function(t){return e(this,null,t)}},t.create=function(e,n){var i,o;if(i=new t(e,r[e]||1),n)for(o in n)i.attr(o,n[o]);return i},t})),r(B,[p],(function(e){function t(t,n){return(t=e.trim(t))?t.split(n||" "):[]}function n(e){function n(e,n,r){function i(e,t){var n={},r,i;for(r=0,i=e.length;r<i;r++)n[e[r]]=t||{};return n}var s,c,u;for(n=n||"","string"==typeof(r=r||[])&&(r=t(r)),s=(e=t(e)).length;s--;)u={attributes:i(c=t([l,n].join(" "))),attributesOrder:c,children:i(r,o)},a[e[s]]=u}function r(e,n){var r,i,o,s;for(r=(e=t(e)).length,n=t(n);r--;)for(i=a[e[r]],o=0,s=n.length;o<s;o++)i.attributes[n[o]]={},i.attributesOrder.push(n[o])}var a={},l,c,u,d,f,m;return i[e]?i[e]:(l="id accesskey class dir lang style tabindex title",c="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",u="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!=e&&(l+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",c+=" article aside details dialog figure header footer hgroup section nav",u+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!=e&&(l+=" xml:lang",u=[u,m="acronym applet basefont big font strike tt"].join(" "),s(t(m),(function(e){n(e,"",u)})),c=[c,f="center dir isindex noframes"].join(" "),d=[c,u].join(" "),s(t(f),(function(e){n(e,"",d)}))),d=d||[c,u].join(" "),n("html","manifest","head body"),n("head","","base command link meta noscript script style title"),n("title hr noscript br"),n("base","href target"),n("link","href rel media hreflang type sizes hreflang"),n("meta","name http-equiv content charset"),n("style","media type scoped"),n("script","src async defer type charset"),n("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",d),n("address dt dd div caption","",d),n("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",u),n("blockquote","cite",d),n("ol","reversed start type","li"),n("ul","","li"),n("li","value",d),n("dl","","dt dd"),n("a","href target rel media hreflang type",u),n("q","cite",u),n("ins del","cite datetime",d),n("img","src sizes srcset alt usemap ismap width height"),n("iframe","src name width height",d),n("embed","src type width height"),n("object","data type typemustmatch name usemap form width height",[d,"param"].join(" ")),n("param","name value"),n("map","name",[d,"area"].join(" ")),n("area","alt coords shape href target rel media hreflang type"),n("table","border","caption colgroup thead tfoot tbody tr"+("html4"==e?" col":"")),n("colgroup","span","col"),n("col","span"),n("tbody thead tfoot","","tr"),n("tr","","td th"),n("td","colspan rowspan headers",d),n("th","colspan rowspan headers scope abbr",d),n("form","accept-charset action autocomplete enctype method name novalidate target",d),n("fieldset","disabled form name",[d,"legend"].join(" ")),n("label","form for",u),n("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),n("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"==e?d:u),n("select","disabled form multiple name required size","option optgroup"),n("optgroup","disabled label","option"),n("option","disabled label selected value"),n("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),n("menu","type label",[d,"li"].join(" ")),n("noscript","",d),"html4"!=e&&(n("wbr"),n("ruby","",[u,"rt rp"].join(" ")),n("figcaption","",d),n("mark rt rp summary bdi","",u),n("canvas","width height",d),n("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[d,"track source"].join(" ")),n("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[d,"track source"].join(" ")),n("picture","","img source"),n("source","src srcset type media sizes"),n("track","kind src srclang label default"),n("datalist","",[u,"option"].join(" ")),n("article section nav aside header footer","",d),n("hgroup","","h1 h2 h3 h4 h5 h6"),n("figure","",[d,"figcaption"].join(" ")),n("time","datetime",u),n("dialog","open",d),n("command","type label icon disabled checked radiogroup command"),n("output","for form name",u),n("progress","value max",u),n("meter","value min max low high optimum",u),n("details","open",[d,"summary"].join(" ")),n("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!=e&&(r("script","language xml:space"),r("style","xml:space"),r("object","declare classid code codebase codetype archive standby align border hspace vspace"),r("embed","align name hspace vspace"),r("param","valuetype type"),r("a","charset name rev shape coords"),r("br","clear"),r("applet","codebase archive code object alt name width height align hspace vspace"),r("img","name longdesc align border hspace vspace"),r("iframe","longdesc frameborder marginwidth marginheight scrolling align"),r("font basefont","size color face"),r("input","usemap align"),r("select","onchange"),r("textarea"),r("h1 h2 h3 h4 h5 h6 div p legend caption","align"),r("ul","type compact"),r("li","type"),r("ol dl menu dir","compact"),r("pre","width xml:space"),r("hr","align noshade size width"),r("isindex","prompt"),r("table","summary width frame rules cellspacing cellpadding align bgcolor"),r("col","width align char charoff valign"),r("colgroup","width align char charoff valign"),r("thead","align char charoff valign"),r("tr","align char charoff valign bgcolor"),r("th","axis align char charoff valign nowrap bgcolor width height"),r("form","accept"),r("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),r("tfoot","align char charoff valign"),r("tbody","align char charoff valign"),r("area","nohref"),r("body","background bgcolor text link vlink alink")),"html4"!=e&&(r("input button select textarea","autofocus"),r("input textarea","placeholder"),r("a","download"),r("link script img","crossorigin"),r("iframe","sandbox seamless allowfullscreen")),s(t("a form meter progress dfn"),(function(e){a[e]&&delete a[e].children[e]})),delete a.caption.children.table,delete a.script,i[e]=a,a)}function r(e,t){var n;return e&&(n={},"string"==typeof e&&(e={"*":e}),s(e,(function(e,r){n[r]=n[r.toUpperCase()]="map"==t?a(e,/[, ]/):c(e,/[, ]/)}))),n}var i={},o={},a=e.makeMap,s=e.each,l=e.extend,c=e.explode,u=e.inArray;return function(e){function o(t,n,r){var o=e[t];return o?o=a(o,/[, ]/,a(o.toUpperCase(),/[, ]/)):(o=i[t])||(o=a(n," ",a(n.toUpperCase()," ")),o=l(o,r),i[t]=o),o}function d(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")}function f(e){var n,r,i,o,s,l,c,f,m,g,p,h,v,y,w,C,k,N,S,_=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,T=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,E=/[*?+]/;if(e)for(e=t(e,","),b["@"]&&(C=b["@"].attributes,k=b["@"].attributesOrder),n=0,r=e.length;n<r;n++)if(s=_.exec(e[n])){if(y=s[1],m=s[2],w=s[3],f=s[5],l={attributes:h={},attributesOrder:v=[]},"#"===y&&(l.paddEmpty=!0),"-"===y&&(l.removeEmpty=!0),"!"===s[4]&&(l.removeEmptyAttrs=!0),C){for(N in C)h[N]=C[N];v.push.apply(v,k)}if(f)for(i=0,o=(f=t(f,"|")).length;i<o;i++)if(s=T.exec(f[i])){if(c={},p=s[1],g=s[2].replace(/::/g,":"),y=s[3],S=s[4],"!"===p&&(l.attributesRequired=l.attributesRequired||[],l.attributesRequired.push(g),c.required=!0),"-"===p){delete h[g],v.splice(u(v,g),1);continue}y&&("="===y&&(l.attributesDefault=l.attributesDefault||[],l.attributesDefault.push({name:g,value:S}),c.defaultValue=S),":"===y&&(l.attributesForced=l.attributesForced||[],l.attributesForced.push({name:g,value:S}),c.forcedValue=S),"<"===y&&(c.validValues=a(S,"?"))),E.test(g)?(l.attributePatterns=l.attributePatterns||[],c.pattern=d(g),l.attributePatterns.push(c)):(h[g]||v.push(g),h[g]=c)}C||"@"!=m||(C=h,k=v),w&&(l.outputName=m,b[w]=l),E.test(m)?(l.pattern=d(m),x.push(l)):b[m]=l}}function m(e){b={},x=[],f(e),s(k,(function(e,t){y[t]=e.children}))}function g(e){var n=/^(~)?(.+)$/;e&&(i.text_block_elements=i.block_elements=null,s(t(e,","),(function(e){var t=n.exec(e),r="~"===t[1],i=r?"span":"div",o=t[2];if(y[o]=y[i],D[o]=i,r||(R[o.toUpperCase()]={},R[o]={}),!b[o]){var a=b[i];delete(a=l({},a)).removeEmptyAttrs,delete a.removeEmpty,b[o]=a}s(y,(function(e,t){e[i]&&(y[t]=e=l({},y[t]),e[o]=e[i])}))})))}function p(n){var r=/^([+\-]?)(\w+)\[([^\]]+)\]$/;i[e.schema]=null,n&&s(t(n,","),(function(e){var n=r.exec(e),i,o;n&&(o=n[1],i=o?y[n[2]]:y[n[2]]={"#comment":{}},i=y[n[2]],s(t(n[3],"|"),(function(e){"-"===o?delete i[e]:i[e]={}})))}))}function h(e){var t=b[e],n;if(t)return t;for(n=x.length;n--;)if((t=x[n]).pattern.test(e))return t}var v=this,b={},y={},x=[],w,C,k,N,S,_,T,E,R,A,B,P,M,D={},I={};k=n((e=e||{}).schema),!1===e.verify_html&&(e.valid_elements="*[*]"),w=r(e.valid_styles),C=r(e.invalid_styles,"map"),E=r(e.valid_classes,"map"),N=o("whitespace_elements","pre script noscript style textarea video audio iframe object code"),S=o("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),_=o("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),T=o("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),A=o("non_empty_elements","td th iframe video audio object script pre code",_),B=o("move_caret_before_on_enter_elements","table",A),P=o("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),R=o("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption",P),M=o("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),s((e.special||"script noscript style textarea").split(" "),(function(e){I[e]=new RegExp("</"+e+"[^>]*>","gi")})),e.valid_elements?m(e.valid_elements):(s(k,(function(e,t){b[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},y[t]=e.children})),"html5"!=e.schema&&s(t("strong/b em/i"),(function(e){e=t(e,"/"),b[e[1]].outputName=e[0]})),s(t("ol ul sub sup blockquote span font a table tbody tr strong em b i"),(function(e){b[e]&&(b[e].removeEmpty=!0)})),s(t("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),(function(e){b[e].paddEmpty=!0})),s(t("span"),(function(e){b[e].removeEmptyAttrs=!0}))),g(e.custom_elements),p(e.valid_children),f(e.extended_valid_elements),p("+ol[ul|ol],+ul[ul|ol]"),s({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(function(e,n){b[n]&&(b[n].parentsRequired=t(e))})),e.invalid_elements&&s(c(e.invalid_elements),(function(e){b[e]&&delete b[e]})),h("span")||f("span[!data-mce-type|*]"),v.children=y,v.getValidStyles=function(){return w},v.getInvalidStyles=function(){return C},v.getValidClasses=function(){return E},v.getBoolAttrs=function(){return T},v.getBlockElements=function(){return R},v.getTextBlockElements=function(){return P},v.getTextInlineElements=function(){return M},v.getShortEndedElements=function(){return _},v.getSelfClosingElements=function(){return S},v.getNonEmptyElements=function(){return A},v.getMoveCaretBeforeOnEnterElements=function(){return B},v.getWhiteSpaceElements=function(){return N},v.getSpecialElements=function(){return I},v.isValidChild=function(e,t){var n=y[e];return!(!n||!n[t])},v.isValid=function(e,t){var n,r,i=h(e);if(i){if(!t)return!0;if(i.attributes[t])return!0;if(n=i.attributePatterns)for(r=n.length;r--;)if(n[r].pattern.test(e))return!0}return!1},v.getElementRule=h,v.getCustomElements=function(){return D},v.addValidElements=f,v.setValidElements=m,v.addCustomElements=g,v.addValidChildren=p,v.elements=b}})),r(P,[B,x,p],(function(e,t,n){function r(e,t,n){var r=1,i,o,a,s;for(s=e.getShortEndedElements(),(a=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g).lastIndex=i=n;o=a.exec(t);){if(i=a.lastIndex,"/"===o[1])r--;else if(!o[1]){if(o[2]in s)continue;r++}if(0===r)break}return i}function i(i,a){function s(){}var l=this;i=i||{},l.schema=a=a||new e,!1!==i.fix_self_closing&&(i.fix_self_closing=!0),o("comment cdata text start end pi doctype".split(" "),(function(e){e&&(l[e]=i[e]||s)})),l.parse=function(e){function o(e){var t,n;for(t=m.length;t--&&m[t].name!==e;);if(t>=0){for(n=m.length-1;n>=t;n--)(e=m[n]).valid&&l.end(e.name);m.length=t}}function s(e,t,n,r,o){var a,s,l=/[\s\u0000-\u001F]+/g;if(n=(t=t.toLowerCase())in w?t:z(n||r||o||""),k&&!b&&0!==t.indexOf("data-")){if(!(a=E[t])&&R){for(s=R.length;s--&&!(a=R[s]).pattern.test(t););-1===s&&(a=null)}if(!a)return;if(a.validValues&&!(n in a.validValues))return}if(W[t]&&!i.allow_script_urls){var c=n.replace(l,"");try{c=decodeURIComponent(c)}catch(u){c=unescape(c)}if($.test(c))return;if(!i.allow_html_data_urls&&j.test(c)&&!/^data:image\//i.test(c))return}g.map[t]=n,g.push({name:t,value:n})}var l=this,c,u=0,d,f,m=[],g,p,h,v,b,y,x,w,C,k,N,S,_,T,E,R,A,B,P,M,D,I,L,O,H,F=0,z=t.decode,U,W=n.makeMap("src,href,data,background,formaction,poster"),$=/((java|vb)script|mhtml):/i,j=/^data:/i;for(I=new RegExp("<(?:(?:!--([\\w\\W]*?)--\x3e)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-_\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),L=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,x=a.getShortEndedElements(),D=i.self_closing_elements||a.getSelfClosingElements(),w=a.getBoolAttrs(),k=i.validate,y=i.remove_internals,U=i.fix_self_closing,O=a.getSpecialElements();c=I.exec(e);){if(u<c.index&&l.text(z(e.substr(u,c.index-u))),d=c[6])":"===(d=d.toLowerCase()).charAt(0)&&(d=d.substr(1)),o(d);else if(d=c[7]){if(":"===(d=d.toLowerCase()).charAt(0)&&(d=d.substr(1)),C=d in x,U&&D[d]&&m.length>0&&m[m.length-1].name===d&&o(d),!k||(N=a.getElementRule(d))){if(S=!0,k&&(E=N.attributes,R=N.attributePatterns),(T=c[8])?((b=-1!==T.indexOf("data-mce-type"))&&y&&(S=!1),(g=[]).map={},T.replace(L,s)):(g=[]).map={},k&&!b){if(A=N.attributesRequired,B=N.attributesDefault,P=N.attributesForced,(M=N.removeEmptyAttrs)&&!g.length&&(S=!1),P)for(p=P.length;p--;)v=(_=P[p]).name,"{$uid}"===(H=_.value)&&(H="mce_"+F++),g.map[v]=H,g.push({name:v,value:H});if(B)for(p=B.length;p--;)(v=(_=B[p]).name)in g.map||("{$uid}"===(H=_.value)&&(H="mce_"+F++),g.map[v]=H,g.push({name:v,value:H}));if(A){for(p=A.length;p--&&!(A[p]in g.map););-1===p&&(S=!1)}if(_=g.map["data-mce-bogus"]){if("all"===_){u=r(a,e,I.lastIndex),I.lastIndex=u;continue}S=!1}}S&&l.start(d,g,C)}else S=!1;if(f=O[d]){f.lastIndex=u=c.index+c[0].length,(c=f.exec(e))?(S&&(h=e.substr(u,c.index-u)),u=c.index+c[0].length):(h=e.substr(u),u=e.length),S&&(h.length>0&&l.text(h,!0),l.end(d)),I.lastIndex=u;continue}C||(T&&T.indexOf("/")==T.length-1?S&&l.end(d):m.push({name:d,valid:S}))}else(d=c[1])?(">"===d.charAt(0)&&(d=" "+d),i.allow_conditional_comments||"[if"!==d.substr(0,3).toLowerCase()||(d=" "+d),l.comment(d)):(d=c[2])?l.cdata(d):(d=c[3])?l.doctype(d):(d=c[4])&&l.pi(d,c[5]);u=c.index+c[0].length}for(u<e.length&&l.text(z(e.substr(u))),p=m.length-1;p>=0;p--)(d=m[p]).valid&&l.end(d.name)}}var o=n.each;return i.findEndTag=r,i})),r(M,[A,B,P,p],(function(e,t,n,r){var i=r.makeMap,o=r.each,a=r.explode,s=r.extend,l=function(t,n){t.padd_empty_with_br?n.empty().append(new e("br","1")).shortEnded=!0:n.empty().append(new e("#text","3")).value=""},c=function(e,t){return e&&e.firstChild===e.lastChild&&e.firstChild.name===t};return function(u,d){function f(t){var n,r,o,a,s,l,u,f,g,p,h,v,b,y,x,w;for(v=i("tr,td,th,tbody,thead,tfoot,table"),p=d.getNonEmptyElements(),h=d.getWhiteSpaceElements(),b=d.getTextBlockElements(),y=d.getSpecialElements(),n=0;n<t.length;n++)if((r=t[n]).parent&&!r.fixed)if(b[r.name]&&"li"==r.parent.name){for(x=r.next;x&&b[x.name];)x.name="li",x.fixed=!0,r.parent.insert(x,r.parent),x=x.next;r.unwrap(r)}else{for(a=[r],o=r.parent;o&&!d.isValidChild(o.name,r.name)&&!v[o.name];o=o.parent)a.push(o);if(o&&a.length>1){for(a.reverse(),s=l=m.filterNode(a[0].clone()),g=0;g<a.length-1;g++){for(d.isValidChild(l.name,a[g].name)?(u=m.filterNode(a[g].clone()),l.append(u)):u=l,f=a[g].firstChild;f&&f!=a[g+1];)w=f.next,u.append(f),f=w;l=u}s.isEmpty(p,h)?o.insert(r,a[0],!0):(o.insert(s,a[0],!0),o.insert(r,s)),((o=a[0]).isEmpty(p,h)||c(o,"br"))&&o.empty().remove()}else if(r.parent){if("li"===r.name){if((x=r.prev)&&("ul"===x.name||"ul"===x.name)){x.append(r);continue}if((x=r.next)&&("ul"===x.name||"ul"===x.name)){x.insert(r,x.firstChild,!0);continue}r.wrap(m.filterNode(new e("ul",1)));continue}d.isValidChild(r.parent.name,"div")&&d.isValidChild("div",r.name)?r.wrap(m.filterNode(new e("div",1))):y[r.name]?r.empty().remove():r.unwrap()}}}var m=this,g={},p=[],h={},v={};(u=u||{}).validate=!("validate"in u)||u.validate,u.root_name=u.root_name||"body",m.schema=d=d||new t,m.filterNode=function(e){var t,n,r;n in g&&((r=h[n])?r.push(e):h[n]=[e]),t=p.length;for(;t--;)(n=p[t].name)in e.attributes.map&&((r=v[n])?r.push(e):v[n]=[e]);return e},m.addNodeFilter=function(e,t){o(a(e),(function(e){var n=g[e];n||(g[e]=n=[]),n.push(t)}))},m.addAttributeFilter=function(e,t){o(a(e),(function(e){var n;for(n=0;n<p.length;n++)if(p[n].name===e)return void p[n].callbacks.push(t);p.push({name:e,callbacks:[t]})}))},m.parse=function(t,r){function o(){function e(e){e&&((t=e.firstChild)&&3==t.type&&(t.value=t.value.replace(A,"")),(t=e.lastChild)&&3==t.type&&(t.value=t.value.replace(M,"")))}var t=y.firstChild,n,r;if(d.isValidChild(y.name,F.toLowerCase())){for(;t;)n=t.next,3==t.type||1==t.type&&"p"!==t.name&&!R[t.name]&&!t.attr("data-mce-type")?r?r.append(t):((r=a(F,1)).attr(u.forced_root_block_attrs),y.insert(r,t),r.append(t)):(e(r),r=null),t=n;e(r)}}function a(t,n){var r=new e(t,n),i;return t in g&&((i=h[t])?i.push(r):h[t]=[r]),r}function c(e){var t,n,r,i,o=d.getBlockElements();for(t=e.prev;t&&3===t.type;){if((r=t.value.replace(M,"")).length>0)return void(t.value=r);if(n=t.next){if(3==n.type&&n.value.length){t=t.prev;continue}if(!o[n.name]&&"script"!=n.name&&"style"!=n.name){t=t.prev;continue}}i=t.prev,t.remove(),t=i}}function m(e){var t,n={};for(t in e)"li"!==t&&"p"!=t&&(n[t]=e[t]);return n}var b,y,x,w,C,k,N,S,_,T,E,R,A,B=[],P,M,D,I,L,O,H,F;if(r=r||{},h={},v={},R=s(i("script,style,head,html,body,title,meta,param"),d.getBlockElements()),H=d.getNonEmptyElements(),O=d.children,E=u.validate,F="forced_root_block"in r?r.forced_root_block:u.forced_root_block,L=d.getWhiteSpaceElements(),A=/^[ \t\r\n]+/,M=/[ \t\r\n]+$/,D=/[ \t\r\n]+/g,I=/^[ \t\r\n]+$/,b=new n({validate:E,allow_script_urls:u.allow_script_urls,allow_conditional_comments:u.allow_conditional_comments,self_closing_elements:m(d.getSelfClosingElements()),cdata:function(e){x.append(a("#cdata",4)).value=e},text:function(e,t){var n;P||(e=e.replace(D," "),x.lastChild&&R[x.lastChild.name]&&(e=e.replace(A,""))),0!==e.length&&((n=a("#text",3)).raw=!!t,x.append(n).value=e)},comment:function(e){x.append(a("#comment",8)).value=e},pi:function(e,t){x.append(a(e,7)).value=t,c(x)},doctype:function(e){var t;(t=x.append(a("#doctype",10))).value=e,c(x)},start:function(e,t,n){var r,i,o,s,l;if(o=E?d.getElementRule(e):{}){for((r=a(o.outputName||e,1)).attributes=t,r.shortEnded=n,x.append(r),(l=O[x.name])&&O[r.name]&&!l[r.name]&&B.push(r),i=p.length;i--;)(s=p[i].name)in t.map&&((_=v[s])?_.push(r):v[s]=[r]);R[e]&&c(r),n||(x=r),!P&&L[e]&&(P=!0)}},end:function(e){var t,n,r,i,o;if(n=E?d.getElementRule(e):{}){if(R[e]&&!P){if((t=x.firstChild)&&3===t.type)if((r=t.value.replace(A,"")).length>0)t.value=r,t=t.next;else for(i=t.next,t.remove(),t=i;t&&3===t.type;)r=t.value,i=t.next,(0===r.length||I.test(r))&&(t.remove(),t=i),t=i;if((t=x.lastChild)&&3===t.type)if((r=t.value.replace(M,"")).length>0)t.value=r,t=t.prev;else for(i=t.prev,t.remove(),t=i;t&&3===t.type;)r=t.value,i=t.prev,(0===r.length||I.test(r))&&(t.remove(),t=i),t=i}if(P&&L[e]&&(P=!1),(n.removeEmpty||n.paddEmpty)&&x.isEmpty(H,L))if(n.paddEmpty)l(u,x);else if(!x.attributes.map.name&&!x.attributes.map.id)return o=x.parent,R[x.name]?x.empty().remove():x.unwrap(),void(x=o);x=x.parent}}},d),y=x=new e(r.context||u.root_name,11),b.parse(t),E&&B.length&&(r.context?r.invalid=!0:f(B)),F&&("body"==y.name||r.isRootContent)&&o(),!r.invalid){for(T in h){for(_=g[T],N=(w=h[T]).length;N--;)w[N].parent||w.splice(N,1);for(C=0,k=_.length;C<k;C++)_[C](w,T,r)}for(C=0,k=p.length;C<k;C++)if((_=p[C]).name in v){for(N=(w=v[_.name]).length;N--;)w[N].parent||w.splice(N,1);for(N=0,S=_.callbacks.length;N<S;N++)_.callbacks[N](w,_.name,r)}}return y},u.remove_trailing_brs&&m.addNodeFilter("br",(function(t){var n,r=t.length,i,o=s({},d.getBlockElements()),a=d.getNonEmptyElements(),c,f,m,g,p=d.getNonEmptyElements(),h,v;for(o.body=1,n=0;n<r;n++)if(c=(i=t[n]).parent,o[i.parent.name]&&i===c.lastChild){for(m=i.prev;m;){if("span"!==(g=m.name)||"bookmark"!==m.attr("data-mce-type")){if("br"!==g)break;if("br"===g){i=null;break}}m=m.prev}i&&(i.remove(),c.isEmpty(a,p)&&((h=d.getElementRule(c.name))&&(h.removeEmpty?c.remove():h.paddEmpty&&l(u,c))))}else{for(f=i;c&&c.firstChild===f&&c.lastChild===f&&(f=c,!o[c.name]);)c=c.parent;f===c&&!0!==u.padd_empty_with_br&&((v=new e("#text",3)).value="",i.replace(v))}})),u.allow_unsafe_link_target||m.addAttributeFilter("href",(function(e){function t(e){return(e=n(e))?[e,l].join(" "):l}function n(e){var t=new RegExp("("+l.replace(" ","|")+")","g");return e&&(e=r.trim(e.replace(t,""))),e||null}function i(e,r){return r?t(e):n(e)}for(var o=e.length,a,s,l="noopener noreferrer";o--;)s=(a=e[o]).attr("rel"),"a"===a.name&&a.attr("rel",i(s,"_blank"==a.attr("target")))})),u.allow_html_in_named_anchor||m.addAttributeFilter("id,name",(function(e){for(var t=e.length,n,r,i,o;t--;)if("a"===(o=e[t]).name&&o.firstChild&&!o.attr("href")){i=o.parent,n=o.lastChild;do{r=n.prev,i.insert(n,o),n=r}while(n)}})),u.fix_list_elements&&m.addNodeFilter("ul,ol",(function(t){for(var n=t.length,r,i;n--;)if("ul"===(i=(r=t[n]).parent).name||"ol"===i.name)if(r.prev&&"li"===r.prev.name)r.prev.append(r);else{var o=new e("li",1);o.attr("style","list-style-type: none"),r.wrap(o)}})),u.validate&&d.getValidClasses()&&m.addAttributeFilter("class",(function(e){for(var t=e.length,n,r,i,o,a,s=d.getValidClasses(),l,c;t--;){for(r=(n=e[t]).attr("class").split(" "),a="",i=0;i<r.length;i++)o=r[i],c=!1,(l=s["*"])&&l[o]&&(c=!0),l=s[n.name],!c&&l&&l[o]&&(c=!0),c&&(a&&(a+=" "),a+=o);a.length||(a=null),n.attr("class",a)}}))}})),r(D,[x,p],(function(e,t){var n=t.makeMap;return function(t){var r=[],i,o,a,s,l;return i=(t=t||{}).indent,o=n(t.indent_before||""),a=n(t.indent_after||""),s=e.getEncodeFunc(t.entity_encoding||"raw",t.entities),l="html"==t.element_format,{start:function(e,t,n){var c,u,d,f;if(i&&o[e]&&r.length>0&&((f=r[r.length-1]).length>0&&"\n"!==f&&r.push("\n")),r.push("<",e),t)for(c=0,u=t.length;c<u;c++)d=t[c],r.push(" ",d.name,'="',s(d.value,!0),'"');r[r.length]=!n||l?">":" />",n&&i&&a[e]&&r.length>0&&((f=r[r.length-1]).length>0&&"\n"!==f&&r.push("\n"))},end:function(e){var t;r.push("</",e,">"),i&&a[e]&&r.length>0&&((t=r[r.length-1]).length>0&&"\n"!==t&&r.push("\n"))},text:function(e,t){e.length>0&&(r[r.length]=t?e:s(e))},cdata:function(e){r.push("<![CDATA[",e,"]]>")},comment:function(e){r.push("\x3c!--",e,"--\x3e")},pi:function(e,t){t?r.push("<?",e," ",s(t),"?>"):r.push("<?",e,"?>"),i&&r.push("\n")},doctype:function(e){r.push("<!DOCTYPE",e,">",i?"\n":"")},reset:function(){r.length=0},getContent:function(){return r.join("").replace(/\n$/,"")}}}})),r(I,[D,B],(function(e,t){return function(n,r){var i=this,o=new e(n);(n=n||{}).validate=!("validate"in n)||n.validate,i.schema=r=r||new t,i.writer=o,i.serialize=function(e){function t(e){var n=i[e.type],s,l,c,u,d,f,m,g,p;if(n)n(e);else{if(s=e.name,l=e.shortEnded,c=e.attributes,a&&c&&c.length>1&&((f=[]).map={},p=r.getElementRule(e.name))){for(m=0,g=p.attributesOrder.length;m<g;m++)(u=p.attributesOrder[m])in c.map&&(d=c.map[u],f.map[u]=d,f.push({name:u,value:d}));for(m=0,g=c.length;m<g;m++)(u=c[m].name)in f.map||(d=c.map[u],f.map[u]=d,f.push({name:u,value:d}));c=f}if(o.start(e.name,c,l),!l){if(e=e.firstChild)do{t(e)}while(e=e.next);o.end(s)}}}var i,a;return a=n.validate,i={3:function(e){o.text(e.value,e.raw)},8:function(e){o.comment(e.value)},7:function(e){o.pi(e.name,e.value)},10:function(e){o.doctype(e.value)},4:function(e){o.cdata(e.value)},11:function(e){if(e=e.firstChild)do{t(e)}while(e=e.next)}},o.reset(),1!=e.type||n.inner?i[11](e):t(e),o.getContent()}}})),r(L,[C,M,P,x,I,A,B,d,p,_],(function(e,t,n,r,i,o,a,s,l,c){function u(e){function t(e){return e&&"br"===e.name}var n,r;t(n=e.lastChild)&&(t(r=n.prev)&&(n.remove(),r.remove()))}var d=l.each,f=l.trim,m=e.DOM;return function(e,o){function g(e){var t=new RegExp(["<span[^>]+data-mce-bogus[^>]+>[\ufeff]+<\\/span>","\\s?("+w.join("|")+')="[^"]+"'].join("|"),"gi");return c.trim(e.replace(t,""))}function p(e){var t=e,r=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,i,a,s,l,c,u=o.schema;for(t=g(t),c=u.getShortEndedElements();l=r.exec(t);)a=r.lastIndex,s=l[0].length,i=c[l[1]]?a:n.findEndTag(u,t,a),t=t.substring(0,a-s)+t.substring(i),r.lastIndex=a-s;return t}function h(){return p(o.getBody().innerHTML)}function v(e){-1===l.inArray(w,e)&&(x.addAttributeFilter(e,(function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)})),w.push(e))}var b,y,x,w=["data-mce-selected"];return o&&(b=o.dom,y=o.schema),b=b||m,y=y||new a(e),e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs=!("remove_trailing_brs"in e)||e.remove_trailing_brs,(x=new t(e,y)).addAttributeFilter("data-mce-tabindex",(function(e,t){for(var n=e.length,r;n--;)(r=e[n]).attr("tabindex",r.attributes.map["data-mce-tabindex"]),r.attr(t,null)})),x.addAttributeFilter("src,href,style",(function(t,n){for(var r=t.length,i,o,a="data-mce-"+n,s=e.url_converter,l=e.url_converter_scope,c;r--;)(o=(i=t[r]).attributes.map[a])!==c?(i.attr(n,o.length>0?o:null),i.attr(a,null)):(o=i.attributes.map[n],"style"===n?o=b.serializeStyle(b.parseStyle(o),i.name):s&&(o=s.call(l,o,n,i.name)),i.attr(n,o.length>0?o:null))})),x.addAttributeFilter("class",(function(e){for(var t=e.length,n,r;t--;)(r=(n=e[t]).attr("class"))&&(r=n.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),n.attr("class",r.length>0?r:null))})),x.addAttributeFilter("data-mce-type",(function(e,t,n){for(var r=e.length,i;r--;)"bookmark"!==(i=e[r]).attributes.map["data-mce-type"]||n.cleanup||i.remove()})),x.addNodeFilter("noscript",(function(e){for(var t=e.length,n;t--;)(n=e[t].firstChild)&&(n.value=r.decode(n.value))})),x.addNodeFilter("script,style",(function(e,t){function n(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}for(var r=e.length,i,o,a;r--;)o=(i=e[r]).firstChild?i.firstChild.value:"","script"===t?((a=i.attr("type"))&&i.attr("type","mce-no/type"==a?null:a.replace(/^mce\-/,"")),o.length>0&&(i.firstChild.value="// <![CDATA[\n"+n(o)+"\n// ]]>")):o.length>0&&(i.firstChild.value="\x3c!--\n"+n(o)+"\n--\x3e")})),x.addNodeFilter("#comment",(function(e){for(var t=e.length,n;t--;)0===(n=e[t]).value.indexOf("[CDATA[")?(n.name="#cdata",n.type=4,n.value=n.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===n.value.indexOf("mce:protected ")&&(n.name="#text",n.type=3,n.raw=!0,n.value=unescape(n.value).substr(14))})),x.addNodeFilter("xml:namespace,input",(function(e,t){for(var n=e.length,r;n--;)7===(r=e[n]).type?r.remove():1===r.type&&("input"!==t||"type"in r.attributes.map||r.attr("type","text"))})),x.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",(function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)})),{schema:y,addNodeFilter:x.addNodeFilter,addAttributeFilter:x.addAttributeFilter,serialize:function(t,n){var r=this,o,a,l,m,g,p;return s.ie&&b.select("script,style,select,map").length>0?(g=t.innerHTML,t=t.cloneNode(!1),b.setHTML(t,g)):t=t.cloneNode(!0),(o=document.implementation).createHTMLDocument&&(a=o.createHTMLDocument(""),d("BODY"==t.nodeName?t.childNodes:[t],(function(e){a.body.appendChild(a.importNode(e,!0))})),t="BODY"!=t.nodeName?a.body.firstChild:a.body,l=b.doc,b.doc=a),(n=n||{}).format=n.format||"html",n.selection&&(n.forced_root_block=""),n.no_events||(n.node=t,r.onPreProcess(n)),u(p=x.parse(f(n.getInner?t.innerHTML:b.getOuterHTML(t)),n)),m=new i(e,y),n.content=m.serialize(p),n.cleanup||(n.content=c.trim(n.content),n.content=n.content.replace(/\uFEFF/g,"")),n.no_events||r.onPostProcess(n),l&&(b.doc=l),n.node=null,n.content},addRules:function(e){y.addValidElements(e)},setRules:function(e){y.setValidElements(e)},onPreProcess:function(e){o&&o.fire("PreProcess",e)},onPostProcess:function(e){o&&o.fire("PostProcess",e)},addTempAttr:v,trimHtml:g,getTrimmedContent:h,trimContent:p}}})),r(O,[],(function(){function e(e){function t(t,n){var r,i=0,o,a,s,l,c,u,d=-1,f;if((r=t.duplicate()).collapse(n),(f=r.parentElement()).ownerDocument===e.dom.doc){for(;"false"===f.contentEditable;)f=f.parentNode;if(!f.hasChildNodes())return{node:f,inside:1};for(o=(s=f.children).length-1;i<=o;)if(l=s[u=Math.floor((i+o)/2)],r.moveToElementText(l),(d=r.compareEndPoints(n?"StartToStart":"EndToEnd",t))>0)o=u-1;else{if(!(d<0))return{node:l};i=u+1}if(d<0)for(l?r.collapse(!1):(r.moveToElementText(f),r.collapse(!0),l=f,a=!0),c=0;0!==r.compareEndPoints(n?"StartToStart":"StartToEnd",t)&&0!==r.move("character",1)&&f==r.parentElement();)c++;else for(r.collapse(!0),c=0;0!==r.compareEndPoints(n?"StartToStart":"StartToEnd",t)&&0!==r.move("character",-1)&&f==r.parentElement();)c++;return{node:l,position:d,offset:c,inside:a}}}function n(){function n(e){var n=t(o,e),r,i,s=0,l,c,u;if(r=n.node,i=n.offset,!n.inside||r.hasChildNodes())if(i!==c){if(n.position<0){if(!(l=n.inside?r.firstChild:r.nextSibling))return void a[e?"setStartAfter":"setEndAfter"](r);if(!i)return void(3==l.nodeType?a[e?"setStart":"setEnd"](l,0):a[e?"setStartBefore":"setEndBefore"](l));for(;l;){if(3==l.nodeType&&(s+=(u=l.nodeValue).length)>=i){r=l,s-=i,s=u.length-s;break}l=l.nextSibling}}else{if(!(l=r.previousSibling))return a[e?"setStartBefore":"setEndBefore"](r);if(!i)return void(3==r.nodeType?a[e?"setStart":"setEnd"](l,r.nodeValue.length):a[e?"setStartAfter":"setEndAfter"](l));for(;l;){if(3==l.nodeType&&(s+=l.nodeValue.length)>=i){r=l,s-=i;break}l=l.previousSibling}}a[e?"setStart":"setEnd"](r,s)}else a[e?"setStartBefore":"setEndAfter"](r);else a[e?"setStart":"setEnd"](r,0)}var o=e.getRng(),a=i.createRng(),s,l,c,u,d;if((s=o.item?o.item(0):o.parentElement()).ownerDocument!=i.doc)return a;if(l=e.isCollapsed(),o.item)return a.setStart(s.parentNode,i.nodeIndex(s)),a.setEnd(a.startContainer,a.startOffset+1),a;try{n(!0),l||n()}catch(f){if(-2147024809!=f.number)throw f;d=r.getBookmark(2),(c=o.duplicate()).collapse(!0),s=c.parentElement(),l||((c=o.duplicate()).collapse(!1),(u=c.parentElement()).innerHTML=u.innerHTML),s.innerHTML=s.innerHTML,r.moveToBookmark(d),o=e.getRng(),n(!0),l||n()}return a}var r=this,i=e.dom,o=!1;this.getBookmark=function(n){function r(e){var t,n,r,o,a=[];for(t=e.parentNode,n=i.getRoot().parentNode;t!=n&&9!==t.nodeType;){for(o=(r=t.children).length;o--;)if(e===r[o]){a.push(o);break}e=t,t=t.parentNode}return a}function o(e){var n;if(n=t(a,e))return{position:n.position,offset:n.offset,indexes:r(n.node),inside:n.inside}}var a=e.getRng(),s={};return 2===n&&(a.item?s.start={ctrl:!0,indexes:r(a.item(0))}:(s.start=o(!0),e.isCollapsed()||(s.end=o()))),s},this.moveToBookmark=function(e){function t(e){var t,n,r,o;for(t=i.getRoot(),n=e.length-1;n>=0;n--)o=t.children,(r=e[n])<=o.length-1&&(t=o[r]);return t}function n(n){var i=e[n?"start":"end"],a,s,l,c;i&&(a=i.position>0,(s=o.createTextRange()).moveToElementText(t(i.indexes)),(c=i.offset)!==l?(s.collapse(i.inside||a),s.moveStart("character",a?-c:c)):s.collapse(n),r.setEndPoint(n?"StartToStart":"EndToStart",s),n&&r.collapse(!0))}var r,o=i.doc.body;e.start&&(e.start.ctrl?((r=o.createControlRange()).addElement(t(e.start.indexes)),r.select()):(r=o.createTextRange(),n(!0),n(),r.select()))},this.addRange=function(t){function n(e){var t,n,a,d,g;a=i.create("a"),t=e?s:c,n=e?l:u,d=r.duplicate(),t!=f&&t!=f.documentElement||(t=m,n=0),3==t.nodeType?(t.parentNode.insertBefore(a,t),d.moveToElementText(a),d.moveStart("character",n),i.remove(a),r.setEndPoint(e?"StartToStart":"EndToEnd",d)):((g=t.childNodes).length?(n>=g.length?i.insertAfter(a,g[g.length-1]):t.insertBefore(a,g[n]),d.moveToElementText(a)):t.canHaveHTML&&(t.innerHTML="<span>&#xFEFF;</span>",a=t.firstChild,d.moveToElementText(a),d.collapse(o)),r.setEndPoint(e?"StartToStart":"EndToEnd",d),i.remove(a))}var r,a,s,l,c,u,d,f=e.dom.doc,m=f.body,g,p;if(s=t.startContainer,l=t.startOffset,c=t.endContainer,u=t.endOffset,r=m.createTextRange(),s==c&&1==s.nodeType){if(l==u&&!s.hasChildNodes()){if(s.canHaveHTML)return(d=s.previousSibling)&&!d.hasChildNodes()&&i.isBlock(d)?d.innerHTML="&#xFEFF;":d=null,s.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>",r.moveToElementText(s.lastChild),r.select(),i.doc.selection.clear(),s.innerHTML="",void(d&&(d.innerHTML=""));l=i.nodeIndex(s),s=s.parentNode}if(l==u-1)try{if(p=s.childNodes[l],(a=m.createControlRange()).addElement(p),a.select(),(g=e.getRng()).item&&p===g.item(0))return}catch(h){}}n(!0),n(),r.select()},this.getRangeAt=n}return e})),r(H,[d],(function(e){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||this.metaKeyPressed(e)},metaKeyPressed:function(t){return e.mac?t.metaKey:t.ctrlKey&&!t.altKey}}})),r(F,[H,p,u,d,S],(function(e,t,n,r,i){function o(e,t){for(;t&&t!=e;){if(s(t)||a(t))return t;t=t.parentNode}return null}var a=i.isContentEditableFalse,s=i.isContentEditableTrue;return function(i,s){function l(e){var t=s.settings.object_resizing;return!1!==t&&!r.iOS&&("string"!=typeof t&&(t="table,img,div"),"false"!==e.getAttribute("data-mce-resize")&&e!=s.getBody()&&s.dom.is(e,t))}function c(t){var n,r,i,o,a;n=t.screenX-M,r=t.screenY-D,U=n*B[2]+O,W=r*B[3]+H,U=U<5?5:U,W=W<5?5:W,(i="IMG"==T.nodeName&&!1!==s.settings.resize_img_proportional?!e.modifierPressed(t):e.modifierPressed(t)||"IMG"==T.nodeName&&B[2]*B[3]!=0)&&(q(n)>q(r)?(W=Y(U*F),U=Y(W/F)):(U=Y(W/F),W=Y(U*F))),S.setStyles(E,{width:U,height:W}),o=(o=B.startPos.x+n)>0?o:0,a=(a=B.startPos.y+r)>0?a:0,S.setStyles(R,{left:o,top:a,display:"block"}),R.innerHTML=U+" &times; "+W,B[2]<0&&E.clientWidth<=U&&S.setStyle(E,"left",I+(O-U)),B[3]<0&&E.clientHeight<=W&&S.setStyle(E,"top",L+(H-W)),(n=K.scrollWidth-X)+(r=K.scrollHeight-G)!==0&&S.setStyles(R,{left:o-n,top:a-r}),z||(s.fire("ObjectResizeStart",{target:T,width:O,height:H}),z=!0)}function u(){function e(e,t){t&&(T.style[e]||!s.schema.isValid(T.nodeName.toLowerCase(),e)?S.setStyle(T,e,t):S.setAttrib(T,e,t))}z=!1,e("width",U),e("height",W),S.unbind($,"mousemove",c),S.unbind($,"mouseup",u),j!=$&&(S.unbind(j,"mousemove",c),S.unbind(j,"mouseup",u)),S.remove(E),S.remove(R),V&&"TABLE"!=T.nodeName||d(T),s.fire("ObjectResized",{target:T,width:U,height:W}),S.setAttrib(T,"style",S.getAttrib(T,"style")),s.nodeChanged()}function d(e,t,n){var i,o,a,d,m;f(),w(),i=S.getPos(e,K),I=i.x,L=i.y,m=e.getBoundingClientRect(),o=m.width||m.right-m.left,a=m.height||m.bottom-m.top,T!=e&&(x(),T=e,U=W=0),d=s.fire("ObjectSelected",{target:e}),l(e)&&!d.isDefaultPrevented()?_(A,(function(e,i){function s(t){M=t.screenX,D=t.screenY,O=T.clientWidth,H=T.clientHeight,F=H/O,B=e,e.startPos={x:o*e[0]+I,y:a*e[1]+L},X=K.scrollWidth,G=K.scrollHeight,E=T.cloneNode(!0),S.addClass(E,"mce-clonedresizable"),S.setAttrib(E,"data-mce-bogus","all"),E.contentEditable=!1,E.unSelectabe=!0,S.setStyles(E,{left:I,top:L,margin:0}),E.removeAttribute("data-mce-selected"),K.appendChild(E),S.bind($,"mousemove",c),S.bind($,"mouseup",u),j!=$&&(S.bind(j,"mousemove",c),S.bind(j,"mouseup",u)),R=S.add(K,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},O+" &times; "+H)}var l;return t?void(i==t&&s(n)):((l=S.get("mceResizeHandle"+i))&&S.remove(l),l=S.add(K,"div",{id:"mceResizeHandle"+i,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+i+"-resize; margin:0; padding:0"}),r.ie&&(l.contentEditable=!1),S.bind(l,"mousedown",(function(e){e.stopImmediatePropagation(),e.preventDefault(),s(e)})),e.elm=l,void S.setStyles(l,{left:o*e[0]+I-l.offsetWidth/2,top:a*e[1]+L-l.offsetHeight/2}))})):f(),T.setAttribute("data-mce-selected","1")}function f(){var e,t;for(e in w(),T&&T.removeAttribute("data-mce-selected"),A)(t=S.get("mceResizeHandle"+e))&&(S.unbind(t),S.remove(t))}function m(e){function t(e,t){if(e)do{if(e===t)return!0}while(e=e.parentNode)}var n,r;if(!z&&!s.removed)return _(S.select("img[data-mce-selected],hr[data-mce-selected]"),(function(e){e.removeAttribute("data-mce-selected")})),r="mousedown"==e.type?e.target:i.getNode(),t(r=S.$(r).closest(V?"table":"table,img,hr")[0],K)&&(C(),t(n=i.getStart(!0),r)&&t(i.getEnd(!0),r)&&(!V||r!=n&&"IMG"!==n.nodeName))?void d(r):void f()}function g(e,t,n){e&&e.attachEvent&&e.attachEvent("on"+t,n)}function p(e,t,n){e&&e.detachEvent&&e.detachEvent("on"+t,n)}function h(e){var t=e.srcElement,n,r,i,o,a,l,c;for(r in n=t.getBoundingClientRect(),l=P.clientX-n.left,c=P.clientY-n.top,A)if(i=A[r],o=t.offsetWidth*i[0],a=t.offsetHeight*i[1],q(o-l)<8&&q(a-c)<8){B=i;break}z=!0,s.fire("ObjectResizeStart",{target:T,width:T.clientWidth,height:T.clientHeight}),s.getDoc().selection.empty(),d(t,r,P)}function v(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function b(e){return a(o(s.getBody(),e))}function y(e){var t=e.srcElement;if(b(t))v(e);else if(t!=T){if(s.fire("ObjectSelected",{target:t}),x(),0===t.id.indexOf("mceResizeHandle"))return void(e.returnValue=!1);"IMG"!=t.nodeName&&"TABLE"!=t.nodeName||(f(),T=t,g(t,"resizestart",h))}}function x(){p(T,"resizestart",h)}function w(){for(var e in A){var t=A[e];t.elm&&(S.unbind(t.elm),delete t.elm)}}function C(){try{s.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(e){}}function k(e){var t;if(V){t=$.body.createControlRange();try{return t.addElement(e),t.select(),!0}catch(n){}}}function N(){T=E=null,V&&(x(),p(K,"controlselect",y))}var S=s.dom,_=t.each,T,E,R,A,B,P,M,D,I,L,O,H,F,z,U,W,$=s.getDoc(),j=document,V=r.ie&&r.ie<11,q=Math.abs,Y=Math.round,K=s.getBody(),X,G;A={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var J=".mce-content-body";return s.contentStyles.push(J+" div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: box-sizing;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+J+" .mce-resizehandle:hover {background: #000}"+J+" img[data-mce-selected],"+J+" hr[data-mce-selected] {outline: 1px solid black;resize: none}"+J+" .mce-clonedresizable {position: absolute;"+(r.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+J+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}"),s.on("init",(function(){V?(s.on("ObjectResized",(function(e){"TABLE"!=e.target.nodeName&&(f(),k(e.target))})),g(K,"controlselect",y),s.on("mousedown",(function(e){P=e}))):(C(),r.ie>=11&&(s.on("mousedown click",(function(e){var t=e.target,n=t.nodeName;z||!/^(TABLE|IMG|HR)$/.test(n)||b(t)||(s.selection.select(t,"TABLE"==n),"mousedown"==e.type&&s.nodeChanged())})),s.dom.bind(K,"mscontrolselect",(function(e){function t(e){n.setEditorTimeout(s,(function(){s.selection.select(e)}))}return b(e.target)?(e.preventDefault(),void t(e.target)):void(/^(TABLE|IMG|HR)$/.test(e.target.nodeName)&&(e.preventDefault(),"IMG"==e.target.tagName&&t(e.target)))}))));var e=n.throttle((function(e){s.composing||m(e)}));s.on("nodechange ResizeEditor ResizeWindow drop",e),s.on("keyup compositionend",(function(t){T&&"TABLE"==T.nodeName&&e(t)})),s.on("hide blur",f)})),s.on("remove",w),{isResizable:l,showResizeRect:d,hideResizeRect:f,updateResizeRect:m,controlSelect:k,destroy:N}}})),r(z,[],(function(){function e(e){return function(){return e}}function t(e){return function(t){return!e(t)}}function n(e,t){return function(n){return e(t(n))}}function r(){var e=s.call(arguments);return function(t){for(var n=0;n<e.length;n++)if(e[n](t))return!0;return!1}}function i(){var e=s.call(arguments);return function(t){for(var n=0;n<e.length;n++)if(!e[n](t))return!1;return!0}}function o(e){var t=s.call(arguments);return t.length-1>=e.length?e.apply(this,t.slice(1)):function(){var e=t.concat([].slice.call(arguments));return o.apply(this,e)}}function a(){}var s=[].slice;return{constant:e,negate:t,and:i,or:r,curry:o,compose:n,noop:a}})),r(U,[S,g,T],(function(e,t,n){function r(e){return!p(e)&&(d(e)?!f(e.parentNode):m(e)||u(e)||g(e)||c(e))}function i(e,t){for(e=e.parentNode;e&&e!=t;e=e.parentNode){if(c(e))return!1;if(l(e))return!0}return!0}function o(e){return!!c(e)&&!0!==t.reduce(e.getElementsByTagName("*"),(function(e,t){return e||l(t)}),!1)}function a(e){return m(e)||o(e)}function s(e,t){return r(e)&&i(e,t)}var l=e.isContentEditableTrue,c=e.isContentEditableFalse,u=e.isBr,d=e.isText,f=e.matchNodeNames("script style textarea"),m=e.matchNodeNames("img input textarea hr iframe video audio object"),g=e.matchNodeNames("table"),p=n.isCaretContainer;return{isCaretCandidate:r,isInEditable:i,isAtomic:a,isEditableCaretCandidate:s}})),r(W,[],(function(){function e(e){return e?{left:u(e.left),top:u(e.top),bottom:u(e.bottom),right:u(e.right),width:u(e.width),height:u(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}}function t(t,n){return t=e(t),n?t.right=t.left:(t.left=t.left+t.width,t.right=t.left),t.width=0,t}function n(e,t){return e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right}function r(e,t,n){return e>=0&&e<=Math.min(t.height,n.height)/2}function i(e,t){return e.bottom<t.top||!(e.top>t.bottom)&&r(t.top-e.bottom,e,t)}function o(e,t){return e.top>t.bottom||!(e.bottom<t.top)&&r(t.bottom-e.top,e,t)}function a(e,t){return e.left<t.left}function s(e,t){return e.right>t.right}function l(e,t){return i(e,t)?-1:o(e,t)?1:a(e,t)?-1:s(e,t)?1:0}function c(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom}var u=Math.round;return{clone:e,collapse:t,isEqual:n,isAbove:i,isBelow:o,isLeft:a,isRight:s,compare:l,containsXY:c}})),r($,[],(function(){function e(e){return"string"==typeof e&&e.charCodeAt(0)>=768&&t.test(e)}var t=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]");return{isExtendingChar:e}})),r(j,[z,S,C,E,U,W,$],(function(e,t,n,r,i,o,a){function s(e){return"createRange"in e?e.createRange():n.DOM.createRng()}function l(e){return e&&/[\r\n\t ]/.test(e)}function c(e){var t=e.startContainer,n=e.startOffset,r;return!!(l(e.toString())&&v(t.parentNode)&&(r=t.data,l(r[n-1])||l(r[n+1])))}function u(e){function t(e){var t=e.ownerDocument,n=s(t),r=t.createTextNode(""),i=e.parentNode,a;return i.insertBefore(r,e),n.setStart(r,0),n.setEnd(r,1),a=o.clone(n.getBoundingClientRect()),i.removeChild(r),a}function n(e){var n,r;return n=(r=e.getClientRects()).length>0?o.clone(r[0]):o.clone(e.getBoundingClientRect()),y(e)&&0===n.left?t(e):n}function r(e,t){return(e=o.collapse(e,t)).width=1,e.right=e.left+1,e}function i(e){0!==e.height&&(u.length>0&&o.isEqual(e,u[u.length-1])||u.push(e))}function l(e,t){var o=s(e.ownerDocument);if(t<e.data.length){if(a.isExtendingChar(e.data[t]))return u;if(a.isExtendingChar(e.data[t-1])&&(o.setStart(e,t),o.setEnd(e,t+1),!c(o)))return i(r(n(o),!1)),u}t>0&&(o.setStart(e,t-1),o.setEnd(e,t),c(o)||i(r(n(o),!1))),t<e.data.length&&(o.setStart(e,t),o.setEnd(e,t+1),c(o)||i(r(n(o),!0)))}var u=[],d,m;if(b(e.container()))return l(e.container(),e.offset()),u;if(f(e.container()))if(e.isAtEnd())m=w(e.container(),e.offset()),b(m)&&l(m,m.data.length),h(m)&&!y(m)&&i(r(n(m),!1));else{if(m=w(e.container(),e.offset()),b(m)&&l(m,0),h(m)&&e.isAtEnd())return i(r(n(m),!1)),u;d=w(e.container(),e.offset()-1),h(d)&&!y(d)&&(g(d)||g(m)||!h(m))&&i(r(n(d),!1)),h(m)&&i(r(n(m),!0))}return u}function d(t,n,r){function i(){return b(t),0===n}function o(){return b(t)?n>=t.data.length:n>=t.childNodes.length}function a(){var e;return(e=s(t.ownerDocument)).setStart(t,n),e.setEnd(t,n),e}function l(){return r||(r=u(new d(t,n))),r}function c(){return l().length>0}function f(e){return e&&t===e.container()&&n===e.offset()}function m(e){return w(t,e?n-1:n)}return{container:e.constant(t),offset:e.constant(n),toRange:a,getClientRects:l,isVisible:c,isAtStart:i,isAtEnd:o,isEqual:f,getNode:m}}var f=t.isElement,m=i.isCaretCandidate,g=t.matchStyleValues("display","block table"),p=t.matchStyleValues("float","left right"),h=e.and(f,m,e.negate(p)),v=e.negate(t.matchStyleValues("white-space","pre pre-line pre-wrap")),b=t.isText,y=t.isBr,x=n.nodeIndex,w=r.getNode;return d.fromRangeStart=function(e){return new d(e.startContainer,e.startOffset)},d.fromRangeEnd=function(e){return new d(e.endContainer,e.endOffset)},d.after=function(e){return new d(e.parentNode,x(e)+1)},d.before=function(e){return new d(e.parentNode,x(e))},d})),r(V,[S,C,z,g,j],(function(e,t,n,r,i){function o(e){var t=e.parentNode;return v(t)?o(t):t}function a(e){return e?r.reduce(e.childNodes,(function(e,t){return v(t)&&"BR"!=t.nodeName?e=e.concat(a(t)):e.push(t),e}),[]):[]}function s(e,t){for(;(e=e.previousSibling)&&h(e);)t+=e.data.length;return t}function l(e){return function(t){return e===t}}function c(t){var n,i,s;return n=a(o(t)),i=r.findIndex(n,l(t),t),n=n.slice(0,i+1),s=r.reduce(n,(function(e,t,r){return h(t)&&h(n[r-1])&&e++,e}),0),n=r.filter(n,e.matchNodeNames(t.nodeName)),(i=r.findIndex(n,l(t),t))-s}function u(e){var t;return(t=h(e)?"text()":e.nodeName.toLowerCase())+"["+c(e)+"]"}function d(e,t,n){var r=[];for(t=t.parentNode;!(t==e||n&&n(t));t=t.parentNode)r.push(t);return r}function f(t,i){var o,a,l=[],c,f,m;return o=i.container(),a=i.offset(),h(o)?c=s(o,a):(a>=(f=o.childNodes).length?(c="after",a=f.length-1):c="before",o=f[a]),l.push(u(o)),m=d(t,o),m=r.filter(m,n.negate(e.isBogus)),(l=l.concat(r.map(m,(function(e){return u(e)})))).reverse().join("/")+","+c}function m(t,n,i){var o=a(t);return o=r.filter(o,(function(e,t){return!h(e)||!h(o[t-1])})),(o=r.filter(o,e.matchNodeNames(n)))[i]}function g(e,t){for(var n=e,r=0,o;h(n);){if(o=n.data.length,t>=r&&t<=r+o){e=n,t-=r;break}if(!h(n.nextSibling)){e=n,t=o;break}r+=o,n=n.nextSibling}return t>e.data.length&&(t=e.data.length),new i(e,t)}function p(e,t){var n,o,a;return t?(n=t.split(","),t=n[0].split("/"),a=n.length>1?n[1]:"before",(o=r.reduce(t,(function(e,t){return(t=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t))?("text()"===t[1]&&(t[1]="#text"),m(e,t[1],parseInt(t[2],10))):null}),e))?h(o)?g(o,parseInt(a,10)):(a="after"===a?b(o)+1:b(o),new i(o.parentNode,a)):null):null}var h=e.isText,v=e.isBogus,b=t.nodeIndex;return{create:f,resolve:p}})),r(q,[d,p,T,V,j,S,E],(function(e,t,n,r,i,o,a){function s(s){var c=s.dom;this.getBookmark=function(e,u){function d(e,n){var r=0;return t.each(c.select(e),(function(e){if("all"!==e.getAttribute("data-mce-bogus"))return e!=n&&void r++})),r}function f(e){function t(t){var n,r,i,o=t?"start":"end";n=e[o+"Container"],r=e[o+"Offset"],1==n.nodeType&&"TR"==n.nodeName&&((n=(i=n.childNodes)[Math.min(t?r:r-1,i.length-1)])&&(r=t?0:n.childNodes.length,e["set"+(t?"Start":"End")](n,r)))}return t(!0),t(),e}function m(e){function t(e,t){var r=e[t?"startContainer":"endContainer"],i=e[t?"startOffset":"endOffset"],o=[],a,s,l=0;if(3==r.nodeType){if(u)for(a=r.previousSibling;a&&3==a.nodeType;a=a.previousSibling)i+=a.nodeValue.length;o.push(i)}else i>=(s=r.childNodes).length&&s.length&&(l=1,i=Math.max(0,s.length-1)),o.push(c.nodeIndex(s[i],u)+l);for(;r&&r!=n;r=r.parentNode)o.push(c.nodeIndex(r,u));return o}var n=c.getRoot(),r={};return r.start=t(e,!0),s.isCollapsed()||(r.end=t(e)),r}function g(e){function t(e,t){var r;if(o.isElement(e)&&(e=a.getNode(e,t),l(e)))return e;if(n.isCaretContainer(e)){if(o.isText(e)&&n.isCaretContainerBlock(e)&&(e=e.parentNode),r=e.previousSibling,l(r))return r;if(r=e.nextSibling,l(r))return r}}return t(e.startContainer,e.startOffset)||t(e.endContainer,e.endOffset)}var p,h,v,b,y,x,w="&#xFEFF;",C;if(2==e)return y=(x=s.getNode())?x.nodeName:null,p=s.getRng(),l(x)||"IMG"==y?{name:y,index:d(y,x)}:s.tridentSel?s.tridentSel.getBookmark(e):(x=g(p))?{name:y=x.tagName,index:d(y,x)}:m(p);if(3==e)return p=s.getRng(),{start:r.create(c.getRoot(),i.fromRangeStart(p)),end:r.create(c.getRoot(),i.fromRangeEnd(p))};if(e)return{rng:s.getRng()};if(p=s.getRng(),v=c.uniqueId(),b=s.isCollapsed(),C="overflow:hidden;line-height:0px",p.duplicate||p.item){if(p.item)return{name:y=(x=p.item(0)).nodeName,index:d(y,x)};h=p.duplicate();try{p.collapse(),p.pasteHTML('<span data-mce-type="bookmark" id="'+v+'_start" style="'+C+'">'+w+"</span>"),b||(h.collapse(!1),p.moveToElementText(h.parentElement()),0===p.compareEndPoints("StartToEnd",h)&&h.move("character",-1),h.pasteHTML('<span data-mce-type="bookmark" id="'+v+'_end" style="'+C+'">'+w+"</span>"))}catch(k){return null}}else{if("IMG"==(y=(x=s.getNode()).nodeName))return{name:y,index:d(y,x)};h=f(p.cloneRange()),b||(h.collapse(!1),h.insertNode(c.create("span",{"data-mce-type":"bookmark",id:v+"_end",style:C},w))),(p=f(p)).collapse(!0),p.insertNode(c.create("span",{"data-mce-type":"bookmark",id:v+"_start",style:C},w))}return s.moveToBookmark({id:v,keep:1}),{id:v}},this.moveToBookmark=function(n){function i(e){var t=n[e?"start":"end"],r,i,o,a;if(t){for(o=t[0],i=d,r=t.length-1;r>=1;r--){if(a=i.childNodes,t[r]>a.length-1)return;i=a[t[r]]}3===i.nodeType&&(o=Math.min(t[0],i.nodeValue.length)),1===i.nodeType&&(o=Math.min(t[0],i.childNodes.length)),e?u.setStart(i,o):u.setEnd(i,o)}return!0}function o(r){var i=c.get(n.id+"_"+r),o,a,s,l,u=n.keep;if(i&&(o=i.parentNode,"start"==r?(u?(o=i.firstChild,a=1):a=c.nodeIndex(i),f=m=o,g=p=a):(u?(o=i.firstChild,a=1):a=c.nodeIndex(i),m=o,p=a),!u)){for(l=i.previousSibling,s=i.nextSibling,t.each(t.grep(i.childNodes),(function(e){3==e.nodeType&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))}));i=c.get(n.id+"_"+r);)c.remove(i,1);l&&s&&l.nodeType==s.nodeType&&3==l.nodeType&&!e.opera&&(a=l.nodeValue.length,l.appendData(s.nodeValue),c.remove(s),"start"==r?(f=m=l,g=p=a):(m=l,p=a))}}function a(t){return!c.isBlock(t)||t.innerHTML||e.ie||(t.innerHTML='<br data-mce-bogus="1" />'),t}function l(){var e,t;return e=c.createRng(),t=r.resolve(c.getRoot(),n.start),e.setStart(t.container(),t.offset()),t=r.resolve(c.getRoot(),n.end),e.setEnd(t.container(),t.offset()),e}var u,d,f,m,g,p;if(n)if(t.isArray(n.start)){if(u=c.createRng(),d=c.getRoot(),s.tridentSel)return s.tridentSel.moveToBookmark(n);i(!0)&&i()&&s.setRng(u)}else"string"==typeof n.start?s.setRng(l(n)):n.id?(o("start"),o("end"),f&&((u=c.createRng()).setStart(a(f),g),u.setEnd(a(m),p),s.setRng(u))):n.name?s.select(c.select(n.name)[n.index]):n.rng&&s.setRng(n.rng)}}var l=o.isContentEditableFalse;return s.isBookmarkNode=function(e){return e&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},s})),r(Y,[b,O,F,E,q,S,d,p,j],(function(e,n,r,i,o,a,s,l,c){function u(e,t,i,a){var s=this;s.dom=e,s.win=t,s.serializer=i,s.editor=a,s.bookmarkManager=new o(s),s.controlSelection=new r(s,a),s.win.getSelection||(s.tridentSel=new n(s))}var d=l.each,f=l.trim,m=s.ie;return u.prototype={setCursorLocation:function(e,t){var n=this,r=n.dom.createRng();e?(r.setStart(e,t),r.setEnd(e,t),n.setRng(r),n.collapse(!1)):(n._moveEndPoint(r,n.editor.getBody(),!0),n.setRng(r))},getContent:function(e){var n=this,r=n.getRng(),i=n.dom.create("body"),o=n.getSel(),a,s,l;return a=s="",(e=e||{}).get=!0,e.format=e.format||"html",e.selection=!0,n.editor.fire("BeforeGetContent",e),"text"==e.format?n.isCollapsed()?"":r.text||(o.toString?o.toString():""):(r.cloneContents?(l=r.cloneContents())&&i.appendChild(l):r.item!==t||r.htmlText!==t?(i.innerHTML="<br>"+(r.item?r.item(0).outerHTML:r.htmlText),i.removeChild(i.firstChild)):i.innerHTML=r.toString(),/^\s/.test(i.innerHTML)&&(a=" "),/\s+$/.test(i.innerHTML)&&(s=" "),e.getInner=!0,e.content=n.isCollapsed()?"":a+n.serializer.serialize(i,e)+s,n.editor.fire("GetContent",e),e.content)},setContent:function(e,t){var n=this,r=n.getRng(),i,o=n.win.document,a,s;if((t=t||{format:"html"}).set=!0,t.selection=!0,t.content=e,t.no_events||n.editor.fire("BeforeSetContent",t),e=t.content,r.insertNode){e+='<span id="__caret">_</span>',r.startContainer==o&&r.endContainer==o?o.body.innerHTML=e:(r.deleteContents(),0===o.body.childNodes.length?o.body.innerHTML=e:r.createContextualFragment?r.insertNode(r.createContextualFragment(e)):(a=o.createDocumentFragment(),s=o.createElement("div"),a.appendChild(s),s.outerHTML=e,r.insertNode(a))),i=n.dom.get("__caret"),(r=o.createRange()).setStartBefore(i),r.setEndBefore(i),n.setRng(r),n.dom.remove("__caret");try{n.setRng(r)}catch(l){}}else r.item&&(o.execCommand("Delete",!1,null),r=n.getRng()),/^\s+/.test(e)?(r.pasteHTML('<span id="__mce_tmp">_</span>'+e),n.dom.remove("__mce_tmp")):r.pasteHTML(e);t.no_events||n.editor.fire("SetContent",t)},getStart:function(e){var t=this,n=t.getRng(),r,i,o,a;if(n.duplicate||n.item){if(n.item)return n.item(0);for((o=n.duplicate()).collapse(1),(r=o.parentElement()).ownerDocument!==t.dom.doc&&(r=t.dom.getRoot()),i=a=n.parentElement();a=a.parentNode;)if(a==r){r=i;break}return r}return 1==(r=n.startContainer).nodeType&&r.hasChildNodes()&&(e&&n.collapsed||(r=r.childNodes[Math.min(r.childNodes.length-1,n.startOffset)])),r&&3==r.nodeType?r.parentNode:r},getEnd:function(e){var t=this,n=t.getRng(),r,i;return n.duplicate||n.item?n.item?n.item(0):((n=n.duplicate()).collapse(0),(r=n.parentElement()).ownerDocument!==t.dom.doc&&(r=t.dom.getRoot()),r&&"BODY"==r.nodeName&&r.lastChild||r):(r=n.endContainer,i=n.endOffset,1==r.nodeType&&r.hasChildNodes()&&(e&&n.collapsed||(r=r.childNodes[i>0?i-1:i])),r&&3==r.nodeType?r.parentNode:r)},getBookmark:function(e,t){return this.bookmarkManager.getBookmark(e,t)},moveToBookmark:function(e){return this.bookmarkManager.moveToBookmark(e)},select:function(e,t){var n=this,r=n.dom,i=r.createRng(),o;if(n.lastFocusBookmark=null,e){if(!t&&n.controlSelection.controlSelect(e))return;o=r.nodeIndex(e),i.setStart(e.parentNode,o),i.setEnd(e.parentNode,o+1),t&&(n._moveEndPoint(i,e,!0),n._moveEndPoint(i,e)),n.setRng(i)}return e},isCollapsed:function(){var e=this,t=e.getRng(),n=e.getSel();return!(!t||t.item)&&(t.compareEndPoints?0===t.compareEndPoints("StartToEnd",t):!n||t.collapsed)},collapse:function(e){var t=this,n=t.getRng(),r;n.item&&(r=n.item(0),(n=t.win.document.body.createTextRange()).moveToElementText(r)),n.collapse(!!e),t.setRng(n)},getSel:function(){var e=this.win;return e.getSelection?e.getSelection():e.document.selection},getRng:function(e){function t(e,t,n){try{return t.compareBoundaryPoints(e,n)}catch(r){return-1}}var n=this,r,i,o,a,s,l;if(!n.win)return null;if(null==(a=n.win.document))return null;if(!e&&n.lastFocusBookmark){var c=n.lastFocusBookmark;return c.startContainer?((i=a.createRange()).setStart(c.startContainer,c.startOffset),i.setEnd(c.endContainer,c.endOffset)):i=c,i}if(e&&n.tridentSel)return n.tridentSel.getRangeAt(0);try{(r=n.getSel())&&(i=r.rangeCount>0?r.getRangeAt(0):r.createRange?r.createRange():a.createRange())}catch(u){}if((l=n.editor.fire("GetSelectionRange",{range:i})).range!==i)return l.range;if(m&&i&&i.setStart&&a.selection){try{s=a.selection.createRange()}catch(u){}s&&s.item&&(o=s.item(0),(i=a.createRange()).setStartBefore(o),i.setEndAfter(o))}return i||(i=a.createRange?a.createRange():a.body.createTextRange()),i.setStart&&9===i.startContainer.nodeType&&i.collapsed&&(o=n.dom.getRoot(),i.setStart(o,0),i.setEnd(o,0)),n.selectedRange&&n.explicitRange&&(0===t(i.START_TO_START,i,n.selectedRange)&&0===t(i.END_TO_END,i,n.selectedRange)?i=n.explicitRange:(n.selectedRange=null,n.explicitRange=null)),i},setRng:function(e,t){var n=this,r,i,o;if(e)if(e.select){n.explicitRange=null;try{e.select()}catch(a){}}else if(n.tridentSel){if(e.cloneRange)try{n.tridentSel.addRange(e)}catch(a){}}else{if(r=n.getSel(),e=(o=n.editor.fire("SetSelectionRange",{range:e})).range,r){n.explicitRange=e;try{r.removeAllRanges(),r.addRange(e)}catch(a){}!1===t&&r.extend&&(r.collapse(e.endContainer,e.endOffset),r.extend(e.startContainer,e.startOffset)),n.selectedRange=r.rangeCount>0?r.getRangeAt(0):null}e.collapsed||e.startContainer!=e.endContainer||!r.setBaseAndExtent||s.ie||e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()&&((i=e.startContainer.childNodes[e.startOffset])&&"IMG"==i.tagName&&(r.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),r.anchorNode!==e.startContainer&&r.setBaseAndExtent(i,0,i,1))),n.editor.fire("AfterSetSelectionRange",{range:e})}},setNode:function(e){var t=this;return t.setContent(t.dom.getOuterHTML(e)),e},getNode:function(){function e(e,t){for(var n=e;e&&3===e.nodeType&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n}var t=this,n=t.getRng(),r,i,o,a,s,l=t.dom.getRoot();return n?(i=n.startContainer,o=n.endContainer,a=n.startOffset,s=n.endOffset,n.setStart?(r=n.commonAncestorContainer,!n.collapsed&&(i==o&&s-a<2&&i.hasChildNodes()&&(r=i.childNodes[a]),3===i.nodeType&&3===o.nodeType&&(i=i.length===a?e(i.nextSibling,!0):i.parentNode,o=0===s?e(o.previousSibling,!1):o.parentNode,i&&i===o))?i:r&&3==r.nodeType?r.parentNode:r):((r=n.item?n.item(0):n.parentElement()).ownerDocument!==t.win.document&&(r=l),r)):l},getSelectedBlocks:function(t,n){var r=this,i=r.dom,o,a,s=[];if(a=i.getRoot(),t=i.getParent(t||r.getStart(),i.isBlock),n=i.getParent(n||r.getEnd(),i.isBlock),t&&t!=a&&s.push(t),t&&n&&t!=n){o=t;for(var l=new e(t,a);(o=l.next())&&o!=n;)i.isBlock(o)&&s.push(o)}return n&&t!=n&&n!=a&&s.push(n),s},isForward:function(){var e=this.dom,t=this.getSel(),n,r;return!(t&&t.anchorNode&&t.focusNode)||((n=e.createRng()).setStart(t.anchorNode,t.anchorOffset),n.collapse(!0),(r=e.createRng()).setStart(t.focusNode,t.focusOffset),r.collapse(!0),n.compareBoundaryPoints(n.START_TO_START,r)<=0)},normalize:function(){var e=this,t=e.getRng();return s.range&&new i(e.dom).normalize(t)&&e.setRng(t,e.isForward()),t},selectorChanged:function(e,t){var n=this,r;return n.selectorChangedData||(n.selectorChangedData={},r={},n.editor.on("NodeChange",(function(e){var t=e.element,i=n.dom,o=i.getParents(t,null,i.getRoot()),a={};d(n.selectorChangedData,(function(e,t){d(o,(function(n){if(i.is(n,t))return r[t]||(d(e,(function(e){e(!0,{node:n,selector:t,parents:o})})),r[t]=e),a[t]=e,!1}))})),d(r,(function(e,n){a[n]||(delete r[n],d(e,(function(e){e(!1,{node:t,selector:n,parents:o})})))}))}))),n.selectorChangedData[e]||(n.selectorChangedData[e]=[]),n.selectorChangedData[e].push(t),n},getScrollContainer:function(){for(var e,t=this.dom.getRoot();t&&"BODY"!=t.nodeName;){if(t.scrollHeight>t.clientHeight){e=t;break}t=t.parentNode}return e},scrollIntoView:function(e,t){function n(e){for(var t=0,n=0,r=e;r&&r.nodeType;)t+=r.offsetLeft||0,n+=r.offsetTop||0,r=r.offsetParent;return{x:t,y:n}}var r,i,o=this,s=o.dom,l=s.getRoot(),c,u,d=0;if(a.isElement(e)){if(!1===t&&(d=e.offsetHeight),"BODY"!=l.nodeName){var f=o.getScrollContainer();if(f)return r=n(e).y-n(f).y+d,u=f.clientHeight,void((r<(c=f.scrollTop)||r+25>c+u)&&(f.scrollTop=r<c?r:r-u+25))}i=s.getViewPort(o.editor.getWin()),r=s.getPos(e).y+d,c=i.y,u=i.h,(r<i.y||r+25>c+u)&&o.editor.getWin().scrollTo(0,r<c?r:r-u+25)}},placeCaretAt:function(e,t){this.setRng(i.getCaretRangeFromPoint(e,t,this.editor.getDoc()))},_moveEndPoint:function(t,n,r){var i=n,o=new e(n,i),a=this.dom.schema.getNonEmptyElements();do{if(3==n.nodeType&&0!==f(n.nodeValue).length)return void(r?t.setStart(n,0):t.setEnd(n,n.nodeValue.length));if(a[n.nodeName]&&!/^(TD|TH)$/.test(n.nodeName))return void(r?t.setStartBefore(n):"BR"==n.nodeName?t.setEndBefore(n):t.setEndAfter(n));if(s.ie&&s.ie<11&&this.dom.isBlock(n)&&this.dom.isEmpty(n))return void(r?t.setStart(n,0):t.setEnd(n,0))}while(n=r?o.next():o.prev());"BODY"==i.nodeName&&(r?t.setStart(i,0):t.setEnd(i,i.childNodes.length))},getBoundingClientRect:function(){var e=this.getRng();return e.collapsed?c.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},destroy:function(){this.win=null,this.controlSelection.destroy()}},u})),r(K,[q,p],(function(e,t){function n(t){this.compare=function(n,i){function o(e){var n={};return r(t.getAttribs(e),(function(r){var i=r.nodeName.toLowerCase();0!==i.indexOf("_")&&"style"!==i&&0!==i.indexOf("data-")&&(n[i]=t.getAttrib(e,i))})),n}function a(e,t){var n,r;for(r in e)if(e.hasOwnProperty(r)){if(void 0===(n=t[r]))return!1;if(e[r]!=n)return!1;delete t[r]}for(r in t)if(t.hasOwnProperty(r))return!1;return!0}return!(n.nodeName!=i.nodeName||!a(o(n),o(i))||!a(t.parseStyle(t.getAttrib(n,"style")),t.parseStyle(t.getAttrib(i,"style")))||e.isBookmarkNode(n)||e.isBookmarkNode(i))}}var r=t.each;return n})),r(X,[C,p,B],(function(e,t,n){function r(e,r){function i(e,t){t.classes.length&&c.addClass(e,t.classes.join(" ")),c.setAttribs(e,t.attrs)}function o(e){var t;return u="string"==typeof e?{name:e,classes:[],attrs:{}}:e,i(t=c.create(u.name),u),t}function a(e,n){var r="string"!=typeof e?e.nodeName.toLowerCase():e,i,o=f.getElementRule(r).parentsRequired;return!(!o||!o.length)&&(n&&-1!==t.inArray(o,n)?n:o[0])}function s(e,n,r){var i,l,u,d=n.length&&n[0],f=d&&d.name;if(u=a(e,f))f==u?(l=n[0],n=n.slice(1)):l=u;else if(d)l=n[0],n=n.slice(1);else if(!r)return e;return l&&(i=o(l)).appendChild(e),r&&(i||(i=c.create("div")).appendChild(e),t.each(r,(function(t){var n=o(t);i.insertBefore(n,e)}))),s(i,n,l&&l.siblings)}var l,u,d,f=r&&r.schema||new n({});return e&&e.length?(l=o(u=e[0]),(d=c.create("div")).appendChild(s(l,e.slice(1),u.siblings)),d):""}function i(e,t){return r(a(e),t)}function o(e){var n,r={classes:[],attrs:{}};return"*"!==(e=r.selector=t.trim(e))&&(n=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(function(e,n,i,o,a){switch(n){case"#":r.attrs.id=i;break;case".":r.classes.push(i);break;case":":-1!==t.inArray("checked disabled enabled read-only required".split(" "),i)&&(r.attrs[i]=i)}if("["==o){var s=a.match(/([\w\-]+)(?:\=\"([^\"]+))?/);s&&(r.attrs[s[1]]=s[2])}return""}))),r.name=n||"div",r}function a(e){return e&&"string"==typeof e?(e=(e=e.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),t.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),(function(e){var n=t.map(e.split(/(?:~\+|~|\+)/),o),r=n.pop();return n.length&&(r.siblings=n),r})).reverse()):[]}function s(e,t){function n(e){return e.replace(/%(\w+)/g,"")}var i,o,s,u,d="",f,m;if(!1===(m=e.settings.preview_styles))return"";if("string"!=typeof m&&(m="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"),"string"==typeof t){if(!(t=e.formatter.get(t)))return;t=t[0]}return"preview"in t&&!1===(m=t.preview)?"":(i=t.block||t.inline||"span",(u=a(t.selector)).length?(u[0].name||(u[0].name=i),i=t.selector,o=r(u,e)):o=r([i],e),s=c.select(i,o)[0]||o.firstChild,l(t.styles,(function(e,t){(e=n(e))&&c.setStyle(s,t,e)})),l(t.attributes,(function(e,t){(e=n(e))&&c.setAttrib(s,t,e)})),l(t.classes,(function(e){e=n(e),c.hasClass(s,e)||c.addClass(s,e)})),e.fire("PreviewFormats"),c.setStyles(o,{position:"absolute",left:-65535}),e.getBody().appendChild(o),f=c.getStyle(e.getBody(),"fontSize",!0),f=/px$/.test(f)?parseInt(f,10):0,l(m.split(" "),(function(t){var n=c.getStyle(s,t,!0);if(!("background-color"==t&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)&&(n=c.getStyle(e.getBody(),t,!0),"#ffffff"==c.toHex(n).toLowerCase())||"color"==t&&"#000000"==c.toHex(n).toLowerCase())){if("font-size"==t&&/em|%$/.test(n)){if(0===f)return;n=(n=parseFloat(n,10)/(/%$/.test(n)?100:1))*f+"px"}"border"==t&&n&&(d+="padding:0 2px;"),d+=t+":"+n+";"}})),e.fire("AfterPreviewFormats"),c.remove(o),d)}var l=t.each,c=e.DOM;return{getCssText:s,parseSelector:a,selectorToHtml:i}})),r(G,[g,S,h],(function(e,t,n){function r(e,t){var n=o[e];n||(o[e]=n=[]),o[e].push(t)}function i(e,t){s(o[e],(function(e){e(t)}))}var o={},a=e.filter,s=e.each;return r("pre",(function(r){function i(t){return c(t.previousSibling)&&-1!=e.indexOf(u,t.previousSibling)}function o(e,t){n(t).remove(),n(e).append("<br><br>").append(t.childNodes)}var l=r.selection.getRng(),c,u;c=t.matchNodeNames("pre"),l.collapsed||(u=r.selection.getSelectedBlocks(),s(a(a(u,c),i),(function(e){o(e.previousSibling,e)})))})),{postProcess:i}})),r(J,[b,E,q,K,z,p,X,G],(function(e,t,n,r,i,o,a,s){return function(l){function c(e){return e.nodeType&&(e=e.nodeName),!!l.schema.getTextBlockElements()[e.toLowerCase()]}function u(e){return/^(TH|TD)$/.test(e.nodeName)}function d(e){return e&&/^(IMG)$/.test(e.nodeName)}function f(e,t){return Z.getParents(e,t,Z.getRoot())}function m(e){return 1===e.nodeType&&"_mce_caret"===e.id}function g(){v({valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(e,t,n){pe(n,(function(t,n){Z.setAttrib(e,n,t)}))}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]}),pe("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),(function(e){v(e,{block:e,remove:"all"})})),v(l.settings.formats)}function p(){l.addShortcut("meta+b","bold_desc","Bold"),l.addShortcut("meta+i","italic_desc","Italic"),l.addShortcut("meta+u","underline_desc","Underline");for(var e=1;e<=6;e++)l.addShortcut("access+"+e,"",["FormatBlock",!1,"h"+e]);l.addShortcut("access+7","",["FormatBlock",!1,"p"]),l.addShortcut("access+8","",["FormatBlock",!1,"div"]),l.addShortcut("access+9","",["FormatBlock",!1,"address"])}function h(e){return e?J[e]:J}function v(e,t){e&&("string"!=typeof e?pe(e,(function(e,t){v(t,e)})):(t=t.length?t:[t],pe(t,(function(e){e.deep===ue&&(e.deep=!e.selector),e.split===ue&&(e.split=!e.selector||e.inline),e.remove===ue&&e.selector&&!e.inline&&(e.remove="none"),e.selector&&e.inline&&(e.mixed=!0,e.block_expand=!0),"string"==typeof e.classes&&(e.classes=e.classes.split(/\s+/))})),J[e]=t))}function b(e){return e&&J[e]&&delete J[e],J}function y(e,t){var n=h(t);if(n)for(var r=0;r<n.length;r++)if(!1===n[r].inherit&&Z.is(e,n[r].selector))return!0;return!1}function x(e){var t;return l.dom.getParent(e,(function(e){return(t=l.dom.getStyle(e,"text-decoration"))&&"none"!==t})),t}function w(e){var t;1===e.nodeType&&e.parentNode&&1===e.parentNode.nodeType&&(t=x(e.parentNode),l.dom.getStyle(e,"color")&&t?l.dom.setStyle(e,"text-decoration",t):l.dom.getStyle(e,"text-decoration")===t&&l.dom.setStyle(e,"text-decoration",null))}function C(t,n,r){function i(e,t){if(t=t||f,e){if(t.onformat&&t.onformat(e,t,n,r),pe(t.styles,(function(t,r){Z.setStyle(e,r,F(t,n))})),t.styles){var i=Z.getAttrib(e,"style");i&&e.setAttribute("data-mce-style",i)}pe(t.attributes,(function(t,r){Z.setAttrib(e,r,F(t,n))})),pe(t.classes,(function(t){t=F(t,n),Z.hasClass(e,t)||Z.addClass(e,t)}))}}function o(e,t){var n=!1;return!!f.selector&&(pe(e,(function(e){if(!("collapsed"in e&&e.collapsed!==v))return Z.is(t,e.selector)&&!m(t)?(i(t,e),n=!0,!1):void 0})),n)}function a(){function t(t,n){var i=new e(n);for(r=i.prev2();r;r=i.prev2()){if(3==r.nodeType&&r.data.length>0)return r;if(r.childNodes.length>1||r==t||"BR"==r.tagName)return r}}var n=l.selection.getRng(),i=n.startContainer,o=n.endContainer;if(i!=o&&0===n.endOffset){var a=t(i,o),s=3==a.nodeType?a.data.length:a.childNodes.length;n.setEnd(a,s)}return n}function u(e,r,a){var s=[],l,u,g=!0;l=f.inline||f.block,i(u=Z.create(l)),ee.walk(e,(function(e){function r(e){var h,v,b,y;if(y=g,h=e.nodeName.toLowerCase(),v=e.parentNode.nodeName.toLowerCase(),1===e.nodeType&&de(e)&&(y=g,g="true"===de(e),b=!0),P(h,"br"))return p=0,void(f.block&&Z.remove(e));if(f.wrapper&&S(e,t,n))p=0;else{if(g&&!b&&f.block&&!f.wrapper&&c(h)&&te(v,l))return i(e=Z.rename(e,l)),s.push(e),void(p=0);if(f.selector){var x=o(d,e);if(!f.inline||x)return void(p=0)}!g||b||!te(l,h)||!te(v,l)||!a&&3===e.nodeType&&1===e.nodeValue.length&&65279===e.nodeValue.charCodeAt(0)||m(e)||f.inline&&ne(e)?(p=0,pe(he(e.childNodes),r),b&&(g=y),p=0):(p||(p=Z.clone(u,se),e.parentNode.insertBefore(p,e),s.push(p)),p.appendChild(e))}}var p;pe(e,r)})),!0===f.links&&pe(s,(function(e){function t(e){"A"===e.nodeName&&i(e,f),pe(he(e.childNodes),t)}t(e)})),pe(s,(function(e){function r(e){var t=0;return pe(e.childNodes,(function(e){z(e)||ge(e)||t++})),t}function o(e){var t=!1;return pe(e.childNodes,(function(e){if(D(e))return t=e,!1})),t}function a(e,t){do{if(1!==r(e))break;if(!(e=o(e)))break;if(t(e))return e}while(e);return null}function l(e){var t,n;return(t=o(e))&&!ge(t)&&B(t,f)&&(i(n=Z.clone(t,se)),Z.replace(n,e,le),Z.remove(t,1)),n||e}var c;if(c=r(e),!(s.length>1)&&ne(e)||0!==c){if(!ne(e)&&!O(e,"fontSize")){var u=a(e,I("fontSize"));u&&C("fontsize",{value:O(u,"fontSize")},e)}(f.inline||f.wrapper)&&(f.exact||1!==c||(e=l(e)),pe(d,(function(t){pe(Z.select(t.inline,e),(function(e){ge(e)||j(t,n,e,t.exact?e:null)}))})),S(e.parentNode,t,n)&&j(f,n,e)&&(e=0),f.merge_with_parents&&Z.getParent(e.parentNode,(function(r){if(S(r,t,n))return j(f,n,e)&&(e=0),le})),e&&!1!==f.merge_siblings&&(e=Y(q(e),e),e=Y(e,q(e,le))))}else Z.remove(e,1)}))}var d=h(t),f=d[0],g,p,v=!r&&Q.isCollapsed();if("false"!==de(Q.getNode())){if(f){if(r)r.nodeType?o(d,r)||((p=Z.createRng()).setStartBefore(r),p.setEndAfter(r),u(W(p,d),null,!0)):u(r,null,!0);else if(v&&f.inline&&!Z.select("td[data-mce-selected],th[data-mce-selected]").length)X("apply",t,n);else{var b=l.selection.getNode();re||!d[0].defaultBlock||Z.getParent(b,Z.isBlock)||C(d[0].defaultBlock),l.selection.setRng(a()),g=Q.getBookmark(),u(W(Q.getRng(le),d),g),f.styles&&((f.styles.color||f.styles.textDecoration)&&(ve(b,w,"childNodes"),w(b)),f.styles.backgroundColor&&M(b,I("fontSize"),L("backgroundColor",F(f.styles.backgroundColor,n)))),Q.moveToBookmark(g),G(Q.getRng(le)),l.nodeChanged()}s.postProcess(t,l)}}else{r=Q.getNode();for(var y=0,x=d.length;y<x;y++)if(d[y].ceFalseOverride&&Z.is(r,d[y].selector))return void i(r,d[y])}}function k(e,t,n,r){function i(e){var n,r,o,a,s;if(1===e.nodeType&&de(e)&&(a=b,b="true"===de(e),s=!0),n=he(e.childNodes),b&&!s)for(r=0,o=m.length;r<o&&!j(m[r],t,e,e);r++);if(g.deep&&n.length){for(r=0,o=n.length;r<o;r++)i(n[r]);s&&(b=a)}}function o(n){var i;return pe(f(n.parentNode).reverse(),(function(n){var o;i||"_start"==n.id||"_end"==n.id||(o=S(n,e,t,r))&&!1!==o.split&&(i=n)})),i}function a(e,n,r,i){var o,a,s,l,c,u;if(e){for(u=e.parentNode,o=n.parentNode;o&&o!=u;o=o.parentNode){for(a=Z.clone(o,se),c=0;c<m.length;c++)if(j(m[c],t,a,a)){a=0;break}a&&(s&&a.appendChild(s),l||(l=a),s=a)}!i||g.mixed&&ne(e)||(n=Z.split(e,n)),s&&(r.parentNode.insertBefore(s,r),l.appendChild(r))}return n}function s(e){return a(o(e),e,e,!0)}function c(e){var t=Z.get(e?"_start":"_end"),n=t[e?"firstChild":"lastChild"];return ge(n)&&(n=n[e?"firstChild":"lastChild"]),3==n.nodeType&&0===n.data.length&&(n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),Z.remove(t,!0),n}function d(e){var t,n,r=e.commonAncestorContainer;if(e=W(e,m,le),g.split){if((t=K(e,le))!=(n=K(e))){if(/^(TR|TH|TD)$/.test(t.nodeName)&&t.firstChild&&(t="TR"==t.nodeName?t.firstChild.firstChild||t:t.firstChild||t),r&&/^T(HEAD|BODY|FOOT|R)$/.test(r.nodeName)&&u(n)&&n.firstChild&&(n=n.firstChild||n),Z.isChildOf(t,n)&&!ne(n)&&!u(t)&&!u(n))return s(t=U(t,"span",{id:"_start","data-mce-type":"bookmark"})),void(t=c(le));t=U(t,"span",{id:"_start","data-mce-type":"bookmark"}),n=U(n,"span",{id:"_end","data-mce-type":"bookmark"}),s(t),s(n),t=c(le),n=c()}else t=n=s(t);e.startContainer=t.parentNode?t.parentNode:t,e.startOffset=ie(t),e.endContainer=n.parentNode?n.parentNode:n,e.endOffset=ie(n)+1}ee.walk(e,(function(e){pe(e,(function(e){i(e),1===e.nodeType&&"underline"===l.dom.getStyle(e,"text-decoration")&&e.parentNode&&"underline"===x(e.parentNode)&&j({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,e)}))}))}var m=h(e),g=m[0],p,v,b=!0;if(n)n.nodeType?((v=Z.createRng()).setStartBefore(n),v.setEndAfter(n),d(v)):d(n);else if("false"!==de(Q.getNode()))Q.isCollapsed()&&g.inline&&!Z.select("td[data-mce-selected],th[data-mce-selected]").length?X("remove",e,t,r):(p=Q.getBookmark(),d(Q.getRng(le)),Q.moveToBookmark(p),g.inline&&_(e,t,Q.getStart())&&G(Q.getRng(!0)),l.nodeChanged());else{n=Q.getNode();for(var y=0,w=m.length;y<w&&(!m[y].ceFalseOverride||!j(m[y],t,n,n));y++);}}function N(e,t,n){var r=h(e);!_(e,t,n)||"toggle"in r[0]&&!r[0].toggle?C(e,t,n):k(e,t,n)}function S(e,t,n,r){function i(e,t,i){var o,a,s=t[i],l;if(t.onmatch)return t.onmatch(e,t,i);if(s)if(s.length===ue){for(o in s)if(s.hasOwnProperty(o)){if(a="attributes"===i?Z.getAttrib(e,o):O(e,o),r&&!a&&!t.exact)return;if((!r||t.exact)&&!P(a,H(F(s[o],n),o)))return}}else for(l=0;l<s.length;l++)if("attributes"===i?Z.getAttrib(e,s[l]):O(e,s[l]))return t;return t}var o=h(t),a,s,l;if(o&&e)for(s=0;s<o.length;s++)if(B(e,a=o[s])&&i(e,a,"attributes")&&i(e,a,"styles")){if(l=a.classes)for(s=0;s<l.length;s++)if(!Z.hasClass(e,l[s]))return;return a}}function _(e,t,n){function r(n){var r=Z.getRoot();return n!==r&&(n=Z.getParent(n,(function(n){return!!y(n,e)||n.parentNode===r||!!S(n,e,t,!0)})),S(n,e,t))}var i;return n?r(n):r(n=Q.getNode())?le:(i=Q.getStart())!=n&&r(i)?le:se}function T(e,t){var n,r=[],i={};return n=Q.getStart(),Z.getParent(n,(function(n){var o,a;for(o=0;o<e.length;o++)a=e[o],!i[a]&&S(n,a,t)&&(i[a]=!0,r.push(a))}),Z.getRoot()),r}function E(e){var t=h(e),n,r,i,o,a;if(t)for(r=f(n=Q.getStart()),o=t.length-1;o>=0;o--){if(!(a=t[o].selector)||t[o].defaultBlock)return le;for(i=r.length-1;i>=0;i--)if(Z.is(r[i],a))return le}return se}function R(e,t,n){var r;return ce||(ce={},r={},l.on("NodeChange",(function(e){var t=f(e.element),n={};t=o.grep(t,(function(e){return 1==e.nodeType&&!e.getAttribute("data-mce-bogus")})),pe(ce,(function(e,i){pe(t,(function(o){return S(o,i,{},e.similar)?(r[i]||(pe(e,(function(e){e(!0,{node:o,format:i,parents:t})})),r[i]=e),n[i]=e,!1):!y(o,i)&&void 0}))})),pe(r,(function(i,o){n[o]||(delete r[o],pe(i,(function(n){n(!1,{node:e.element,format:o,parents:t})})))}))}))),pe(e.split(","),(function(e){ce[e]||(ce[e]=[],ce[e].similar=n),ce[e].push(t)})),this}function A(e){return a.getCssText(l,e)}function B(e,t){return P(e,t.inline)?le:P(e,t.block)?le:t.selector?1==e.nodeType&&Z.is(e,t.selector):void 0}function P(e,t){return t=t||"",e=""+((e=e||"").nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()==t.toLowerCase()}function M(e,t,n){pe(e.childNodes,(function(e){D(e)&&(t(e)&&n(e),e.hasChildNodes()&&M(e,t,n))}))}function D(e){return 1==e.nodeType&&!ge(e)&&!z(e)&&!m(e)}function I(e){return i.curry((function(e,t){return!(!t||!O(t,e))}),e)}function L(e,t){return i.curry((function(e,t,n){Z.setStyle(n,e,t)}),e,t)}function O(e,t){return H(Z.getStyle(e,t),t)}function H(e,t){return"color"!=t&&"backgroundColor"!=t||(e=Z.toHex(e)),"fontWeight"==t&&700==e&&(e="bold"),"fontFamily"==t&&(e=e.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+e}function F(e,t){return"string"!=typeof e?e=e(t):t&&(e=e.replace(/%(\w+)/g,(function(e,n){return t[n]||e}))),e}function z(e){return e&&3===e.nodeType&&/^([\t \r\n]+|)$/.test(e.nodeValue)}function U(e,t,n){var r=Z.create(t,n);return e.parentNode.insertBefore(r,e),r.appendChild(e),r}function W(t,n,r){function i(e){function t(e){return"BR"==e.nodeName&&e.getAttribute("data-mce-bogus")&&!e.nextSibling}var r,i,o,a,s;if(r=i=e?h:b,a=e?"previousSibling":"nextSibling",s=Z.getRoot(),3==r.nodeType&&!z(r)&&(e?v>0:y<r.nodeValue.length))return r;for(;;){if(!n[0].block_expand&&ne(i))return i;for(o=i[a];o;o=o[a])if(!ge(o)&&!z(o)&&!t(o))return i;if(i==s||i.parentNode==s){r=i;break}i=i.parentNode}return r}function o(e,t){for(t===ue&&(t=3===e.nodeType?e.length:e.childNodes.length);e&&e.hasChildNodes();)(e=e.childNodes[t])&&(t=3===e.nodeType?e.length:e.childNodes.length);return{node:e,offset:t}}function a(e){for(var t=e;t;){if(1===t.nodeType&&de(t))return"false"===de(t)?t:e;t=t.parentNode}return e}function s(t,n,i){function o(e,t){var n,o,a=e.nodeValue;return void 0===t&&(t=i?a.length:0),i?-1===(n=(n=a.lastIndexOf(" ",t))>(o=a.lastIndexOf("",t))?n:o)||r||n++:(n=a.indexOf(" ",t),o=a.indexOf("",t),n=-1!==n&&(-1===o||n<o)?n:o),n}var a,s,c,u;if(3===t.nodeType){if(-1!==(c=o(t,n)))return{container:t,offset:c};u=t}for(a=new e(t,Z.getParent(t,ne)||l.getBody());s=a[i?"prev":"next"]();)if(3===s.nodeType){if(u=s,-1!==(c=o(s)))return{container:s,offset:c}}else if(ne(s))break;if(u)return{container:u,offset:n=i?0:u.length}}function u(e,r){var i,o,a,s;for(3==e.nodeType&&0===e.nodeValue.length&&e[r]&&(e=e[r]),i=f(e),o=0;o<i.length;o++)for(a=0;a<n.length;a++)if(!("collapsed"in(s=n[a])&&s.collapsed!==t.collapsed)&&Z.is(i[o],s.selector))return i[o];return e}function d(e,t){var r,i=Z.getRoot();if(n[0].wrapper||(r=Z.getParent(e,n[0].block,i)),r||(r=Z.getParent(3==e.nodeType?e.parentNode:e,(function(e){return e!=i&&c(e)}))),r&&n[0].wrapper&&(r=f(r,"ul,ol").reverse()[0]||r),!r)for(r=e;r[t]&&!ne(r[t])&&!P(r=r[t],"br"););return r||e}var m,g,p,h=t.startContainer,v=t.startOffset,b=t.endContainer,y=t.endOffset;if(1==h.nodeType&&h.hasChildNodes()&&(m=h.childNodes.length-1,3==(h=h.childNodes[v>m?m:v]).nodeType&&(v=0)),1==b.nodeType&&b.hasChildNodes()&&(m=b.childNodes.length-1,3==(b=b.childNodes[y>m?m:y-1]).nodeType&&(y=b.nodeValue.length)),h=a(h),b=a(b),(ge(h.parentNode)||ge(h))&&(3==(h=(h=ge(h)?h:h.parentNode).nextSibling||h).nodeType&&(v=0)),(ge(b.parentNode)||ge(b))&&(3==(b=(b=ge(b)?b:b.parentNode).previousSibling||b).nodeType&&(y=b.length)),n[0].inline&&(t.collapsed&&((p=s(h,v,!0))&&(h=p.container,v=p.offset),(p=s(b,y))&&(b=p.container,y=p.offset)),(g=o(b,y)).node)){for(;g.node&&0===g.offset&&g.node.previousSibling;)g=o(g.node.previousSibling);g.node&&g.offset>0&&3===g.node.nodeType&&" "===g.node.nodeValue.charAt(g.offset-1)&&g.offset>1&&(b=g.node).splitText(g.offset-1)}return(n[0].inline||n[0].block_expand)&&(n[0].inline&&3==h.nodeType&&0!==v||(h=i(!0)),n[0].inline&&3==b.nodeType&&y!==b.nodeValue.length||(b=i())),n[0].selector&&n[0].expand!==se&&!n[0].inline&&(h=u(h,"previousSibling"),b=u(b,"nextSibling")),(n[0].block||n[0].selector)&&(h=d(h,"previousSibling"),b=d(b,"nextSibling"),n[0].block&&(ne(h)||(h=i(!0)),ne(b)||(b=i()))),1==h.nodeType&&(v=ie(h),h=h.parentNode),1==b.nodeType&&(y=ie(b)+1,b=b.parentNode),{startContainer:h,startOffset:v,endContainer:b,endOffset:y}}function $(e,t){return t.links&&"A"==e.tagName}function j(e,t,n,r){var i,o,a;if(!B(n,e)&&!$(n,e))return se;if("all"!=e.remove)for(pe(e.styles,(function(i,o){i=H(F(i,t),o),"number"==typeof o&&(o=i,r=0),(e.remove_similar||!r||P(O(r,o),i))&&Z.setStyle(n,o,""),a=1})),a&&""===Z.getAttrib(n,"style")&&(n.removeAttribute("style"),n.removeAttribute("data-mce-style")),pe(e.attributes,(function(e,i){var o;if(e=F(e,t),"number"==typeof i&&(i=e,r=0),!r||P(Z.getAttrib(r,i),e)){if("class"==i&&((e=Z.getAttrib(n,i))&&(o="",pe(e.split(/\s+/),(function(e){/mce\-\w+/.test(e)&&(o+=(o?" ":"")+e)})),o)))return void Z.setAttrib(n,i,o);"class"==i&&n.removeAttribute("className"),ae.test(i)&&n.removeAttribute("data-mce-"+i),n.removeAttribute(i)}})),pe(e.classes,(function(e){e=F(e,t),r&&!Z.hasClass(r,e)||Z.removeClass(n,e)})),o=Z.getAttribs(n),i=0;i<o.length;i++){var s=o[i].nodeName;if(0!==s.indexOf("_")&&0!==s.indexOf("data-"))return se}return"none"!=e.remove?(V(n,e),le):void 0}function V(e,t){function n(e,t,n){return!(e=q(e,t,n))||"BR"==e.nodeName||ne(e)}var r=e.parentNode,i;t.block&&(re?r==Z.getRoot()&&(t.list_block&&P(e,t.list_block)||pe(he(e.childNodes),(function(e){te(re,e.nodeName.toLowerCase())?i?i.appendChild(e):(i=U(e,re),Z.setAttribs(i,l.settings.forced_root_block_attrs)):i=0}))):ne(e)&&!ne(r)&&(n(e,se)||n(e.firstChild,le,1)||e.insertBefore(Z.create("br"),e.firstChild),n(e,le)||n(e.lastChild,se,1)||e.appendChild(Z.create("br")))),t.selector&&t.inline&&!P(t.inline,e)||Z.remove(e,1)}function q(e,t,n){if(e)for(t=t?"nextSibling":"previousSibling",e=n?e:e[t];e;e=e[t])if(1==e.nodeType||!z(e))return e}function Y(e,t){function n(e,t){for(i=e;i;i=i[t]){if(3==i.nodeType&&0!==i.nodeValue.length)return e;if(1==i.nodeType&&!ge(i))return i}return e}var i,o,a=new r(Z);if(e&&t&&(e=n(e,"previousSibling"),t=n(t,"nextSibling"),a.compare(e,t))){for(i=e.nextSibling;i&&i!=t;)o=i,i=i.nextSibling,e.appendChild(o);return Z.remove(t),pe(he(t.childNodes),(function(t){e.appendChild(t)})),e}return t}function K(t,n){var r,i,o;return r=t[n?"startContainer":"endContainer"],i=t[n?"startOffset":"endOffset"],1==r.nodeType&&(o=r.childNodes.length-1,!n&&i&&i--,r=r.childNodes[i>o?o:i]),3===r.nodeType&&n&&i>=r.nodeValue.length&&(r=new e(r,l.getBody()).next()||r),3!==r.nodeType||n||0!==i||(r=new e(r,l.getBody()).prev()||r),r}function X(t,n,r,i){function o(e){var t=Z.create("span",{id:p,"data-mce-bogus":!0,style:v?"color:red":""});return e&&t.appendChild(l.getDoc().createTextNode(oe)),t}function a(e,t){for(;e;){if(3===e.nodeType&&e.nodeValue!==oe||e.childNodes.length>1)return!1;t&&1===e.nodeType&&t.push(e),e=e.firstChild}return!0}function s(e){for(;e;){if(e.id===p)return e;e=e.parentNode}}function u(t){var n;if(t)for(t=(n=new e(t,t)).current();t;t=n.next())if(3===t.nodeType)return t}function d(e,t){var n,r;if(e)r=Q.getRng(!0),a(e)?(!1!==t&&(r.setStartBefore(e),r.setEndBefore(e)),Z.remove(e)):((n=u(e)).nodeValue.charAt(0)===oe&&(n.deleteData(0,1),r.startContainer==n&&r.startOffset>0&&r.setStart(n,r.startOffset-1),r.endContainer==n&&r.endOffset>0&&r.setEnd(n,r.endOffset-1)),Z.remove(e,1)),Q.setRng(r);else if(!(e=s(Q.getStart())))for(;e=Z.get(p);)d(e,!1)}function f(){var e,t,i,a,l,c,d;a=(e=Q.getRng(!0)).startOffset,d=(c=e.startContainer).nodeValue,(t=s(Q.getStart()))&&(i=u(t));var f=/[^\s\u00a0\u00ad\u200b\ufeff]/;d&&a>0&&a<d.length&&f.test(d.charAt(a))&&f.test(d.charAt(a-1))?(l=Q.getBookmark(),e.collapse(!0),e=W(e,h(n)),e=ee.split(e),C(n,r,e),Q.moveToBookmark(l)):(t&&i.nodeValue===oe?C(n,r,t):(i=(t=o(!0)).firstChild,e.insertNode(t),a=1,C(n,r,t)),Q.setCursorLocation(i,a))}function m(){var e=Q.getRng(!0),t,a,s,l,u,d,f=[],m,g;for(t=e.startContainer,a=e.startOffset,u=t,3==t.nodeType&&(a!=t.nodeValue.length&&(l=!0),u=u.parentNode);u;){if(S(u,n,r,i)){d=u;break}u.nextSibling&&(l=!0),f.push(u),u=u.parentNode}if(d)if(l)s=Q.getBookmark(),e.collapse(!0),e=W(e,h(n),!0),e=ee.split(e),k(n,r,e),Q.moveToBookmark(s);else{for(u=g=o(),m=f.length-1;m>=0;m--)u.appendChild(Z.clone(f[m],!1)),u=u.firstChild;u.appendChild(Z.doc.createTextNode(oe)),u=u.firstChild;var p=Z.getParent(d,c);p&&Z.isEmpty(p)?d.parentNode.replaceChild(g,d):Z.insertAfter(g,d),Q.setCursorLocation(u,1),Z.isEmpty(d)&&Z.remove(d)}}function g(){var e;(e=s(Q.getStart()))&&!Z.isEmpty(e)&&ve(e,(function(e){1!=e.nodeType||e.id===p||Z.isEmpty(e)||Z.setAttrib(e,"data-mce-bogus",null)}),"childNodes")}var p="_mce_caret",v=l.settings.caret_debug;l._hasCaretEvents||(me=function(){var e=[],t;if(a(s(Q.getStart()),e))for(t=e.length;t--;)Z.setAttrib(e[t],"data-mce-bogus","1")},fe=function(e){var t=e.keyCode;d(),8==t&&Q.isCollapsed()&&Q.getStart().innerHTML==oe&&d(s(Q.getStart())),37!=t&&39!=t||d(s(Q.getStart())),g()},l.on("SetContent",(function(e){e.selection&&g()})),l._hasCaretEvents=!0),"apply"==t?f():m()}function G(t){var n=t.startContainer,r=t.startOffset,i,o,a,s,l;if((t.startContainer!=t.endContainer||!d(t.startContainer.childNodes[t.startOffset]))&&(3==n.nodeType&&r>=n.nodeValue.length&&(r=ie(n),n=n.parentNode,i=!0),1==n.nodeType))for(n=(s=n.childNodes)[Math.min(r,s.length-1)],o=new e(n,Z.getParent(n,Z.isBlock)),(r>s.length-1||i)&&o.next(),a=o.current();a;a=o.next())if(3==a.nodeType&&!z(a))return l=Z.create("a",{"data-mce-bogus":"all"},oe),a.parentNode.insertBefore(l,a),t.setStart(a,0),Q.setRng(t),void Z.remove(l)}var J={},Z=l.dom,Q=l.selection,ee=new t(Z),te=l.schema.isValidChild,ne=Z.isBlock,re=l.settings.forced_root_block,ie=Z.nodeIndex,oe="\ufeff",ae=/^(src|href|style)$/,se=!1,le=!0,ce,ue,de=Z.getContentEditable,fe,me,ge=n.isBookmarkNode,pe=o.each,he=o.grep,ve=o.walk,be;(0,o.extend)(this,{get:h,register:v,unregister:b,apply:C,remove:k,toggle:N,match:_,matchAll:T,matchNode:S,canApply:E,formatChanged:R,getCssText:A}),g(),p(),l.on("BeforeGetContent",(function(e){me&&"raw"!=e.format&&me()})),l.on("mouseup keydown",(function(e){fe&&fe(e)}))}})),r(Z,[],(function(){var e=0,t=1,n=2,r;return{KEEP:0,DELETE:2,INSERT:1,diff:function(e,t){var n=e.length+t.length+2,r=new Array(n),i=new Array(n),o=function(e,t,n){return{start:e,end:t,diag:n}},a=function(n,r,i,o,s){var c=l(n,r,i,o);if(null===c||c.start===r&&c.diag===r-o||c.end===n&&c.diag===n-i)for(var u=n,d=i;u<r||d<o;)u<r&&d<o&&e[u]===t[d]?(s.push([0,e[u]]),++u,++d):r-n>o-i?(s.push([2,e[u]]),++u):(s.push([1,t[d]]),++d);else{a(n,c.start,i,c.start-c.diag,s);for(var f=c.start;f<c.end;++f)s.push([0,e[f]]);a(c.end,r,c.end-c.diag,o,s)}},s=function(n,r,i,a){for(var s=n;s-r<a&&s<i&&e[s]===t[s-r];)++s;return o(n,s,r)},l=function(n,o,a,l){var c=o-n,u=l-a;if(0===c||0===u)return null;var d=c-u,f=u+c,m=(f%2==0?f:f+1)/2;r[1+m]=n,i[1+m]=o+1;for(var g=0;g<=m;++g){for(var p=-g;p<=g;p+=2){var h=p+m;p===-g||p!=g&&r[h-1]<r[h+1]?r[h]=r[h+1]:r[h]=r[h-1]+1;for(var v=r[h],b=v-n+a-p;v<o&&b<l&&e[v]===t[b];)r[h]=++v,++b;if(d%2!=0&&d-g<=p&&p<=d+g&&i[h-d]<=r[h])return s(i[h-d],p+n-a,o,l)}for(p=d-g;p<=d+g;p+=2){for(h=p+m-d,p===d-g||p!=d+g&&i[h+1]<=i[h-1]?i[h]=i[h+1]-1:i[h]=i[h-1],b=(v=i[h]-1)-n+a-p;v>=n&&b>=a&&e[v]===t[b];)i[h]=v--,b--;if(d%2==0&&-g<=p&&p<=g&&i[h]<=r[h+d])return s(i[h],p+n-a,o,l)}}},c=[];return a(0,e.length,0,t.length,c),c}}})),r(Q,[g,x,Z],(function(e,t,n){var r=function(e){return 1===e.nodeType?e.outerHTML:3===e.nodeType?t.encodeRaw(e.data,!1):8===e.nodeType?"\x3c!--"+e.data+"--\x3e":""},i=function(e){var t,n,r;for(r=document.createElement("div"),t=document.createDocumentFragment(),e&&(r.innerHTML=e);n=r.firstChild;)t.appendChild(n);return t},o=function(e,t,n){var r=i(t);if(e.hasChildNodes()&&n<e.childNodes.length){var o=e.childNodes[n];o.parentNode.insertBefore(r,o)}else e.appendChild(r)},a=function(e,t){if(e.hasChildNodes()&&t<e.childNodes.length){var n=e.childNodes[t];n.parentNode.removeChild(n)}},s=function(t,r){var i=0;e.each(t,(function(e){e[0]===n.KEEP?i++:e[0]===n.INSERT?(o(r,e[1],i),i++):e[0]===n.DELETE&&a(r,i)}))},l,c;return{read:function(t){return e.map(t.childNodes,r)},write:function(t,i){var o=e.map(i.childNodes,r);return s(n.diff(o,t),i),i}}})),r(ee,[g,Q],(function(e,t){var n=function(e){return-1!==e.indexOf("</iframe>")},r=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}},i=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}},o=function(o){var a,s,l;return a=t.read(o.getBody()),s=(l=e.map(a,(function(e){return o.serializer.trimContent(e)}))).join(""),n(s)?r(l):i(s)},a,s=function(e){return"fragmented"===e.type?e.fragments.join(""):e.content},l;return{createFragmentedLevel:r,createCompleteLevel:i,createFromEditor:o,applyToEditor:function(e,n,r){"fragmented"===n.type?t.write(n.fragments,e.getBody()):e.setContent(n.content,{format:"raw"}),e.selection.moveToBookmark(r?n.beforeBookmark:n.bookmark)},isEq:function(e,t){return s(e)===s(t)}}})),r(te,[H,p,ee],(function(e,t,n){return function(e){function r(t){e.setDirty(t)}function i(e){a.typing=!1,a.add({},e)}function o(){a.typing&&(a.typing=!1,a.add())}var a=this,s=0,l=[],c,u,d=0;return e.on("init",(function(){a.add()})),e.on("BeforeExecCommand",(function(e){var t=e.command;"Undo"!==t&&"Redo"!==t&&"mceRepaint"!==t&&(o(),a.beforeChange())})),e.on("ExecCommand",(function(e){var t=e.command;"Undo"!==t&&"Redo"!==t&&"mceRepaint"!==t&&i(e)})),e.on("ObjectResizeStart Cut",(function(){a.beforeChange()})),e.on("SaveContent ObjectResized blur",i),e.on("DragEnd",i),e.on("KeyUp",(function(t){var o=t.keyCode;t.isDefaultPrevented()||((o>=33&&o<=36||o>=37&&o<=40||45===o||t.ctrlKey)&&(i(),e.nodeChanged()),46!==o&&8!==o||e.nodeChanged(),u&&a.typing&&(e.isDirty()||(r(l[0]&&!n.isEq(n.createFromEditor(e),l[0])),e.isDirty()&&e.fire("change",{level:l[0],lastLevel:null})),e.fire("TypingUndo"),u=!1,e.nodeChanged()))})),e.on("KeyDown",(function(e){var t=e.keyCode;if(!e.isDefaultPrevented()){if(t>=33&&t<=36||t>=37&&t<=40||45===t)return void(a.typing&&i(e));var n=e.ctrlKey&&!e.altKey||e.metaKey;!(t<16||t>20)||224===t||91===t||a.typing||n||(a.beforeChange(),a.typing=!0,a.add({},e),u=!0)}})),e.on("MouseDown",(function(e){a.typing&&i(e)})),e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo"),e.on("AddUndo Undo Redo ClearUndos",(function(t){t.isDefaultPrevented()||e.nodeChanged()})),a={data:l,typing:!1,beforeChange:function(){d||(c=e.selection.getBookmark(2,!0))},add:function(i,o){var a,u=e.settings,f,m;if(m=n.createFromEditor(e),i=i||{},i=t.extend(i,m),d||e.removed)return null;if(f=l[s],e.fire("BeforeAddUndo",{level:i,lastLevel:f,originalEvent:o}).isDefaultPrevented())return null;if(f&&n.isEq(f,i))return null;if(l[s]&&(l[s].beforeBookmark=c),u.custom_undo_redo_levels&&l.length>u.custom_undo_redo_levels){for(a=0;a<l.length-1;a++)l[a]=l[a+1];l.length--,s=l.length}i.bookmark=e.selection.getBookmark(2,!0),s<l.length-1&&(l.length=s+1),l.push(i),s=l.length-1;var g={level:i,lastLevel:f,originalEvent:o};return e.fire("AddUndo",g),s>0&&(r(!0),e.fire("change",g)),i},undo:function(){var t;return a.typing&&(a.add(),a.typing=!1),s>0&&(t=l[--s],n.applyToEditor(e,t,!0),r(!0),e.fire("undo",{level:t})),t},redo:function(){var t;return s<l.length-1&&(t=l[++s],n.applyToEditor(e,t,!1),r(!0),e.fire("redo",{level:t})),t},clear:function(){l=[],s=0,a.typing=!1,a.data=l,e.fire("ClearUndos")},hasUndo:function(){return s>0||a.typing&&l[0]&&!n.isEq(n.createFromEditor(e),l[0])},hasRedo:function(){return s<l.length-1&&!a.typing},transact:function(e){o(),a.beforeChange();try{d++,e()}finally{d--}return a.add()},extra:function(t,r){var i,o;a.transact(t)&&(o=l[s].bookmark,i=l[s-1],n.applyToEditor(e,i,!0),a.transact(r)&&(l[s-1].beforeBookmark=o))}}}})),r(ne,[b,E,T,d],(function(e,t,n,r){var i=r.ie&&r.ie<11;return function(o){function a(a){function g(e){return e&&s.isBlock(e)&&!/^(TD|TH|CAPTION|FORM)$/.test(e.nodeName)&&!/^(fixed|absolute)/i.test(e.style.position)&&"true"!==s.getContentEditable(e)}function p(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)}function h(e){var t;s.isBlock(e)&&(t=l.getRng(),e.appendChild(s.create("span",null,"")),l.select(e),e.lastChild.outerHTML="",l.setRng(t))}function v(e){var t=e,n=[],r;if(t){for(;t=t.firstChild;){if(s.isBlock(t))return;1!=t.nodeType||f[t.nodeName.toLowerCase()]||n.push(t)}for(r=n.length;r--;)!(t=n[r]).hasChildNodes()||t.firstChild==t.lastChild&&""===t.firstChild.nodeValue?s.remove(t):"A"==t.nodeName&&" "===(t.innerText||t.textContent)&&s.remove(t)}}function b(t){function n(e){for(;e;){if(1==e.nodeType||3==e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}}var i,o,a,c=t,u;if(t){if(r.ie&&r.ie<9&&I&&I.firstChild&&I.firstChild==I.lastChild&&"BR"==I.firstChild.tagName&&s.remove(I.firstChild),/^(LI|DT|DD)$/.test(t.nodeName)){var d=n(t.firstChild);d&&/^(UL|OL|DL)$/.test(d.nodeName)&&t.insertBefore(s.doc.createTextNode(""),t.firstChild)}if(a=s.createRng(),r.ie||t.normalize(),t.hasChildNodes()){for(i=new e(t,t);o=i.current();){if(3==o.nodeType){a.setStart(o,0),a.setEnd(o,0);break}if(m[o.nodeName.toLowerCase()]){a.setStartBefore(o),a.setEndBefore(o);break}c=o,o=i.next()}o||(a.setStart(c,0),a.setEnd(c,0))}else"BR"==t.nodeName?t.nextSibling&&s.isBlock(t.nextSibling)?((!L||L<9)&&(u=s.create("br"),t.parentNode.insertBefore(u,t)),a.setStartBefore(t),a.setEndBefore(t)):(a.setStartAfter(t),a.setEndAfter(t)):(a.setStart(t,0),a.setEnd(t,0));l.setRng(a),s.remove(u),l.scrollIntoView(t)}}function y(e){var t=c.forced_root_block;t&&t.toLowerCase()===e.tagName.toLowerCase()&&s.setAttribs(e,c.forced_root_block_attrs)}function x(e){e.innerHTML=i?"":'<br data-mce-bogus="1">'}function w(e){var t=M,n,r,o,a=d.getTextInlineElements();if(e||"TABLE"==U?y(n=s.create(e||$)):n=I.cloneNode(!1),o=n,!1!==c.keep_styles)do{if(a[t.nodeName]){if("_mce_caret"==t.id)continue;r=t.cloneNode(!1),s.setAttrib(r,"id",""),n.hasChildNodes()?(r.appendChild(n.firstChild),n.appendChild(r)):(o=r,n.appendChild(r))}}while((t=t.parentNode)&&t!=P);return i||(o.innerHTML='<br data-mce-bogus="1">'),n}function C(t){var n,r,i;if(3==M.nodeType&&(t?D>0:D<M.nodeValue.length))return!1;if(M.parentNode==I&&j&&!t)return!0;if(t&&1==M.nodeType&&M==I.firstChild)return!0;if("TABLE"===M.nodeName||M.previousSibling&&"TABLE"==M.previousSibling.nodeName)return j&&!t||!j&&t;for(n=new e(M,I),3==M.nodeType&&(t&&0===D?n.prev():t||D!=M.nodeValue.length||n.next());r=n.current();){if(1===r.nodeType){if(!r.getAttribute("data-mce-bogus")&&(i=r.nodeName.toLowerCase(),f[i]&&"br"!==i))return!1}else if(3===r.nodeType&&!/^[ \t\r\n]*$/.test(r.nodeValue))return!1;t?n.prev():n.next()}return!0}function k(e,t){var n,r,i,a,l,c,u=$||"P";if(!(r=s.getParent(e,s.isBlock))||!g(r)){if(c=(r=r||P)==o.getBody()||p(r)?r.nodeName.toLowerCase():r.parentNode.nodeName.toLowerCase(),!r.hasChildNodes())return y(n=s.create(u)),r.appendChild(n),A.setStart(n,0),A.setEnd(n,0),n;for(a=e;a.parentNode!=r;)a=a.parentNode;for(;a&&!s.isBlock(a);)i=a,a=a.previousSibling;if(i&&d.isValidChild(c,u.toLowerCase())){for(y(n=s.create(u)),i.parentNode.insertBefore(n,i),a=i;a&&!s.isBlock(a);)l=a.nextSibling,n.appendChild(a),a=l;A.setStart(e,t),A.setEnd(e,t)}}return e}function N(){function e(e){for(var t=z[e?"firstChild":"lastChild"];t&&1!=t.nodeType;)t=t[e?"nextSibling":"previousSibling"];return t===I}function t(){var e=z.parentNode;return/^(LI|DT|DD)$/.test(e.nodeName)?e:z}if(z!=o.getBody()){var n=z.parentNode.nodeName;/^(OL|UL|LI)$/.test(n)&&($="LI"),H=$?w($):s.create("BR"),e(!0)&&e()?"LI"==n?s.insertAfter(H,t()):s.replace(H,z):e(!0)?"LI"==n?(s.insertAfter(H,t()),H.appendChild(s.doc.createTextNode(" ")),H.appendChild(z)):z.parentNode.insertBefore(H,z):e()?(s.insertAfter(H,t()),h(H)):(z=t(),(B=A.cloneRange()).setStartAfter(I),B.setEndAfter(z),F=B.extractContents(),"LI"==$&&"LI"==F.firstChild.nodeName?(H=F.firstChild,s.insertAfter(F,z)):(s.insertAfter(F,z),s.insertAfter(H,z))),s.remove(I),b(H),u.add()}}function S(){o.execCommand("InsertLineBreak",!1,a)}function _(e){do{3===e.nodeType&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild}while(e)}function T(e){var t=s.getRoot(),n,r;for(n=e;n!==t&&"false"!==s.getContentEditable(n);)"true"===s.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==t?r:t}function E(e){var t;i||(e.normalize(),(t=e.lastChild)&&!/^(left|right)$/gi.test(s.getStyle(t,"float",!0))||s.add(e,"br"))}function R(){H=/^(H[1-6]|PRE|FIGURE)$/.test(U)&&"HGROUP"!=W?w($):w(),c.end_container_on_empty_block&&g(z)&&s.isEmpty(I)?H=s.split(z,I):s.insertAfter(H,I),b(H)}var A,B,P,M,D,I,L,O,H,F,z,U,W,$,j;if(A=l.getRng(!0),!a.isDefaultPrevented()){if(!A.collapsed)return void o.execCommand("Delete");if(new t(s).normalize(A),M=A.startContainer,D=A.startOffset,$=($=(c.force_p_newlines?"p":"")||c.forced_root_block)?$.toUpperCase():"",L=s.doc.documentMode,O=a.shiftKey,1==M.nodeType&&M.hasChildNodes()&&(j=D>M.childNodes.length-1,M=M.childNodes[Math.min(D,M.childNodes.length-1)]||M,D=j&&3==M.nodeType?M.nodeValue.length:0),P=T(M)){if(u.beforeChange(),!s.isBlock(P)&&P!=s.getRoot())return void($&&!O||S());if(($&&!O||!$&&O)&&(M=k(M,D)),I=s.getParent(M,s.isBlock),z=I?s.getParent(I.parentNode,s.isBlock):null,U=I?I.nodeName.toUpperCase():"","LI"!=(W=z?z.nodeName.toUpperCase():"")||a.ctrlKey||(I=z,U=W),o.undoManager.typing&&(o.undoManager.typing=!1,o.undoManager.add()),/^(LI|DT|DD)$/.test(U)){if(!$&&O)return void S();if(s.isEmpty(I))return void N()}if("PRE"==U&&!1!==c.br_in_pre){if(!O)return void S()}else if(!$&&!O&&"LI"!=U||$&&O)return void S();$&&I===o.getBody()||($=$||"P",n.isCaretContainerBlock(I)?(H=n.showCaretContainerBlock(I),s.isEmpty(I)&&x(I),b(H)):C()?R():C(!0)?(h(H=I.parentNode.insertBefore(w(),I)),b(I)):((B=A.cloneRange()).setEndAfter(I),_(F=B.extractContents()),H=F.firstChild,s.insertAfter(F,I),v(H),E(I),s.isEmpty(I)&&x(I),H.normalize(),s.isEmpty(H)?(s.remove(H),R()):b(H)),s.setAttrib(H,"id",""),o.fire("NewBlock",{newBlock:H}),u.typing=!1,u.add())}}}var s=o.dom,l=o.selection,c=o.settings,u=o.undoManager,d=o.schema,f=d.getNonEmptyElements(),m=d.getMoveCaretBeforeOnEnterElements();o.on("keydown",(function(e){13==e.keyCode&&!1!==a(e)&&e.preventDefault()}))}})),r(re,[],(function(){return function(e){function t(){var t=i.getStart(),s=e.getBody(),l,c,u,d,f,m,g,p=-16777215,h,v,b,y,x;if(x=n.forced_root_block,t&&1===t.nodeType&&x){for(;t&&t!=s;){if(a[t.nodeName])return;t=t.parentNode}if((l=i.getRng()).setStart){c=l.startContainer,u=l.startOffset,d=l.endContainer,f=l.endOffset;try{v=e.getDoc().activeElement===s}catch(w){}}else l.item&&(t=l.item(0),(l=e.getDoc().body.createTextRange()).moveToElementText(t)),v=l.parentElement().ownerDocument===e.getDoc(),(b=l.duplicate()).collapse(!0),u=-1*b.move("character",p),b.collapsed||((b=l.duplicate()).collapse(!1),f=-1*b.move("character",p)-u);for(t=s.firstChild,y=s.nodeName.toLowerCase();t;)if((3===t.nodeType||1==t.nodeType&&!a[t.nodeName])&&o.isValidChild(y,x.toLowerCase())){if(3===t.nodeType&&0===t.nodeValue.length){g=t,t=t.nextSibling,r.remove(g);continue}m||(m=r.create(x,e.settings.forced_root_block_attrs),t.parentNode.insertBefore(m,t),h=!0),g=t,t=t.nextSibling,m.appendChild(g)}else m=null,t=t.nextSibling;if(h&&v){if(l.setStart)l.setStart(c,u),l.setEnd(d,f),i.setRng(l);else try{(l=e.getDoc().body.createTextRange()).moveToElementText(s),l.collapse(!0),l.moveStart("character",u),f>0&&l.moveEnd("character",f),l.select()}catch(w){}e.nodeChanged()}}}var n=e.settings,r=e.dom,i=e.selection,o=e.schema,a=o.getBlockElements();n.forced_root_block&&e.on("NodeChange",t)}})),r(ie,[z,b,S,j,T,U],(function(e,t,n,r,i,o){function a(e){return e>0}function s(e){return e<0}function l(e,t){for(var n;n=e(t);)if(!N(n))return n;return null}function c(e,n,r,i,o){var c=new t(e,i);if(s(n)){if((w(e)||N(e))&&r(e=l(c.prev,!0)))return e;for(;e=l(c.prev,o);)if(r(e))return e}if(a(n)){if((w(e)||N(e))&&r(e=l(c.next,!0)))return e;for(;e=l(c.next,o);)if(r(e))return e}return null}function u(e,t){for(e=e.parentNode;e&&e!=t;e=e.parentNode)if(x(e))return e;return t}function d(e,t){for(;e&&e!=t;){if(C(e))return e;e=e.parentNode}return null}function f(e,t,n){return d(e.container(),n)==d(t.container(),n)}function m(e,t,n){return u(e.container(),n)==u(t.container(),n)}function g(e,t){var n,r;return t?(n=t.container(),r=t.offset(),_(n)?n.childNodes[r+e]:null):null}function p(e,t){var n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n}function h(e,t,n){return d(t,e)==d(n,e)}function v(e,t,n){var r,i;for(i=e?"previousSibling":"nextSibling";n&&n!=t;){if(r=n[i],k(r)&&(r=r[i]),w(r)){if(h(t,r,n))return r;break}if(T(r))break;n=n.parentNode}return null}function b(e,t,r){var o,a,s,l,c=S(v,!0,t),u=S(v,!1,t);if(a=r.startContainer,s=r.startOffset,i.isCaretContainerBlock(a)){if(_(a)||(a=a.parentNode),"before"==(l=a.getAttribute("data-mce-caret"))&&(o=a.nextSibling,w(o)))return E(o);if("after"==l&&(o=a.previousSibling,w(o)))return R(o)}if(!r.collapsed)return r;if(n.isText(a)){if(k(a)){if(1===e){if(o=u(a))return E(o);if(o=c(a))return R(o)}if(-1===e){if(o=c(a))return R(o);if(o=u(a))return E(o)}return r}if(i.endsWithCaretContainer(a)&&s>=a.data.length-1)return 1===e&&(o=u(a))?E(o):r;if(i.startsWithCaretContainer(a)&&s<=1)return-1===e&&(o=c(a))?R(o):r;if(s===a.data.length)return(o=u(a))?E(o):r;if(0===s)return(o=c(a))?R(o):r}return r}function y(e,t){return w(g(e,t))}var x=n.isContentEditableTrue,w=n.isContentEditableFalse,C=n.matchStyleValues("display","block table table-cell table-caption"),k=i.isCaretContainer,N=i.isCaretContainerBlock,S=e.curry,_=n.isElement,T=o.isCaretCandidate,E=S(p,!0),R=S(p,!1);return{isForwards:a,isBackwards:s,findNode:c,getEditingHost:u,getParentBlock:d,isInSameBlock:f,isInSameEditingHost:m,isBeforeContentEditableFalse:S(y,0),isAfterContentEditableFalse:S(y,-1),normalizeRange:b}})),r(oe,[S,U,j,ie,g,z],(function(e,t,n,r,i,o){function a(e,t){for(var n=[];e&&e!=t;)n.push(e),e=e.parentNode;return n}function s(e,t){return e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null}function l(e,t){if(p(e)){if(v(t.previousSibling)&&!f(t.previousSibling))return n.before(t);if(f(t))return n(t,0)}if(h(e)){if(v(t.nextSibling)&&!f(t.nextSibling))return n.after(t);if(f(t))return n(t,t.data.length)}return h(e)?g(t)?n.before(t):n.after(t):n.before(t)}function c(t,i){var o;return!!e.isBr(t)&&(!!(o=u(1,n.after(t),i))&&!r.isInSameBlock(n.before(t),n.before(o),i))}function u(e,t,g){var x,w,C,k,N,S,_;if(!m(g)||!t)return null;if(x=(_=t).container(),w=_.offset(),f(x)){if(h(e)&&w>0)return n(x,--w);if(p(e)&&w<x.length)return n(x,++w);C=x}else{if(h(e)&&w>0&&(k=s(x,w-1),v(k)))return!b(k)&&(N=r.findNode(k,e,y,k))?f(N)?n(N,N.data.length):n.after(N):f(k)?n(k,k.data.length):n.before(k);if(p(e)&&w<x.childNodes.length&&(k=s(x,w),v(k)))return c(k,g)?u(e,n.after(k),g):!b(k)&&(N=r.findNode(k,e,y,k))?f(N)?n(N,0):n.before(N):f(k)?n(k,0):n.after(k);C=_.getNode()}return(p(e)&&_.isAtEnd()||h(e)&&_.isAtStart())&&(C=r.findNode(C,e,o.constant(!0),g,!0),y(C))?l(e,C):(k=r.findNode(C,e,y,g),!(S=i.last(i.filter(a(x,g),d)))||k&&S.contains(k)?k?l(e,k):null:_=p(e)?n.after(S):n.before(S))}var d=e.isContentEditableFalse,f=e.isText,m=e.isElement,g=e.isBr,p=r.isForwards,h=r.isBackwards,v=t.isCaretCandidate,b=t.isAtomic,y=t.isEditableCaretCandidate;return function(e){return{next:function(t){return u(1,t,e)},prev:function(t){return u(-1,t,e)}}}})),r(ae,[p,oe,j],(function(e,t,n){var r,i=function(e){var t=e.firstChild,n=e.lastChild;return t&&"META"===t.nodeName&&t.parentNode.removeChild(t),n&&"mce_marker"===n.id&&n.parentNode.removeChild(n),e},o=function(e,t,n){var r=t.serialize(n),o=e.createFragment(r);return i(o)},a=function(t){return e.grep(t.childNodes,(function(e){return"LI"===e.nodeName}))},s=function(e){return!e.firstChild},l=function(e){return e.length>0&&s(e[e.length-1])?e.slice(0,-1):e},c=function(e,t){var n=e.getParent(t,e.isBlock);return n&&"LI"===n.nodeName?n:null},u,d=function(e,t){var n=t.cloneRange(),r=t.cloneRange();return n.setStartBefore(e),r.setEndAfter(e),[n.cloneContents(),r.cloneContents()]},f=function(e,r){var i=n.before(e),o,a=new t(r).next(i);return a?a.toRange():null},m=function(e,r){var i=n.after(e),o,a=new t(r).prev(i);return a?a.toRange():null},g=function(t,n,r,i){var o=d(t,i),a=t.parentNode;return a.insertBefore(o[0],t),e.each(n,(function(e){a.insertBefore(e,t)})),a.insertBefore(o[1],t),a.removeChild(t),m(n[n.length-1],r)},p=function(t,n,r){var i=t.parentNode;return e.each(n,(function(e){i.insertBefore(e,t)})),f(t,r)},h=function(e,t,n,r){return r.insertAfter(t.reverse(),e),m(t[0],n)},v;return{isListFragment:function(e){var t=e.firstChild,n=e.lastChild;return t&&"meta"===t.name&&(t=t.next),n&&"mce_marker"===n.attr("id")&&(n=n.prev),!(!t||t!==n||"ul"!==t.name&&"ol"!==t.name)},insertAtCaret:function(e,r,i,s){var u=o(r,e,s),d=c(r,i.startContainer),f=l(a(u.firstChild)),m=1,v=2,b=r.getRoot(),y=function(e){var o=n.fromRangeStart(i),a=new t(r.getRoot()),s=1===e?a.prev(o):a.next(o);return!s||c(r,s.getNode())!==d};return y(1)?p(d,f,b):y(2)?h(d,f,b,r):g(d,f,b,i)},isParentBlockLi:function(e,t){return!!c(e,t)},trimListItems:l,listItems:a}})),r(se,[d,p,I,oe,j,K,S,ae],(function(e,t,n,r,i,o,a,s){var l=a.matchNodeNames("td th"),c=function(e,t,n){if("all"===n.getAttribute("data-mce-bogus"))n.parentNode.insertBefore(e.dom.createFragment(t),n);else{var r=n.firstChild,i=n.lastChild;!r||r===i&&"BR"===r.nodeName?e.dom.setHTML(n,t):e.selection.setContent(t)}},u=function(a,u,d){function f(e){function t(e){return r[e]&&3==r[e].nodeType}var n,r,i;return n=M.getRng(!0),r=n.startContainer,i=n.startOffset,3==r.nodeType&&(i>0?e=e.replace(/^&nbsp;/," "):t("previousSibling")||(e=e.replace(/^ /,"&nbsp;")),i<r.length?e=e.replace(/&nbsp;(<br>|)$/," "):t("nextSibling")||(e=e.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),e}function m(){var e,t,n;t=(e=M.getRng(!0)).startContainer,n=e.startOffset,3==t.nodeType&&e.collapsed&&(""===t.data[n]?(t.deleteData(n,1),/[\u00a0| ]$/.test(u)||(u+=" ")):""===t.data[n-1]&&(t.deleteData(n-1,1),/[\u00a0| ]$/.test(u)||(u=" "+u)))}function g(){if(B){var e=a.getBody(),n=new o(D);t.each(D.select("*[data-mce-fragment]"),(function(t){for(var r=t.parentNode;r&&r!=e;r=r.parentNode)P[t.nodeName.toLowerCase()]&&n.compare(r,t)&&D.remove(t,!0)}))}}function p(e){for(var t=e;t=t.walk();)1===t.type&&t.attr("data-mce-fragment","1")}function h(e){t.each(e.getElementsByTagName("*"),(function(e){e.removeAttribute("data-mce-fragment")}))}function v(e){return!!e.getAttribute("data-mce-fragment")}function b(e){return e&&!a.schema.getShortEndedElements()[e.nodeName]}function y(t){function n(e){for(var t=a.getBody();e&&e!==t;e=e.parentNode)if("false"===a.dom.getContentEditable(e))return e;return null}function o(e){var t=i.fromRangeStart(e),n;if(t=new r(a.getBody()).next(t))return t.toRange()}var s,c,u;if(t){if(M.scrollIntoView(t),s=n(t))return D.remove(t),void M.select(s);T=D.createRng(),(E=t.previousSibling)&&3==E.nodeType?(T.setStart(E,E.nodeValue.length),e.ie||(R=t.nextSibling)&&3==R.nodeType&&(E.appendData(R.data),R.parentNode.removeChild(R))):(T.setStartBefore(t),T.setEndBefore(t)),c=D.getParent(t,D.isBlock),D.remove(t),c&&D.isEmpty(c)&&(a.$(c).empty(),T.setStart(c,0),T.setEnd(c,0),l(c)||v(c)||!(u=o(T))?D.add(c,D.create("br",{"data-mce-bogus":"1"})):(T=u,D.remove(c))),M.setRng(T)}}var x,w,C,k,N,S,_,T,E,R,A,B,P=a.schema.getTextInlineElements(),M=a.selection,D=a.dom;/^ | $/.test(u)&&(u=f(u)),x=a.parser,B=d.merge,w=new n({validate:a.settings.validate},a.schema),A='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',S={content:u,format:"html",selection:!0},a.fire("BeforeSetContent",S),-1==(u=S.content).indexOf("{$caret}")&&(u+="{$caret}"),u=u.replace(/\{\$caret\}/,A);var I=(T=M.getRng()).startContainer||(T.parentElement?T.parentElement():null),L=a.getBody();I===L&&M.isCollapsed()&&D.isBlock(L.firstChild)&&b(L.firstChild)&&D.isEmpty(L.firstChild)&&((T=D.createRng()).setStart(L.firstChild,0),T.setEnd(L.firstChild,0),M.setRng(T)),M.isCollapsed()||(a.selection.setRng(a.selection.getRng()),a.getDoc().execCommand("Delete",!1,null),m());var O={context:(C=M.getNode()).nodeName.toLowerCase(),data:d.data};if(N=x.parse(u,O),!0===d.paste&&s.isListFragment(N)&&s.isParentBlockLi(D,C))return T=s.insertAtCaret(w,D,a.selection.getRng(!0),N),a.selection.setRng(T),void a.fire("SetContent",S);if(p(N),"mce_marker"==(E=N.lastChild).attr("id"))for(_=E,E=E.prev;E;E=E.walk(!0))if(3==E.type||!D.isBlock(E.name)){a.schema.isValidChild(E.parent.name,"span")&&E.parent.insert(_,E,"br"===E.name);break}if(a._selectionOverrides.showBlockCaretContainer(C),O.invalid){for(M.setContent(A),C=M.getNode(),k=a.getBody(),9==C.nodeType?C=E=k:E=C;E!==k;)C=E,E=E.parentNode;u=C==k?k.innerHTML:D.getOuterHTML(C),u=w.serialize(x.parse(u.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,(function(){return w.serialize(N)})))),C==k?D.setHTML(k,u):D.setOuterHTML(C,u)}else u=w.serialize(N),c(a,u,C);g(),y(D.get("mce_marker")),h(a.getBody()),a.fire("SetContent",S),a.addVisual()},d=function(e){var n;return"string"!=typeof e?(n=t.extend({paste:e.paste,data:{paste:e.paste}},e),{content:e.content,details:n}):{content:e,details:{}}},f;return{insertAtCaret:function(e,t){var n=d(t);u(e,n.content,n.details)}}})),r(le,[d,p,E,b,se,S],(function(e,n,r,i,o,a){var s=n.each,l=n.extend,c=n.map,u=n.inArray,d=n.explode,f=e.ie&&e.ie<11,m=!0,g=!1;return function(n){function p(e,t,r,i){var o,a,l=0;if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(e)||i&&i.skip_focus||n.focus(),(i=n.fire("BeforeExecCommand",{command:e,ui:t,value:r})).isDefaultPrevented())return!1;if(a=e.toLowerCase(),o=P.exec[a])return o(a,t,r),n.fire("ExecCommand",{command:e,ui:t,value:r}),!0;if(s(n.plugins,(function(i){if(i.execCommand&&i.execCommand(e,t,r))return n.fire("ExecCommand",{command:e,ui:t,value:r}),l=!0,!1})),l)return l;if(n.theme&&n.theme.execCommand&&n.theme.execCommand(e,t,r))return n.fire("ExecCommand",{command:e,ui:t,value:r}),!0;try{l=n.getDoc().execCommand(e,t,r)}catch(c){}return!!l&&(n.fire("ExecCommand",{command:e,ui:t,value:r}),!0)}function h(e){var t;if(!n.quirks.isHidden()){if(e=e.toLowerCase(),t=P.state[e])return t(e);try{return n.getDoc().queryCommandState(e)}catch(r){}return!1}}function v(e){var t;if(!n.quirks.isHidden()){if(e=e.toLowerCase(),t=P.value[e])return t(e);try{return n.getDoc().queryCommandValue(e)}catch(r){}}}function b(e,t){t=t||"exec",s(e,(function(e,n){s(n.toLowerCase().split(","),(function(n){P[t][n]=e}))}))}function y(e,t,r){e=e.toLowerCase(),P.exec[e]=function(e,i,o,a){return t.call(r||n,i,o,a)}}function x(e){if(e=e.toLowerCase(),P.exec[e])return!0;try{return n.getDoc().queryCommandSupported(e)}catch(t){}return!1}function w(e,t,r){e=e.toLowerCase(),P.state[e]=function(){return t.call(r||n)}}function C(e,t,r){e=e.toLowerCase(),P.value[e]=function(){return t.call(r||n)}}function k(e){return e=e.toLowerCase(),!!P.exec[e]}function N(e,r,i){return r===t&&(r=g),i===t&&(i=null),n.getDoc().execCommand(e,r,i)}function S(e){return B.match(e)}function _(e,r){B.toggle(e,r?{value:r}:t),n.nodeChanged()}function T(e){D=A.getBookmark(e)}function E(){A.moveToBookmark(D)}var R,A,B,P={state:{},exec:{},value:{}},M=n.settings,D;n.on("PreInit",(function(){R=n.dom,A=n.selection,M=n.settings,B=n.formatter})),l(this,{execCommand:p,queryCommandState:h,queryCommandValue:v,queryCommandSupported:x,addCommands:b,addCommand:y,addQueryStateHandler:w,addQueryValueHandler:C,hasCustomCommand:k}),b({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){n.undoManager.add()},"Cut,Copy,Paste":function(t){var r=n.getDoc(),i;try{N(t)}catch(o){i=m}if("paste"!==t||r.queryCommandEnabled(t)||(i=!0),i||!r.queryCommandSupported(t)){var a=n.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");e.mac&&(a=a.replace(/Ctrl\+/g,"+")),n.notificationManager.open({text:a,type:"error"})}},unlink:function(){if(A.isCollapsed()){var e=n.dom.getParent(n.selection.getStart(),"a");e&&n.dom.remove(e,!0)}else B.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(e){var t=e.substring(7);"full"==t&&(t="justify"),s("left,center,right,justify".split(","),(function(e){t!=e&&B.remove("align"+e)})),"none"!=t&&_("align"+t)},"InsertUnorderedList,InsertOrderedList":function(e){var t,n;N(e),(t=R.getParent(A.getNode(),"ol,ul"))&&(n=t.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(n.nodeName)&&(T(),R.split(n,t),E()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){_(e)},"ForeColor,HiliteColor,FontName":function(e,t,n){_(e,n)},FontSize:function(e,t,n){var r,i;n>=1&&n<=7&&(i=d(M.font_size_style_values),n=(r=d(M.font_size_classes))?r[n-1]||n:i[n-1]||n),_(e,n)},RemoveFormat:function(e){B.remove(e)},mceBlockQuote:function(){_("blockquote")},FormatBlock:function(e,t,n){return _(n||"p")},mceCleanup:function(){var e=A.getBookmark();n.setContent(n.getContent({cleanup:m}),{cleanup:m}),A.moveToBookmark(e)},mceRemoveNode:function(e,t,r){var i=r||A.getNode();i!=n.getBody()&&(T(),n.dom.remove(i,m),E())},mceSelectNodeDepth:function(e,t,r){var i=0;R.getParent(A.getNode(),(function(e){if(1==e.nodeType&&i++==r)return A.select(e),g}),n.getBody())},mceSelectNode:function(e,t,n){A.select(n)},mceInsertContent:function(e,t,r){o.insertAtCaret(n,r)},mceInsertRawHTML:function(e,t,r){A.setContent("tiny_mce_marker"),n.setContent(n.getContent().replace(/tiny_mce_marker/g,(function(){return r})))},mceToggleFormat:function(e,t,n){_(n)},mceSetContent:function(e,t,r){n.setContent(r)},"Indent,Outdent":function(e){var t,r,i;t=M.indentation,r=/[a-z%]+$/i.exec(t),t=parseInt(t,10),h("InsertUnorderedList")||h("InsertOrderedList")?N(e):(M.forced_root_block||R.getParent(A.getNode(),R.isBlock)||B.apply("div"),s(A.getSelectedBlocks(),(function(o){if("false"!==R.getContentEditable(o)&&"LI"!==o.nodeName){var a=n.getParam("indent_use_margin",!1)?"margin":"padding";a="TABLE"===o.nodeName?"margin":a,a+="rtl"==R.getStyle(o,"direction",!0)?"Right":"Left","outdent"==e?(i=Math.max(0,parseInt(o.style[a]||0,10)-t),R.setStyle(o,a,i?i+r:"")):(i=parseInt(o.style[a]||0,10)+t+r,R.setStyle(o,a,i))}})))},mceRepaint:function(){},InsertHorizontalRule:function(){n.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){n.hasVisual=!n.hasVisual,n.addVisual()},mceReplaceContent:function(e,t,r){n.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,A.getContent({format:"text"})))},mceInsertLink:function(e,t,n){var r;"string"==typeof n&&(n={href:n}),r=R.getParent(A.getNode(),"a"),n.href=n.href.replace(" ","%20"),r&&n.href||B.remove("link"),n.href&&B.apply("link",n,r)},selectAll:function(){var e=R.getRoot(),t;if(A.getRng().setStart){var n=R.getParent(A.getStart(),a.isContentEditableTrue);n&&((t=R.createRng()).selectNodeContents(n),A.setRng(t))}else(t=A.getRng()).item||(t.moveToElementText(e),t.select())},delete:function(){N("Delete");var e=n.getBody();R.isEmpty(e)&&(n.setContent(""),e.firstChild&&R.isBlock(e.firstChild)?n.selection.setCursorLocation(e.firstChild,0):n.selection.setCursorLocation(e,0))},mceNewDocument:function(){n.setContent("")},InsertLineBreak:function(e,t,o){function a(){for(var e=new i(p,v),t,r=n.schema.getNonEmptyElements();t=e.next();)if(r[t.nodeName.toLowerCase()]||t.length>0)return!0}var s=o,l,c,u,d=A.getRng(!0);new r(R).normalize(d);var g=d.startOffset,p=d.startContainer;if(1==p.nodeType&&p.hasChildNodes()){var h=g>p.childNodes.length-1;p=p.childNodes[Math.min(g,p.childNodes.length-1)]||p,g=h&&3==p.nodeType?p.nodeValue.length:0}var v=R.getParent(p,R.isBlock),b=v?v.nodeName.toUpperCase():"",y=v?R.getParent(v.parentNode,R.isBlock):null,x=y?y.nodeName.toUpperCase():"",w=s&&s.ctrlKey;"LI"!=x||w||(v=y,b=x),p&&3==p.nodeType&&g>=p.nodeValue.length&&(f||a()||(l=R.create("br"),d.insertNode(l),d.setStartAfter(l),d.setEndAfter(l),c=!0)),l=R.create("br"),d.insertNode(l);var C=R.doc.documentMode;return f&&"PRE"==b&&(!C||C<8)&&l.parentNode.insertBefore(R.doc.createTextNode("\r"),l),u=R.create("span",{},"&nbsp;"),l.parentNode.insertBefore(u,l),A.scrollIntoView(u),R.remove(u),c?(d.setStartBefore(l),d.setEndBefore(l)):(d.setStartAfter(l),d.setEndAfter(l)),A.setRng(d),n.undoManager.add(),m}}),b({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(e){var t="align"+e.substring(7),n=A.isCollapsed()?[R.getParent(A.getNode(),R.isBlock)]:A.getSelectedBlocks(),r=c(n,(function(e){return!!B.matchNode(e,t)}));return-1!==u(r,m)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return S(e)},mceBlockQuote:function(){return S("blockquote")},Outdent:function(){var e;if(M.inline_styles){if((e=R.getParent(A.getStart(),R.isBlock))&&parseInt(e.style.paddingLeft,10)>0)return m;if((e=R.getParent(A.getEnd(),R.isBlock))&&parseInt(e.style.paddingLeft,10)>0)return m}return h("InsertUnorderedList")||h("InsertOrderedList")||!M.inline_styles&&!!R.getParent(A.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(e){var t=R.getParent(A.getNode(),"ul,ol");return t&&("insertunorderedlist"===e&&"UL"===t.tagName||"insertorderedlist"===e&&"OL"===t.tagName)}},"state"),b({"FontSize,FontName":function(e){var t=0,n;return(n=R.getParent(A.getNode(),"span"))&&(t="fontsize"==e?n.style.fontSize:n.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),t}},"value"),b({Undo:function(){n.undoManager.undo()},Redo:function(){n.undoManager.redo()}})}})),r(ce,[p],(function(e){function t(e,o){var a=this,s,l;if(e=r(e),s=(o=a.settings=o||{}).base_uri,/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e))a.source=e;else{var c=0===e.indexOf("//");0!==e.indexOf("/")||c||(e=(s&&s.protocol||"http")+"://mce_host"+e),/^[\w\-]*:?\/\//.test(e)||(l=o.base_uri?o.base_uri.path:new t(location.href).directory,""===o.base_uri.protocol?e="//mce_host"+a.toAbsPath(l,e):(e=/([^#?]*)([#?]?.*)/.exec(e),e=(s&&s.protocol||"http")+"://mce_host"+a.toAbsPath(l,e[1])+e[2])),e=e.replace(/@@/g,"(mce_at)"),e=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e),n(i,(function(t,n){var r=e[n];r&&(r=r.replace(/\(mce_at\)/g,"@@")),a[t]=r})),s&&(a.protocol||(a.protocol=s.protocol),a.userInfo||(a.userInfo=s.userInfo),a.port||"mce_host"!==a.host||(a.port=s.port),a.host&&"mce_host"!==a.host||(a.host=s.host),a.source=""),c&&(a.protocol="")}}var n=e.each,r=e.trim,i="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),o={ftp:21,http:80,https:443,mailto:25};return t.prototype={setPath:function(e){var t=this;e=/^(.*?)\/?(\w+)?$/.exec(e),t.path=e[0],t.directory=e[1],t.file=e[2],t.source="",t.getURI()},toRelative:function(e){var n=this,r;if("./"===e)return e;if("mce_host"!=(e=new t(e,{base_uri:n})).host&&n.host!=e.host&&e.host||n.port!=e.port||n.protocol!=e.protocol&&""!==e.protocol)return e.getURI();var i=n.getURI(),o=e.getURI();return i==o||"/"==i.charAt(i.length-1)&&i.substr(0,i.length-1)==o?i:(r=n.toRelPath(n.path,e.path),e.query&&(r+="?"+e.query),e.anchor&&(r+="#"+e.anchor),r)},toAbsolute:function(e,n){return(e=new t(e,{base_uri:this})).getURI(n&&this.isSameOrigin(e))},isSameOrigin:function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var t=o[this.protocol];if(t&&(this.port||t)==(e.port||t))return!0}return!1},toRelPath:function(e,t){var n,r=0,i="",o,a;if(e=(e=e.substring(0,e.lastIndexOf("/"))).split("/"),n=t.split("/"),e.length>=n.length)for(o=0,a=e.length;o<a;o++)if(o>=n.length||e[o]!=n[o]){r=o+1;break}if(e.length<n.length)for(o=0,a=n.length;o<a;o++)if(o>=e.length||e[o]!=n[o]){r=o+1;break}if(1===r)return t;for(o=0,a=e.length-(r-1);o<a;o++)i+="../";for(o=r-1,a=n.length;o<a;o++)i+=o!=r-1?"/"+n[o]:n[o];return i},toAbsPath:function(e,t){var r,i=0,o=[],a,s;for(a=/\/$/.test(t)?"/":"",e=e.split("/"),t=t.split("/"),n(e,(function(e){e&&o.push(e)})),e=o,r=t.length-1,o=[];r>=0;r--)0!==t[r].length&&"."!==t[r]&&(".."!==t[r]?i>0?i--:o.push(t[r]):i++);return 0!==(s=(r=e.length-i)<=0?o.reverse().join("/"):e.slice(0,r).join("/")+"/"+o.reverse().join("/")).indexOf("/")&&(s="/"+s),a&&s.lastIndexOf("/")!==s.length-1&&(s+=a),s},getURI:function(e){var t,n=this;return n.source&&!e||(t="",e||(t+=n.protocol?n.protocol+"://":"//",n.userInfo&&(t+=n.userInfo+"@"),n.host&&(t+=n.host),n.port&&(t+=":"+n.port)),n.path&&(t+=n.path),n.query&&(t+="?"+n.query),n.anchor&&(t+="#"+n.anchor),n.source=t),n.source}},t.parseDataUri=function(e){var t,n;return e=decodeURIComponent(e).split(","),(n=/data:([^;]+)/.exec(e[0]))&&(t=n[1]),{type:t,data:e[1]}},t.getDocumentBaseUrl=function(e){var t;return t=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?e.href:e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),t},t})),r(ue,[p],(function(e){function t(){}var n=e.each,r=e.extend,i,o;return t.extend=i=function(e){function t(){var e,t,n,r=this;if(!o&&(r.init&&r.init.apply(r,arguments),t=r.Mixins))for(e=t.length;e--;)(n=t[e]).init&&n.init.apply(r,arguments)}function a(){return this}function s(e,t){return function(){var n=this,r=n._super,i;return n._super=c[e],i=t.apply(n,arguments),n._super=r,i}}var l=this,c=l.prototype,u,d,f;for(d in o=!0,u=new l,o=!1,e.Mixins&&(n(e.Mixins,(function(t){for(var n in t)"init"!==n&&(e[n]=t[n])})),c.Mixins&&(e.Mixins=c.Mixins.concat(e.Mixins))),e.Methods&&n(e.Methods.split(","),(function(t){e[t]=a})),e.Properties&&n(e.Properties.split(","),(function(t){var n="_"+t;e[t]=function(e){var t=this,r;return e!==r?(t[n]=e,t):t[n]}})),e.Statics&&n(e.Statics,(function(e,n){t[n]=e})),e.Defaults&&c.Defaults&&(e.Defaults=r({},c.Defaults,e.Defaults)),e)"function"==typeof(f=e[d])&&c[d]?u[d]=s(d,f):u[d]=f;return t.prototype=u,t.constructor=t,t.extend=i,t},t})),r(de,[p],(function(e){function t(t){function n(){return!1}function r(){return!0}function i(e,i){var o,s,l,c;if(e=e.toLowerCase(),(i=i||{}).type=e,i.target||(i.target=u),i.preventDefault||(i.preventDefault=function(){i.isDefaultPrevented=r},i.stopPropagation=function(){i.isPropagationStopped=r},i.stopImmediatePropagation=function(){i.isImmediatePropagationStopped=r},i.isDefaultPrevented=n,i.isPropagationStopped=n,i.isImmediatePropagationStopped=n),t.beforeFire&&t.beforeFire(i),o=d[e])for(s=0,l=o.length;s<l;s++){if((c=o[s]).once&&a(e,c.func),i.isImmediatePropagationStopped())return i.stopPropagation(),i;if(!1===c.func.call(u,i))return i.preventDefault(),i}return i}function o(t,r,i,o){var a,s,l;if(!1===r&&(r=n),r)for(r={func:r},o&&e.extend(r,o),l=(s=t.toLowerCase().split(" ")).length;l--;)t=s[l],(a=d[t])||(a=d[t]=[],f(t,!0)),i?a.unshift(r):a.push(r);return c}function a(e,t){var n,r,i,o,a;if(e)for(n=(o=e.toLowerCase().split(" ")).length;n--;){if(e=o[n],r=d[e],!e){for(i in d)f(i,!1),delete d[i];return c}if(r){if(t)for(a=r.length;a--;)r[a].func===t&&(r=r.slice(0,a).concat(r.slice(a+1)),d[e]=r);else r.length=0;r.length||(f(e,!1),delete d[e])}}else{for(e in d)f(e,!1);d={}}return c}function s(e,t,n){return o(e,t,n,{once:!0})}function l(e){return e=e.toLowerCase(),!(!d[e]||0===d[e].length)}var c=this,u,d={},f;u=(t=t||{}).scope||c,f=t.toggleEvent||n,c.fire=i,c.on=o,c.off=a,c.once=s,c.has=l}var n=e.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend"," ");return t.isNative=function(e){return!!n[e.toLowerCase()]},t})),r(fe,[],(function(){function e(e){this.create=e.create}return e.create=function(t,n){return new e({create:function(e,r){function i(t){e.set(r,t.value)}function o(e){t.set(n,e.value)}var a;return e.on("change:"+r,o),t.on("change:"+n,i),(a=e._bindings)||(a=e._bindings=[],e.on("destroy",(function(){for(var e=a.length;e--;)a[e]()}))),a.push((function(){t.off("change:"+n,i)})),t.get(n)}})},e})),r(me,[de],(function(e){function t(t){return t._eventDispatcher||(t._eventDispatcher=new e({scope:t,toggleEvent:function(n,r){e.isNative(n)&&t.toggleNativeEvent&&t.toggleNativeEvent(n,r)}})),t._eventDispatcher}return{fire:function(e,n,r){var i=this;if(i.removed&&"remove"!==e)return n;if(n=t(i).fire(e,n,r),!1!==r&&i.parent)for(var o=i.parent();o&&!n.isPropagationStopped();)o.fire(e,n,!1),o=o.parent();return n},on:function(e,n,r){return t(this).on(e,n,r)},off:function(e,n){return t(this).off(e,n)},once:function(e,n){return t(this).once(e,n)},hasEventListeners:function(e){return t(this).has(e)}}})),r(ge,[fe,me,ue,p],(function(e,t,n,r){function i(e){return e.nodeType>0}function o(e,t){var n,a;if(e===t)return!0;if(null===e||null===t)return e===t;if("object"!=typeof e||"object"!=typeof t)return e===t;if(r.isArray(t)){if(e.length!==t.length)return!1;for(n=e.length;n--;)if(!o(e[n],t[n]))return!1}if(i(e)||i(t))return e===t;for(n in a={},t){if(!o(e[n],t[n]))return!1;a[n]=!0}for(n in e)if(!a[n]&&!o(e[n],t[n]))return!1;return!0}return n.extend({Mixins:[t],init:function(t){var n,r;for(n in t=t||{})(r=t[n])instanceof e&&(t[n]=r.create(this,n));this.data=t},set:function(t,n){var r,i,a=this.data[t];if(n instanceof e&&(n=n.create(this,t)),"object"==typeof t){for(r in t)this.set(r,t[r]);return this}return o(a,n)||(this.data[t]=n,i={target:this,name:t,value:n,oldValue:a},this.fire("change:"+t,i),this.fire("change",i)),this},get:function(e){return this.data[e]},has:function(e){return e in this.data},bind:function(t){return e.create(this,t)},destroy:function(){this.fire("destroy")}})})),r(pe,[ue],(function(e){function t(e){for(var t=[],n=e.length,r;n--;)(r=e[n]).__checked||(t.push(r),r.__checked=1);for(n=t.length;n--;)delete t[n].__checked;return t}var n=/^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,r=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,i=/^\s*|\s*$/g,o,a=e.extend({init:function(e){function t(e){if(e)return e=e.toLowerCase(),function(t){return"*"===e||t.type===e}}function o(e){if(e)return function(t){return t._name===e}}function a(e){if(e)return e=e.split("."),function(t){for(var n=e.length;n--;)if(!t.classes.contains(e[n]))return!1;return!0}}function s(e,t,n){if(e)return function(r){var i=r[e]?r[e]():"";return t?"="===t?i===n:"*="===t?i.indexOf(n)>=0:"~="===t?(" "+i+" ").indexOf(" "+n+" ")>=0:"!="===t?i!=n:"^="===t?0===i.indexOf(n):"$="===t&&i.substr(i.length-n.length)===n:!!n}}function l(e){var t;if(e)return(e=/(?:not\((.+)\))|(.+)/i.exec(e))[1]?(t=u(e[1],[]),function(e){return!d(e,t)}):(e=e[2],function(t,n,r){return"first"===e?0===n:"last"===e?n===r-1:"even"===e?n%2==0:"odd"===e?n%2==1:!!t[e]&&t[e]()})}function c(e,r,c){function u(e){e&&r.push(e)}var d;return u(t((d=n.exec(e.replace(i,"")))[1])),u(o(d[2])),u(a(d[3])),u(s(d[4],d[5],d[6])),u(l(d[7])),r.pseudo=!!d[7],r.direct=c,r}function u(e,t){var n=[],i,o,a;do{if(r.exec(""),(o=r.exec(e))&&(e=o[3],n.push(o[1]),o[2])){i=o[3];break}}while(o);for(i&&u(i,t),e=[],a=0;a<n.length;a++)">"!=n[a]&&e.push(c(n[a],[],">"===n[a-1]));return t.push(e),t}var d=this.match;this._selectors=u(e,[])},match:function(e,t){var n,r,i,o,a,s,l,c,u,d,f,m,g;for(n=0,r=(t=t||this._selectors).length;n<r;n++){for(g=e,m=0,i=(o=(a=t[n]).length)-1;i>=0;i--)for(c=a[i];g;){if(c.pseudo)for(u=d=(f=g.parent().items()).length;u--&&f[u]!==g;);for(s=0,l=c.length;s<l;s++)if(!c[s](g,u,d)){s=l+1;break}if(s===l){m++;break}if(i===o-1)break;g=g.parent()}if(m===o)return!0}return!1},find:function(e){function n(e,t,i){var o,a,s,l,c,u=t[i];for(o=0,a=e.length;o<a;o++){for(c=e[o],s=0,l=u.length;s<l;s++)if(!u[s](c,o,a)){s=l+1;break}if(s===l)i==t.length-1?r.push(c):c.items&&n(c.items(),t,i+1);else if(u.direct)return;c.items&&n(c.items(),t,i)}}var r=[],i,s,l=this._selectors;if(e.items){for(i=0,s=l.length;i<s;i++)n(e.items(),l[i],0);s>1&&(r=t(r))}return o||(o=a.Collection),new o(r)}});return a})),r(he,[p,pe,ue],(function(e,t,n){var r,i,o=Array.prototype.push,a=Array.prototype.slice;return i={length:0,init:function(e){e&&this.add(e)},add:function(t){var n=this;return e.isArray(t)?o.apply(n,t):t instanceof r?n.add(t.toArray()):o.call(n,t),n},set:function(e){var t=this,n=t.length,r;for(t.length=0,t.add(e),r=t.length;r<n;r++)delete t[r];return t},filter:function(e){var n=this,i,o,a=[],s,l;for("string"==typeof e?(e=new t(e),l=function(t){return e.match(t)}):l=e,i=0,o=n.length;i<o;i++)l(s=n[i])&&a.push(s);return new r(a)},slice:function(){return new r(a.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},each:function(t){return e.each(this,t),this},toArray:function(){return e.toArray(this)},indexOf:function(e){for(var t=this,n=t.length;n--&&t[n]!==e;);return n},reverse:function(){return new r(e.toArray(this).reverse())},hasClass:function(e){return!!this[0]&&this[0].classes.contains(e)},prop:function(e,t){var n=this,r,i;return t!==r?(n.each((function(n){n[e]&&n[e](t)})),n):(i=n[0])&&i[e]?i[e]():void 0},exec:function(t){var n=this,r=e.toArray(arguments).slice(1);return n.each((function(e){e[t]&&e[t].apply(e,r)})),n},remove:function(){for(var e=this.length;e--;)this[e].remove();return this},addClass:function(e){return this.each((function(t){t.classes.add(e)}))},removeClass:function(e){return this.each((function(t){t.classes.remove(e)}))}},e.each("fire on off show hide append prepend before after reflow".split(" "),(function(t){i[t]=function(){var n=e.toArray(arguments);return this.each((function(e){t in e&&e[t].apply(e,n)})),this}})),e.each("text name disabled active selected checked visible parent value data".split(" "),(function(e){i[e]=function(t){return this.prop(e,t)}})),r=n.extend(i),t.Collection=r,r})),r(ve,[d,p,C],(function(e,t,n){var r=0,i={id:function(){return"mceu_"+r++},create:function(e,r,i){var o=document.createElement(e);return n.DOM.setAttribs(o,r),"string"==typeof i?o.innerHTML=i:t.each(i,(function(e){e.nodeType&&o.appendChild(e)})),o},createFragment:function(e){return n.DOM.createFragment(e)},getWindowSize:function(){return n.DOM.getViewPort()},getSize:function(e){var t,n;if(e.getBoundingClientRect){var r=e.getBoundingClientRect();t=Math.max(r.width||r.right-r.left,e.offsetWidth),n=Math.max(r.height||r.bottom-r.bottom,e.offsetHeight)}else t=e.offsetWidth,n=e.offsetHeight;return{width:t,height:n}},getPos:function(e,t){return n.DOM.getPos(e,t||i.getContainer())},getContainer:function(){return e.container?e.container:document.body},getViewPort:function(e){return n.DOM.getViewPort(e)},get:function(e){return document.getElementById(e)},addClass:function(e,t){return n.DOM.addClass(e,t)},removeClass:function(e,t){return n.DOM.removeClass(e,t)},hasClass:function(e,t){return n.DOM.hasClass(e,t)},toggleClass:function(e,t,r){return n.DOM.toggleClass(e,t,r)},css:function(e,t,r){return n.DOM.setStyle(e,t,r)},getRuntimeStyle:function(e,t){return n.DOM.getStyle(e,t,!0)},on:function(e,t,r,i){return n.DOM.bind(e,t,r,i)},off:function(e,t,r){return n.DOM.unbind(e,t,r)},fire:function(e,t,r){return n.DOM.fire(e,t,r)},innerHtml:function(e,t){n.DOM.setHTML(e,t)}};return i})),r(be,[],(function(){return{parseBox:function(e){var t,n=10;if(e)return"number"==typeof e?{top:e=e||0,left:e,bottom:e,right:e}:(1===(t=(e=e.split(" ")).length)?e[1]=e[2]=e[3]=e[0]:2===t?(e[2]=e[0],e[3]=e[1]):3===t&&(e[3]=e[1]),{top:parseInt(e[0],n)||0,right:parseInt(e[1],n)||0,bottom:parseInt(e[2],n)||0,left:parseInt(e[3],n)||0})},measureBox:function(e,t){function n(t){var n=document.defaultView;return n?(t=t.replace(/[A-Z]/g,(function(e){return"-"+e})),n.getComputedStyle(e,null).getPropertyValue(t)):e.currentStyle[t]}function r(e){var t=parseFloat(n(e),10);return isNaN(t)?0:t}return{top:r(t+"TopWidth"),right:r(t+"RightWidth"),bottom:r(t+"BottomWidth"),left:r(t+"LeftWidth")}}}})),r(ye,[p],(function(e){function t(){}function n(e){this.cls=[],this.cls._map={},this.onchange=e||t,this.prefix=""}return e.extend(n.prototype,{add:function(e){return e&&!this.contains(e)&&(this.cls._map[e]=!0,this.cls.push(e),this._change()),this},remove:function(e){if(this.contains(e)){for(var t=0;t<this.cls.length&&this.cls[t]!==e;t++);this.cls.splice(t,1),delete this.cls._map[e],this._change()}return this},toggle:function(e,t){var n=this.contains(e);return n!==t&&(n?this.remove(e):this.add(e),this._change()),this},contains:function(e){return!!this.cls._map[e]},_change:function(){delete this.clsValue,this.onchange.call(this)}}),n.prototype.toString=function(){var e;if(this.clsValue)return this.clsValue;e="";for(var t=0;t<this.cls.length;t++)t>0&&(e+=" "),e+=this.prefix+this.cls[t];return e},n})),r(xe,[u],(function(e){var t={},n;return{add:function(r){var i=r.parent();if(i){if(!i._layout||i._layout.isNative())return;t[i._id]||(t[i._id]=i),n||(n=!0,e.requestAnimationFrame((function(){var e,r;for(e in n=!1,t)(r=t[e]).state.get("rendered")&&r.reflow();t={}}),document.body))}},remove:function(e){t[e._id]&&delete t[e._id]}}})),r(we,[ue,p,de,ge,he,ve,h,be,ye,xe],(function(e,t,n,r,i,o,a,s,l,c){function u(e){return e._eventDispatcher||(e._eventDispatcher=new n({scope:e,toggleEvent:function(t,r){r&&n.isNative(t)&&(e._nativeEvents||(e._nativeEvents={}),e._nativeEvents[t]=!0,e.state.get("rendered")&&d(e))}})),e._eventDispatcher}function d(e){function t(t){var n=e.getParentCtrl(t.target);n&&n.fire(t.type,t)}function n(){var e=c._lastHoverCtrl;e&&(e.fire("mouseleave",{target:e.getEl()}),e.parents().each((function(e){e.fire("mouseleave",{target:e.getEl()})})),c._lastHoverCtrl=null)}function r(t){var n=e.getParentCtrl(t.target),r=c._lastHoverCtrl,i=0,o,a,s;if(n!==r){if(c._lastHoverCtrl=n,(a=n.parents().toArray().reverse()).push(n),r){for((s=r.parents().toArray().reverse()).push(r),i=0;i<s.length&&a[i]===s[i];i++);for(o=s.length-1;o>=i;o--)(r=s[o]).fire("mouseleave",{target:r.getEl()})}for(o=i;o<a.length;o++)(n=a[o]).fire("mouseenter",{target:n.getEl()})}}function i(t){t.preventDefault(),"mousewheel"==t.type?(t.deltaY=-.025*t.wheelDelta,t.wheelDeltaX&&(t.deltaX=-.025*t.wheelDeltaX)):(t.deltaX=0,t.deltaY=t.detail),t=e.fire("wheel",t)}var o,s,l,c,u,d;if(u=e._nativeEvents){for((l=e.parents().toArray()).unshift(e),o=0,s=l.length;!c&&o<s;o++)c=l[o]._eventsRoot;for(c||(c=l[l.length-1]||e),e._eventsRoot=c,s=o,o=0;o<s;o++)l[o]._eventsRoot=c;var g=c._delegates;for(d in g||(g=c._delegates={}),u){if(!u)return!1;"wheel"!==d||m?("mouseenter"===d||"mouseleave"===d?c._hasMouseEnter||(a(c.getEl()).on("mouseleave",n).on("mouseover",r),c._hasMouseEnter=1):g[d]||(a(c.getEl()).on(d,t),g[d]=!0),u[d]=!1):f?a(e.getEl()).on("mousewheel",i):a(e.getEl()).on("DOMMouseScroll",i)}}}var f="onmousewheel"in document,m=!1,g="mce-",p,h=0,v={Statics:{classPrefix:g},isRtl:function(){return p.rtl},classPrefix:g,init:function(e){function n(e){var t;for(e=e.split(" "),t=0;t<e.length;t++)i.classes.add(e[t])}var i=this,o,c;i.settings=e=t.extend({},i.Defaults,e),i._id=e.id||"mceu_"+h++,i._aria={role:e.role},i._elmCache={},i.$=a,i.state=new r({visible:!0,active:!1,disabled:!1,value:""}),i.data=new r(e.data),i.classes=new l((function(){i.state.get("rendered")&&(i.getEl().className=this.toString())})),i.classes.prefix=i.classPrefix,(o=e.classes)&&(i.Defaults&&((c=i.Defaults.classes)&&o!=c&&n(c)),n(o)),t.each("title text name visible disabled active value".split(" "),(function(t){t in e&&i[t](e[t])})),i.on("click",(function(){if(i.disabled())return!1})),i.settings=e,i.borderBox=s.parseBox(e.border),i.paddingBox=s.parseBox(e.padding),i.marginBox=s.parseBox(e.margin),e.hidden&&i.hide()},Properties:"parent,name",getContainerElm:function(){return o.getContainer()},getParentCtrl:function(e){for(var t,n=this.getRoot().controlIdLookup;e&&n&&!(t=n[e.id]);)e=e.parentNode;return t},initLayoutRect:function(){var e=this,t=e.settings,n,r,i=e.getEl(),a,l,c,u,d,f,m,g;n=e.borderBox=e.borderBox||s.measureBox(i,"border"),e.paddingBox=e.paddingBox||s.measureBox(i,"padding"),e.marginBox=e.marginBox||s.measureBox(i,"margin"),g=o.getSize(i),f=t.minWidth,m=t.minHeight,c=f||g.width,u=m||g.height,a=t.width,l=t.height,d=void 0!==(d=t.autoResize)?d:!a&&!l,a=a||c,l=l||u;var p=n.left+n.right,h=n.top+n.bottom,v=t.maxWidth||65535,b=t.maxHeight||65535;return e._layoutRect=r={x:t.x||0,y:t.y||0,w:a,h:l,deltaW:p,deltaH:h,contentW:a-p,contentH:l-h,innerW:a-p,innerH:l-h,startMinWidth:f||0,startMinHeight:m||0,minW:Math.min(c,v),minH:Math.min(u,b),maxW:v,maxH:b,autoResize:d,scrollW:0},e._lastLayoutRect={},r},layoutRect:function(e){var t=this,n=t._layoutRect,r,i,o,a,s,l;return n||(n=t.initLayoutRect()),e?(o=n.deltaW,a=n.deltaH,e.x!==s&&(n.x=e.x),e.y!==s&&(n.y=e.y),e.minW!==s&&(n.minW=e.minW),e.minH!==s&&(n.minH=e.minH),(i=e.w)!==s&&(i=(i=i<n.minW?n.minW:i)>n.maxW?n.maxW:i,n.w=i,n.innerW=i-o),(i=e.h)!==s&&(i=(i=i<n.minH?n.minH:i)>n.maxH?n.maxH:i,n.h=i,n.innerH=i-a),(i=e.innerW)!==s&&(i=(i=i<n.minW-o?n.minW-o:i)>n.maxW-o?n.maxW-o:i,n.innerW=i,n.w=i+o),(i=e.innerH)!==s&&(i=(i=i<n.minH-a?n.minH-a:i)>n.maxH-a?n.maxH-a:i,n.innerH=i,n.h=i+a),e.contentW!==s&&(n.contentW=e.contentW),e.contentH!==s&&(n.contentH=e.contentH),(r=t._lastLayoutRect).x===n.x&&r.y===n.y&&r.w===n.w&&r.h===n.h||((l=p.repaintControls)&&l.map&&!l.map[t._id]&&(l.push(t),l.map[t._id]=!0),r.x=n.x,r.y=n.y,r.w=n.w,r.h=n.h),t):n},repaint:function(){var e=this,t,n,r,i,o,a,s,l,c,u;c=document.createRange?function(e){return e}:Math.round,t=e.getEl().style,i=e._layoutRect,l=e._lastRepaintRect||{},a=(o=e.borderBox).left+o.right,s=o.top+o.bottom,i.x!==l.x&&(t.left=c(i.x)+"px",l.x=i.x),i.y!==l.y&&(t.top=c(i.y)+"px",l.y=i.y),i.w!==l.w&&(u=c(i.w-a),t.width=(u>=0?u:0)+"px",l.w=i.w),i.h!==l.h&&(u=c(i.h-s),t.height=(u>=0?u:0)+"px",l.h=i.h),e._hasBody&&i.innerW!==l.innerW&&(u=c(i.innerW),(r=e.getEl("body"))&&((n=r.style).width=(u>=0?u:0)+"px"),l.innerW=i.innerW),e._hasBody&&i.innerH!==l.innerH&&(u=c(i.innerH),(r=r||e.getEl("body"))&&((n=n||r.style).height=(u>=0?u:0)+"px"),l.innerH=i.innerH),e._lastRepaintRect=l,e.fire("repaint",{},!1)},updateLayoutRect:function(){var e=this;e.parent()._lastRect=null,o.css(e.getEl(),{width:"",height:""}),e._layoutRect=e._lastRepaintRect=e._lastLayoutRect=null,e.initLayoutRect()},on:function(e,t){function n(e){var t,n;return"string"!=typeof e?e:function(i){return t||r.parentsAndSelf().each((function(r){var i=r.settings.callbacks;if(i&&(t=i[e]))return n=r,!1})),t?t.call(n,i):(i.action=e,void this.fire("execute",i))}}var r=this;return u(r).on(e,n(t)),r},off:function(e,t){return u(this).off(e,t),this},fire:function(e,t,n){var r=this;if((t=t||{}).control||(t.control=r),t=u(r).fire(e,t),!1!==n&&r.parent)for(var i=r.parent();i&&!t.isPropagationStopped();)i.fire(e,t,!1),i=i.parent();return t},hasEventListeners:function(e){return u(this).has(e)},parents:function(e){var t=this,n,r=new i;for(n=t.parent();n;n=n.parent())r.add(n);return e&&(r=r.filter(e)),r},parentsAndSelf:function(e){return new i(this).add(this.parents(e))},next:function(){var e=this.parent().items();return e[e.indexOf(this)+1]},prev:function(){var e=this.parent().items();return e[e.indexOf(this)-1]},innerHtml:function(e){return this.$el.html(e),this},getEl:function(e){var t=e?this._id+"-"+e:this._id;return this._elmCache[t]||(this._elmCache[t]=a("#"+t)[0]),this._elmCache[t]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(e){}return this},blur:function(){return this.getEl().blur(),this},aria:function(e,t){var n=this,r=n.getEl(n.ariaTarget);return void 0===t?n._aria[e]:(n._aria[e]=t,n.state.get("rendered")&&r.setAttribute("role"==e?e:"aria-"+e,t),n)},encode:function(e,t){return!1!==t&&(e=this.translate(e)),(e||"").replace(/[&<>"]/g,(function(e){return"&#"+e.charCodeAt(0)+";"}))},translate:function(e){return p.translate?p.translate(e):e},before:function(e){var t=this,n=t.parent();return n&&n.insert(e,n.items().indexOf(t),!0),t},after:function(e){var t=this,n=t.parent();return n&&n.insert(e,n.items().indexOf(t)),t},remove:function(){var e=this,t=e.getEl(),n=e.parent(),r,i;if(e.items){var o=e.items().toArray();for(i=o.length;i--;)o[i].remove()}n&&n.items&&(r=[],n.items().each((function(t){t!==e&&r.push(t)})),n.items().set(r),n._lastRect=null),e._eventsRoot&&e._eventsRoot==e&&a(t).off();var s=e.getRoot().controlIdLookup;return s&&delete s[e._id],t&&t.parentNode&&t.parentNode.removeChild(t),e.state.set("rendered",!1),e.state.destroy(),e.fire("remove"),e},renderBefore:function(e){return a(e).before(this.renderHtml()),this.postRender(),this},renderTo:function(e){return a(e||this.getContainerElm()).append(this.renderHtml()),this.postRender(),this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var e=this,t=e.settings,n,r,i,o,s;for(o in e.$el=a(e.getEl()),e.state.set("rendered",!0),t)0===o.indexOf("on")&&e.on(o.substr(2),t[o]);if(e._eventsRoot){for(i=e.parent();!s&&i;i=i.parent())s=i._eventsRoot;if(s)for(o in s._nativeEvents)e._nativeEvents[o]=!0}d(e),t.style&&((n=e.getEl())&&(n.setAttribute("style",t.style),n.style.cssText=t.style)),e.settings.border&&(r=e.borderBox,e.$el.css({"border-top-width":r.top,"border-right-width":r.right,"border-bottom-width":r.bottom,"border-left-width":r.left}));var l=e.getRoot();for(var u in l.controlIdLookup||(l.controlIdLookup={}),l.controlIdLookup[e._id]=e,e._aria)e.aria(u,e._aria[u]);!1===e.state.get("visible")&&(e.getEl().style.display="none"),e.bindStates(),e.state.on("change:visible",(function(t){var n=t.value,r;e.state.get("rendered")&&(e.getEl().style.display=!1===n?"none":"",e.getEl().getBoundingClientRect()),(r=e.parent())&&(r._lastRect=null),e.fire(n?"show":"hide"),c.add(e)})),e.fire("postrender",{},!1)},bindStates:function(){},scrollIntoView:function(e){function t(e,t){var n,r,i=e;for(n=r=0;i&&i!=t&&i.nodeType;)n+=i.offsetLeft||0,r+=i.offsetTop||0,i=i.offsetParent;return{x:n,y:r}}var n=this.getEl(),r=n.parentNode,i,o,a,s,l,c,u=t(n,r);return i=u.x,o=u.y,a=n.offsetWidth,s=n.offsetHeight,l=r.clientWidth,c=r.clientHeight,"end"==e?(i-=l-a,o-=c-s):"center"==e&&(i-=l/2-a/2,o-=c/2-s/2),r.scrollLeft=i,r.scrollTop=o,this},getRoot:function(){for(var e=this,t,n=[];e;){if(e.rootControl){t=e.rootControl;break}n.push(e),t=e,e=e.parent()}t||(t=this);for(var r=n.length;r--;)n[r].rootControl=t;return t},reflow:function(){c.remove(this);var e=this.parent();return e._layout&&!e._layout.isNative()&&e.reflow(),this}};return t.each("text title visible disabled active value".split(" "),(function(e){v[e]=function(t){return 0===arguments.length?this.state.get(e):(void 0!==t&&this.state.set(e,t),this)}})),p=e.extend(v)})),r(Ce,[],(function(){var e={},t;return{add:function(t,n){e[t.toLowerCase()]=n},has:function(t){return!!e[t.toLowerCase()]},create:function(n,r){var i,o,a;if(!t){for(o in a=tinymce.ui)e[o.toLowerCase()]=a[o];t=!0}if("string"==typeof n?(r=r||{}).type=n:n=(r=n).type,n=n.toLowerCase(),!(i=e[n]))throw new Error("Could not find control by type: "+n);return(i=new i(r)).type=n,i}}})),r(ke,[],(function(){return function(e){function t(e){return e&&1===e.nodeType}function n(e){return t(e=e||x)?e.getAttribute("role"):null}function r(e){for(var t,r=e||x;r=r.parentNode;)if(t=n(r))return t}function i(e){var n=x;if(t(n))return n.getAttribute("aria-"+e)}function o(e){var t=e.tagName.toUpperCase();return"INPUT"==t||"TEXTAREA"==t||"SELECT"==t}function a(e){return!(!o(e)||e.hidden)||!!/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(n(e))}function s(e){function t(e){if(1==e.nodeType&&"none"!=e.style.display&&!e.disabled){a(e)&&n.push(e);for(var r=0;r<e.childNodes.length;r++)t(e.childNodes[r])}}var n=[];return t(e||y.getEl()),n}function l(e){var t,n;(n=(e=e||w).parents().toArray()).unshift(e);for(var r=0;r<n.length&&!(t=n[r]).settings.ariaRoot;r++);return t}function c(e){var t=l(e),n=s(t.getEl());t.settings.ariaRemember&&"lastAriaIndex"in t?u(t.lastAriaIndex,n):u(0,n)}function u(e,t){return e<0?e=t.length-1:e>=t.length&&(e=0),t[e]&&t[e].focus(),e}function d(e,t){var n=-1,r=l();t=t||s(r.getEl());for(var i=0;i<t.length;i++)t[i]===x&&(n=i);n+=e,r.lastAriaIndex=u(n,t)}function f(){var e;"tablist"==r()?d(-1,s(x.parentNode)):w.parent().submenu?v():d(-1)}function m(){var e=n(),t=r();"tablist"==t?d(1,s(x.parentNode)):"menuitem"==e&&"menu"==t&&i("haspopup")?b():d(1)}function g(){d(-1)}function p(){var e=n(),t=r();"menuitem"==e&&"menubar"==t?b():"button"==e&&i("haspopup")?b({key:"down"}):d(1)}function h(e){var t;if("tablist"==r()){var n=s(w.getEl("body"))[0];n&&n.focus()}else d(e.shiftKey?-1:1)}function v(){w.fire("cancel")}function b(e){e=e||{},w.fire("click",{target:x,aria:e})}var y=e.root,x,w;try{x=document.activeElement}catch(C){x=document.body}return w=y.getParentCtrl(x),y.on("keydown",(function(e){function t(e,t){o(x)||"slider"!==n(x)&&!1!==t(e)&&e.preventDefault()}if(!e.isDefaultPrevented())switch(e.keyCode){case 37:t(e,f);break;case 39:t(e,m);break;case 38:t(e,g);break;case 40:t(e,p);break;case 27:v();break;case 14:case 13:case 32:t(e,b);break;case 9:!1!==h(e)&&e.preventDefault()}})),y.on("focusin",(function(e){x=e.target,w=e.control})),{focusFirst:c}}})),r(Ne,[we,he,pe,Ce,ke,p,h,ye,xe],(function(e,t,n,r,i,o,a,s,l){var c={};return e.extend({init:function(e){var n=this;n._super(e),(e=n.settings).fixed&&n.state.set("fixed",!0),n._items=new t,n.isRtl()&&n.classes.add("rtl"),n.bodyClasses=new s((function(){n.state.get("rendered")&&(n.getEl("body").className=this.toString())})),n.bodyClasses.prefix=n.classPrefix,n.classes.add("container"),n.bodyClasses.add("container-body"),e.containerCls&&n.classes.add(e.containerCls),n._layout=r.create((e.layout||"")+"layout"),n.settings.items?n.add(n.settings.items):n.add(n.render()),n._hasBody=!0},items:function(){return this._items},find:function(e){return(e=c[e]=c[e]||new n(e)).find(this)},add:function(e){var t=this;return t.items().add(t.create(e)).parent(t),t},focus:function(e){var t=this,n,r,i;return e&&(r=t.keyboardNav||t.parents().eq(-1)[0].keyboardNav)?void r.focusFirst(t):(i=t.find("*"),t.statusbar&&i.add(t.statusbar.items()),i.each((function(e){return e.settings.autofocus?(n=null,!1):void(e.canFocus&&(n=n||e))})),n&&n.focus(),t)},replace:function(e,t){for(var n,r=this.items(),i=r.length;i--;)if(r[i]===e){r[i]=t;break}i>=0&&((n=t.getEl())&&n.parentNode.removeChild(n),(n=e.getEl())&&n.parentNode.removeChild(n)),t.parent(this)},create:function(t){var n=this,i,a=[];return o.isArray(t)||(t=[t]),o.each(t,(function(t){t&&(t instanceof e||("string"==typeof t&&(t={type:t}),i=o.extend({},n.settings.defaults,t),t.type=i.type=i.type||t.type||n.settings.defaultType||(i.defaults?i.defaults.type:null),t=r.create(i)),a.push(t))})),a},renderNew:function(){var e=this;return e.items().each((function(t,n){var r;t.parent(e),t.state.get("rendered")||((r=e.getEl("body")).hasChildNodes()&&n<=r.childNodes.length-1?a(r.childNodes[n]).before(t.renderHtml()):a(r).append(t.renderHtml()),t.postRender(),l.add(t))})),e._layout.applyClasses(e.items().filter(":visible")),e._lastRect=null,e},append:function(e){return this.add(e).renderNew()},prepend:function(e){var t=this;return t.items().set(t.create(e).concat(t.items().toArray())),t.renderNew()},insert:function(e,t,n){var r=this,i,o,a;return e=r.create(e),i=r.items(),!n&&t<i.length-1&&(t+=1),t>=0&&t<i.length&&(o=i.slice(0,t).toArray(),a=i.slice(t).toArray(),i.set(o.concat(e,a))),r.renderNew()},fromJSON:function(e){var t=this;for(var n in e)t.find("#"+n).value(e[n]);return t},toJSON:function(){var e,t={};return this.find("*").each((function(e){var n=e.name(),r=e.value();n&&void 0!==r&&(t[n]=r)})),t},renderHtml:function(){var e=this,t=e._layout,n=this.settings.role;return e.preRender(),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes+'"'+(n?' role="'+this.settings.role+'"':"")+'><div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>"},postRender:function(){var e=this,t;return e.items().exec("postRender"),e._super(),e._layout.postRender(e),e.state.set("rendered",!0),e.settings.style&&e.$el.css(e.settings.style),e.settings.border&&(t=e.borderBox,e.$el.css({"border-top-width":t.top,"border-right-width":t.right,"border-bottom-width":t.bottom,"border-left-width":t.left})),e.parent()||(e.keyboardNav=new i({root:e})),e},initLayoutRect:function(){var e=this,t=e._super();return e._layout.recalc(e),t},recalc:function(){var e=this,t=e._layoutRect,n=e._lastRect;if(!n||n.w!=t.w||n.h!=t.h)return e._layout.recalc(e),t=e.layoutRect(),e._lastRect={x:t.x,y:t.y,w:t.w,h:t.h},!0},reflow:function(){var t;if(l.remove(this),this.visible()){for(e.repaintControls=[],e.repaintControls.map={},this.recalc(),t=e.repaintControls.length;t--;)e.repaintControls[t].repaint();"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),e.repaintControls=[]}return this}})})),r(Se,[h],(function(e){function t(e){var t,n,r,i,o,a,s,l,c=Math.max;return t=e.documentElement,n=e.body,r=c(t.scrollWidth,n.scrollWidth),i=c(t.clientWidth,n.clientWidth),o=c(t.offsetWidth,n.offsetWidth),a=c(t.scrollHeight,n.scrollHeight),s=c(t.clientHeight,n.clientHeight),{width:r<o?i:r,height:a<(l=c(t.offsetHeight,n.offsetHeight))?s:a}}function n(e){var t,n;if(e.changedTouches)for(t="screenX screenY pageX pageY clientX clientY".split(" "),n=0;n<t.length;n++)e[t[n]]=e.changedTouches[0][t[n]]}return function(r,i){function o(){return s.getElementById(i.handle||r)}var a,s=i.document||document,l,c,u,d,f,m;i=i||{},c=function(r){var c=t(s),g,p;n(r),r.preventDefault(),l=r.button,g=o(),f=r.screenX,m=r.screenY,p=window.getComputedStyle?window.getComputedStyle(g,null).getPropertyValue("cursor"):g.runtimeStyle.cursor,a=e("<div></div>").css({position:"absolute",top:0,left:0,width:c.width,height:c.height,zIndex:2147483647,opacity:1e-4,cursor:p}).appendTo(s.body),e(s).on("mousemove touchmove",d).on("mouseup touchend",u),i.start(r)},d=function(e){return n(e),e.button!==l?u(e):(e.deltaX=e.screenX-f,e.deltaY=e.screenY-m,e.preventDefault(),void i.drag(e))},u=function(t){n(t),e(s).off("mousemove touchmove",d).off("mouseup touchend",u),a.remove(),i.stop&&i.stop(t)},this.destroy=function(){e(o()).off()},e(o()).on("mousedown touchstart",c)}})),r(_e,[h,Se],(function(e,t){return{init:function(){var e=this;e.on("repaint",e.renderScroll)},renderScroll:function(){function n(){function t(t,a,s,l,c,u){var d,f,m,g,p,h,v,b,y;if(f=i.getEl("scroll"+t)){if(b=a.toLowerCase(),y=s.toLowerCase(),e(i.getEl("absend")).css(b,i.layoutRect()[l]-1),!c)return void e(f).css("display","none");e(f).css("display","block"),d=i.getEl("body"),m=i.getEl("scroll"+t+"t"),g=d["client"+s]-2*o,h=(g-=n&&r?f["client"+u]:0)/(p=d["scroll"+s]),(v={})[b]=d["offset"+a]+o,v[y]=g,e(f).css(v),(v={})[b]=d["scroll"+a]*h,v[y]=g*h,e(m).css(v)}}var n,r,a;a=i.getEl("body"),n=a.scrollWidth>a.clientWidth,r=a.scrollHeight>a.clientHeight,t("h","Left","Width","contentW",n,"Height"),t("v","Top","Height","contentH",r,"Width")}function r(){function n(n,r,a,s,l){var c,u=i._id+"-scroll"+n,d=i.classPrefix;e(i.getEl()).append('<div id="'+u+'" class="'+d+"scrollbar "+d+"scrollbar-"+n+'"><div id="'+u+'t" class="'+d+'scrollbar-thumb"></div></div>'),i.draghelper=new t(u+"t",{start:function(){c=i.getEl("body")["scroll"+r],e("#"+u).addClass(d+"active")},drag:function(e){var t,u,d,f,m=i.layoutRect();u=m.contentW>m.innerW,d=m.contentH>m.innerH,f=i.getEl("body")["client"+a]-2*o,t=(f-=u&&d?i.getEl("scroll"+n)["client"+l]:0)/i.getEl("body")["scroll"+a],i.getEl("body")["scroll"+r]=c+e["delta"+s]/t},stop:function(){e("#"+u).removeClass(d+"active")}})}i.classes.add("scroll"),n("v","Top","Height","Y","Width"),n("h","Left","Width","X","Height")}var i=this,o=2;i.settings.autoScroll&&(i._hasScroll||(i._hasScroll=!0,r(),i.on("wheel",(function(e){var t=i.getEl("body");t.scrollLeft+=10*(e.deltaX||0),t.scrollTop+=10*e.deltaY,n()})),e(i.getEl("body")).on("scroll",n)),n())}}})),r(Te,[Ne,_e],(function(e,t){return e.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[t],renderHtml:function(){var e=this,t=e._layout,n=e.settings.html;return e.preRender(),t.preRender(e),void 0===n?n='<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+t.renderHtml(e)+"</div>":("function"==typeof n&&(n=n.call(e)),e._hasBody=!1),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1" role="group">'+(e._preBodyHtml||"")+n+"</div>"}})})),r(Ee,[ve],(function(e){function t(t,n,r){var i,o,a,s,l,c,u,d,f,m;return f=e.getViewPort(),a=(o=e.getPos(n)).x,s=o.y,t.state.get("fixed")&&"static"==e.getRuntimeStyle(document.body,"position")&&(a-=f.x,s-=f.y),i=t.getEl(),l=(m=e.getSize(i)).width,c=m.height,u=(m=e.getSize(n)).width,d=m.height,"b"===(r=(r||"").split(""))[0]&&(s+=d),"r"===r[1]&&(a+=u),"c"===r[0]&&(s+=Math.round(d/2)),"c"===r[1]&&(a+=Math.round(u/2)),"b"===r[3]&&(s-=c),"r"===r[4]&&(a-=l),"c"===r[3]&&(s-=Math.round(c/2)),"c"===r[4]&&(a-=Math.round(l/2)),{x:a,y:s,w:l,h:c}}return{testMoveRel:function(n,r){for(var i=e.getViewPort(),o=0;o<r.length;o++){var a=t(this,n,r[o]);if(this.state.get("fixed")){if(a.x>0&&a.x+a.w<i.w&&a.y>0&&a.y+a.h<i.h)return r[o]}else if(a.x>i.x&&a.x+a.w<i.w+i.x&&a.y>i.y&&a.y+a.h<i.h+i.y)return r[o]}return r[0]},moveRel:function(e,n){"string"!=typeof n&&(n=this.testMoveRel(e,n));var r=t(this,e,n);return this.moveTo(r.x,r.y)},moveBy:function(e,t){var n=this,r=n.layoutRect();return n.moveTo(r.x+e,r.y+t),n},moveTo:function(t,n){function r(e,t,n){return e<0?0:e+n>t?(e=t-n)<0?0:e:e}var i=this;if(i.settings.constrainToViewport){var o=e.getViewPort(window),a=i.layoutRect();t=r(t,o.w+o.x,a.w),n=r(n,o.h+o.y,a.h)}return i.state.get("rendered")?i.layoutRect({x:t,y:n}).repaint():(i.settings.x=t,i.settings.y=n),i.fire("move",{x:t,y:n}),i}}})),r(Re,[ve],(function(e){return{resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(t,n){if(t<=1||n<=1){var r=e.getWindowSize();t=t<=1?t*r.w:t,n=n<=1?n*r.h:n}return this._layoutRect.autoResize=!1,this.layoutRect({minW:t,minH:n,w:t,h:n}).reflow()},resizeBy:function(e,t){var n=this,r=n.layoutRect();return n.resizeTo(r.w+e,r.h+t)}}})),r(Ae,[Te,Ee,Re,ve,h,u],(function(e,t,n,r,i,o){function a(e,t){for(;e;){if(e==t)return!0;e=e.parent()}}function s(e){for(var t=v.length;t--;){var n=v[t],r=n.getParentCtrl(e.target);if(n.settings.autohide){if(r&&(a(r,n)||n.parent()===r))continue;(e=n.fire("autohide",{target:e.target})).isDefaultPrevented()||n.hide()}}}function l(){g||(g=function(e){2!=e.button&&s(e)},i(document).on("click touchstart",g))}function c(){p||(p=function(){var e;for(e=v.length;e--;)d(v[e])},i(window).on("scroll",p))}function u(){if(!h){var e=document.documentElement,t=e.clientWidth,n=e.clientHeight;h=function(){document.all&&t==e.clientWidth&&n==e.clientHeight||(t=e.clientWidth,n=e.clientHeight,x.hideAll())},i(window).on("resize",h)}}function d(e){function t(t,n){for(var r,i=0;i<v.length;i++)if(v[i]!=e)for(r=v[i].parent();r&&(r=r.parent());)r==e&&v[i].fixed(t).moveBy(0,n).repaint()}var n=r.getViewPort().y;e.settings.autofix&&(e.state.get("fixed")?e._autoFixY>n&&(e.fixed(!1).layoutRect({y:e._autoFixY}).repaint(),t(!1,e._autoFixY-n)):(e._autoFixY=e.layoutRect().y,e._autoFixY<n&&(e.fixed(!0).layoutRect({y:0}).repaint(),t(!0,n-e._autoFixY))))}function f(e,t){var n,r=x.zIndex||65535,o;if(e)b.push(t);else for(n=b.length;n--;)b[n]===t&&b.splice(n,1);if(b.length)for(n=0;n<b.length;n++)b[n].modal&&(r++,o=b[n]),b[n].getEl().style.zIndex=r,b[n].zIndex=r,r++;var a=i("#"+t.classPrefix+"modal-block",t.getContainerElm())[0];o?i(a).css("z-index",o.zIndex-1):a&&(a.parentNode.removeChild(a),y=!1),x.currentZIndex=r}function m(e){var t;for(t=v.length;t--;)v[t]===e&&v.splice(t,1);for(t=b.length;t--;)b[t]===e&&b.splice(t,1)}var g,p,h,v=[],b=[],y,x=e.extend({Mixins:[t,n],init:function(e){var t=this;t._super(e),t._eventsRoot=t,t.classes.add("floatpanel"),e.autohide&&(l(),u(),v.push(t)),e.autofix&&(c(),t.on("move",(function(){d(this)}))),t.on("postrender show",(function(e){if(e.control==t){var n,r=t.classPrefix;t.modal&&!y&&((n=i("#"+r+"modal-block",t.getContainerElm()))[0]||(n=i('<div id="'+r+'modal-block" class="'+r+"reset "+r+'fade"></div>').appendTo(t.getContainerElm())),o.setTimeout((function(){n.addClass(r+"in"),i(t.getEl()).addClass(r+"in")})),y=!0),f(!0,t)}})),t.on("show",(function(){t.parents().each((function(e){if(e.state.get("fixed"))return t.fixed(!0),!1}))})),e.popover&&(t._preBodyHtml='<div class="'+t.classPrefix+'arrow"></div>',t.classes.add("popover").add("bottom").add(t.isRtl()?"end":"start")),t.aria("label",e.ariaLabel),t.aria("labelledby",t._id),t.aria("describedby",t.describedBy||t._id+"-none")},fixed:function(e){var t=this;if(t.state.get("fixed")!=e){if(t.state.get("rendered")){var n=r.getViewPort();e?t.layoutRect().y-=n.y:t.layoutRect().y+=n.y}t.classes.toggle("fixed",e),t.state.set("fixed",e)}return t},show:function(){var e=this,t,n=e._super();for(t=v.length;t--&&v[t]!==e;);return-1===t&&v.push(e),n},hide:function(){return m(this),f(!1,this),this._super()},hideAll:function(){x.hideAll()},close:function(){var e=this;return e.fire("close").isDefaultPrevented()||(e.remove(),f(!1,e)),e},remove:function(){m(this),this._super()},postRender:function(){var e=this;return e.settings.bodyRole&&this.getEl("body").setAttribute("role",e.settings.bodyRole),e._super()}});return x.hideAll=function(){for(var e=v.length;e--;){var t=v[e];t&&t.settings.autohide&&(t.hide(),v.splice(e,1))}},x})),r(Be,[Ae,Te,ve,h,Se,be,d,u],(function(e,t,n,r,i,o,a,s){function l(e){var t="width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0",n=r("meta[name=viewport]")[0],i;!1!==a.overrideViewPort&&(n||((n=document.createElement("meta")).setAttribute("name","viewport"),document.getElementsByTagName("head")[0].appendChild(n)),(i=n.getAttribute("content"))&&void 0!==m&&(m=i),n.setAttribute("content",e?t:m))}function c(e,t){u()&&!1===t&&r([document.documentElement,document.body]).removeClass(e+"fullscreen")}function u(){for(var e=0;e<f.length;e++)if(f[e]._fullscreen)return!0;return!1}function d(){function e(){var e,t=n.getWindowSize(),r;for(e=0;e<f.length;e++)r=f[e].layoutRect(),f[e].moveTo(f[e].settings.x||Math.max(0,t.w/2-r.w/2),f[e].settings.y||Math.max(0,t.h/2-r.h/2))}if(!a.desktop){var t={w:window.innerWidth,h:window.innerHeight};s.setInterval((function(){var e=window.innerWidth,n=window.innerHeight;t.w==e&&t.h==n||(t={w:e,h:n},r(window).trigger("resize"))}),100)}r(window).on("resize",e)}var f=[],m="",g=e.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(e){var r=this;r._super(e),r.isRtl()&&r.classes.add("rtl"),r.classes.add("window"),r.bodyClasses.add("window-body"),r.state.set("fixed",!0),e.buttons&&(r.statusbar=new t({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:r.isRtl()?"start":"end",defaults:{type:"button"},items:e.buttons}),r.statusbar.classes.add("foot"),r.statusbar.parent(r)),r.on("click",(function(e){var t=r.classPrefix+"close";(n.hasClass(e.target,t)||n.hasClass(e.target.parentNode,t))&&r.close()})),r.on("cancel",(function(){r.close()})),r.aria("describedby",r.describedBy||r._id+"-none"),r.aria("label",e.title),r._fullscreen=!1},recalc:function(){var e=this,t=e.statusbar,r,i,o,a;e._fullscreen&&(e.layoutRect(n.getWindowSize()),e.layoutRect().contentH=e.layoutRect().innerH),e._super(),r=e.layoutRect(),e.settings.title&&!e._fullscreen&&((i=r.headerW)>r.w&&(o=r.x-Math.max(0,i/2),e.layoutRect({w:i,x:o}),a=!0)),t&&(t.layoutRect({w:e.layoutRect().innerW}).recalc(),(i=t.layoutRect().minW+r.deltaW)>r.w&&(o=r.x-Math.max(0,i-r.w),e.layoutRect({w:i,x:o}),a=!0)),a&&e.recalc()},initLayoutRect:function(){var e=this,t=e._super(),r=0,i;if(e.settings.title&&!e._fullscreen){i=e.getEl("head");var o=n.getSize(i);t.headerW=o.width,t.headerH=o.height,r+=t.headerH}e.statusbar&&(r+=e.statusbar.layoutRect().h),t.deltaH+=r,t.minH+=r,t.h+=r;var a=n.getWindowSize();return t.x=e.settings.x||Math.max(0,a.w/2-t.w/2),t.y=e.settings.y||Math.max(0,a.h/2-t.h/2),t},renderHtml:function(){var e=this,t=e._layout,n=e._id,r=e.classPrefix,i=e.settings,o="",a="",s=i.html;return e.preRender(),t.preRender(e),i.title&&(o='<div id="'+n+'-head" class="'+r+'window-head"><div id="'+n+'-title" class="'+r+'title">'+e.encode(i.title)+'</div><div id="'+n+'-dragh" class="'+r+'dragh"></div><button type="button" class="'+r+'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>'),i.url&&(s='<iframe src="'+i.url+'" tabindex="-1"></iframe>'),void 0===s&&(s=t.renderHtml(e)),e.statusbar&&(a=e.statusbar.renderHtml()),'<div id="'+n+'" class="'+e.classes+'" hidefocus="1"><div class="'+e.classPrefix+'reset" role="application">'+o+'<div id="'+n+'-body" class="'+e.bodyClasses+'">'+s+"</div>"+a+"</div></div>"},fullscreen:function(e){var t=this,i=document.documentElement,a,l=t.classPrefix,c;if(e!=t._fullscreen)if(r(window).on("resize",(function(){var e;if(t._fullscreen)if(a)t._timer||(t._timer=s.setTimeout((function(){var e=n.getWindowSize();t.moveTo(0,0).resizeTo(e.w,e.h),t._timer=0}),50));else{e=(new Date).getTime();var r=n.getWindowSize();t.moveTo(0,0).resizeTo(r.w,r.h),(new Date).getTime()-e>50&&(a=!0)}})),c=t.layoutRect(),t._fullscreen=e,e){t._initial={x:c.x,y:c.y,w:c.w,h:c.h},t.borderBox=o.parseBox("0"),t.getEl("head").style.display="none",c.deltaH-=c.headerH+2,r([i,document.body]).addClass(l+"fullscreen"),t.classes.add("fullscreen");var u=n.getWindowSize();t.moveTo(0,0).resizeTo(u.w,u.h)}else t.borderBox=o.parseBox(t.settings.border),t.getEl("head").style.display="",c.deltaH+=c.headerH,r([i,document.body]).removeClass(l+"fullscreen"),t.classes.remove("fullscreen"),t.moveTo(t._initial.x,t._initial.y).resizeTo(t._initial.w,t._initial.h);return t.reflow()},postRender:function(){var e=this,t;setTimeout((function(){e.classes.add("in"),e.fire("open")}),0),e._super(),e.statusbar&&e.statusbar.postRender(),e.focus(),this.dragHelper=new i(e._id+"-dragh",{start:function(){t={x:e.layoutRect().x,y:e.layoutRect().y}},drag:function(n){e.moveTo(t.x+n.deltaX,t.y+n.deltaY)}}),e.on("submit",(function(t){t.isDefaultPrevented()||e.close()})),f.push(e),l(!0)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var e=this,t;for(e.dragHelper.destroy(),e._super(),e.statusbar&&this.statusbar.remove(),c(e.classPrefix,!1),t=f.length;t--;)f[t]===e&&f.splice(t,1);l(f.length>0)},getContentWindow:function(){var e=this.getEl().getElementsByTagName("iframe")[0];return e?e.contentWindow:null}});return d(),g})),r(Pe,[Be],(function(e){var t=e.extend({init:function(e){e={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}},this._super(e)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(n){function r(e,t,n){return{type:"button",text:e,subtype:n?"primary":"",onClick:function(e){e.control.parents()[1].close(),o(t)}}}var i,o=n.callback||function(){};switch(n.buttons){case t.OK_CANCEL:i=[r("Ok",!0,!0),r("Cancel",!1)];break;case t.YES_NO:case t.YES_NO_CANCEL:i=[r("Yes",1,!0),r("No",0)],n.buttons==t.YES_NO_CANCEL&&i.push(r("Cancel",-1));break;default:i=[r("Ok",!0,!0)]}return new e({padding:20,x:n.x,y:n.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:i,title:n.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:n.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:n.onClose,onCancel:function(){o(!1)}}).renderTo(document.body).reflow()},alert:function(e,n){return"string"==typeof e&&(e={text:e}),e.callback=n,t.msgBox(e)},confirm:function(e,n){return"string"==typeof e&&(e={text:e}),e.callback=n,e.buttons=t.OK_CANCEL,t.msgBox(e)}}});return t})),r(Me,[Be,Pe],(function(e,t){return function(n){function r(){if(s.length)return s[s.length-1]}function i(e){n.fire("OpenWindow",{win:e})}function o(e){n.fire("CloseWindow",{win:e})}var a=this,s=[];a.windows=s,n.on("remove",(function(){for(var e=s.length;e--;)s[e].close()})),a.open=function(t,r){var a;return n.editorManager.setActive(n),t.title=t.title||" ",t.url=t.url||t.file,t.url&&(t.width=parseInt(t.width||320,10),t.height=parseInt(t.height||240,10)),t.body&&(t.items={defaults:t.defaults,type:t.bodyType||"form",items:t.body,data:t.data,callbacks:t.commands}),t.url||t.buttons||(t.buttons=[{text:"Ok",subtype:"primary",onclick:function(){a.find("form")[0].submit()}},{text:"Cancel",onclick:function(){a.close()}}]),a=new e(t),s.push(a),a.on("close",(function(){for(var e=s.length;e--;)s[e]===a&&s.splice(e,1);s.length||n.focus(),o(a)})),t.data&&a.on("postRender",(function(){this.find("*").each((function(e){var n=e.name();n in t.data&&e.value(t.data[n])}))})),a.features=t||{},a.params=r||{},1===s.length&&n.nodeChanged(),i(a=a.renderTo().reflow()),a},a.alert=function(e,r,a){var s;(s=t.alert(e,(function(){r?r.call(a||this):n.focus()}))).on("close",(function(){o(s)})),i(s)},a.confirm=function(e,n,r){var a;(a=t.confirm(e,(function(e){n.call(r||this,e)}))).on("close",(function(){o(a)})),i(a)},a.close=function(){r()&&r().close()},a.getParams=function(){return r()?r().params:null},a.setParams=function(e){r()&&(r().params=e)},a.getWindows=function(){return s}}})),r(De,[we,Ee],(function(e,t){return e.extend({Mixins:[t],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var e=this,t=e.classPrefix;return'<div id="'+e._id+'" class="'+e.classes+'" role="presentation"><div class="'+t+'tooltip-arrow"></div><div class="'+t+'tooltip-inner">'+e.encode(e.state.get("text"))+"</div></div>"},bindStates:function(){var e=this;return e.state.on("change:text",(function(t){e.getEl().lastChild.innerHTML=e.encode(t.value)})),e._super()},repaint:function(){var e=this,t,n;t=e.getEl().style,n=e._layoutRect,t.left=n.x+"px",t.top=n.y+"px",t.zIndex=131070}})})),r(Ie,[we,De],(function(e,t){var n,r=e.extend({init:function(e){var t=this;t._super(e),e=t.settings,t.canFocus=!0,e.tooltip&&!1!==r.tooltips&&(t.on("mouseenter",(function(n){var r=t.tooltip().moveTo(-65535);if(n.control==t){var i=r.text(e.tooltip).show().testMoveRel(t.getEl(),["bc-tc","bc-tl","bc-tr"]);r.classes.toggle("tooltip-n","bc-tc"==i),r.classes.toggle("tooltip-nw","bc-tl"==i),r.classes.toggle("tooltip-ne","bc-tr"==i),r.moveRel(t.getEl(),i)}else r.hide()})),t.on("mouseleave mousedown click",(function(){t.tooltip().hide()}))),t.aria("label",e.ariaLabel||e.tooltip)},tooltip:function(){return n||(n=new t({type:"tooltip"})).renderTo(),n},postRender:function(){var e=this,t=e.settings;e._super(),e.parent()||!t.width&&!t.height||(e.initLayoutRect(),e.repaint()),t.autofocus&&e.focus()},bindStates:function(){function e(e){n.aria("disabled",e),n.classes.toggle("disabled",e)}function t(e){n.aria("pressed",e),n.classes.toggle("active",e)}var n=this;return n.state.on("change:disabled",(function(t){e(t.value)})),n.state.on("change:active",(function(e){t(e.value)})),n.state.get("disabled")&&e(!0),n.state.get("active")&&t(!0),n._super()},remove:function(){this._super(),n&&(n.remove(),n=null)}});return r})),r(Le,[Ie],(function(e){return e.extend({Defaults:{value:0},init:function(e){var t=this;t._super(e),t.classes.add("progress"),t.settings.filter||(t.settings.filter=function(e){return Math.round(e)})},renderHtml:function(){var e=this,t=e._id,n=this.classPrefix;return'<div id="'+t+'" class="'+e.classes+'"><div class="'+n+'bar-container"><div class="'+n+'bar"></div></div><div class="'+n+'text">0%</div></div>'},postRender:function(){var e=this;return e._super(),e.value(e.settings.value),e},bindStates:function(){function e(e){e=t.settings.filter(e),t.getEl().lastChild.innerHTML=e+"%",t.getEl().firstChild.firstChild.style.width=e+"%"}var t=this;return t.state.on("change:value",(function(t){e(t.value)})),e(t.state.get("value")),t._super()}})})),r(Oe,[we,Ee,Le,u],(function(e,t,n,r){return e.extend({Mixins:[t],Defaults:{classes:"widget notification"},init:function(e){var t=this;t._super(e),e.text&&t.text(e.text),e.icon&&(t.icon=e.icon),e.color&&(t.color=e.color),e.type&&t.classes.add("notification-"+e.type),e.timeout&&(e.timeout<0||e.timeout>0)&&!e.closeButton?t.closeButton=!1:(t.classes.add("has-close"),t.closeButton=!0),e.progressBar&&(t.progressBar=new n),t.on("click",(function(e){-1!=e.target.className.indexOf(t.classPrefix+"close")&&t.close()}))},renderHtml:function(){var e=this,t=e.classPrefix,n="",r="",i="",o="";return e.icon&&(n='<i class="'+t+"ico "+t+"i-"+e.icon+'"></i>'),e.color&&(o=' style="background-color: '+e.color+'"'),e.closeButton&&(r='<button type="button" class="'+t+'close" aria-hidden="true"></button>'),e.progressBar&&(i=e.progressBar.renderHtml()),'<div id="'+e._id+'" class="'+e.classes+'"'+o+' role="presentation">'+n+'<div class="'+t+'notification-inner">'+e.state.get("text")+"</div>"+i+r+"</div>"},postRender:function(){var e=this;return r.setTimeout((function(){e.$el.addClass(e.classPrefix+"in")})),e._super()},bindStates:function(){var e=this;return e.state.on("change:text",(function(t){e.getEl().childNodes[1].innerHTML=t.value})),e.progressBar&&e.progressBar.bindStates(),e._super()},close:function(){var e=this;return e.fire("close").isDefaultPrevented()||e.remove(),e},repaint:function(){var e=this,t,n;t=e.getEl().style,n=e._layoutRect,t.left=n.x+"px",t.top=n.y+"px",t.zIndex=65534}})})),r(He,[Oe,u,p],(function(e,t,n){return function(r){function i(){if(f.length)return f[f.length-1]}function o(){t.requestAnimationFrame((function(){a(),s()}))}function a(){for(var e=0;e<f.length;e++)f[e].moveTo(0,0)}function s(){if(f.length>0){var e=f.slice(0,1)[0],t=r.inline?r.getElement():r.getContentAreaContainer();if(e.moveRel(t,"tc-tc"),f.length>1)for(var n=1;n<f.length;n++)f[n].moveRel(f[n-1].getEl(),"bc-tc")}}function l(e,t){if(!u(t))return null;var r=n.grep(e,(function(e){return c(t,e)}));return 0===r.length?null:r[0]}function c(e,t){return e.type===t.settings.type&&e.text===t.settings.text}function u(e){return!e.progressBar&&!e.timeout}var d=this,f=[];d.notifications=f,r.on("remove",(function(){for(var e=f.length;e--;)f[e].close()})),r.on("ResizeEditor",s),r.on("ResizeWindow",o),d.open=function(t){if(!r.removed){var n;r.editorManager.setActive(r);var i=l(f,t);return null===i?(n=new e(t),f.push(n),t.timeout>0&&(n.timer=setTimeout((function(){n.close()}),t.timeout)),n.on("close",(function(){var e=f.length;for(n.timer&&r.getWin().clearTimeout(n.timer);e--;)f[e]===n&&f.splice(e,1);s()})),n.renderTo(),s()):n=i,n}},d.close=function(){i()&&i().close()},d.getNotifications=function(){return f},r.on("SkinLoaded",(function(){var e=r.settings.service_message;e&&r.notificationManager.open({text:e,type:"warning",timeout:0,icon:""})}))}})),r(Fe,[C],(function(e){function t(t,n,r){for(var i=[];n&&n!=t;n=n.parentNode)i.push(e.nodeIndex(n,r));return i}function n(e,t){var n,r,i;for(r=e,n=t.length-1;n>=0;n--){if(i=r.childNodes,t[n]>i.length-1)return null;r=i[t[n]]}return r}return{create:t,resolve:n}})),r(ze,[H,E,b,Fe,A,x,d,p,u,T,j,oe],(function(e,t,n,r,i,o,a,s,l,c,u,d){return function(f){function m(e,t){try{f.getDoc().execCommand(e,!1,t)}catch(n){}}function g(){var e=f.getDoc().documentMode;return e||6}function p(e){return e.isDefaultPrevented()}function h(e){var t,n;e.dataTransfer&&(f.selection.isCollapsed()&&"IMG"==e.target.tagName&&re.select(e.target),(t=f.selection.getContent()).length>0&&(n=ue+escape(f.id)+","+escape(t),e.dataTransfer.setData(de,n)))}function v(e){var t;return e.dataTransfer&&((t=e.dataTransfer.getData(de))&&t.indexOf(ue)>=0)?(t=t.substr(ue.length).split(","),{id:unescape(t[0]),html:unescape(t[1])}):null}function b(e){f.queryCommandSupported("mceInsertClipboardContent")?f.execCommand("mceInsertClipboardContent",!1,{content:e}):f.execCommand("mceInsertContent",!1,e)}function y(){function i(e){var t=w.schema.getBlockElements(),n=f.getBody();if("BR"!=e.nodeName)return!1;for(;e!=n&&!t[e.nodeName];e=e.parentNode)if(e.nextSibling)return!1;return!0}function o(e,t){var n;for(n=e.nextSibling;n&&n!=t;n=n.nextSibling)if((3!=n.nodeType||0!==Q.trim(n.data).length)&&n!==t)return!1;return n===t}function a(e,t,r){var o,a,s;if(w.isChildOf(e,f.getBody()))for(s=w.schema.getNonEmptyElements(),o=new n(r||e,e);a=o[t?"next":"prev"]();){if(s[a.nodeName]&&!i(a))return a;if(3==a.nodeType&&a.data.length>0)return a}}function c(e){var n,r,i,o,s;if(!e.collapsed&&(n=w.getParent(t.getNode(e.startContainer,e.startOffset),w.isBlock),r=w.getParent(t.getNode(e.endContainer,e.endOffset),w.isBlock),s=f.schema.getTextBlockElements(),n!=r&&s[n.nodeName]&&s[r.nodeName]&&"false"!==w.getContentEditable(n)&&"false"!==w.getContentEditable(r)))return e.deleteContents(),i=a(n,!1),o=a(r,!0),w.isEmpty(r)||Q(n).append(r.childNodes),Q(r).remove(),i?1==i.nodeType?"BR"==i.nodeName?(e.setStartBefore(i),e.setEndBefore(i)):(e.setStartAfter(i),e.setEndAfter(i)):(e.setStart(i,i.data.length),e.setEnd(i,i.data.length)):o&&(1==o.nodeType?(e.setStartBefore(o),e.setEndBefore(o)):(e.setStart(o,0),e.setEnd(o,0))),C.setRng(e),!0}function u(e,n){var r,i,s,l,c,u;if(!e.collapsed)return e;if(c=e.startContainer,u=e.startOffset,3==c.nodeType)if(n){if(u<c.data.length)return e}else if(u>0)return e;r=t.getNode(c,u),s=w.getParent(r,w.isBlock),i=a(f.getBody(),n,r),l=w.getParent(i,w.isBlock);var d=1===c.nodeType&&u>c.childNodes.length-1;if(!r||!i)return e;if(l&&s!=l)if(n){if(!o(s,l))return e;1==r.nodeType?"BR"==r.nodeName?e.setStartBefore(r):e.setStartAfter(r):e.setStart(r,r.data.length),1==i.nodeType?e.setEnd(i,0):e.setEndBefore(i)}else{if(!o(l,s))return e;1==i.nodeType?"BR"==i.nodeName?e.setStartBefore(i):e.setStartAfter(i):e.setStart(i,i.data.length),1==r.nodeType&&d?e.setEndAfter(r):e.setEndBefore(r)}return e}function d(e){var t=C.getRng();if(c(t=u(t,e)))return!0}function m(e,t){function n(e,n){return p=Q(n).parents().filter((function(e,t){return!!f.schema.getTextInlineElements()[t.nodeName]})),l=e.cloneNode(!1),(p=s.map(p,(function(e){return e=e.cloneNode(!1),l.hasChildNodes()?(e.appendChild(l.firstChild),l.appendChild(e)):l.appendChild(e),l.appendChild(e),e}))).length?(g=w.create("br"),p[0].appendChild(g),w.replace(l,e),t.setStartBefore(g),t.setEndBefore(g),f.selection.setRng(t),g):null}function i(e){return e&&f.schema.getTextBlockElements()[e.tagName]}var o,a,l,c,u,d,m,g,p;if(t.collapsed&&(d=t.startContainer,m=t.startOffset,i(a=w.getParent(d,w.isBlock))))if(1==d.nodeType){if((d=d.childNodes[m])&&"BR"!=d.tagName)return;if(u=e?a.nextSibling:a.previousSibling,w.isEmpty(a)&&i(u)&&w.isEmpty(u)&&n(a,d))return w.remove(u),!0}else if(3==d.nodeType){if(o=r.create(a,d),c=a.cloneNode(!0),d=r.resolve(c,o),e){if(m>=d.data.length)return;d.deleteData(m,1)}else{if(m<=0)return;d.deleteData(m-1,1)}if(w.isEmpty(c))return n(a,d)}}function g(e){var t,n,r;d(e)||(s.each(f.getBody().getElementsByTagName("*"),(function(e){"SPAN"==e.tagName&&e.setAttribute("mce-data-marked",1),!e.hasAttribute("data-mce-style")&&e.hasAttribute("style")&&f.dom.setAttrib(e,"style",f.dom.getAttrib(e,"style"))})),(t=new k((function(){}))).observe(f.getDoc(),{childList:!0,attributes:!0,subtree:!0,attributeFilter:["style"]}),f.getDoc().execCommand(e?"ForwardDelete":"Delete",!1,null),n=f.selection.getRng(),r=n.startContainer.parentNode,s.each(t.takeRecords(),(function(e){if(w.isChildOf(e.target,f.getBody())){if("style"==e.attributeName){var t=e.target.getAttribute("data-mce-style");t?e.target.setAttribute("style",t):e.target.removeAttribute("style")}s.each(e.addedNodes,(function(e){var t,i;"SPAN"!=e.nodeName||e.getAttribute("mce-data-marked")||(e==r&&(t=n.startOffset,i=e.firstChild),w.remove(e,!0),i&&(n.setStart(i,t),n.setEnd(i,t),f.selection.setRng(n)))}))}})),t.disconnect(),s.each(f.dom.select("span[mce-data-marked]"),(function(e){e.removeAttribute("mce-data-marked")})))}function y(e){f.undoManager.transact((function(){g(e)}))}var x=f.getDoc(),w=f.dom,C=f.selection,k=window.MutationObserver,N,S;k||(N=!0,k=function(){function e(e){var t=e.relatedNode||e.target;n.push({target:t,addedNodes:[t]})}function t(e){var t=e.relatedNode||e.target;n.push({target:t,attributeName:e.attrName})}var n=[],r;this.observe=function(n){(r=n).addEventListener("DOMSubtreeModified",e,!1),r.addEventListener("DOMNodeInsertedIntoDocument",e,!1),r.addEventListener("DOMNodeInserted",e,!1),r.addEventListener("DOMAttrModified",t,!1)},this.disconnect=function(){r.removeEventListener("DOMSubtreeModified",e,!1),r.removeEventListener("DOMNodeInsertedIntoDocument",e,!1),r.removeEventListener("DOMNodeInserted",e,!1),r.removeEventListener("DOMAttrModified",t,!1)},this.takeRecords=function(){return n}}),f.on("keydown",(function(e){var t=e.keyCode==te,n=e.ctrlKey||e.metaKey;if(!p(e)&&(t||e.keyCode==ee)){var r=f.selection.getRng(),i=r.startContainer,o=r.startOffset;if(t&&e.shiftKey)return;if(m(t,r))return void e.preventDefault();if(!n&&r.collapsed&&3==i.nodeType&&(t?o<i.data.length:o>0))return;e.preventDefault(),n&&f.selection.getSel().modify("extend",t?"forward":"backward",e.metaKey?"lineboundary":"word"),g(t)}})),f.on("keypress",(function(t){var n,r,i,o,a,s;!p(t)&&!C.isCollapsed()&&t.charCode>31&&!e.metaKeyPressed(t)&&(n=f.selection.getRng(),s=String.fromCharCode(t.charCode),t.preventDefault(),r=Q(n.startContainer).parents().filter((function(e,t){return!!f.schema.getTextInlineElements()[t.nodeName]})),g(!0),(r=r.filter((function(e,t){return!Q.contains(f.getBody(),t)}))).length?(i=w.createFragment(),r.each((function(e,t){t=t.cloneNode(!1),i.hasChildNodes()?(t.appendChild(i.firstChild),i.appendChild(t)):(a=t,i.appendChild(t)),i.appendChild(t)})),a.appendChild(f.getDoc().createTextNode(s)),o=w.getParent(n.startContainer,w.isBlock),w.isEmpty(o)?Q(o).empty().append(i):n.insertNode(i),n.setStart(a.firstChild,1),n.setEnd(a.firstChild,1),f.selection.setRng(n)):f.selection.setContent(s))})),f.addCommand("Delete",(function(){g()})),f.addCommand("ForwardDelete",(function(){g(!0)})),N||(f.on("dragstart",(function(e){S=C.getRng(),h(e)})),f.on("drop",(function(e){if(!p(e)){var n=v(e);n&&(e.preventDefault(),l.setEditorTimeout(f,(function(){var r=t.getCaretRangeFromPoint(e.x,e.y,x);S&&(C.setRng(S),S=null,y()),C.setRng(r),b(n.html)})))}})),f.on("cut",(function(e){p(e)||!e.clipboardData||f.selection.isCollapsed()||(e.preventDefault(),e.clipboardData.clearData(),e.clipboardData.setData("text/html",f.selection.getContent()),e.clipboardData.setData("text/plain",f.selection.getContent({format:"text"})),l.setEditorTimeout(f,(function(){y(!0)})))})))}function x(){function e(e){var t=ne.create("body"),n=e.cloneContents();return t.appendChild(n),re.serializer.serialize(t,{format:"html"})}function n(n){if(!n.setStart){if(n.item)return!1;var r=n.duplicate();return r.moveToElementText(f.getBody()),t.compareRanges(n,r)}var i=e(n),o=ne.createRng(),a;return o.selectNode(f.getBody()),i===e(o)}f.on("keydown",(function(e){var t=e.keyCode,r,i;if(!p(e)&&(t==te||t==ee)){if(r=f.selection.isCollapsed(),i=f.getBody(),r&&!ne.isEmpty(i))return;if(!r&&!n(f.selection.getRng()))return;e.preventDefault(),f.setContent(""),i.firstChild&&ne.isBlock(i.firstChild)?f.selection.setCursorLocation(i.firstChild,0):f.selection.setCursorLocation(i,0),f.nodeChanged()}}))}function w(){f.shortcuts.add("meta+a",null,"SelectAll")}function C(){f.settings.content_editable||ne.bind(f.getDoc(),"mousedown mouseup",(function(e){var t;if(e.target==f.getDoc().documentElement)if(t=re.getRng(),f.getBody().focus(),"mousedown"==e.type){if(c.isCaretContainer(t.startContainer))return;re.placeCaretAt(e.clientX,e.clientY)}else re.setRng(t)}))}function k(){f.on("keydown",(function(e){if(!p(e)&&e.keyCode===ee){if(!f.getBody().getElementsByTagName("hr").length)return;if(re.isCollapsed()&&0===re.getRng(!0).startOffset){var t=re.getNode(),n=t.previousSibling;if("HR"==t.nodeName)return ne.remove(t),void e.preventDefault();n&&n.nodeName&&"hr"===n.nodeName.toLowerCase()&&(ne.remove(n),e.preventDefault())}}}))}function N(){window.Range.prototype.getClientRects||f.on("mousedown",(function(e){if(!p(e)&&"HTML"===e.target.nodeName){var t=f.getBody();t.blur(),l.setEditorTimeout(f,(function(){t.focus()}))}}))}function S(){f.on("click",(function(e){var t=e.target;/^(IMG|HR)$/.test(t.nodeName)&&"false"!==ne.getContentEditableParent(t)&&(e.preventDefault(),re.select(t),f.nodeChanged()),"A"==t.nodeName&&ne.hasClass(t,"mce-item-anchor")&&(e.preventDefault(),re.select(t))}))}function _(){function e(){var e=ne.getAttribs(re.getStart().cloneNode(!1));return function(){var t=re.getStart();t!==f.getBody()&&(ne.setAttrib(t,"style",null),Z(e,(function(e){t.setAttributeNode(e.cloneNode(!0))})))}}function t(){return!re.isCollapsed()&&ne.getParent(re.getStart(),ne.isBlock)!=ne.getParent(re.getEnd(),ne.isBlock)}f.on("keypress",(function(n){var r;if(!p(n)&&(8==n.keyCode||46==n.keyCode)&&t())return r=e(),f.getDoc().execCommand("delete",!1,null),r(),n.preventDefault(),!1})),ne.bind(f.getDoc(),"cut",(function(n){var r;!p(n)&&t()&&(r=e(),l.setEditorTimeout(f,(function(){r()})))}))}function T(){document.body.setAttribute("role","application")}function E(){f.on("keydown",(function(e){if(!p(e)&&e.keyCode===ee&&re.isCollapsed()&&0===re.getRng(!0).startOffset){var t=re.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}}))}function R(){g()>7||(m("RespectVisibilityInDesign",!0),f.contentStyles.push(".mceHideBrInPre pre br {display: none}"),ne.addClass(f.getBody(),"mceHideBrInPre"),oe.addNodeFilter("pre",(function(e){for(var t=e.length,n,r,o,a;t--;)for(r=(n=e[t].getAll("br")).length;r--;)(a=(o=n[r]).prev)&&3===a.type&&"\n"!=a.value.charAt(a.value-1)?a.value+="\n":o.parent.insert(new i("#text",3),o,!0).value="\n"})),ae.addNodeFilter("pre",(function(e){for(var t=e.length,n,r,i,o;t--;)for(r=(n=e[t].getAll("br")).length;r--;)(o=(i=n[r]).prev)&&3==o.type&&(o.value=o.value.replace(/\r?\n$/,""))})))}function A(){ne.bind(f.getBody(),"mouseup",(function(){var e,t=re.getNode();"IMG"==t.nodeName&&((e=ne.getStyle(t,"width"))&&(ne.setAttrib(t,"width",e.replace(/[^0-9%]+/g,"")),ne.setStyle(t,"width","")),(e=ne.getStyle(t,"height"))&&(ne.setAttrib(t,"height",e.replace(/[^0-9%]+/g,"")),ne.setStyle(t,"height","")))}))}function B(){f.on("keydown",(function(t){var n,r,i,o,a;if(!p(t)&&t.keyCode==e.BACKSPACE&&(r=(n=re.getRng()).startContainer,i=n.startOffset,o=ne.getRoot(),a=r,n.collapsed&&0===i)){for(;a&&a.parentNode&&a.parentNode.firstChild==a&&a.parentNode!=o;)a=a.parentNode;"BLOCKQUOTE"===a.tagName&&(f.formatter.toggle("blockquote",null,a),(n=ne.createRng()).setStart(r,0),n.setEnd(r,0),re.setRng(n))}}))}function P(){function e(){m("StyleWithCSS",!1),m("enableInlineTableEditing",!1),ie.object_resizing||m("enableObjectResizing",!1)}ie.readonly||f.on("BeforeExecCommand MouseDown",e)}function M(){function e(){Z(ne.select("a"),(function(e){var t=e.parentNode,n=ne.getRoot();if(t.lastChild===e){for(;t&&!ne.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}ne.add(t,"br",{"data-mce-bogus":1})}}))}f.on("SetContent ExecCommand",(function(t){"setcontent"!=t.type&&"mceInsertLink"!==t.command||e()}))}function D(){ie.forced_root_block&&f.on("init",(function(){m("DefaultParagraphSeparator",ie.forced_root_block)}))}function I(){f.on("keydown",(function(e){var t;p(e)||e.keyCode!=ee||(t=f.getDoc().selection.createRange())&&t.item&&(e.preventDefault(),f.undoManager.beforeChange(),ne.remove(t.item(0)),f.undoManager.add())}))}function L(){var e;g()>=10&&(e="",Z("p div h1 h2 h3 h4 h5 h6".split(" "),(function(t,n){e+=(n>0?",":"")+t+":empty"})),f.contentStyles.push(e+"{padding-right: 1px !important}"))}function O(){g()<9&&(oe.addNodeFilter("noscript",(function(e){for(var t=e.length,n,r;t--;)(r=(n=e[t]).firstChild)&&n.attr("data-mce-innertext",r.value)})),ae.addNodeFilter("noscript",(function(e){for(var t=e.length,n,r,a;t--;)n=e[t],(r=e[t].firstChild)?r.value=o.decode(r.value):(a=n.attributes.map["data-mce-innertext"])&&(n.attr("data-mce-innertext",null),(r=new i("#text",3)).value=a,r.raw=!0,n.append(r))})))}function H(){function e(e,t){var n=i.createTextRange();try{n.moveToPoint(e,t)}catch(r){n=null}return n}function t(t){var r;t.button?(r=e(t.x,t.y))&&(r.compareEndPoints("StartToStart",a)>0?r.setEndPoint("StartToStart",a):r.setEndPoint("EndToEnd",a),r.select()):n()}function n(){var e=r.selection.createRange();a&&!e.item&&0===e.compareEndPoints("StartToEnd",e)&&a.select(),ne.unbind(r,"mouseup",n),ne.unbind(r,"mousemove",t),a=o=0}var r=ne.doc,i=r.body,o,a,s;r.documentElement.unselectable=!0,ne.bind(r,"mousedown contextmenu",(function(i){if("HTML"===i.target.nodeName){if(o&&n(),(s=r.documentElement).scrollHeight>s.clientHeight)return;o=1,(a=e(i.x,i.y))&&(ne.bind(r,"mouseup",n),ne.bind(r,"mousemove",t),ne.getRoot().focus(),a.select())}}))}function F(){f.on("keyup focusin mouseup",(function(t){65==t.keyCode&&e.metaKeyPressed(t)||re.normalize()}),!0)}function z(){f.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")}function U(){f.inline||f.on("keydown",(function(){document.activeElement==document.body&&f.getWin().focus()}))}function W(){f.inline||(f.contentStyles.push("body {min-height: 150px}"),f.on("click",(function(e){var t;if("HTML"==e.target.nodeName){if(a.ie>11)return void f.getBody().focus();t=f.selection.getRng(),f.getBody().focus(),f.selection.setRng(t),f.selection.normalize(),f.nodeChanged()}})))}function $(){a.mac&&f.on("keydown",(function(t){!e.metaKeyPressed(t)||t.shiftKey||37!=t.keyCode&&39!=t.keyCode||(t.preventDefault(),f.selection.getSel().modify("move",37==t.keyCode?"backward":"forward","lineboundary"))}))}function j(){m("AutoUrlDetect",!1)}function V(){f.on("click",(function(e){var t=e.target;do{if("A"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)})),f.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}function q(){f.on("init",(function(){f.dom.bind(f.getBody(),"submit",(function(e){e.preventDefault()}))}))}function Y(){oe.addNodeFilter("br",(function(e){for(var t=e.length;t--;)"Apple-interchange-newline"==e[t].attr("class")&&e[t].remove()}))}function K(){f.on("dragstart",(function(e){h(e)})),f.on("drop",(function(e){if(!p(e)){var n=v(e);if(n&&n.id!=f.id){e.preventDefault();var r=t.getCaretRangeFromPoint(e.x,e.y,f.getDoc());re.setRng(r),b(n.html)}}}))}function X(){}function G(){var e;return se?!(e=f.selection.getSel())||!e.rangeCount||0===e.rangeCount:0}function J(){function t(e){var t=new d(e.getBody()),n=e.selection.getRng(),r=u.fromRangeStart(n),i=u.fromRangeEnd(n),o=t.prev(r),a=t.next(i);return!e.selection.isCollapsed()&&(!o||o.isAtStart()&&r.isEqual(o))&&(!a||a.isAtEnd()&&r.isEqual(a))}f.on("keypress",(function(n){!p(n)&&!re.isCollapsed()&&n.charCode>31&&!e.metaKeyPressed(n)&&t(f)&&(n.preventDefault(),f.setContent(String.fromCharCode(n.charCode)),f.selection.select(f.getBody(),!0),f.selection.collapse(!1),f.nodeChanged())})),f.on("keydown",(function(e){var n=e.keyCode;p(e)||n!=te&&n!=ee||t(f)&&(e.preventDefault(),f.setContent(""),f.nodeChanged())}))}var Z=s.each,Q=f.$,ee=e.BACKSPACE,te=e.DELETE,ne=f.dom,re=f.selection,ie=f.settings,oe=f.parser,ae=f.serializer,se=a.gecko,le=a.ie,ce=a.webkit,ue="data:text/mce-internal,",de=le?"Text":"URL";return B(),x(),a.windowsPhone||F(),ce&&(J(),y(),C(),S(),D(),q(),E(),Y(),a.iOS?(U(),W(),V()):w()),le&&a.ie<11&&(k(),T(),R(),A(),I(),L(),O(),H()),a.ie>=11&&(W(),E()),a.ie&&(w(),j(),K()),se&&(J(),k(),N(),_(),P(),M(),z(),$(),E()),{refreshContentEditable:X,isHidden:G}}})),r(Ue,[me,C,p],(function(e,t,n){function r(e,t){return"selectionchange"==t?e.getDoc():!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t)?e.getDoc().documentElement:e.settings.event_root?(e.eventRoot||(e.eventRoot=o.select(e.settings.event_root)[0]),e.eventRoot):e.getBody()}function i(e,t){function n(e){return!e.hidden&&!e.readonly}var i=r(e,t),s;if(e.delegates||(e.delegates={}),!e.delegates[t])if(e.settings.event_root){if(a||(a={},e.editorManager.on("removeEditor",(function(){var t;if(!e.editorManager.activeEditor&&a){for(t in a)e.dom.unbind(r(e,t));a=null}}))),a[t])return;s=function(r){for(var i=r.target,a=e.editorManager.editors,s=a.length;s--;){var l=a[s].getBody();(l===i||o.isChildOf(i,l))&&n(a[s])&&a[s].fire(t,r)}},a[t]=s,o.bind(i,t,s)}else s=function(r){n(e)&&e.fire(t,r)},o.bind(i,t,s),e.delegates[t]=s}var o=t.DOM,a,s={bindPendingEventDelegates:function(){var e=this;n.each(e._pendingNativeEvents,(function(t){i(e,t)}))},toggleNativeEvent:function(e,t){var n=this;"focus"!=e&&"blur"!=e&&(t?n.initialized?i(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind(r(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents:function(){var e=this,t;if(e.delegates){for(t in e.delegates)e.dom.unbind(r(e,t),t,e.delegates[t]);delete e.delegates}e.inline||(e.getBody().onload=null,e.dom.unbind(e.getWin()),e.dom.unbind(e.getDoc())),e.dom.unbind(e.getBody()),e.dom.unbind(e.getContainer())}};return n.extend({},e,s)})),r(We,[],(function(){function e(e,t,n){try{e.getDoc().execCommand(t,!1,n)}catch(r){}}function t(e){var t,n;return t=e.getBody(),n=function(t){e.dom.getParents(t.target,"a").length>0&&t.preventDefault()},e.dom.bind(t,"click",n),{unbind:function(){e.dom.unbind(t,"click",n)}}}function n(n,r){n._clickBlocker&&(n._clickBlocker.unbind(),n._clickBlocker=null),r?(n._clickBlocker=t(n),n.selection.controlSelection.hideResizeRect(),n.readonly=!0,n.getBody().contentEditable=!1):(n.readonly=!1,n.getBody().contentEditable=!0,e(n,"StyleWithCSS",!1),e(n,"enableInlineTableEditing",!1),e(n,"enableObjectResizing",!1),n.focus(),n.nodeChanged())}function r(e,t){var r=e.readonly?"readonly":"design";t!=r&&(e.initialized?n(e,"readonly"==t):e.on("init",(function(){n(e,"readonly"==t)})),e.fire("SwitchMode",{mode:t}))}return{setMode:r}})),r($e,[p,d],(function(e,t){var n=e.each,r=e.explode,i={f9:120,f10:121,f11:122},o=e.makeMap("alt,ctrl,shift,meta,access");return function(a){function s(e){var a,s,l={};for(s in n(r(e,"+"),(function(e){e in o?l[e]=!0:/^[0-9]{2,}$/.test(e)?l.keyCode=parseInt(e,10):(l.charCode=e.charCodeAt(0),l.keyCode=i[e]||e.toUpperCase().charCodeAt(0))})),a=[l.keyCode],o)l[s]?a.push(s):l[s]=!1;return l.id=a.join(","),l.access&&(l.alt=!0,t.mac?l.ctrl=!0:l.shift=!0),l.meta&&(t.mac?l.meta=!0:(l.ctrl=!0,l.meta=!1)),l}function l(t,n,i,o){var l;return(l=e.map(r(t,">"),s))[l.length-1]=e.extend(l[l.length-1],{func:i,scope:o||a}),e.extend(l[0],{desc:a.translate(n),subpatterns:l.slice(1)})}function c(e){return e.altKey||e.ctrlKey||e.metaKey}function u(e){return"keydown"===e.type&&e.keyCode>=112&&e.keyCode<=123}function d(e,t){return!!t&&t.ctrl==e.ctrlKey&&t.meta==e.metaKey&&t.alt==e.altKey&&t.shift==e.shiftKey&&!!(e.keyCode==t.keyCode||e.charCode&&e.charCode==t.charCode)&&(e.preventDefault(),!0)}function f(e){return e.func?e.func.call(e.scope):null}var m=this,g={},p=[];a.on("keyup keypress keydown",(function(e){!c(e)&&!u(e)||e.isDefaultPrevented()||(n(g,(function(t){if(d(e,t))return p=t.subpatterns.slice(0),"keydown"==e.type&&f(t),!0})),d(e,p[0])&&(1===p.length&&"keydown"==e.type&&f(p[0]),p.shift()))})),m.add=function(t,i,o,s){var c;return c=o,"string"==typeof o?o=function(){a.execCommand(c,!1,null)}:e.isArray(c)&&(o=function(){a.execCommand(c[0],c[1],c[2])}),n(r(e.trim(t.toLowerCase())),(function(e){var t=l(e,i,o,s);g[t.id]=t})),!0},m.remove=function(e){var t=l(e);return!!g[t.id]&&(delete g[t.id],!0)}}})),r(je,[c,p,z],(function(e,t,n){return function(r,i){function o(e){var t,n;return t=(n={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"})[e.blob().type.toLowerCase()]||"dat",e.filename()+"."+t}function a(e,t){return e?e.replace(/\/$/,"")+"/"+t.replace(/^\//,""):t}function s(e){return{id:e.id,blob:e.blob,base64:e.base64,filename:n.constant(o(e))}}function l(e,t,n,r){var o,s;(o=new XMLHttpRequest).open("POST",i.url),o.withCredentials=i.credentials,o.upload.onprogress=function(e){r(e.loaded/e.total*100)},o.onerror=function(){n("Image upload failed due to a XHR Transport error. Code: "+o.status)},o.onload=function(){var e;return 200!=o.status?void n("HTTP Error: "+o.status):(e=JSON.parse(o.responseText))&&"string"==typeof e.location?void t(a(i.basePath,e.location)):void n("Invalid JSON: "+o.responseText)},(s=new FormData).append("file",e.blob(),e.filename()),o.send(s)}function c(){return new e((function(e){e([])}))}function u(e,t){return{url:t,blobInfo:e,status:!0}}function d(e,t){return{url:"",blobInfo:e,status:!1,error:t}}function f(e,n){t.each(b[e],(function(e){e(n)})),delete b[e]}function m(t,n,i){return r.markPending(t.blobUri()),new e((function(e){var o,a,l=function(){};try{var c=function(){o&&(o.close(),a=l)},m=function(n){c(),r.markUploaded(t.blobUri(),n),f(t.blobUri(),u(t,n)),e(u(t,n))},g=function(n){c(),r.removeFailed(t.blobUri()),f(t.blobUri(),d(t,n)),e(d(t,n))};a=function(e){e<0||e>100||(o||(o=i()),o.progressBar.value(e))},n(s(t),m,g,a)}catch(p){e(d(t,p.message))}}))}function g(e){return e===l}function p(t){var n=t.blobUri();return new e((function(e){b[n]=b[n]||[],b[n].push(e)}))}function h(n,o){return n=t.grep(n,(function(e){return!r.isUploaded(e.blobUri())})),e.all(t.map(n,(function(e){return r.isPending(e.blobUri())?p(e):m(e,i.handler,o)})))}function v(e,t){return!i.url&&g(i.handler)?c():h(e,t)}var b={};return i=t.extend({credentials:!1,handler:l},i),{upload:v}}})),r(Ve,[c],(function(e){function t(t){return new e((function(e){var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="blob",n.onload=function(){200==this.status&&e(this.response)},n.send()}))}function n(e){var t,n;return e=decodeURIComponent(e).split(","),(n=/data:([^;]+)/.exec(e[0]))&&(t=n[1]),{type:t,data:e[1]}}function r(t){return new e((function(e){var r,i,o;t=n(t);try{r=atob(t.data)}catch(a){return void e(new Blob([]))}for(i=new Uint8Array(r.length),o=0;o<i.length;o++)i[o]=r.charCodeAt(o);e(new Blob([i],{type:t.type}))}))}function i(e){return 0===e.indexOf("blob:")?t(e):0===e.indexOf("data:")?r(e):null}function o(t){return new e((function(e){var n=new FileReader;n.onloadend=function(){e(n.result)},n.readAsDataURL(t)}))}return{uriToBlob:i,blobToDataUri:o,parseDataUri:n}})),r(qe,[c,g,z,Ve,d],(function(e,t,n,r,i){var o=0,a=function(e){return(e||"blobid")+o++};return function(o,s){function l(l,u){function d(e,t){var n,i;return 0===e.src.indexOf("blob:")?void((i=s.getByUri(e.src))?t({image:e,blobInfo:i}):r.uriToBlob(e.src).then((function(o){r.blobToDataUri(o).then((function(l){n=r.parseDataUri(l).data,i=s.create(a(),o,n),s.add(i),t({image:e,blobInfo:i})}))}))):(n=r.parseDataUri(e.src).data,void((i=s.findFirst((function(e){return e.base64()===n})))?t({image:e,blobInfo:i}):r.uriToBlob(e.src).then((function(r){i=s.create(a(),r,n),s.add(i),t({image:e,blobInfo:i})}))))}var f,m;return u||(u=n.constant(!0)),f=t.filter(l.getElementsByTagName("img"),(function(e){var t=e.src;return!!i.fileApi&&!e.hasAttribute("data-mce-bogus")&&!e.hasAttribute("data-mce-placeholder")&&!(!t||t==i.transparentSrc)&&(0===t.indexOf("blob:")?!o.isUploaded(t):0===t.indexOf("data:")&&u(e))})),m=t.map(f,(function(t){var n;return c[t.src]?new e((function(e){c[t.src].then((function(n){e({image:t,blobInfo:n.blobInfo})}))})):(n=new e((function(e){d(t,e)})).then((function(e){return delete c[e.image.src],e})).catch((function(e){return delete c[t.src],e})),c[t.src]=n,n)})),e.all(m)}var c={};return{findAll:l}}})),r(Ye,[g,z],(function(e,t){return function(){function n(e,t,n,r){return{id:u(e),filename:u(r||e),blob:u(t),base64:u(n),blobUri:u(URL.createObjectURL(t))}}function r(e){i(e.id())||c.push(e)}function i(e){return o((function(t){return t.id()===e}))}function o(t){return e.filter(c,t)[0]}function a(e){return o((function(t){return t.blobUri()==e}))}function s(t){c=e.filter(c,(function(e){return e.blobUri()!==t||(URL.revokeObjectURL(e.blobUri()),!1)}))}function l(){e.each(c,(function(e){URL.revokeObjectURL(e.blobUri())})),c=[]}var c=[],u=t.constant;return{create:n,add:r,get:i,getByUri:a,findFirst:o,removeByUri:s,destroy:l}}})),r(Ke,[],(function(){return function(){function e(e,t){return{status:e,resultUri:t}}function t(e){return e in d}function n(e){var t=d[e];return t?t.resultUri:null}function r(e){return!!t(e)&&d[e].status===c}function i(e){return!!t(e)&&d[e].status===u}function o(t){d[t]=e(c,null)}function a(t,n){d[t]=e(u,n)}function s(e){delete d[e]}function l(){d={}}var c=1,u=2,d={};return{hasBlobUri:t,getResultUri:n,isPending:r,isUploaded:i,markPending:o,markUploaded:a,removeFailed:s,destroy:l}}})),r(Xe,[N],(function(e){var t=e.PluginManager,n=function(e,n){for(var r in t.urls){var i;if(t.urls[r]+"/plugin"+n+".js"===e)return r}return null},r=function(e,t){var r=n(t,e.suffix);return r?"Failed to load plugin: "+r+" from url "+t:"Failed to load plugin url: "+t},i=function(e,t){e.notificationManager.open({type:"error",text:t})},o=function(e,t){e._skinLoaded?i(e,t):e.on("SkinLoaded",(function(){i(e,t)}))},a,s;return{pluginLoadError:function(e,t){o(e,r(e,t))},uploadError:function(e,t){o(e,"Failed to upload image: "+t)}}})),r(Ge,[g,je,qe,Ye,Ke,Xe],(function(e,t,n,r,i,o){return function(a){function s(e){return function(t){return a.selection?e(t):[]}}function l(){return"?"+(new Date).getTime()}function c(e,t,n){var r=0;do{-1!==(r=e.indexOf(t,r))&&(e=e.substring(0,r)+n+e.substr(r+t.length),r+=n.length-t.length+1)}while(-1!==r);return e}function u(e,t,n){return e=c(e,'src="'+t+'"','src="'+n+'"'),c(e,'data-mce-src="'+t+'"','data-mce-src="'+n+'"')}function d(t,n){e.each(a.undoManager.data,(function(r){"fragmented"===r.type?r.fragments=e.map(r.fragments,(function(e){return u(e,t,n)})):r.content=u(r.content,t,n)}))}function f(){return a.notificationManager.open({text:a.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}function m(e,t){x.removeByUri(e.src),d(e.src,t),a.$(e).attr({src:k.images_reuse_filename?t+l():t,"data-mce-src":a.convertURL(t,"src")})}function g(n){return w||(w=new t(N,{url:k.images_upload_url,basePath:k.images_upload_base_path,credentials:k.images_upload_credentials,handler:k.images_upload_handler})),v().then(s((function(t){var r;return r=e.map(t,(function(e){return e.blobInfo})),w.upload(r,f).then(s((function(r){return r=e.map(r,(function(e,n){var r=t[n].image;return e.status&&!1!==a.settings.images_replace_blob_uris?m(r,e.url):e.error&&o.uploadError(a,e.error),{element:r,status:e.status}})),n&&n(r),r})))})))}function p(e){if(!1!==k.automatic_uploads)return g(e)}function h(e){return!k.images_dataimg_filter||k.images_dataimg_filter(e)}function v(){return C||(C=new n(N,x)),C.findAll(a.getBody(),h).then(s((function(t){return e.each(t,(function(e){d(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")})),t})))}function b(){x.destroy(),N.destroy(),C=w=null}function y(t){return t.replace(/src="(blob:[^"]+)"/g,(function(t,n){var r=N.getResultUri(n);if(r)return'src="'+r+'"';var i=x.getByUri(n);return i||(i=e.reduce(a.editorManager.editors,(function(e,t){return e||t.editorUpload.blobCache.getByUri(n)}),null)),i?'src="data:'+i.blob().type+";base64,"+i.base64()+'"':t}))}var x=new r,w,C,k=a.settings,N=new i;return a.on("setContent",(function(){!1!==a.settings.automatic_uploads?p():v()})),a.on("RawSaveContent",(function(e){e.content=y(e.content)})),a.on("getContent",(function(e){e.source_view||"raw"==e.format||(e.content=y(e.content))})),a.on("PostRender",(function(){a.parser.addNodeFilter("img",(function(t){e.each(t,(function(e){var t=e.attr("src");if(!x.getByUri(t)){var n=N.getResultUri(t);n&&e.attr("src",n)}}))}))})),{blobCache:x,uploadImages:g,uploadImagesAuto:p,scanForImages:v,destroy:b}}})),r(Je,[T,j,S,E,h,W,u],(function(e,t,n,r,i,o,a){var s=n.isContentEditableFalse;return function(t,n){function r(e,n){var r=o.collapse(e.getBoundingClientRect(),n),i,a,s,l,c;return"BODY"==t.tagName?(i=t.ownerDocument.documentElement,a=t.scrollLeft||i.scrollLeft,s=t.scrollTop||i.scrollTop):(c=t.getBoundingClientRect(),a=t.scrollLeft-c.left,s=t.scrollTop-c.top),r.left+=a,r.right+=a,r.top+=s,r.bottom+=s,r.width=1,(l=e.offsetWidth-e.clientWidth)>0&&(n&&(l*=-1),r.left+=l,r.right+=l),r}function l(){var n,r,o,a,s;for(n=i("*[contentEditable=false]",t),a=0;a<n.length;a++)o=(r=n[a]).previousSibling,e.endsWithCaretContainer(o)&&(1==(s=o.data).length?o.parentNode.removeChild(o):o.deleteData(s.length-1,1)),o=r.nextSibling,e.startsWithCaretContainer(o)&&(1==(s=o.data).length?o.parentNode.removeChild(o):o.deleteData(0,1));return null}function c(o,a){var l,c;return u(),n(a)?(h=e.insertBlock("p",a,o),l=r(a,o),i(h).css("top",l.top),p=i('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(l).appendTo(t),o&&p.addClass("mce-visual-caret-before"),d(),(c=a.ownerDocument.createRange()).setStart(h,0),c.setEnd(h,0),c):(h=e.insertInline(a,o),c=a.ownerDocument.createRange(),s(h.nextSibling)?(c.setStart(h,0),c.setEnd(h,0)):(c.setStart(h,1),c.setEnd(h,1)),c)}function u(){l(),h&&(e.remove(h),h=null),p&&(p.remove(),p=null),clearInterval(g)}function d(){g=a.setInterval((function(){i("div.mce-visual-caret",t).toggleClass("mce-visual-caret-hidden")}),500)}function f(){a.clearInterval(g)}function m(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"}var g,p,h;return{show:c,hide:u,getCss:m,destroy:f}}})),r(Ze,[g,S,W],(function(e,t,n){function r(i){function o(t){return e.map(t,(function(e){return(e=n.clone(e)).node=i,e}))}if(e.isArray(i))return e.reduce(i,(function(e,t){return e.concat(r(t))}),[]);if(t.isElement(i))return o(i.getClientRects());if(t.isText(i)){var a=i.ownerDocument.createRange();return a.setStart(i,0),a.setEnd(i,i.data.length),o(a.getClientRects())}}return{getClientRects:r}})),r(Qe,[z,g,Ze,U,ie,oe,j,W],(function(e,t,n,r,i,o,a,s){function l(e,t,n,o){for(;o=i.findNode(o,e,r.isEditableCaretCandidate,t);)if(n(o))return}function c(e,r,i,o,a,s){function c(o){var s,l,c;for(c=n.getClientRects(o),-1==e&&(c=c.reverse()),s=0;s<c.length;s++)if(l=c[s],!i(l,m)){if(f.length>0&&r(l,t.last(f))&&u++,l.line=u,a(l))return!0;f.push(l)}}var u=0,d,f=[],m;return(m=t.last(s.getClientRects()))?(c(d=s.getNode()),l(e,o,c,d),f):f}function u(e,t){return t.line>e}function d(e,t){return t.line===e}function f(e,n,r,i){function l(e){return t.last(e.getClientRects())}var c=new o(n),u,d,f,m,g=[],p=0,h,v;1==e?(u=c.next,d=s.isBelow,f=s.isAbove,m=a.after(i)):(u=c.prev,d=s.isAbove,f=s.isBelow,m=a.before(i)),v=l(m);do{if(m.isVisible()&&!f(h=l(m),v)){if(g.length>0&&d(h,t.last(g))&&p++,(h=s.clone(h)).position=m,h.line=p,r(h))return g;g.push(h)}}while(m=u(m));return g}var m=e.curry,g,p;return{upUntil:m(c,-1,s.isAbove,s.isBelow),downUntil:m(c,1,s.isBelow,s.isAbove),positionsUntil:f,isAboveLine:m(u),isLine:m(d)}})),r(et,[z,g,S,Ze,W,ie,U],(function(e,t,n,r,i,o,a){function s(e,t){return Math.abs(e.left-t)}function l(e,t){return Math.abs(e.right-t)}function c(e,n){function r(e,t){return e>=t.left&&e<=t.right}return t.reduce(e,(function(e,t){var i,o;return i=Math.min(s(e,n),l(e,n)),o=Math.min(s(t,n),l(t,n)),r(n,t)?t:r(n,e)?e:o==i&&p(t.node)?t:o<i?t:e}))}function u(e,t,n,r){for(;r=h(r,e,a.isEditableCaretCandidate,t);)if(n(r))return}function d(e,n){function o(e,i){var o;return o=t.filter(r.getClientRects(i),(function(t){return!e(t,n)})),a=a.concat(o),0===o.length}var a=[];return a.push(n),u(-1,e,v(o,i.isAbove),n.node),u(1,e,v(o,i.isBelow),n.node),a}function f(e){return t.filter(t.toArray(e.getElementsByTagName("*")),p)}function m(e,t){return{node:e.node,before:s(e,t)<l(e,t)}}function g(e,n,i){var o,a;return o=r.getClientRects(f(e)),(a=c(o=t.filter(o,(function(e){return i>=e.top&&i<=e.bottom})),n))&&((a=c(d(e,a),n))&&p(a.node))?m(a,n):null}var p=n.isContentEditableFalse,h=o.findNode,v=e.curry;return{findClosestClientRect:c,findLineNodeRects:d,closestCaret:g}})),r(tt,[],(function(){var e=function(e){var t,n,r,i;return i=e.getBoundingClientRect(),n=(t=e.ownerDocument).documentElement,r=t.defaultView,{top:i.top+r.pageYOffset-n.clientTop,left:i.left+r.pageXOffset-n.clientLeft}},t=function(t){return t.inline?e(t.getBody()):{left:0,top:0}},n=function(e){var t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},r=function(e){var t=e.getBody(),n=e.getDoc().documentElement,r={left:t.scrollLeft,top:t.scrollTop},i={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?r:i},i=function(t,n){if(n.target.ownerDocument!==t.getDoc()){var i=e(t.getContentAreaContainer()),o=r(t);return{left:n.pageX-i.left+o.left,top:n.pageY-i.top+o.top}}return{left:n.pageX,top:n.pageY}},o=function(e,t,n){return{pageX:n.left-e.left+t.left,pageY:n.top-e.top+t.top}},a;return{calc:function(e,r){return o(t(e),n(e),i(e,r))}}})),r(nt,[S,g,z,u,C,tt],(function(e,t,n,r,i,o){var a=e.isContentEditableFalse,s=e.isContentEditableTrue,l=function(e,t){return a(t)&&t!==e},c=function(e,t,n){return t!==n&&!e.dom.isChildOf(t,n)&&!a(t)},u=function(e){var t=e.cloneNode(!0);return t.removeAttribute("data-mce-selected"),t},d=function(e,t,n,r){var i=t.cloneNode(!0);e.dom.setStyles(i,{width:n,height:r}),e.dom.setAttrib(i,"data-mce-selected",null);var o=e.dom.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return e.dom.setStyles(o,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:r}),e.dom.setStyles(i,{margin:0,boxSizing:"border-box"}),o.appendChild(i),o},f=function(e,t){e.parentNode!==t&&t.appendChild(e)},m=function(e,t,n,r,i,o){var a=0,s=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>i&&(a=t.pageX+n-i),t.pageY+r>o&&(s=t.pageY+r-o),e.style.width=n-a+"px",e.style.height=r-s+"px"},g=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},p=function(e){return 0===e.button},h=function(e){return e.element},v=function(e,t){return{pageX:t.pageX-e.relX,pageY:t.pageY+5}},b=function(e,r){return function(i){if(p(i)){var o=t.find(r.dom.getParents(i.target),n.or(a,s));if(l(r.getBody(),o)){var c=r.dom.getPos(o),u=r.getBody(),f=r.getDoc().documentElement;e.element=o,e.screenX=i.screenX,e.screenY=i.screenY,e.maxX=(r.inline?u.scrollWidth:f.offsetWidth)-2,e.maxY=(r.inline?u.scrollHeight:f.offsetHeight)-2,e.relX=i.pageX-c.x,e.relY=i.pageY-c.y,e.width=o.offsetWidth,e.height=o.offsetHeight,e.ghost=d(r,o,e.width,e.height)}}}},y=function(e,t){var n=r.throttle((function(e,n){t._selectionOverrides.hideFakeCaret(),t.selection.placeCaretAt(e,n)}),0);return function(r){var i=Math.max(Math.abs(r.screenX-e.screenX),Math.abs(r.screenY-e.screenY));if(h(e)&&!e.dragging&&i>10){var a;if(t.fire("dragstart",{target:e.element}).isDefaultPrevented())return;e.dragging=!0,t.focus()}if(e.dragging){var s=v(e,o.calc(t,r));f(e.ghost,t.getBody()),m(e.ghost,s,e.width,e.height,e.maxX,e.maxY),n(r.clientX,r.clientY)}}},x=function(e){var t,n=e.getSel().getRangeAt(0).startContainer;return 3===n.nodeType?n.parentNode:n},w=function(e,t){return function(n){if(e.dragging&&c(t,x(t.selection),e.element)){var r=u(e.element),i=t.fire("drop",{targetClone:r,clientX:n.clientX,clientY:n.clientY});i.isDefaultPrevented()||(r=i.targetClone,t.undoManager.transact((function(){g(e.element),t.insertContent(t.dom.getOuterHTML(r)),t._selectionOverrides.hideFakeCaret()})))}k(e)}},C=function(e,t){return function(){k(e),e.dragging&&t.fire("dragend")}},k=function(e){e.dragging=!1,e.element=null,g(e.ghost)},N=function(e){var t={},n,r,o,a,s,l;n=i.DOM,l=document,r=b(t,e),o=y(t,e),a=w(t,e),s=C(t,e),e.on("mousedown",r),e.on("mousemove",o),e.on("mouseup",a),n.bind(l,"mousemove",o),n.bind(l,"mouseup",s),e.on("remove",(function(){n.unbind(l,"mousemove",o),n.unbind(l,"mouseup",s)}))},S=function(e){e.on("drop",(function(t){var n=void 0!==t.clientX?e.getDoc().elementFromPoint(t.clientX,t.clientY):null;(a(n)||a(e.dom.getContentEditableParent(n)))&&t.preventDefault()}))},_;return{init:function(e){N(e),S(e)}}})),r(rt,[d,oe,j,T,ie,Je,Qe,et,S,E,W,H,z,g,u,nt],(function(e,t,n,r,i,o,a,s,l,c,u,d,f,m,g,p){function h(e,t){for(;t=e(t);)if(t.isVisible())return t;return t}function v(c){function v(e){return c.dom.hasClass(e,"mce-offscreen-selection")}function S(){var e=c.dom.get(le);return e?e.getElementsByTagName("*")[0]:e}function _(e){return c.dom.isBlock(e)}function T(e){e&&c.selection.setRng(e)}function E(){return c.selection.getRng()}function R(e,t){c.selection.scrollIntoView(e,t)}function A(e,t,n){var r;return(r=c.fire("ShowCaret",{target:t,direction:e,before:n})).isDefaultPrevented()?null:(R(t,-1===e),se.show(n,t))}function B(e){var t;return(t=c.fire("BeforeObjectSelected",{target:e})).isDefaultPrevented()?null:P(e)}function P(e){var t=e.ownerDocument.createRange();return t.selectNode(e),t}function M(e,t){var n=i.isInSameBlock(e,t);return!(n||!l.isBr(e.getNode()))||n}function D(e,t){return t=i.normalizeRange(e,re,t),-1==e?n.fromRangeStart(t):n.fromRangeEnd(t)}function I(e){return r.isCaretContainerBlock(e.startContainer)}function L(e,t,n,r){var i,o,a,s;return!r.collapsed&&(i=N(r),x(i))?A(e,i,-1==e):(s=I(r),n(o=D(e,r))?B(o.getNode(-1==e)):(o=t(o))?n(o)?A(e,o.getNode(-1==e),1==e):n(a=t(o))&&M(o,a)?A(e,a.getNode(-1==e),1==e):s?j(o.toRange()):null:s?r:null)}function O(e,t,n){var r,i,o,l,c,u,d,f,g;if(g=N(n),r=D(e,n),i=t(re,a.isAboveLine(1),r),o=m.filter(i,a.isLine(1)),c=m.last(r.getClientRects()),k(r)&&(g=r.getNode()),C(r)&&(g=r.getNode(!0)),!c)return null;if(u=c.left,(l=s.findClosestClientRect(o,u))&&x(l.node))return d=Math.abs(u-l.left),f=Math.abs(u-l.right),A(e,l.node,d<f);if(g){var p=a.positionsUntil(e,re,a.isAboveLine(1),g);if(l=s.findClosestClientRect(m.filter(p,a.isLine(1)),u))return j(l.position.toRange());if(l=m.last(m.filter(p,a.isLine(0))))return j(l.position.toRange())}}function H(t,r){function i(){var t=c.dom.create(c.settings.forced_root_block);return(!e.ie||e.ie>=11)&&(t.innerHTML='<br data-mce-bogus="1">'),t}var o,a,s;if(r.collapsed&&c.settings.forced_root_block){if(!(o=c.dom.getParent(r.startContainer,"PRE")))return;(a=1==t?oe(n.fromRangeStart(r)):ae(n.fromRangeStart(r)))||(s=i(),1==t?c.$(o).after(s):c.$(o).before(s),c.selection.select(s,!0),c.selection.collapse())}}function F(e,t,n,r){var i;return(i=L(e,t,n,r))?i:(i=H(e,r))||null}function z(e,t,n){var r;return(r=O(e,t,n))?r:(r=H(e,n))||null}function U(){return ue("*[data-mce-caret]")[0]}function W(e){e.hasAttribute("data-mce-caret")&&(r.showCaretContainerBlock(e),T(E()),R(e[0]))}function $(e){var t,r;return e=i.normalizeRange(1,re,e),t=n.fromRangeStart(e),x(t.getNode())?A(1,t.getNode(),!t.isAtEnd()):x(t.getNode(!0))?A(1,t.getNode(!0),!1):(r=c.dom.getParent(t.getNode(),f.or(x,y)),x(r)?A(1,r,!1):null)}function j(e){var t;return e&&e.collapsed?(t=$(e))||e:e}function V(e){var t,i,o,a;return x(e)?(x(e.previousSibling)&&(o=e.previousSibling),(i=ae(n.before(e)))||(t=oe(n.after(e))),t&&w(t.getNode())&&(a=t.getNode()),r.remove(e.previousSibling),r.remove(e.nextSibling),c.dom.remove(e),c.dom.isEmpty(c.getBody())?(c.setContent(""),void c.focus()):o?n.after(o).toRange():a?n.before(a).toRange():i?i.toRange():t?t.toRange():null):null}function q(e){var t=c.schema.getTextBlockElements();return e.nodeName in t}function Y(e){return c.dom.isEmpty(e)}function K(e,t,r){var i=c.dom,o,a,s,l;if(o=i.getParent(t.getNode(),i.isBlock),a=i.getParent(r.getNode(),i.isBlock),-1===e){if(l=r.getNode(!0),C(r)&&_(l))return q(o)?(Y(o)&&i.remove(o),n.after(l).toRange()):V(r.getNode(!0))}else if(l=t.getNode(),k(t)&&_(l))return q(a)?(Y(a)&&i.remove(a),n.before(l).toRange()):V(t.getNode());if(o===a||!q(o)||!q(a))return null;for(;s=o.firstChild;)a.appendChild(s);return c.dom.remove(o),r.toRange()}function X(e,t,n,i){var o,a,s,l;return!i.collapsed&&(o=N(i),x(o))?j(V(o)):n(a=D(e,i))&&r.isCaretContainerBlock(i.startContainer)?(l=-1==e?ie.prev(a):ie.next(a))?j(l.toRange()):i:t(a)?j(V(a.getNode(-1==e))):t(s=-1==e?ie.prev(a):ie.next(a))?-1===e?K(e,a,s):K(e,s,a):void 0}function G(){function i(e,t){var n=t(E());n&&!e.isDefaultPrevented()&&(e.preventDefault(),T(n))}function o(e){for(var t=c.getBody();e&&e!=t;){if(y(e)||x(e))return e;e=e.parentNode}return null}function l(e,t,n){return!n.collapsed&&m.reduce(n.getClientRects(),(function(n,r){return n||u.containsXY(r,e,t)}),!1)}function f(e){var t=!1;e.on("touchstart",(function(){t=!1})),e.on("touchmove",(function(){t=!0})),e.on("touchend",(function(e){var n=o(e.target);x(n)&&(t||(e.preventDefault(),Q(B(n))))}))}function h(){var e,t=o(c.selection.getNode());y(t)&&_(t)&&c.dom.isEmpty(t)&&(e=c.dom.create("br",{"data-mce-bogus":"1"}),c.$(t).empty().append(e),c.selection.setRng(n.before(e).toRange()))}function w(e){var t=U();if(t)return"compositionstart"==e.type?(e.preventDefault(),e.stopPropagation(),void W(t)):void(r.hasContent(t)&&W(t))}function N(e){var t;switch(e.keyCode){case d.DELETE:t=h();break;case d.BACKSPACE:t=h()}t&&e.preventDefault()}var R=b(F,1,oe,k),P=b(F,-1,ae,C),M=b(X,1,k,C),D=b(X,-1,C,k),I=b(z,-1,a.upUntil),L=b(z,1,a.downUntil);c.on("mouseup",(function(){var e=E();e.collapsed&&T($(e))})),c.on("click",(function(e){var t;(t=o(e.target))&&(x(t)&&(e.preventDefault(),c.focus()),y(t)&&c.dom.isChildOf(t,c.selection.getNode())&&ee())})),c.on("blur NewBlock",(function(){ee(),ne()}));var O=function(e){var r=new t(e);if(!e.firstChild)return!1;var i=n.before(e.firstChild),o=r.next(i);return o&&!k(o)&&!C(o)},H=function(e,t){var n,r;return c.dom.getParent(e,c.dom.isBlock)===c.dom.getParent(t,c.dom.isBlock)},q=function(e){return!(e.keyCode>=112&&e.keyCode<=123)},Y=function(e,t){var n=c.dom.getParent(e,c.dom.isBlock),r=c.dom.getParent(t,c.dom.isBlock);return n&&!H(n,r)&&O(n)};f(c),c.on("mousedown",(function(e){var t;if(t=o(e.target))x(t)?(e.preventDefault(),Q(B(t))):l(e.clientX,e.clientY,c.selection.getRng())||c.selection.placeCaretAt(e.clientX,e.clientY);else{ee(),ne();var n=s.closestCaret(re,e.clientX,e.clientY);n&&(Y(e.target,n.node)||(e.preventDefault(),c.getBody().focus(),T(A(1,n.node,n.before))))}})),c.on("keydown",(function(e){if(!d.modifierPressed(e))switch(e.keyCode){case d.RIGHT:i(e,R);break;case d.DOWN:i(e,L);break;case d.LEFT:i(e,P);break;case d.UP:i(e,I);break;case d.DELETE:i(e,M);break;case d.BACKSPACE:i(e,D);break;default:x(c.selection.getNode())&&q(e)&&e.preventDefault()}})),c.on("keyup compositionstart",(function(e){w(e),N(e)}),!0),c.on("cut",(function(){var e=c.selection.getNode();x(e)&&g.setEditorTimeout(c,(function(){T(j(V(e)))}))})),c.on("getSelectionRange",(function(e){var t=e.range;if(ce){if(!ce.parentNode)return void(ce=null);(t=t.cloneRange()).selectNode(ce),e.range=t}})),c.on("setSelectionRange",(function(e){var t;(t=Q(e.range))&&(e.range=t)})),c.on("AfterSetSelectionRange",(function(e){var t=e.range;Z(t)||ne(),v(t.startContainer.parentNode)||ee()})),c.on("focus",(function(){g.setEditorTimeout(c,(function(){c.selection.setRng(j(c.selection.getRng()))}),0)})),c.on("copy",(function(t){var n=t.clipboardData;if(!t.isDefaultPrevented()&&t.clipboardData&&!e.ie){var r=S();r&&(t.preventDefault(),n.clearData(),n.setData("text/html",r.outerHTML),n.setData("text/plain",r.outerText))}})),p.init(c)}function J(){var e=c.contentStyles,t=".mce-content-body";e.push(se.getCss()),e.push(t+" .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}"+t+" *[contentEditable=false] {cursor: default;}"+t+" *[contentEditable=true] {cursor: text;}")}function Z(e){return r.isCaretContainer(e.startContainer)||r.isCaretContainer(e.endContainer)}function Q(t){var n,r=c.$,i=c.dom,o,a,s,l,u,d,f,m,g;if(!t)return null;if(t.collapsed){if(!Z(t)){if(f=D(1,t),x(f.getNode()))return A(1,f.getNode(),!f.isAtEnd());if(x(f.getNode(!0)))return A(1,f.getNode(!0),!1)}return null}return s=t.startContainer,l=t.startOffset,u=t.endOffset,3==s.nodeType&&0==l&&x(s.parentNode)&&(s=s.parentNode,l=i.nodeIndex(s),s=s.parentNode),1!=s.nodeType?null:(u==l+1&&(n=s.childNodes[l]),x(n)?(m=g=n.cloneNode(!0),(d=c.fire("ObjectSelected",{target:n,targetClone:m})).isDefaultPrevented()?null:(m=d.targetClone,0===(o=r("#"+le)).length&&(o=r('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",le)).appendTo(c.getBody()),t=c.dom.createRng(),m===g&&e.ie?(o.empty().append('<p style="font-size: 0" data-mce-bogus="all"></p>').append(m),t.setStartAfter(o[0].firstChild.firstChild),t.setEndAfter(m)):(o.empty().append("").append(m).append(""),t.setStart(o[0].firstChild,1),t.setEnd(o[0].lastChild,0)),o.css({top:i.getPos(n,c.getBody()).y}),o[0].focus(),(a=c.selection.getSel()).removeAllRanges(),a.addRange(t),c.$("*[data-mce-selected]").removeAttr("data-mce-selected"),n.setAttribute("data-mce-selected",1),ce=n,ne(),t)):null)}function ee(){ce&&(ce.removeAttribute("data-mce-selected"),c.$("#"+le).remove(),ce=null)}function te(){se.destroy(),ce=null}function ne(){se.hide()}var re=c.getBody(),ie=new t(re),oe=b(h,ie.next),ae=b(h,ie.prev),se=new o(c.getBody(),_),le="sel-"+c.dom.uniqueId(),ce,ue=c.$;return e.ceFalse&&(G(),J()),{showBlockCaretContainer:W,hideFakeCaret:ne,destroy:te}}var b=f.curry,y=l.isContentEditableTrue,x=l.isContentEditableFalse,w=l.isElement,C=i.isAfterContentEditableFalse,k=i.isBeforeContentEditableFalse,N=c.getSelectedNode;return v})),r(it,[],(function(){var e=0,t=function(){var e=function(){return Math.round(4294967295*Math.random()).toString(36)},t;return"s"+(new Date).getTime().toString(36)+e()+e()+e()},n;return{uuid:function(n){return n+e+++t()}}})),r(ot,[],(function(){var e;return{add:function(e,t,n){var r=e.sidebars?e.sidebars:[];r.push({name:t,settings:n}),e.sidebars=r}}})),r(at,[C,h,N,R,A,L,I,Y,J,te,ne,re,le,ce,k,f,Me,He,B,M,ze,d,p,u,Ue,We,$e,Ge,rt,it,ot,Xe],(function(e,n,r,i,o,a,s,l,c,u,d,f,m,g,p,h,v,b,y,x,w,C,k,N,S,_,T,E,R,A,B,P){function M(e,t,i){var o=this,a,s,l;a=o.documentBaseUrl=i.documentBaseURL,s=i.baseURI,l=i.defaultSettings,t=O({id:e,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:a,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",validate:!0,entity_encoding:"named",url_converter:o.convertURL,url_converter_scope:o,ie7_compat:!0},l,t),l&&l.external_plugins&&t.external_plugins&&(t.external_plugins=O({},l.external_plugins,t.external_plugins)),o.settings=t,r.language=t.language||"en",r.languageLoad=t.language_load,r.baseURL=i.baseURL,o.id=t.id=e,o.setDirty(!1),o.plugins={},o.documentBaseURI=new g(t.document_base_url||a,{base_uri:s}),o.baseURI=s,o.contentCSS=[],o.contentStyles=[],o.shortcuts=new T(o),o.loadedCSS={},o.editorCommands=new m(o),o.suffix=i.suffix,o.editorManager=i,o.inline=t.inline,o.settings.content_editable=o.inline,t.cache_suffix&&(C.cacheSuffix=t.cache_suffix.replace(/^[\?\&]+/,"")),!1===t.override_viewport&&(C.overrideViewPort=!1),i.fire("SetupEditor",o),o.execCallback("setup",o),o.$=n.overrideDefaults((function(){return{context:o.inline?o.getBody():o.getDoc(),element:o.getBody()}}))}var D=e.DOM,I=r.ThemeManager,L=r.PluginManager,O=k.extend,H=k.each,F=k.explode,z=k.inArray,U=k.trim,W=k.resolve,$=h.Event,j=C.gecko,V=C.ie;return M.prototype={render:function(){function e(){D.unbind(window,"ready",e),n.render()}function t(){var e=p.ScriptLoader;if(r.language&&"en"!=r.language&&!r.language_url&&(r.language_url=n.editorManager.baseURL+"/langs/"+r.language+".js"),r.language_url&&e.add(r.language_url),r.theme&&"function"!=typeof r.theme&&"-"!=r.theme.charAt(0)&&!I.urls[r.theme]){var t=r.theme_url;t=t?n.documentBaseURI.toAbsolute(t):"themes/"+r.theme+"/theme"+o+".js",I.load(r.theme,t)}k.isArray(r.plugins)&&(r.plugins=r.plugins.join(" ")),H(r.external_plugins,(function(e,t){L.load(t,e),r.plugins+=" "+t})),H(r.plugins.split(/[ ,]/),(function(e){if((e=U(e))&&!L.urls[e])if("-"==e.charAt(0)){e=e.substr(1,e.length);var t=L.dependencies(e);H(t,(function(e){var t={prefix:"plugins/",resource:e,suffix:"/plugin"+o+".js"};e=L.createUrl(t,e),L.load(e.resource,e)}))}else L.load(e,{prefix:"plugins/",resource:e,suffix:"/plugin"+o+".js"})})),e.loadQueue((function(){n.removed||n.init()}),n,(function(e){P.pluginLoadError(n,e[0]),n.removed||n.init()}))}var n=this,r=n.settings,i=n.id,o=n.suffix;if($.domLoaded){if(n.getElement()&&C.contentEditable){r.inline?n.inline=!0:(n.orgVisibility=n.getElement().style.visibility,n.getElement().style.visibility="hidden");var a=n.getElement().form||D.getParent(i,"form");a&&(n.formElement=a,r.hidden_input&&!/TEXTAREA|INPUT/i.test(n.getElement().nodeName)&&(D.insertAfter(D.create("input",{type:"hidden",name:i}),i),n.hasHiddenInput=!0),n.formEventDelegate=function(e){n.fire(e.type,e)},D.bind(a,"submit reset",n.formEventDelegate),n.on("reset",(function(){n.setContent(n.startContent,{format:"raw"})})),!r.submit_patch||a.submit.nodeType||a.submit.length||a._mceOldSubmit||(a._mceOldSubmit=a.submit,a.submit=function(){return n.editorManager.triggerSave(),n.setDirty(!1),a._mceOldSubmit(a)})),n.windowManager=new v(n),n.notificationManager=new b(n),"xml"==r.encoding&&n.on("GetContent",(function(e){e.save&&(e.content=D.encode(e.content))})),r.add_form_submit_trigger&&n.on("submit",(function(){n.initialized&&n.save()})),r.add_unload_trigger&&(n._beforeUnload=function(){!n.initialized||n.destroyed||n.isHidden()||n.save({format:"raw",no_events:!0,set_dirty:!1})},n.editorManager.on("BeforeUnload",n._beforeUnload)),n.editorManager.add(n),t()}}else D.bind(window,"ready",e)},init:function(){function e(n){var r=L.get(n),i,o;if(i=L.urls[n]||t.documentBaseUrl.replace(/\/$/,""),n=U(n),r&&-1===z(p,n)){if(H(L.dependencies(n),(function(t){e(t)})),t.plugins[n])return;o=new r(t,i,t.$),t.plugins[n]=o,o.init&&(o.init(t,i),p.push(n))}}var t=this,n=t.settings,r=t.getElement(),i,o,a,s,l,c,u,d,f,m,g,p=[];if(t.rtl=n.rtl_ui||t.editorManager.i18n.rtl,t.editorManager.i18n.setCode(n.language),n.aria_label=n.aria_label||D.getAttrib(r,"aria-label",t.getLang("aria.rich_text_area")),t.fire("ScriptsLoaded"),n.theme&&("function"!=typeof n.theme?(n.theme=n.theme.replace(/-/,""),c=I.get(n.theme),t.theme=new c(t,I.urls[n.theme]),t.theme.init&&t.theme.init(t,I.urls[n.theme]||t.documentBaseUrl.replace(/\/$/,""),t.$)):t.theme=n.theme),H(n.plugins.replace(/\-/g,"").split(/[ ,]/),e),n.render_ui&&t.theme&&(t.orgDisplay=r.style.display,"function"!=typeof n.theme?(i=n.width||r.style.width||r.offsetWidth,o=n.height||r.style.height||r.offsetHeight,a=n.min_height||100,(m=/^[0-9\.]+(|px)$/i).test(""+i)&&(i=Math.max(parseInt(i,10),100)),m.test(""+o)&&(o=Math.max(parseInt(o,10),a)),l=t.theme.renderUI({targetNode:r,width:i,height:o,deltaWidth:n.delta_width,deltaHeight:n.delta_height}),n.content_editable||(o=(l.iframeHeight||o)+("number"==typeof o?l.deltaHeight||0:""))<a&&(o=a)):((l=n.theme(t,r)).editorContainer.nodeType&&(l.editorContainer.id=l.editorContainer.id||t.id+"_parent"),l.iframeContainer.nodeType&&(l.iframeContainer.id=l.iframeContainer.id||t.id+"_iframecontainer"),o=l.iframeHeight||r.offsetHeight),t.editorContainer=l.editorContainer),n.content_css&&H(F(n.content_css),(function(e){t.contentCSS.push(t.documentBaseURI.toAbsolute(e))})),n.content_style&&t.contentStyles.push(n.content_style),n.content_editable)return r=s=l=null,t.initContentBody();if(t.iframeHTML=n.doctype+"<html><head>",n.document_base_url!=t.documentBaseUrl&&(t.iframeHTML+='<base href="'+t.documentBaseURI.getURI()+'" />'),!C.caretAfter&&n.ie7_compat&&(t.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />'),t.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',!/#$/.test(document.location.href))for(g=0;g<t.contentCSS.length;g++){var h=t.contentCSS[g];t.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+k._addCacheSuffix(h)+'" />',t.loadedCSS[h]=!0}-1!=(d=n.body_id||"tinymce").indexOf("=")&&(d=(d=t.getParam("body_id","","hash"))[t.id]||d),-1!=(f=n.body_class||"").indexOf("=")&&(f=(f=t.getParam("body_class","","hash"))[t.id]||""),n.content_security_policy&&(t.iframeHTML+='<meta http-equiv="Content-Security-Policy" content="'+n.content_security_policy+'" />'),t.iframeHTML+='</head><body id="'+d+'" class="mce-content-body '+f+'" data-id="'+t.id+'"><br></body></html>';var v='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+t.id+'");document.write(ed.iframeHTML);document.close();ed.initContentBody(true);})()';document.domain!=location.hostname&&C.ie&&C.ie<12&&(u=v);var b=D.create("iframe",{id:t.id+"_ifr",frameBorder:"0",allowTransparency:"true",title:t.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:o,display:"block"}});if(b.onload=function(){b.onload=null,t.fire("load")},D.setAttrib(b,"src",u||'javascript:""'),t.contentAreaContainer=l.iframeContainer,t.iframeElement=b,s=D.add(l.iframeContainer,b),V)try{t.getDoc()}catch(y){s.src=u=v}l.editorContainer&&(D.get(l.editorContainer).style.display=t.orgDisplay,t.hidden=D.isHidden(l.editorContainer)),t.getElement().style.display="none",D.setAttrib(t.id,"aria-hidden",!0),u||t.initContentBody(),r=s=l=null},initContentBody:function(t){var n=this,r=n.settings,s=n.getElement(),m=n.getDoc(),g,p;r.inline||(n.getElement().style.visibility=n.orgVisibility),t||r.content_editable||(m.open(),m.write(n.iframeHTML),m.close()),r.content_editable&&(n.on("remove",(function(){var e=this.getBody();D.removeClass(e,"mce-content-body"),D.removeClass(e,"mce-edit-focus"),D.setAttrib(e,"contentEditable",null)})),D.addClass(s,"mce-content-body"),n.contentDocument=m=r.content_document||document,n.contentWindow=r.content_window||window,n.bodyElement=s,r.content_document=r.content_window=null,r.root_name=s.nodeName.toLowerCase()),(g=n.getBody()).disabled=!0,n.readonly=r.readonly,n.readonly||(n.inline&&"static"==D.getStyle(g,"position",!0)&&(g.style.position="relative"),g.contentEditable=n.getParam("content_editable_state",!0)),g.disabled=!1,n.editorUpload=new E(n),n.schema=new y(r),n.dom=new e(m,{keep_values:!0,url_converter:n.convertURL,url_converter_scope:n,hex_colors:r.force_hex_style_colors,class_filter:r.class_filter,update_styles:!0,root_element:n.inline?n.getBody():null,collect:r.content_editable,schema:n.schema,onSetAttrib:function(e){n.fire("SetAttrib",e)}}),n.parser=new x(r,n.schema),n.parser.addAttributeFilter("src,href,style,tabindex",(function(e,t){for(var r=e.length,i,o=n.dom,a,s;r--;)if(a=(i=e[r]).attr(t),s="data-mce-"+t,!i.attributes.map[s]){if(0===a.indexOf("data:")||0===a.indexOf("blob:"))continue;"style"===t?((a=o.serializeStyle(o.parseStyle(a),i.name)).length||(a=null),i.attr(s,a),i.attr(t,a)):"tabindex"===t?(i.attr(s,a),i.attr(t,null)):i.attr(s,n.convertURL(a,t,i.name))}})),n.parser.addNodeFilter("script",(function(e){for(var t=e.length,n,r;t--;)0!==(r=(n=e[t]).attr("type")||"no/type").indexOf("mce-")&&n.attr("type","mce-"+r)})),n.parser.addNodeFilter("#cdata",(function(e){for(var t=e.length,n;t--;)(n=e[t]).type=8,n.name="#comment",n.value="[CDATA["+n.value+"]]"})),n.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",(function(e){for(var t=e.length,r,i=n.schema.getNonEmptyElements();t--;)(r=e[t]).isEmpty(i)&&0===r.getAll("br").length&&(r.append(new o("br",1)).shortEnded=!0)})),n.serializer=new a(r,n),n.selection=new l(n.dom,n.getWin(),n.serializer,n),n.formatter=new c(n),n.undoManager=new u(n),n.forceBlocks=new f(n),n.enterKey=new d(n),n._nodeChangeDispatcher=new i(n),n._selectionOverrides=new R(n),n.fire("PreInit"),r.browser_spellcheck||r.gecko_spellcheck||(m.body.spellcheck=!1,D.setAttrib(g,"spellcheck","false")),n.quirks=new w(n),n.fire("PostRender"),r.directionality&&(g.dir=r.directionality),r.nowrap&&(g.style.whiteSpace="nowrap"),r.protect&&n.on("BeforeSetContent",(function(e){H(r.protect,(function(t){e.content=e.content.replace(t,(function(e){return"\x3c!--mce:protected "+escape(e)+"--\x3e"}))}))})),n.on("SetContent",(function(){n.addVisual(n.getBody())})),r.padd_empty_editor&&n.on("PostProcess",(function(e){e.content=e.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|<br \/>|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")})),n.load({initial:!0,format:"html"}),n.startContent=n.getContent({format:"raw"}),n.initialized=!0,n.bindPendingEventDelegates(),n.fire("init"),n.focus(!0),n.nodeChanged({initial:!0}),n.execCallback("init_instance_callback",n),n.on("compositionstart compositionend",(function(e){n.composing="compositionstart"===e.type})),n.contentStyles.length>0&&(p="",H(n.contentStyles,(function(e){p+=e+"\r\n"})),n.dom.addStyle(p)),H(n.contentCSS,(function(e){n.loadedCSS[e]||(n.dom.loadCSS(e),n.loadedCSS[e]=!0)})),r.auto_focus&&N.setEditorTimeout(n,(function(){var e;(e=!0===r.auto_focus?n:n.editorManager.get(r.auto_focus)).destroyed||e.focus()}),100),s=m=g=null},focus:function(e){function t(e){return n.dom.getParent(e,(function(e){return"true"===n.dom.getContentEditable(e)}))}var n=this,r=n.selection,i=n.settings.content_editable,o,a,s=n.getDoc(),l=n.getBody(),c;if(!e){if((o=r.getRng()).item&&(a=o.item(0)),n.quirks.refreshContentEditable(),c=t(r.getNode()),n.$.contains(l,c))return c.focus(),r.normalize(),void n.editorManager.setActive(n);if(i||(C.opera||n.getBody().focus(),n.getWin().focus()),j||i){if(l.setActive)try{l.setActive()}catch(u){l.focus()}else l.focus();i&&r.normalize()}a&&a.ownerDocument==s&&((o=s.body.createControlRange()).addElement(a),o.select())}n.editorManager.setActive(n)},execCallback:function(e){var t=this,n=t.settings[e],r;if(n)return t.callbackLookup&&(r=t.callbackLookup[e])&&(n=r.func,r=r.scope),"string"==typeof n&&(r=(r=n.replace(/\.\w+$/,""))?W(r):0,n=W(n),t.callbackLookup=t.callbackLookup||{},t.callbackLookup[e]={func:n,scope:r}),n.apply(r||t,Array.prototype.slice.call(arguments,1))},translate:function(e){var t=this.settings.language||"en",n=this.editorManager.i18n;return e?(e=n.data[t+"."+e]||e.replace(/\{\#([^\}]+)\}/g,(function(e,r){return n.data[t+"."+r]||"{#"+r+"}"})),this.editorManager.translate(e)):""},getLang:function(e,n){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+e]||(n!==t?n:"{#"+e+"}")},getParam:function(e,t,n){var r=e in this.settings?this.settings[e]:t,i;return"hash"===n?(i={},"string"==typeof r?H(r.indexOf("=")>0?r.split(/[;,](?![^=;,]*(?:[;,]|$))/):r.split(","),(function(e){(e=e.split("=")).length>1?i[U(e[0])]=U(e[1]):i[U(e[0])]=U(e)})):i=r,i):r},nodeChanged:function(e){this._nodeChangeDispatcher.nodeChanged(e)},addButton:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),t.text||t.icon||(t.icon=e),n.buttons=n.buttons||{},t.tooltip=t.tooltip||t.title,n.buttons[e]=t},addSidebar:function(e,t){return B.add(this,e,t)},addMenuItem:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),n.menuItems=n.menuItems||{},n.menuItems[e]=t},addContextToolbar:function(e,t){var n=this,r;n.contextToolbars=n.contextToolbars||[],"string"==typeof e&&(r=e,e=function(e){return n.dom.is(e,r)}),n.contextToolbars.push({id:A.uuid("mcet"),predicate:e,items:t})},addCommand:function(e,t,n){this.editorCommands.addCommand(e,t,n)},addQueryStateHandler:function(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)},addQueryValueHandler:function(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)},addShortcut:function(e,t,n,r){this.shortcuts.add(e,t,n,r)},execCommand:function(e,t,n,r){return this.editorCommands.execCommand(e,t,n,r)},queryCommandState:function(e){return this.editorCommands.queryCommandState(e)},queryCommandValue:function(e){return this.editorCommands.queryCommandValue(e)},queryCommandSupported:function(e){return this.editorCommands.queryCommandSupported(e)},show:function(){var e=this;e.hidden&&(e.hidden=!1,e.inline?e.getBody().contentEditable=!0:(D.show(e.getContainer()),D.hide(e.id)),e.load(),e.fire("show"))},hide:function(){var e=this,t=e.getDoc();e.hidden||(V&&t&&!e.inline&&t.execCommand("SelectAll"),e.save(),e.inline?(e.getBody().contentEditable=!1,e==e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(D.hide(e.getContainer()),D.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(e,t){this.fire("ProgressState",{state:e,time:t})},load:function(e){var n=this,r=n.getElement(),i;if(r)return(e=e||{}).load=!0,i=n.setContent(r.value!==t?r.value:r.innerHTML,e),e.element=r,e.no_events||n.fire("LoadContent",e),e.element=r=null,i},save:function(e){var t=this,n=t.getElement(),r,i;if(n&&t.initialized)return(e=e||{}).save=!0,e.element=n,r=e.content=t.getContent(e),e.no_events||t.fire("SaveContent",e),"raw"==e.format&&t.fire("RawSaveContent",e),r=e.content,/TEXTAREA|INPUT/i.test(n.nodeName)?n.value=r:(t.inline||(n.innerHTML=r),(i=D.getParent(t.id,"form"))&&H(i.elements,(function(e){if(e.name==t.id)return e.value=r,!1}))),e.element=n=null,!1!==e.set_dirty&&t.setDirty(!1),r},setContent:function(e,t){var n=this,r=n.getBody(),i,o;return(t=t||{}).format=t.format||"html",t.set=!0,t.content=e,t.no_events||n.fire("BeforeSetContent",t),0===(e=t.content).length||/^\s+$/.test(e)?(o=V&&V<11?"":'<br data-mce-bogus="1">',"TABLE"==r.nodeName?e="<tr><td>"+o+"</td></tr>":/^(UL|OL)$/.test(r.nodeName)&&(e="<li>"+o+"</li>"),(i=n.settings.forced_root_block)&&n.schema.isValidChild(r.nodeName.toLowerCase(),i.toLowerCase())?(e=o,e=n.dom.createHTML(i,n.settings.forced_root_block_attrs,e)):V||e||(e='<br data-mce-bogus="1">'),n.dom.setHTML(r,e),n.fire("SetContent",t)):("raw"!==t.format&&(e=new s({validate:n.validate},n.schema).serialize(n.parser.parse(e,{isRootContent:!0}))),t.content=U(e),n.dom.setHTML(r,t.content),t.no_events||n.fire("SetContent",t)),t.content},getContent:function(e){var t=this,n,r=t.getBody();return(e=e||{}).format=e.format||"html",e.get=!0,e.getInner=!0,e.no_events||t.fire("BeforeGetContent",e),n="raw"==e.format?k.trim(t.serializer.getTrimmedContent()):"text"==e.format?r.innerText||r.textContent:t.serializer.serialize(r,e),"text"!=e.format?e.content=U(n):e.content=n,e.no_events||t.fire("GetContent",e),e.content},insertContent:function(e,t){t&&(e=O({content:e},t)),this.execCommand("mceInsertContent",!1,e)},isDirty:function(){return!this.isNotDirty},setDirty:function(e){var t=!this.isNotDirty;this.isNotDirty=!e,e&&e!=t&&this.fire("dirty")},setMode:function(e){_.setMode(this,e)},getContainer:function(){var e=this;return e.container||(e.container=D.get(e.editorContainer||e.id+"_parent")),e.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=D.get(this.id)),this.targetElm},getWin:function(){var e=this,t;return e.contentWindow||(t=e.iframeElement)&&(e.contentWindow=t.contentWindow),e.contentWindow},getDoc:function(){var e=this,t;return e.contentDocument||(t=e.getWin())&&(e.contentDocument=t.document),e.contentDocument},getBody:function(){var e=this.getDoc();return this.bodyElement||(e?e.body:null)},convertURL:function(e,t,n){var r=this,i=r.settings;return i.urlconverter_callback?r.execCallback("urlconverter_callback",e,n,!0,t):!i.convert_urls||n&&"LINK"==n.nodeName||0===e.indexOf("file:")||0===e.length?e:i.relative_urls?r.documentBaseURI.toRelative(e):e=r.documentBaseURI.toAbsolute(e,i.remove_script_host)},addVisual:function(e){var n=this,r=n.settings,i=n.dom,o;e=e||n.getBody(),n.hasVisual===t&&(n.hasVisual=r.visual),H(i.select("table,a",e),(function(e){var t;switch(e.nodeName){case"TABLE":return o=r.visual_table_class||"mce-item-table",void((t=i.getAttrib(e,"border"))&&"0"!=t||!n.hasVisual?i.removeClass(e,o):i.addClass(e,o));case"A":return void(i.getAttrib(e,"href",!1)||(t=i.getAttrib(e,"name")||e.id,o=r.visual_anchor_class||"mce-item-anchor",t&&n.hasVisual?i.addClass(e,o):i.removeClass(e,o)))}})),n.fire("VisualAid",{element:e,hasVisual:n.hasVisual})},remove:function(){var e=this;e.removed||(e.save(),e.removed=1,e.unbindAllNativeEvents(),e.hasHiddenInput&&D.remove(e.getElement().nextSibling),e.inline||(V&&V<10&&e.getDoc().execCommand("SelectAll",!1,null),D.setStyle(e.id,"display",e.orgDisplay),e.getBody().onload=null),e.fire("remove"),e.editorManager.remove(e),D.remove(e.getContainer()),e._selectionOverrides.destroy(),e.editorUpload.destroy(),e.destroy())},destroy:function(e){var t=this,n;if(!t.destroyed){if(!e&&!t.removed)return void t.remove();e||(t.editorManager.off("beforeunload",t._beforeUnload),t.theme&&t.theme.destroy&&t.theme.destroy(),t.selection.destroy(),t.dom.destroy()),(n=t.formElement)&&(n._mceOldSubmit&&(n.submit=n._mceOldSubmit,n._mceOldSubmit=null),D.unbind(n,"submit reset",t.formEventDelegate)),t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null,t.selection&&(t.selection=t.selection.win=t.selection.dom=t.selection.dom.doc=null),t.destroyed=1}},uploadImages:function(e){return this.editorUpload.uploadImages(e)},_scanForImages:function(){return this.editorUpload.scanForImages()}},O(M.prototype,S),M})),r(st,[p],(function(e){var t={},n="en";return{setCode:function(e){e&&(n=e,this.rtl=!!this.data[e]&&"rtl"===this.data[e]._dir)},getCode:function(){return n},rtl:!1,add:function(e,n){var r=t[e];for(var i in r||(t[e]=r={}),n)r[i]=n[i];this.setCode(e)},translate:function(r){function i(t){return e.is(t,"function")?Object.prototype.toString.call(t):o(t)?"":""+t}function o(t){return""===t||null===t||e.is(t,"undefined")}function a(t){return t=i(t),e.hasOwn(s,t)?i(s[t]):t}var s=t[n]||{};if(o(r))return"";if(e.is(r,"object")&&e.hasOwn(r,"raw"))return i(r.raw);if(e.is(r,"array")){var l=r.slice(1);r=a(r[0]).replace(/\{([0-9]+)\}/g,(function(t,n){return e.hasOwn(l,n)?i(l[n]):t}))}return a(r).replace(/{context:\w+}$/,"")},data:t}})),r(lt,[C,u,d],(function(e,t,n){function r(e){function r(){try{return document.activeElement}catch(e){return document.body}}function c(e,t){if(t&&t.startContainer){if(!e.isChildOf(t.startContainer,e.getRoot())||!e.isChildOf(t.endContainer,e.getRoot()))return;return{startContainer:t.startContainer,startOffset:t.startOffset,endContainer:t.endContainer,endOffset:t.endOffset}}return t}function u(e,t){var n;return t.startContainer?((n=e.getDoc().createRange()).setStart(t.startContainer,t.startOffset),n.setEnd(t.endContainer,t.endOffset)):n=t,n}function d(d){var f=d.editor;f.on("init",(function(){(f.inline||n.ie)&&("onbeforedeactivate"in document&&n.ie<9?f.dom.bind(f.getBody(),"beforedeactivate",(function(e){if(e.target==f.getBody())try{f.lastRng=f.selection.getRng()}catch(t){}})):f.on("nodechange mouseup keyup",(function(e){var t=r();"nodechange"==e.type&&e.selectionChange||(t&&t.id==f.id+"_ifr"&&(t=f.getBody()),f.dom.isChildOf(t,f.getBody())&&(f.lastRng=f.selection.getRng()))})),n.webkit&&!i&&(i=function(){var t=e.activeEditor;if(t&&t.selection){var n=t.selection.getRng();n&&!n.collapsed&&(f.lastRng=n)}},s.bind(document,"selectionchange",i)))})),f.on("setcontent",(function(){f.lastRng=null})),f.on("mousedown",(function(){f.selection.lastFocusBookmark=null})),f.on("focusin",(function(){var t=e.focusedEditor,n;f.selection.lastFocusBookmark&&(n=u(f,f.selection.lastFocusBookmark),f.selection.lastFocusBookmark=null,f.selection.setRng(n)),t!=f&&(t&&t.fire("blur",{focusedEditor:f}),e.setActive(f),e.focusedEditor=f,f.fire("focus",{blurredEditor:t}),f.focus(!0)),f.lastRng=null})),f.on("focusout",(function(){t.setEditorTimeout(f,(function(){var t=e.focusedEditor;l(f,r())||t!=f||(f.fire("blur",{focusedEditor:null}),e.focusedEditor=null,f.selection&&(f.selection.lastFocusBookmark=null))}))})),o||(o=function(t){var n=e.activeEditor,r;r=t.target,n&&r.ownerDocument==document&&(n.selection&&r!=n.getBody()&&(n.selection.lastFocusBookmark=c(n.dom,n.lastRng)),r==document.body||l(n,r)||e.focusedEditor!=n||(n.fire("blur",{focusedEditor:null}),e.focusedEditor=null))},s.bind(document,"focusin",o)),f.inline&&!a&&(a=function(t){var n=e.activeEditor,r=n.dom;if(n.inline&&r&&!r.isChildOf(t.target,n.getBody())){var i=n.selection.getRng();i.collapsed||(n.lastRng=i)}},s.bind(document,"mouseup",a))}function f(t){e.focusedEditor==t.editor&&(e.focusedEditor=null),e.activeEditor||(s.unbind(document,"selectionchange",i),s.unbind(document,"focusin",o),s.unbind(document,"mouseup",a),i=o=a=null)}e.on("AddEditor",d),e.on("RemoveEditor",f)}var i,o,a,s=e.DOM,l=function(e,t){var n=e?e.settings.custom_ui_selector:"",i;return null!==s.getParent(t,(function(t){return r.isEditorUIElement(t)||!!n&&e.dom.is(t,n)}))};return r.isEditorUIElement=function(e){return-1!==e.className.toString().indexOf("mce-")},r._isUIElement=l,r})),r(ct,[at,h,C,ce,d,p,c,me,st,lt,N],(function(e,t,n,r,i,o,a,s,l,c,u){function d(e){v(w.editors,(function(t){"scroll"===e.type?t.fire("ScrollWindow",e):t.fire("ResizeWindow",e)}))}function f(e,n){n!==C&&(n?t(window).on("resize scroll",d):t(window).off("resize scroll",d),C=n)}function m(e){var t=w.editors,n;delete t[e.id];for(var r=0;r<t.length;r++)if(t[r]==e){t.splice(r,1),n=!0;break}return w.activeEditor==e&&(w.activeEditor=t[0]),w.focusedEditor==e&&(w.focusedEditor=null),n}function g(e){return e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(m(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null),e}var p=n.DOM,h=o.explode,v=o.each,b=o.extend,y=0,x,w,C=!1;return w={$:t,majorVersion:"4",minorVersion:"5.4",releaseDate:"2017-02-23",editors:[],i18n:l,activeEditor:null,setup:function(){var e=this,t,n,i="",o,a;if(n=r.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(n)&&(n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(n)||(n+="/")),o=window.tinymce||window.tinyMCEPreInit)t=o.base||o.baseURL,i=o.suffix;else{for(var s=document.getElementsByTagName("script"),l=0;l<s.length;l++){var u=(a=s[l].src).substring(a.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(a)){-1!=u.indexOf(".min")&&(i=".min"),t=a.substring(0,a.lastIndexOf("/"));break}}!t&&document.currentScript&&(-1!=(a=document.currentScript.src).indexOf(".min")&&(i=".min"),t=a.substring(0,a.lastIndexOf("/")))}e.baseURL=new r(n).toAbsolute(t),e.documentBaseURL=n,e.baseURI=new r(e.baseURL),e.suffix=i,e.focusManager=new c(e)},overrideDefaults:function(e){var t,n;(t=e.base_url)&&(this.baseURL=new r(this.documentBaseURL).toAbsolute(t.replace(/\/+$/,"")),this.baseURI=new r(this.baseURL)),n=e.suffix,e.suffix&&(this.suffix=n),this.defaultSettings=e;var i=e.plugin_base_urls;for(var o in i)u.PluginManager.urls[o]=i[o]},init:function(n){function r(e,t){return e.inline&&t.tagName.toLowerCase()in x}function i(e,t){window.console&&!window.test&&window.console.log(e,t)}function s(e){var t=e.id;return t||(t=(t=e.name)&&!p.get(t)?e.name:p.uniqueId(),e.setAttribute("id",t)),t}function l(e){var t=n[e];if(t)return t.apply(f,Array.prototype.slice.call(arguments,2))}function c(e,t){return t.constructor===RegExp?t.test(e.className):p.hasClass(e,t)}function u(e){var t,n=[];if(e.types)return v(e.types,(function(e){n=n.concat(p.select(e.selector))})),n;if(e.selector)return p.select(e.selector);if(e.target)return[e.target];switch(e.mode){case"exact":(t=e.elements||"").length>0&&v(h(t),(function(e){var t;(t=p.get(e))?n.push(t):v(document.forms,(function(t){v(t.elements,(function(t){t.name===e&&(e="mce_editor_"+y++,p.setAttrib(t,"id",e),n.push(t))}))}))}));break;case"textareas":case"specific_textareas":v(p.select("textarea"),(function(t){e.editor_deselector&&c(t,e.editor_deselector)||e.editor_selector&&!c(t,e.editor_selector)||n.push(t)}))}return n}function d(){function a(t,n,r){var i=new e(t,n,f);m.push(i),i.on("init",(function(){++c===h.length&&w(m)})),i.targetElm=i.targetElm||r,i.render()}var c=0,m=[],h;return p.unbind(window,"ready",d),l("onpageload"),h=t.unique(u(n)),n.types?void v(n.types,(function(e){o.each(h,(function(t){return!p.is(t,e.selector)||(a(s(t),b({},n,e),t),!1)}))})):(o.each(h,(function(e){g(f.get(e.id))})),h=o.grep(h,(function(e){return!f.get(e.id)})),void v(h,(function(e){r(n,e)?i("Could not initialize inline editor on invalid inline target element",e):a(s(e),n,e)})))}var f=this,m,x;x=o.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu"," ");var w=function(e){m=e};return f.settings=n,p.bind(window,"ready",d),new a((function(e){m?e(m):w=function(t){e(t)}}))},get:function(e){return arguments.length?e in this.editors?this.editors[e]:null:this.editors},add:function(e){var t=this,n=t.editors;return n[e.id]=e,n.push(e),f(n,!0),t.activeEditor=e,t.fire("AddEditor",{editor:e}),x||(x=function(){t.fire("BeforeUnload")},p.bind(window,"beforeunload",x)),e},createEditor:function(t,n){return this.add(new e(t,n,this))},remove:function(e){var t=this,n,r=t.editors,i;if(e)return"string"==typeof e?(e=e.selector||e,void v(p.select(e),(function(e){(i=r[e.id])&&t.remove(i)}))):r[(i=e).id]?(m(i)&&t.fire("RemoveEditor",{editor:i}),r.length||p.unbind(window,"beforeunload",x),i.remove(),f(r,r.length>0),i):null;for(n=r.length-1;n>=0;n--)t.remove(r[n])},execCommand:function(t,n,r){var i=this,o=i.get(r);switch(t){case"mceAddEditor":return i.get(r)||new e(r,i.settings,i).render(),!0;case"mceRemoveEditor":return o&&o.remove(),!0;case"mceToggleEditor":return o?(o.isHidden()?o.show():o.hide(),!0):(i.execCommand("mceAddEditor",0,r),!0)}return!!i.activeEditor&&i.activeEditor.execCommand(t,n,r)},triggerSave:function(){v(this.editors,(function(e){e.save()}))},addI18n:function(e,t){l.add(e,t)},translate:function(e){return l.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!=e&&(t&&t.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:t})),this.activeEditor=e}},b(w,s),w.setup(),window.tinymce=window.tinyMCE=w,w})),r(ut,[ct,p],(function(e,t){var n=t.each,r=t.explode;e.on("AddEditor",(function(e){var t=e.editor;t.on("preInit",(function(){function e(e,t){n(t,(function(t,n){t&&s.setStyle(e,n,t)})),s.rename(e,"span")}function i(e){s=t.dom,l.convert_fonts_to_spans&&n(s.select("font,u,strike",e.node),(function(e){o[e.nodeName.toLowerCase()](s,e)}))}var o,a,s,l=t.settings;l.inline_styles&&(a=r(l.font_size_legacy_values),o={font:function(t,n){e(n,{backgroundColor:n.style.backgroundColor,color:n.color,fontFamily:n.face,fontSize:a[parseInt(n.size,10)-1]})},u:function(n,r){"html4"===t.settings.schema&&e(r,{textDecoration:"underline"})},strike:function(t,n){e(n,{textDecoration:"line-through"})}},t.on("PreProcess SetContent",i))}))}))})),r(dt,[me,p],(function(e,t){var n={send:function(e){function r(){!e.async||4==i.readyState||o++>1e4?(e.success&&o<1e4&&200==i.status?e.success.call(e.success_scope,""+i.responseText,i,e):e.error&&e.error.call(e.error_scope,o>1e4?"TIMED_OUT":"GENERAL",i,e),i=null):setTimeout(r,10)}var i,o=0;if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=!1!==e.async,e.data=e.data||"",n.fire("beforeInitialize",{settings:e}),i=new XMLHttpRequest){if(i.overrideMimeType&&i.overrideMimeType(e.content_type),i.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(i.withCredentials=!0),e.content_type&&i.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&t.each(e.requestheaders,(function(e){i.setRequestHeader(e.key,e.value)})),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),(i=n.fire("beforeSend",{xhr:i,settings:e}).xhr).send(e.data),!e.async)return r();setTimeout(r,10)}}};return t.extend(n,e),n})),r(ft,[],(function(){function e(t,n){var r,i,o,a;if(n=n||'"',null===t)return"null";if("string"==(o=typeof t))return i="\bb\tt\nn\ff\rr\"\"''\\\\",n+t.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,(function(e,t){return'"'===n&&"'"===e?e:(r=i.indexOf(t))+1?"\\"+i.charAt(r+1):(e=t.charCodeAt().toString(16),"\\u"+"0000".substring(e.length)+e)}))+n;if("object"==o){if(t.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(t)){for(r=0,i="[";r<t.length;r++)i+=(r>0?",":"")+e(t[r],n);return i+"]"}for(a in i="{",t)t.hasOwnProperty(a)&&(i+="function"!=typeof t[a]?(i.length>1?","+n:n)+a+n+":"+e(t[a],n):"");return i+"}"}return""+t}return{serialize:e,parse:function(e){try{return window[String.fromCharCode(101)+"val"]("("+e+")")}catch(t){}}}})),r(mt,[ft,dt,p],(function(e,t,n){function r(e){this.settings=i({},e),this.count=0}var i=n.extend;return r.sendRPC=function(e){return(new r).send(e)},r.prototype={send:function(n){var r=n.error,o=n.success;(n=i(this.settings,n)).success=function(t,i){void 0===(t=e.parse(t))&&(t={error:"JSON Parse error."}),t.error?r.call(n.error_scope||n.scope,t.error,i):o.call(n.success_scope||n.scope,t.result)},n.error=function(e,t){r&&r.call(n.error_scope||n.scope,e,t)},n.data=e.serialize({id:n.id||"c"+this.count++,method:n.method,params:n.params}),n.content_type="application/json",t.send(n)}},r})),r(gt,[C],(function(e){return{callbacks:{},count:0,send:function(n){var r=this,i=e.DOM,o=n.count!==t?n.count:r.count,a="tinymce_jsonp_"+o;r.callbacks[o]=function(e){i.remove(a),delete r.callbacks[o],n.callback(e)},i.add(i.doc.body,"script",{id:a,src:n.url,type:"text/javascript"}),r.count++}}})),r(pt,[],(function(){function e(){for(var e in s=[],a)s.push(e);i.length=s.length}function n(){function n(e){var n,r;return-1===(r=e!==t?u+e:i.indexOf(",",u))||r>i.length?null:(n=i.substring(u,r),u=r+1,n)}var r,i,s,u=0;if(a={},c){o.load(l),i=o.getAttribute(l)||"";do{var d=n();if(null===d)break;if(null!==(r=n(parseInt(d,32)||0))){if(null===(d=n()))break;s=n(parseInt(d,32)||0),r&&(a[r]=s)}}while(null!==r);e()}}function r(){var t,n="";if(c){for(var r in a)t=a[r],n+=(n?",":"")+r.length.toString(32)+","+r+","+t.length.toString(32)+","+t;o.setAttribute(l,n);try{o.save(l)}catch(i){}e()}}var i,o,a,s,l,c;try{if(window.localStorage)return localStorage}catch(u){}return l="tinymce",o=document.documentElement,(c=!!o.addBehavior)&&o.addBehavior("#default#userData"),i={key:function(e){return s[e]},getItem:function(e){return e in a?a[e]:null},setItem:function(e,t){a[e]=""+t,r()},removeItem:function(e){delete a[e],r()},clear:function(){a={},r()}},n(),i})),r(ht,[C,f,k,N,p,d],(function(e,t,n,r,i,o){var a=window.tinymce;return a.DOM=e.DOM,a.ScriptLoader=n.ScriptLoader,a.PluginManager=r.PluginManager,a.ThemeManager=r.ThemeManager,a.dom=a.dom||{},a.dom.Event=t.Event,i.each("trim isArray is toArray makeMap each map grep inArray extend create walk createNS resolve explode _addCacheSuffix".split(" "),(function(e){a[e]=i[e]})),i.each("isOpera isWebKit isIE isGecko isMac".split(" "),(function(e){a[e]=o[e.substr(2).toLowerCase()]})),{}})),r(vt,[ue,p],(function(e,t){return e.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(e){this.settings=t.extend({},this.Defaults,e)},preRender:function(e){e.bodyClasses.add(this.settings.containerClass)},applyClasses:function(e){var t,n=this.settings,r,i,o,a;r=n.firstControlClass,i=n.lastControlClass,e.each((function(e){e.classes.remove(r).remove(i).add(n.controlClass),e.visible()&&(o||(o=e),a=e)})),o&&o.classes.add(r),a&&a.classes.add(i)},renderHtml:function(e){var t,n="";return this.applyClasses(e.items()),e.items().each((function(e){n+=e.renderHtml()})),n},recalc:function(){},postRender:function(){},isNative:function(){return!1}})})),r(bt,[vt],(function(e){return e.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(e){e.items().filter(":visible").each((function(e){var t=e.settings;e.layoutRect({x:t.x,y:t.y,w:t.w,h:t.h}),e.recalc&&e.recalc()}))},renderHtml:function(e){return'<div id="'+e._id+'-absend" class="'+e.classPrefix+'abs-end"></div>'+this._super(e)}})})),r(yt,[Ie],(function(e){return e.extend({Defaults:{classes:"widget btn",role:"button"},init:function(e){var t=this,n;t._super(e),e=t.settings,n=t.settings.size,t.on("click mousedown",(function(e){e.preventDefault()})),t.on("touchstart",(function(e){t.fire("click",e),e.preventDefault()})),e.subtype&&t.classes.add(e.subtype),n&&t.classes.add("btn-"+n),e.icon&&t.icon(e.icon)},icon:function(e){return arguments.length?(this.state.set("icon",e),this):this.state.get("icon")},repaint:function(){var e=this.getEl().firstChild,t;e&&((t=e.style).width=t.height="100%"),this._super()},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix,r=e.state.get("icon"),i,o=e.state.get("text"),a="";return(i=e.settings.image)?(r="none","string"!=typeof i&&(i=window.getSelection?i[0]:i[1]),i=" style=\"background-image: url('"+i+"')\""):i="",o&&(e.classes.add("btn-has-text"),a='<span class="'+n+'txt">'+e.encode(o)+"</span>"),r=r?n+"ico "+n+"i-"+r:"",'<div id="'+t+'" class="'+e.classes+'" tabindex="-1" aria-labelledby="'+t+'"><button role="presentation" type="button" tabindex="-1">'+(r?'<i class="'+r+'"'+i+"></i>":"")+a+"</button></div>"},bindStates:function(){function e(e){var i=n("span."+r,t.getEl());e?(i[0]||(n("button:first",t.getEl()).append('<span class="'+r+'"></span>'),i=n("span."+r,t.getEl())),i.html(t.encode(e))):i.remove(),t.classes.toggle("btn-has-text",!!e)}var t=this,n=t.$,r=t.classPrefix+"txt";return t.state.on("change:text",(function(t){e(t.value)})),t.state.on("change:icon",(function(n){var r=n.value,i=t.classPrefix;t.settings.icon=r,r=r?i+"ico "+i+"i-"+t.settings.icon:"";var o=t.getEl().firstChild,a=o.getElementsByTagName("i")[0];r?(a&&a==o.firstChild||(a=document.createElement("i"),o.insertBefore(a,o.firstChild)),a.className=r):a&&o.removeChild(a),e(t.state.get("text"))})),t._super()}})})),r(xt,[Ne],(function(e){return e.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var e=this,t=e._layout;return e.classes.add("btn-group"),e.preRender(),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes+'"><div id="'+e._id+'-body">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>"}})})),r(wt,[Ie],(function(e){return e.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(e){var t=this;t._super(e),t.on("click mousedown",(function(e){e.preventDefault()})),t.on("click",(function(e){e.preventDefault(),t.disabled()||t.checked(!t.checked())})),t.checked(t.settings.checked)},checked:function(e){return arguments.length?(this.state.set("checked",e),this):this.state.get("checked")},value:function(e){return arguments.length?this.checked(e):this.checked()},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix;return'<div id="'+t+'" class="'+e.classes+'" unselectable="on" aria-labelledby="'+t+'-al" tabindex="-1"><i class="'+n+"ico "+n+'i-checkbox"></i><span id="'+t+'-al" class="'+n+'label">'+e.encode(e.state.get("text"))+"</span></div>"},bindStates:function(){function e(e){t.classes.toggle("checked",e),t.aria("checked",e)}var t=this;return t.state.on("change:text",(function(e){t.getEl("al").firstChild.data=t.translate(e.value)})),t.state.on("change:checked change:value",(function(n){t.fire("change"),e(n.value)})),t.state.on("change:icon",(function(e){var n=e.value,r=t.classPrefix;if(void 0===n)return t.settings.icon;t.settings.icon=n,n=n?r+"ico "+r+"i-"+t.settings.icon:"";var i=t.getEl().firstChild,o=i.getElementsByTagName("i")[0];n?(o&&o==i.firstChild||(o=document.createElement("i"),i.insertBefore(o,i.firstChild)),o.className=n):o&&i.removeChild(o)})),t.state.get("checked")&&e(!0),t._super()}})})),r(Ct,[Ie,Ce,ve,h,H,p],(function(e,t,n,r,i,o){return e.extend({init:function(e){var t=this;t._super(e),e=t.settings,t.classes.add("combobox"),t.subinput=!0,t.ariaTarget="inp",e.menu=e.menu||e.values,e.menu&&(e.icon="caret"),t.on("click",(function(n){var i=n.target,o=t.getEl();if(r.contains(o,i)||i==o)for(;i&&i!=o;)i.id&&-1!=i.id.indexOf("-open")&&(t.fire("action"),e.menu&&(t.showMenu(),n.aria&&t.menu.items()[0].focus())),i=i.parentNode})),t.on("keydown",(function(e){var n;13==e.keyCode&&"INPUT"===e.target.nodeName&&(e.preventDefault(),t.parents().reverse().each((function(e){if(e.toJSON)return n=e,!1})),t.fire("submit",{data:n.toJSON()}))})),t.on("keyup",(function(e){if("INPUT"==e.target.nodeName){var n=t.state.get("value"),r=e.target.value;r!==n&&(t.state.set("value",r),t.fire("autocomplete",e))}})),t.on("mouseover",(function(e){var n=t.tooltip().moveTo(-65535);if(t.statusLevel()&&-1!==e.target.className.indexOf(t.classPrefix+"status")){var r=t.statusMessage()||"Ok",i=n.text(r).show().testMoveRel(e.target,["bc-tc","bc-tl","bc-tr"]);n.classes.toggle("tooltip-n","bc-tc"==i),n.classes.toggle("tooltip-nw","bc-tl"==i),n.classes.toggle("tooltip-ne","bc-tr"==i),n.moveRel(e.target,i)}}))},statusLevel:function(e){return arguments.length>0&&this.state.set("statusLevel",e),this.state.get("statusLevel")},statusMessage:function(e){return arguments.length>0&&this.state.set("statusMessage",e),this.state.get("statusMessage")},showMenu:function(){var e=this,n=e.settings,r;e.menu||((r=n.menu||[]).length?r={type:"menu",items:r}:r.type=r.type||"menu",e.menu=t.create(r).parent(e).renderTo(e.getContainerElm()),e.fire("createmenu"),e.menu.reflow(),e.menu.on("cancel",(function(t){t.control===e.menu&&e.focus()})),e.menu.on("show hide",(function(t){t.control.items().each((function(t){t.active(t.value()==e.value())}))})).fire("show"),e.menu.on("select",(function(t){e.value(t.control.value())})),e.on("focusin",(function(t){"INPUT"==t.target.tagName.toUpperCase()&&e.menu.hide()})),e.aria("expanded",!0)),e.menu.show(),e.menu.layoutRect({w:e.layoutRect().w}),e.menu.moveRel(e.getEl(),e.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var e=this,t=e.getEl(),i=e.getEl("open"),o=e.layoutRect(),a,s,l=0,c=t.firstChild;e.statusLevel()&&"none"!==e.statusLevel()&&(l=parseInt(n.getRuntimeStyle(c,"padding-right"),10)-parseInt(n.getRuntimeStyle(c,"padding-left"),10)),a=i?o.w-n.getSize(i).width-10:o.w-10;var u=document;return u.all&&(!u.documentMode||u.documentMode<=8)&&(s=e.layoutRect().h-2+"px"),r(c).css({width:a-l,lineHeight:s}),e._super(),e},postRender:function(){var e=this;return r(this.getEl("inp")).on("change",(function(t){e.state.set("value",t.target.value),e.fire("change",t)})),e._super()},renderHtml:function(){var e=this,t=e._id,n=e.settings,r=e.classPrefix,i=e.state.get("value")||"",o,a,s="",l="",c="";return"spellcheck"in n&&(l+=' spellcheck="'+n.spellcheck+'"'),n.maxLength&&(l+=' maxlength="'+n.maxLength+'"'),n.size&&(l+=' size="'+n.size+'"'),n.subtype&&(l+=' type="'+n.subtype+'"'),c='<i id="'+t+'-status" class="mce-status mce-ico" style="display: none"></i>',e.disabled()&&(l+=' disabled="disabled"'),(o=n.icon)&&"caret"!=o&&(o=r+"ico "+r+"i-"+n.icon),a=e.state.get("text"),(o||a)&&(s='<div id="'+t+'-open" class="'+r+"btn "+r+'open" tabIndex="-1" role="button"><button id="'+t+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!=o?'<i class="'+o+'"></i>':'<i class="'+r+'caret"></i>')+(a?(o?" ":"")+a:"")+"</button></div>",e.classes.add("has-open")),'<div id="'+t+'" class="'+e.classes+'"><input id="'+t+'-inp" class="'+r+'textbox" value="'+e.encode(i,!1)+'" hidefocus="1"'+l+' placeholder="'+e.encode(n.placeholder)+'" />'+c+s+"</div>"},value:function(e){return arguments.length?(this.state.set("value",e),this):(this.state.get("rendered")&&this.state.set("value",this.getEl("inp").value),this.state.get("value"))},showAutoComplete:function(e,n){var r=this;if(0!==e.length){var i=function(e,t){return function(){r.fire("selectitem",{title:t,value:e})}};r.menu?r.menu.items().remove():r.menu=t.create({type:"menu",classes:"combobox-menu",layout:"flow"}).parent(r).renderTo(),o.each(e,(function(e){r.menu.add({text:e.title,url:e.previewUrl,match:n,classes:"menu-item-ellipsis",onclick:i(e.value,e.title)})})),r.menu.renderNew(),r.hideMenu(),r.menu.on("cancel",(function(e){e.control.parent()===r.menu&&(e.stopPropagation(),r.focus(),r.hideMenu())})),r.menu.on("select",(function(){r.focus()}));var a=r.layoutRect().w;r.menu.layoutRect({w:a,minW:0,maxW:a}),r.menu.reflow(),r.menu.show(),r.menu.moveRel(r.getEl(),r.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])}else r.hideMenu()},hideMenu:function(){this.menu&&this.menu.hide()},bindStates:function(){var e=this;e.state.on("change:value",(function(t){e.getEl("inp").value!=t.value&&(e.getEl("inp").value=t.value)})),e.state.on("change:disabled",(function(t){e.getEl("inp").disabled=t.value})),e.state.on("change:statusLevel",(function(t){var r=e.getEl("status"),i=e.classPrefix,o=t.value;n.css(r,"display","none"===o?"none":""),n.toggleClass(r,i+"i-checkmark","ok"===o),n.toggleClass(r,i+"i-warning","warn"===o),n.toggleClass(r,i+"i-error","error"===o),e.classes.toggle("has-status","none"!==o),e.repaint()})),n.on(e.getEl("status"),"mouseleave",(function(){e.tooltip().hide()})),e.on("cancel",(function(t){e.menu&&e.menu.visible()&&(t.stopPropagation(),e.hideMenu())}));var t=function(e,t){t&&t.items().length>0&&t.items().eq(e)[0].focus()};return e.on("keydown",(function(n){var r=n.keyCode;"INPUT"===n.target.nodeName&&(r===i.DOWN?(n.preventDefault(),e.fire("autocomplete"),t(0,e.menu)):r===i.UP&&(n.preventDefault(),t(-1,e.menu)))})),e._super()},remove:function(){r(this.getEl("inp")).off(),this.menu&&this.menu.remove(),this._super()}})})),r(kt,[Ct],(function(e){return e.extend({init:function(e){var t=this;e.spellcheck=!1,e.onaction&&(e.icon="none"),t._super(e),t.classes.add("colorbox"),t.on("change keyup postrender",(function(){t.repaintColor(t.value())}))},repaintColor:function(e){var t=this.getEl("open"),n=t?t.getElementsByTagName("i")[0]:null;if(n)try{n.style.background=e}catch(r){}},bindStates:function(){var e=this;return e.state.on("change:value",(function(t){e.state.get("rendered")&&e.repaintColor(t.value)})),e._super()}})})),r(Nt,[yt,Ae],(function(e,t){return e.extend({showPanel:function(){var e=this,n=e.settings;if(e.active(!0),e.panel)e.panel.show();else{var r=n.panel;r.type&&(r={layout:"grid",items:r}),r.role=r.role||"dialog",r.popover=!0,r.autohide=!0,r.ariaRoot=!0,e.panel=new t(r).on("hide",(function(){e.active(!1)})).on("cancel",(function(t){t.stopPropagation(),e.focus(),e.hidePanel()})).parent(e).renderTo(e.getContainerElm()),e.panel.fire("show"),e.panel.reflow()}e.panel.moveRel(e.getEl(),n.popoverAlign||(e.isRtl()?["bc-tr","bc-tc"]:["bc-tl","bc-tc"]))},hidePanel:function(){var e=this;e.panel&&e.panel.hide()},postRender:function(){var e=this;return e.aria("haspopup",!0),e.on("click",(function(t){t.control===e&&(e.panel&&e.panel.visible()?e.hidePanel():(e.showPanel(),e.panel.focus(!!t.aria)))})),e._super()},remove:function(){return this.panel&&(this.panel.remove(),this.panel=null),this._super()}})})),r(St,[Nt,C],(function(e,t){var n=t.DOM;return e.extend({init:function(e){this._super(e),this.classes.add("colorbutton")},color:function(e){return e?(this._color=e,this.getEl("preview").style.backgroundColor=e,this):this._color},resetColor:function(){return this._color=null,this.getEl("preview").style.backgroundColor=null,this},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix,r=e.state.get("text"),i=e.settings.icon?n+"ico "+n+"i-"+e.settings.icon:"",o=e.settings.image?" style=\"background-image: url('"+e.settings.image+"')\"":"",a="";return r&&(e.classes.add("btn-has-text"),a='<span class="'+n+'txt">'+e.encode(r)+"</span>"),'<div id="'+t+'" class="'+e.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(i?'<i class="'+i+'"'+o+"></i>":"")+'<span id="'+t+'-preview" class="'+n+'preview"></span>'+a+'</button><button type="button" class="'+n+'open" hidefocus="1" tabindex="-1"> <i class="'+n+'caret"></i></button></div>'},postRender:function(){var e=this,t=e.settings.onclick;return e.on("click",(function(r){r.aria&&"down"==r.aria.key||r.control!=e||n.getParent(r.target,"."+e.classPrefix+"open")||(r.stopImmediatePropagation(),t.call(e,r))})),delete e.settings.onclick,e._super()}})})),r(_t,[],(function(){function e(e){function i(e,i,o){var a,s,l,c,u,d;return a=0,s=0,l=0,(u=t(e/=255,t(i/=255,o/=255)))==(d=n(e,n(i,o)))?{h:0,s:0,v:100*(l=u)}:(s=(d-u)/d,l=d,{h:r(a=60*((a=e==u?3:o==u?1:5)-(c=e==u?i-o:o==u?e-i:o-e)/(d-u))),s:r(100*s),v:r(100*l)})}function o(e,i,o){var a,s,l,c;if(e=(parseInt(e,10)||0)%360,i=parseInt(i,10)/100,o=parseInt(o,10)/100,i=n(0,t(i,1)),o=n(0,t(o,1)),0!==i){switch(a=e/60,l=(s=o*i)*(1-Math.abs(a%2-1)),c=o-s,Math.floor(a)){case 0:d=s,f=l,m=0;break;case 1:d=l,f=s,m=0;break;case 2:d=0,f=s,m=l;break;case 3:d=0,f=l,m=s;break;case 4:d=l,f=0,m=s;break;case 5:d=s,f=0,m=l;break;default:d=f=m=0}d=r(255*(d+c)),f=r(255*(f+c)),m=r(255*(m+c))}else d=f=m=r(255*o)}function a(){function e(e){return(e=parseInt(e,10).toString(16)).length>1?e:"0"+e}return"#"+e(d)+e(f)+e(m)}function s(){return{r:d,g:f,b:m}}function l(){return i(d,f,m)}function c(e){var t;return"object"==typeof e?"r"in e?(d=e.r,f=e.g,m=e.b):"v"in e&&o(e.h,e.s,e.v):(t=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e))?(d=parseInt(t[1],10),f=parseInt(t[2],10),m=parseInt(t[3],10)):(t=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e))?(d=parseInt(t[1],16),f=parseInt(t[2],16),m=parseInt(t[3],16)):(t=/#([0-F])([0-F])([0-F])/gi.exec(e))&&(d=parseInt(t[1]+t[1],16),f=parseInt(t[2]+t[2],16),m=parseInt(t[3]+t[3],16)),d=d<0?0:d>255?255:d,f=f<0?0:f>255?255:f,m=m<0?0:m>255?255:m,u}var u=this,d=0,f=0,m=0;e&&c(e),u.toRgb=s,u.toHsv=l,u.toHex=a,u.parse=c}var t=Math.min,n=Math.max,r=Math.round;return e})),r(Tt,[Ie,Se,ve,_t],(function(e,t,n,r){return e.extend({Defaults:{classes:"widget colorpicker"},init:function(e){this._super(e)},postRender:function(){function e(e,t){var r=n.getPos(e),i,o;return i=t.pageX-r.x,o=t.pageY-r.y,{x:i=Math.max(0,Math.min(i/e.clientWidth,1)),y:o=Math.max(0,Math.min(o/e.clientHeight,1))}}function i(e,t){var i=(360-e.h)/360;n.css(d,{top:100*i+"%"}),t||n.css(m,{left:e.s+"%",top:100-e.v+"%"}),f.style.background=new r({s:100,v:100,h:e.h}).toHex(),s.color().parse({s:e.s,v:e.v,h:e.h})}function o(t){var n;n=e(f,t),c.s=100*n.x,c.v=100*(1-n.y),i(c),s.fire("change")}function a(t){var n;n=e(u,t),(c=l.toHsv()).h=360*(1-n.y),i(c,!0),s.fire("change")}var s=this,l=s.color(),c,u,d,f,m;u=s.getEl("h"),d=s.getEl("hp"),f=s.getEl("sv"),m=s.getEl("svp"),s._repaint=function(){i(c=l.toHsv())},s._super(),s._svdraghelper=new t(s._id+"-sv",{start:o,drag:o}),s._hdraghelper=new t(s._id+"-h",{start:a,drag:a}),s._repaint()},rgb:function(){return this.color().toRgb()},value:function(e){var t=this;return arguments.length?(t.color().parse(e),void(t._rendered&&t._repaint())):t.color().toHex()},color:function(){return this._color||(this._color=new r),this._color},renderHtml:function(){function e(){var e,t,n="",i,a;for(i="filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=",e=0,t=(a=o.split(",")).length-1;e<t;e++)n+='<div class="'+r+'colorpicker-h-chunk" style="height:'+100/t+"%;"+i+a[e]+",endColorstr="+a[e+1]+");-ms-"+i+a[e]+",endColorstr="+a[e+1]+')"></div>';return n}var t=this,n=t._id,r=t.classPrefix,i,o="#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000",a;return i='<div id="'+n+'-h" class="'+r+'colorpicker-h" style="'+("background: -ms-linear-gradient(top,"+o+");background: linear-gradient(to bottom,"+o+");")+'">'+e()+'<div id="'+n+'-hp" class="'+r+'colorpicker-h-marker"></div></div>','<div id="'+n+'" class="'+t.classes+'"><div id="'+n+'-sv" class="'+r+'colorpicker-sv"><div class="'+r+'colorpicker-overlay1"><div class="'+r+'colorpicker-overlay2"><div id="'+n+'-svp" class="'+r+'colorpicker-selector1"><div class="'+r+'colorpicker-selector2"></div></div></div></div></div>'+i+"</div>"}})})),r(Et,[Ie],(function(e){return e.extend({init:function(e){var t=this;e.delimiter||(e.delimiter=""),t._super(e),t.classes.add("path"),t.canFocus=!0,t.on("click",(function(e){var n,r;(n=e.target.getAttribute("data-index"))&&t.fire("select",{value:t.row()[n],index:n})})),t.row(t.settings.row)},focus:function(){var e=this;return e.getEl().firstChild.focus(),e},row:function(e){return arguments.length?(this.state.set("row",e),this):this.state.get("row")},renderHtml:function(){var e=this;return'<div id="'+e._id+'" class="'+e.classes+'">'+e._getDataPathHtml(e.state.get("row"))+"</div>"},bindStates:function(){var e=this;return e.state.on("change:row",(function(t){e.innerHtml(e._getDataPathHtml(t.value))})),e._super()},_getDataPathHtml:function(e){var t=this,n=e||[],r,i,o="",a=t.classPrefix;for(r=0,i=n.length;r<i;r++)o+=(r>0?'<div class="'+a+'divider" aria-hidden="true"> '+t.settings.delimiter+" </div>":"")+'<div role="button" class="'+a+"path-item"+(r==i-1?" "+a+"last":"")+'" data-index="'+r+'" tabindex="-1" id="'+t._id+"-"+r+'" aria-level="'+(r+1)+'">'+n[r].name+"</div>";return o||(o='<div class="'+a+'path-item"></div>'),o}})})),r(Rt,[Et],(function(e){return e.extend({postRender:function(){function e(e){if(1===e.nodeType){if("BR"==e.nodeName||e.getAttribute("data-mce-bogus"))return!0;if("bookmark"===e.getAttribute("data-mce-type"))return!0}return!1}var t=this,n=t.settings.editor;return!1!==n.settings.elementpath&&(t.on("select",(function(e){n.focus(),n.selection.select(this.row()[e.index].element),n.nodeChanged()})),n.on("nodeChange",(function(r){for(var i=[],o=r.parents,a=o.length;a--;)if(1==o[a].nodeType&&!e(o[a])){var s=n.fire("ResolveName",{name:o[a].nodeName.toLowerCase(),target:o[a]});if(s.isDefaultPrevented()||i.push({name:s.name,element:o[a]}),s.isPropagationStopped())break}t.row(i)}))),t._super()}})})),r(At,[Ne],(function(e){return e.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.classes.add("formitem"),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1">'+(e.settings.title?'<div id="'+e._id+'-title" class="'+n+'title">'+e.settings.title+"</div>":"")+'<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>"}})})),r(Bt,[Ne,At,p],(function(e,t,n){return e.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var e=this,r=e.items();e.settings.formItemDefaults||(e.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}}),r.each((function(r){var i,o=r.settings.label;o&&((i=new t(n.extend({items:{type:"label",id:r._id+"-l",text:o,flex:0,forId:r._id,disabled:r.disabled()}},e.settings.formItemDefaults))).type="formitem",r.aria("labelledby",r._id+"-l"),void 0===r.settings.flex&&(r.settings.flex=1),e.replace(r,i),i.add(r))}))},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){var e=this;e._super(),e.fromJSON(e.settings.data)},bindStates:function(){function e(){var e=0,n=[],r,i,o;if(!1!==t.settings.labelGapCalc)for((o="children"==t.settings.labelGapCalc?t.find("formitem"):t.items()).filter("formitem").each((function(t){var r=t.items()[0],i=r.getEl().clientWidth;e=i>e?i:e,n.push(r)})),i=t.settings.labelGap||0,r=n.length;r--;)n[r].settings.minWidth=e+i}var t=this;t._super(),t.on("show",e),e()}})})),r(Pt,[Bt],(function(e){return e.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.preRender(),t.preRender(e),'<fieldset id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1">'+(e.settings.title?'<legend id="'+e._id+'-title" class="'+n+'fieldset-title">'+e.settings.title+"</legend>":"")+'<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></fieldset>"}})})),r(Mt,[C,z,g,it,p,S],(function(e,t,n,r,i,o){var a=i.trim,s=function(e,t,n,r,i){return{type:e,title:t,url:n,level:r,attach:i}},l=function(e){for(;e=e.parentNode;){var t=e.contentEditable;if(t&&"inherit"!==t)return o.isContentEditableTrue(e)}return!1},c=function(t,n){return e.DOM.select(t,n)},u=function(e){return e.innerText||e.textContent},d=function(e){return e.id?e.id:r.uuid("h")},f=function(e){return e&&"A"===e.nodeName&&(e.id||e.name)},m=function(e){return f(e)&&p(e)},g=function(e){return e&&/^(H[1-6])$/.test(e.nodeName)},p=function(e){return l(e)&&!o.isContentEditableFalse(e)},h=function(e){return g(e)&&p(e)},v=function(e){return g(e)?parseInt(e.nodeName.substr(1),10):0},b=function(e){var t=d(e),n=function(){e.id=t};return s("header",u(e),"#"+t,v(e),n)},y=function(e){var n=e.id||e.name,r=u(e);return s("anchor",r||"#"+n,"#"+n,0,t.noop)},x=function(e){return n.map(n.filter(e,h),b)},w=function(e){return n.map(n.filter(e,m),y)},C=function(e){var t;return c("h1,h2,h3,h4,h5,h6,a:not([href])",e)},k=function(e){return a(e.title).length>0},N;return{find:function(e){var t=C(e);return n.filter(x(t).concat(w(t)),k)}}})),r(Dt,[Ct,p,g,z,H,Mt],(function(e,t,n,r,i,o){var a={},s=5,l=function(e){return{title:e.title,value:{title:{raw:e.title},url:e.url,attach:e.attach}}},c=function(e){return t.map(e,l)},u=function(e,t){return{title:e,value:{title:e,url:t,attach:r.noop}}},d=function(e,t){var r;return!n.find(t,(function(t){return t.url===e}))},f=function(e,t,n){var r=t in e?e[t]:n;return!1===r?null:r},m=function(e,i,o,s){var l={title:"-"},m=function(e){var a=n.filter(e[o],(function(e){return d(e,i)}));return t.map(a,(function(e){return{title:e,value:{title:e,url:e,attach:r.noop}}}))},g=function(e){var t=n.filter(i,(function(t){return t.type==e}));return c(t)},h=function(){var e=g("anchor"),t=f(s,"anchor_top","#top"),n=f(s,"anchor_bottom","#bottom");return null!==t&&e.unshift(u("<top>",t)),null!==n&&e.push(u("<bottom>",n)),e},v=function(e){return n.reduce(e,(function(e,t){var n;return 0===e.length||0===t.length?e.concat(t):e.concat(l,t)}),[])};return!1===s.typeahead_urls?[]:"file"===o?v([p(e,m(a)),p(e,g("header")),p(e,h())]):p(e,m(a))},g=function(e,t){var r=a[t];/^https?/.test(e)&&(r?-1===n.indexOf(r,e)&&(a[t]=r.slice(0,5).concat(e)):a[t]=[e])},p=function(e,n){var r=e.toLowerCase(),i=t.grep(n,(function(e){return-1!==e.title.toLowerCase().indexOf(r)}));return 1===i.length&&i[0].title===e?[]:i},h=function(e){var t=e.title;return t.raw?t.raw:t},v=function(e,t,n,r){var i=function(i){var a=o.find(n),s=m(i,a,r,t);e.showAutoComplete(s,i)};e.on("autocomplete",(function(){i(e.value())})),e.on("selectitem",(function(t){var n=t.value;e.value(n.url);var i=h(n);"image"===r?e.fire("change",{meta:{alt:i,attach:n.attach}}):e.fire("change",{meta:{text:i,attach:n.attach}}),e.focus()})),e.on("click",(function(t){0===e.value().length&&"INPUT"===t.target.nodeName&&i("")})),e.on("PostRender",(function(){e.getRoot().on("submit",(function(t){t.isDefaultPrevented()||g(e.value(),r)}))}))},b=function(e){var t=e.status,n=e.message;return"valid"===t?{status:"ok",message:n}:"unknown"===t?{status:"warn",message:n}:"invalid"===t?{status:"warn",message:n}:{status:"none",message:""}},y=function(e,t,n){var r=t.filepicker_validator_handler;if(r){var i=function(t){return 0===t.length?void e.statusLevel("none"):void r({url:t,type:n},(function(t){var n=b(t);e.statusMessage(n.message),e.statusLevel(n.status)}))};e.state.on("change:value",(function(e){i(e.value)}))}};return e.extend({init:function(e){var n=this,r=tinymce.activeEditor,i=r.settings,o,a,s,l=e.filetype;e.spellcheck=!1,(s=i.file_picker_types||i.file_browser_callback_types)&&(s=t.makeMap(s,/[, ]/)),s&&!s[l]||(!(a=i.file_picker_callback)||s&&!s[l]?!(a=i.file_browser_callback)||s&&!s[l]||(o=function(){a(n.getEl("inp").id,n.value(),l,window)}):o=function(){var e=n.fire("beforecall").meta;e=t.extend({filetype:l},e),a.call(r,(function(e,t){n.value(e).fire("change",{meta:t})}),n.value(),e)}),o&&(e.icon="browse",e.onaction=o),n._super(e),v(n,i,r.getBody(),l),y(n,i,l)}})})),r(It,[bt],(function(e){return e.extend({recalc:function(e){var t=e.layoutRect(),n=e.paddingBox;e.items().filter(":visible").each((function(e){e.layoutRect({x:n.left,y:n.top,w:t.innerW-n.right-n.left,h:t.innerH-n.top-n.bottom}),e.recalc&&e.recalc()}))}})})),r(Lt,[bt],(function(e){return e.extend({recalc:function(e){var t,n,r,i,o,a,s,l,c,u,d,f,m,g,p,h,v=[],b,y,x,w,C,k,N,S,_,T,E,R,A,B,P,M,D,I,L,O,H,F,z=Math.max,U=Math.min;for(r=e.items().filter(":visible"),i=e.layoutRect(),o=e.paddingBox,a=e.settings,f=e.isRtl()?a.direction||"row-reversed":a.direction,s=a.align,l=e.isRtl()?a.pack||"end":a.pack,c=a.spacing||0,"row-reversed"!=f&&"column-reverse"!=f||(r=r.set(r.toArray().reverse()),f=f.split("-")[0]),"column"==f?(_="y",N="h",S="minH",T="maxH",R="innerH",E="top",A="deltaH",B="contentH",L="left",D="w",P="x",M="innerW",I="minW",O="right",H="deltaW",F="contentW"):(_="x",N="w",S="minW",T="maxW",R="innerW",E="left",A="deltaW",B="contentW",L="top",D="h",P="y",M="innerH",I="minH",O="bottom",H="deltaH",F="contentH"),d=i[R]-o[E]-o[E],k=u=0,t=0,n=r.length;t<n;t++)g=(m=r[t]).layoutRect(),d-=t<n-1?c:0,(h=(p=m.settings).flex)>0&&(u+=h,g[T]&&v.push(m),g.flex=h),d-=g[S],(b=o[L]+g[I]+o[O])>k&&(k=b);if((w={})[S]=d<0?i[S]-d+i[A]:i[R]-d+i[A],w[I]=k+i[H],w[B]=i[R]-d,w[F]=k,w.minW=U(w.minW,i.maxW),w.minH=U(w.minH,i.maxH),w.minW=z(w.minW,i.startMinWidth),w.minH=z(w.minH,i.startMinHeight),!i.autoResize||w.minW==i.minW&&w.minH==i.minH){for(x=d/u,t=0,n=v.length;t<n;t++)y=(g=(m=v[t]).layoutRect())[T],(b=g[S]+g.flex*x)>y?(d-=g[T]-g[S],u-=g.flex,g.flex=0,g.maxFlexSize=y):g.maxFlexSize=0;for(x=d/u,C=o[E],w={},0===u&&("end"==l?C=d+o[E]:"center"==l?(C=Math.round(i[R]/2-(i[R]-d)/2)+o[E])<0&&(C=o[E]):"justify"==l&&(C=o[E],c=Math.floor(d/(r.length-1)))),w[P]=o[L],t=0,n=r.length;t<n;t++)b=(g=(m=r[t]).layoutRect()).maxFlexSize||g[S],"center"===s?w[P]=Math.round(i[M]/2-g[D]/2):"stretch"===s?(w[D]=z(g[I]||0,i[M]-o[L]-o[O]),w[P]=o[L]):"end"===s&&(w[P]=i[M]-g[D]-o.top),g.flex>0&&(b+=g.flex*x),w[N]=b,w[_]=C,m.layoutRect(w),m.recalc&&m.recalc(),C+=b+c}else if(w.w=w.minW,w.h=w.minH,e.layoutRect(w),this.recalc(e),null===e._lastRect){var W=e.parent();W&&(W._lastRect=null,W.recalc())}}})})),r(Ot,[vt],(function(e){return e.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(e){e.items().filter(":visible").each((function(e){e.recalc&&e.recalc()}))},isNative:function(){return!0}})})),r(Ht,[C],(function(e){var n=function(e,t,n){for(;n!==t;){if(n.style[e])return n.style[e];n=n.parentNode}return""},r,i=function(e){return e.replace(/[\'\"]/g,"").replace(/,\s+/g,",")},o=function(t,n){return e.DOM.getStyle(n,t,!0)},a,s;return{getFontSize:function(e,t){var r=n("fontSize",e,t);return""!==r?r:o("fontSize",t)},getFontFamily:function(e,r){var a=n("fontFamily",e,r),s=""!==a?a:o("fontFamily",r);return s!==t?i(s):""},toPt:function(e){return/[0-9.]+px$/.test(e)?Math.round(72*parseInt(e,10)/96)+"pt":e}}})),r(Ft,[we,Ie,Ae,p,g,C,ct,d,Ht],(function(e,t,n,r,i,o,a,s,l){function c(e){e.settings.ui_container&&(s.container=o.DOM.select(e.settings.ui_container)[0])}function u(t){t.on("ScriptsLoaded",(function(){t.rtl&&(e.rtl=!0)}))}function d(e){function t(t,n){return function(){var r=this;e.on("nodeChange",(function(i){var o=e.formatter,a=null;f(i.parents,(function(e){if(f(t,(function(t){if(n?o.matchNode(e,n,{value:t.value})&&(a=t.value):o.matchNode(e,t.value)&&(a=t.value),a)return!1})),a)return!1})),r.value(a)}))}}function i(t){return function(){var n=this,r=function(e){return e?e.split(",")[0]:""};e.on("nodeChange",(function(i){var o,a=null;o=l.getFontFamily(e.getBody(),i.element),f(t,(function(e){e.value.toLowerCase()===o.toLowerCase()&&(a=e.value)})),f(t,(function(e){a||r(e.value).toLowerCase()!==r(o).toLowerCase()||(a=e.value)})),n.value(a),!a&&o&&n.text(r(o))}))}}function o(t){return function(){var n=this;e.on("nodeChange",(function(r){var i,o,a=null;i=l.getFontSize(e.getBody(),r.element),o=l.toPt(i),f(t,(function(e){e.value===i?a=i:e.value===o&&(a=o)})),n.value(a),a||n.text(o)}))}}function a(e){for(var t=(e=e.replace(/;$/,"").split(";")).length;t--;)e[t]=e[t].split("=");return e}function s(){function t(e){var n=[];if(e)return f(e,(function(e){var o={text:e.title,icon:e.icon};if(e.items)o.menu=t(e.items);else{var a=e.format||"custom"+r++;e.format||(e.name=a,i.push(e)),o.format=a,o.cmd=e.cmd}n.push(o)})),n}function n(){var n;return t(e.settings.style_formats_merge?e.settings.style_formats?o.concat(e.settings.style_formats):o:e.settings.style_formats||o)}var r=0,i=[],o=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}];return e.on("init",(function(){f(i,(function(t){e.formatter.register(t.name,t)}))})),{type:"menu",items:n(),onPostRender:function(t){e.fire("renderFormatsMenu",{control:t.control})},itemDefaults:{preview:!0,textStyle:function(){if(this.settings.format)return e.formatter.getCssText(this.settings.format)},onPostRender:function(){var t=this;t.parent().on("show",(function(){var n,r;(n=t.settings.format)&&(t.disabled(!e.formatter.canApply(n)),t.active(e.formatter.match(n))),(r=t.settings.cmd)&&t.active(e.queryCommandState(r))}))},onclick:function(){this.settings.format&&g(this.settings.format),this.settings.cmd&&e.execCommand(this.settings.cmd)}}}}function c(t){return function(){var n=this;e.formatter?e.formatter.formatChanged(t,(function(e){n.active(e)})):e.on("init",(function(){e.formatter.formatChanged(t,(function(e){n.active(e)}))}))}}function u(t){return function(){function n(){var n="redo"==t?"hasRedo":"hasUndo";return!!e.undoManager&&e.undoManager[n]()}var r=this;r.disabled(!n()),e.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",(function(){r.disabled(e.readonly||!n())}))}}function d(){var t=this;e.on("VisualAid",(function(e){t.active(e.hasVisual)})),t.active(e.hasVisual)}function g(t){t.control&&(t=t.control.value()),t&&e.execCommand("mceToggleFormat",!1,t)}function p(t){var n=t.length;return r.each(t,(function(t){t.menu&&(t.hidden=0===p(t.menu));var r=t.format;r&&(t.hidden=!e.formatter.canApply(r)),t.hidden&&n--})),n}function h(t){var n=t.items().length;return t.items().each((function(t){t.menu&&t.visible(h(t.menu)>0),!t.menu&&t.settings.menu&&t.visible(p(t.settings.menu)>0);var r=t.settings.format;r&&t.visible(e.formatter.canApply(r)),t.visible()||n--})),n}var v;v=s(),f({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},(function(t,n){e.addButton(n,{tooltip:t,onPostRender:c(n),onclick:function(){g(n)}})})),f({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},(function(t,n){e.addButton(n,{tooltip:t[0],cmd:t[1]})})),f({blockquote:["Blockquote","mceBlockQuote"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},(function(t,n){e.addButton(n,{tooltip:t[0],cmd:t[1],onPostRender:c(n)})}));var b=function(e){var t=e;return t.length>0&&"-"===t[0].text&&(t=t.slice(1)),t.length>0&&"-"===t[t.length-1].text&&(t=t.slice(0,t.length-1)),t},y=function(t){var n,i;if("string"==typeof t)i=t.split(" ");else if(r.isArray(t))return m(r.map(t,y));return n=r.grep(i,(function(t){return"|"===t||t in e.menuItems})),r.map(n,(function(t){return"|"===t?{text:"-"}:e.menuItems[t]}))},x=function(t){var n=[{text:"-"}],i=r.grep(e.menuItems,(function(e){return e.context===t}));return r.each(i,(function(e){"before"==e.separator&&n.push({text:"|"}),e.prependToContext?n.unshift(e):n.push(e),"after"==e.separator&&n.push({text:"|"})})),n},w=function(e){return b(e.insert_button_items?y(e.insert_button_items):x("insert"))};e.addButton("undo",{tooltip:"Undo",onPostRender:u("undo"),cmd:"undo"}),e.addButton("redo",{tooltip:"Redo",onPostRender:u("redo"),cmd:"redo"}),e.addMenuItem("newdocument",{text:"New document",icon:"newdocument",cmd:"mceNewDocument"}),e.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:u("undo"),cmd:"undo"}),e.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:u("redo"),cmd:"redo"}),e.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:d,cmd:"mceToggleVisualAid"}),e.addButton("remove",{tooltip:"Remove",icon:"remove",cmd:"Delete"}),e.addButton("insert",{type:"menubutton",icon:"insert",menu:[],oncreatemenu:function(){this.menu.add(w(e.settings)),this.menu.renderNew()}}),f({cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"],bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline","Meta+U"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},(function(t,n){e.addMenuItem(n,{text:t[0],icon:n,shortcut:t[2],cmd:t[1]})})),e.on("mousedown",(function(){n.hideAll()})),e.addButton("styleselect",{type:"menubutton",text:"Formats",menu:v,onShowMenu:function(){e.settings.style_formats_autohide&&h(this.menu)}}),e.addButton("formatselect",(function(){var n=[],r=a(e.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");return f(r,(function(t){n.push({text:t[0],value:t[1],textStyle:function(){return e.formatter.getCssText(t[1])}})})),{type:"listbox",text:r[0][0],values:n,fixedWidth:!0,onselect:g,onPostRender:t(n)}})),e.addButton("fontselect",(function(){var t="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",n=[],r=a(e.settings.font_formats||t);return f(r,(function(e){n.push({text:{raw:e[0]},value:e[1],textStyle:-1==e[1].indexOf("dings")?"font-family:"+e[1]:""})})),{type:"listbox",text:"Font Family",tooltip:"Font Family",values:n,fixedWidth:!0,onPostRender:i(n),onselect:function(t){t.control.settings.value&&e.execCommand("FontName",!1,t.control.settings.value)}}})),e.addButton("fontsizeselect",(function(){var t=[],n="8pt 10pt 12pt 14pt 18pt 24pt 36pt",r=e.settings.fontsize_formats||n;return f(r.split(" "),(function(e){var n=e,r=e,i=e.split("=");i.length>1&&(n=i[0],r=i[1]),t.push({text:n,value:r})})),{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:t,fixedWidth:!0,onPostRender:o(t),onclick:function(t){t.control.settings.value&&e.execCommand("FontSize",!1,t.control.settings.value)}}})),e.addMenuItem("formats",{text:"Formats",menu:v})}var f=r.each,m=function(e){return i.reduce(e,(function(e,t){return e.concat(t)}),[])};a.on("AddEditor",(function(e){var t=e.editor;u(t),d(t),c(t)})),e.translate=function(e){return a.translate(e)},t.tooltips=!s.iOS})),r(zt,[bt],(function(e){return e.extend({recalc:function(e){var t,n,r,i,o,a,s,l,c,u,d,f,m,g,p,h,v,b,y,x,w,C,k,N=[],S=[],_,T,E,R,A,B;t=e.settings,i=e.items().filter(":visible"),o=e.layoutRect(),r=t.columns||Math.ceil(Math.sqrt(i.length)),n=Math.ceil(i.length/r),b=t.spacingH||t.spacing||0,y=t.spacingV||t.spacing||0,x=t.alignH||t.align,w=t.alignV||t.align,h=e.paddingBox,A="reverseRows"in t?t.reverseRows:e.isRtl(),x&&"string"==typeof x&&(x=[x]),w&&"string"==typeof w&&(w=[w]);for(d=0;d<r;d++)N.push(0);for(f=0;f<n;f++)S.push(0);for(f=0;f<n;f++)for(d=0;d<r&&(u=i[f*r+d]);d++)_=(c=u.layoutRect()).minW,T=c.minH,N[d]=_>N[d]?_:N[d],S[f]=T>S[f]?T:S[f];for(E=o.innerW-h.left-h.right,C=0,d=0;d<r;d++)C+=N[d]+(d>0?b:0),E-=(d>0?b:0)+N[d];for(R=o.innerH-h.top-h.bottom,k=0,f=0;f<n;f++)k+=S[f]+(f>0?y:0),R-=(f>0?y:0)+S[f];if(C+=h.left+h.right,k+=h.top+h.bottom,(l={}).minW=C+(o.w-o.innerW),l.minH=k+(o.h-o.innerH),l.contentW=l.minW-o.deltaW,l.contentH=l.minH-o.deltaH,l.minW=Math.min(l.minW,o.maxW),l.minH=Math.min(l.minH,o.maxH),l.minW=Math.max(l.minW,o.startMinWidth),l.minH=Math.max(l.minH,o.startMinHeight),!o.autoResize||l.minW==o.minW&&l.minH==o.minH){var P;o.autoResize&&((l=e.layoutRect(l)).contentW=l.minW-o.deltaW,l.contentH=l.minH-o.deltaH),P="start"==t.packV?0:R>0?Math.floor(R/n):0;var M=0,D=t.flexWidths;if(D)for(d=0;d<D.length;d++)M+=D[d];else M=r;var I=E/M;for(d=0;d<r;d++)N[d]+=D?D[d]*I:I;for(g=h.top,f=0;f<n;f++){for(m=h.left,s=S[f]+P,d=0;d<r&&(u=i[B=A?f*r+r-1-d:f*r+d]);d++)p=u.settings,c=u.layoutRect(),a=Math.max(N[d],c.startMinWidth),c.x=m,c.y=g,"center"==(v=p.alignH||(x?x[d]||x[0]:null))?c.x=m+a/2-c.w/2:"right"==v?c.x=m+a-c.w:"stretch"==v&&(c.w=a),"center"==(v=p.alignV||(w?w[d]||w[0]:null))?c.y=g+s/2-c.h/2:"bottom"==v?c.y=g+s-c.h:"stretch"==v&&(c.h=s),u.layoutRect(c),m+=a+b,u.recalc&&u.recalc();g+=s+y}}else if(l.w=l.minW,l.h=l.minH,e.layoutRect(l),this.recalc(e),null===e._lastRect){var L=e.parent();L&&(L._lastRect=null,L.recalc())}}})})),r(Ut,[Ie,u],(function(e,t){return e.extend({renderHtml:function(){var e=this;return e.classes.add("iframe"),e.canFocus=!1,'<iframe id="'+e._id+'" class="'+e.classes+'" tabindex="-1" src="'+(e.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(e){this.getEl().src=e},html:function(e,n){var r=this,i=this.getEl().contentWindow.document.body;return i?(i.innerHTML=e,n&&n()):t.setTimeout((function(){r.html(e)})),this}})})),r(Wt,[Ie],(function(e){return e.extend({init:function(e){var t=this;t._super(e),t.classes.add("widget").add("infobox"),t.canFocus=!1},severity:function(e){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(e)},help:function(e){this.state.set("help",e)},renderHtml:function(){var e=this,t=e.classPrefix;return'<div id="'+e._id+'" class="'+e.classes+'"><div id="'+e._id+'-body">'+e.encode(e.state.get("text"))+'<button role="button" tabindex="-1"><i class="'+t+"ico "+t+'i-help"></i></button></div></div>'},bindStates:function(){var e=this;return e.state.on("change:text",(function(t){e.getEl("body").firstChild.data=e.encode(t.value),e.state.get("rendered")&&e.updateLayoutRect()})),e.state.on("change:help",(function(t){e.classes.toggle("has-help",t.value),e.state.get("rendered")&&e.updateLayoutRect()})),e._super()}})})),r($t,[Ie,ve],(function(e,t){return e.extend({init:function(e){var t=this;t._super(e),t.classes.add("widget").add("label"),t.canFocus=!1,e.multiline&&t.classes.add("autoscroll"),e.strong&&t.classes.add("strong")},initLayoutRect:function(){var e=this,n=e._super(),r;e.settings.multiline&&(t.getSize(e.getEl()).width>n.maxW&&(n.minW=n.maxW,e.classes.add("multiline")),e.getEl().style.width=n.minW+"px",n.startMinH=n.h=n.minH=Math.min(n.maxH,t.getSize(e.getEl()).height));return n},repaint:function(){var e=this;return e.settings.multiline||(e.getEl().style.lineHeight=e.layoutRect().h+"px"),e._super()},severity:function(e){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(e)},renderHtml:function(){var e=this,t,n,r=e.settings.forId;return!r&&(n=e.settings.forName)&&((t=e.getRoot().find("#"+n)[0])&&(r=t._id)),r?'<label id="'+e._id+'" class="'+e.classes+'"'+(r?' for="'+r+'"':"")+">"+e.encode(e.state.get("text"))+"</label>":'<span id="'+e._id+'" class="'+e.classes+'">'+e.encode(e.state.get("text"))+"</span>"},bindStates:function(){var e=this;return e.state.on("change:text",(function(t){e.innerHtml(e.encode(t.value)),e.state.get("rendered")&&e.updateLayoutRect()})),e._super()}})})),r(jt,[Ne],(function(e){return e.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(e){var t=this;t._super(e),t.classes.add("toolbar")},postRender:function(){var e=this;return e.items().each((function(e){e.classes.add("toolbar-item")})),e._super()}})})),r(Vt,[jt],(function(e){return e.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}})})),r(qt,[yt,Ce,Vt],(function(e,t,n){function r(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1}var i=e.extend({init:function(e){var t=this;t._renderOpen=!0,t._super(e),e=t.settings,t.classes.add("menubtn"),e.fixedWidth&&t.classes.add("fixed-width"),t.aria("haspopup",!0),t.state.set("menu",e.menu||t.render())},showMenu:function(e){var n=this,r;return n.menu&&n.menu.visible()&&!1!==e?n.hideMenu():(n.menu||((r=n.state.get("menu")||[]).length?r={type:"menu",items:r}:r.type=r.type||"menu",r.renderTo?n.menu=r.parent(n).show().renderTo():n.menu=t.create(r).parent(n).renderTo(),n.fire("createmenu"),n.menu.reflow(),n.menu.on("cancel",(function(e){e.control.parent()===n.menu&&(e.stopPropagation(),n.focus(),n.hideMenu())})),n.menu.on("select",(function(){n.focus()})),n.menu.on("show hide",(function(e){e.control==n.menu&&n.activeMenu("show"==e.type),n.aria("expanded","show"==e.type)})).fire("show")),n.menu.show(),n.menu.layoutRect({w:n.layoutRect().w}),n.menu.moveRel(n.getEl(),n.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]),void n.fire("showmenu"))},hideMenu:function(){var e=this;e.menu&&(e.menu.items().each((function(e){e.hideMenu&&e.hideMenu()})),e.menu.hide())},activeMenu:function(e){this.classes.toggle("active",e)},renderHtml:function(){var e=this,t=e._id,r=e.classPrefix,i=e.settings.icon,o,a=e.state.get("text"),s="";return(o=e.settings.image)?(i="none","string"!=typeof o&&(o=window.getSelection?o[0]:o[1]),o=" style=\"background-image: url('"+o+"')\""):o="",a&&(e.classes.add("btn-has-text"),s='<span class="'+r+'txt">'+e.encode(a)+"</span>"),i=e.settings.icon?r+"ico "+r+"i-"+i:"",e.aria("role",e.parent()instanceof n?"menuitem":"button"),'<div id="'+t+'" class="'+e.classes+'" tabindex="-1" aria-labelledby="'+t+'"><button id="'+t+'-open" role="presentation" type="button" tabindex="-1">'+(i?'<i class="'+i+'"'+o+"></i>":"")+s+' <i class="'+r+'caret"></i></button></div>'},postRender:function(){var e=this;return e.on("click",(function(t){t.control===e&&r(t.target,e.getEl())&&(e.focus(),e.showMenu(!t.aria),t.aria&&e.menu.items().filter(":visible")[0].focus())})),e.on("mouseenter",(function(t){var n=t.control,r=e.parent(),o;n&&r&&n instanceof i&&n.parent()==r&&(r.items().filter("MenuButton").each((function(e){e.hideMenu&&e!=n&&(e.menu&&e.menu.visible()&&(o=!0),e.hideMenu())})),o&&(n.focus(),n.showMenu()))})),e._super()},bindStates:function(){var e=this;return e.state.on("change:menu",(function(){e.menu&&e.menu.remove(),e.menu=null})),e._super()},remove:function(){this._super(),this.menu&&this.menu.remove()}});return i})),r(Yt,[Ie,Ce,d,u],(function(e,t,n,r){return e.extend({Defaults:{border:0,role:"menuitem"},init:function(e){var t=this,n;t._super(e),e=t.settings,t.classes.add("menu-item"),e.menu&&t.classes.add("menu-item-expand"),e.preview&&t.classes.add("menu-item-preview"),"-"!==(n=t.state.get("text"))&&"|"!==n||(t.classes.add("menu-item-sep"),t.aria("role","separator"),t.state.set("text","-")),e.selectable&&(t.aria("role","menuitemcheckbox"),t.classes.add("menu-item-checkbox"),e.icon="selected"),e.preview||e.selectable||t.classes.add("menu-item-normal"),t.on("mousedown",(function(e){e.preventDefault()})),e.menu&&!e.ariaHideMenu&&t.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var e=this,n=e.settings,r,i=e.parent();if(i.items().each((function(t){t!==e&&t.hideMenu()})),n.menu){(r=e.menu)?r.show():((r=n.menu).length?r={type:"menu",items:r}:r.type=r.type||"menu",i.settings.itemDefaults&&(r.itemDefaults=i.settings.itemDefaults),(r=e.menu=t.create(r).parent(e).renderTo()).reflow(),r.on("cancel",(function(t){t.stopPropagation(),e.focus(),r.hide()})),r.on("show hide",(function(e){e.control.items&&e.control.items().each((function(e){e.active(e.settings.selected)}))})).fire("show"),r.on("hide",(function(t){t.control===r&&e.classes.remove("selected")})),r.submenu=!0),r._parentMenu=i,r.classes.add("menu-sub");var o=r.testMoveRel(e.getEl(),e.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);r.moveRel(e.getEl(),o),r.rel=o,o="menu-sub-"+o,r.classes.remove(r._lastRel).add(o),r._lastRel=o,e.classes.add("selected"),e.aria("expanded",!0)}},hideMenu:function(){var e=this;return e.menu&&(e.menu.items().each((function(e){e.hideMenu&&e.hideMenu()})),e.menu.hide(),e.aria("expanded",!1)),e},renderHtml:function(){function e(e){var t,r,i={};for(i=n.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"},e=e.split("+"),t=0;t<e.length;t++)(r=i[e[t].toLowerCase()])&&(e[t]=r);return e.join("+")}function t(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function r(e){var n=s.match||"";return n?e.replace(new RegExp(t(n),"gi"),(function(e){return"!mce~match["+e+"]mce~match!"})):e}function i(e){return e.replace(new RegExp(t("!mce~match["),"g"),"<b>").replace(new RegExp(t("]mce~match!"),"g"),"</b>")}var o=this,a=o._id,s=o.settings,l=o.classPrefix,c=o.state.get("text"),u=o.settings.icon,d="",f=s.shortcut,m=o.encode(s.url),g="";return u&&o.parent().classes.add("menu-has-icons"),s.image&&(d=" style=\"background-image: url('"+s.image+"')\""),f&&(f=e(f)),u=l+"ico "+l+"i-"+(o.settings.icon||"none"),g="-"!==c?'<i class="'+u+'"'+d+"></i>":"",c=i(o.encode(r(c))),m=i(o.encode(r(m))),'<div id="'+a+'" class="'+o.classes+'" tabindex="-1">'+g+("-"!==c?'<span id="'+a+'-text" class="'+l+'text">'+c+"</span>":"")+(f?'<div id="'+a+'-shortcut" class="'+l+'menu-shortcut">'+f+"</div>":"")+(s.menu?'<div class="'+l+'caret"></div>':"")+(m?'<div class="'+l+'menu-item-link">'+m+"</div>":"")+"</div>"},postRender:function(){var e=this,t=e.settings,n=t.textStyle;if("function"==typeof n&&(n=n.call(this)),n){var i=e.getEl("text");i&&i.setAttribute("style",n)}return e.on("mouseenter click",(function(n){n.control===e&&(t.menu||"click"!==n.type?(e.showMenu(),n.aria&&e.menu.focus(!0)):(e.fire("select"),r.requestAnimationFrame((function(){e.parent().hideAll()}))))})),e._super(),e},hover:function(){var e=this;return e.parent().items().each((function(e){e.classes.remove("selected")})),e.classes.toggle("selected",!0),e},active:function(e){return void 0!==e&&this.aria("checked",e),this._super(e)},remove:function(){this._super(),this.menu&&this.menu.remove()}})})),r(Kt,[h,we,u],(function(e,t,n){return function(r,i){var o=this,a,s=t.classPrefix,l;o.show=function(t,c){function u(){a&&(e(r).append('<div class="'+s+"throbber"+(i?" "+s+"throbber-inline":"")+'"></div>'),c&&c())}return o.hide(),a=!0,t?l=n.setTimeout(u,t):u(),o},o.hide=function(){var e=r.lastChild;return n.clearTimeout(l),e&&-1!=e.className.indexOf("throbber")&&e.parentNode.removeChild(e),a=!1,o}}})),r(Xt,[Ae,Yt,Kt,p],(function(e,t,n,r){return e.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(e){var t=this;if(e.autohide=!0,e.constrainToViewport=!0,"function"==typeof e.items&&(e.itemsFactory=e.items,e.items=[]),e.itemDefaults)for(var n=e.items,i=n.length;i--;)n[i]=r.extend({},e.itemDefaults,n[i]);t._super(e),t.classes.add("menu")},repaint:function(){return this.classes.toggle("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){var e=this;e.hideAll(),e.fire("select")},load:function(){function e(){t.throbber&&(t.throbber.hide(),t.throbber=null)}var t=this,r,i;(i=t.settings.itemsFactory)&&(t.throbber||(t.throbber=new n(t.getEl("body"),!0),0===t.items().length?(t.throbber.show(),t.fire("loading")):t.throbber.show(100,(function(){t.items().remove(),t.fire("loading")})),t.on("hide close",e)),t.requestTime=r=(new Date).getTime(),t.settings.itemsFactory((function(n){return 0===n.length?void t.hide():void(t.requestTime===r&&(t.getEl().style.width="",t.getEl("body").style.width="",e(),t.items().remove(),t.getEl("body").innerHTML="",t.add(n),t.renderNew(),t.fire("loaded")))})))},hideAll:function(){var e=this;return this.find("menuitem").exec("hideMenu"),e._super()},preRender:function(){var e=this;return e.items().each((function(t){var n=t.settings;if(n.icon||n.image||n.selectable)return e._hasIcons=!0,!1})),e.settings.itemsFactory&&e.on("postrender",(function(){e.settings.itemsFactory&&e.load()})),e._super()}})})),r(Gt,[qt,Xt],(function(e,t){return e.extend({init:function(e){function t(r){for(var a=0;a<r.length;a++){if(i=r[a].selected||e.value===r[a].value)return o=o||r[a].text,n.state.set("value",r[a].value),!0;if(r[a].menu&&t(r[a].menu))return!0}}var n=this,r,i,o,a;n._super(e),e=n.settings,n._values=r=e.values,r&&(void 0!==e.value&&t(r),!i&&r.length>0&&(o=r[0].text,n.state.set("value",r[0].value)),n.state.set("menu",r)),n.state.set("text",e.text||o),n.classes.add("listbox"),n.on("select",(function(t){var r=t.control;a&&(t.lastControl=a),e.multiple?r.active(!r.active()):n.value(t.control.value()),a=r}))},bindStates:function(){function e(e,n){e instanceof t&&e.items().each((function(e){e.hasMenus()||e.active(e.value()===n)}))}function n(e,t){var r;if(e)for(var i=0;i<e.length;i++){if(e[i].value===t)return e[i];if(e[i].menu&&(r=n(e[i].menu,t)))return r}}var r=this;return r.on("show",(function(t){e(t.control,r.value())})),r.state.on("change:value",(function(e){var t=n(r.state.get("menu"),e.value);t?r.text(t.text):r.text(r.settings.text)})),r._super()}})})),r(Jt,[wt],(function(e){return e.extend({Defaults:{classes:"radio",role:"radio"}})})),r(Zt,[Ie,Se],(function(e,t){return e.extend({renderHtml:function(){var e=this,t=e.classPrefix;return e.classes.add("resizehandle"),"both"==e.settings.direction&&e.classes.add("resizehandle-both"),e.canFocus=!1,'<div id="'+e._id+'" class="'+e.classes+'"><i class="'+t+"ico "+t+'i-resize"></i></div>'},postRender:function(){var e=this;e._super(),e.resizeDragHelper=new t(this._id,{start:function(){e.fire("ResizeStart")},drag:function(t){"both"!=e.settings.direction&&(t.deltaX=0),e.fire("Resize",t)},stop:function(){e.fire("ResizeEnd")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}})})),r(Qt,[Ie],(function(e){function t(e){var t="";if(e)for(var n=0;n<e.length;n++)t+='<option value="'+e[n]+'">'+e[n]+"</option>";return t}return e.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function(e){var t=this;t._super(e),t.settings.size&&(t.size=t.settings.size),t.settings.options&&(t._options=t.settings.options),t.on("keydown",(function(e){var n;13==e.keyCode&&(e.preventDefault(),t.parents().reverse().each((function(e){if(e.toJSON)return n=e,!1})),t.fire("submit",{data:n.toJSON()}))}))},options:function(e){return arguments.length?(this.state.set("options",e),this):this.state.get("options")},renderHtml:function(){var e=this,n,r="";return n=t(e._options),e.size&&(r=' size = "'+e.size+'"'),'<select id="'+e._id+'" class="'+e.classes+'"'+r+">"+n+"</select>"},bindStates:function(){var e=this;return e.state.on("change:options",(function(n){e.getEl().innerHTML=t(n.value)})),e._super()}})})),r(en,[Ie,Se,ve],(function(e,t,n){function r(e,t,n){return e<t&&(e=t),e>n&&(e=n),e}function i(e,t,n){e.setAttribute("aria-"+t,n)}function o(e,t){var r,o,a,s,l,c;"v"==e.settings.orientation?(s="top",a="height",o="h"):(s="left",a="width",o="w"),c=e.getEl("handle"),l=(r=(e.layoutRect()[o]||100)-n.getSize(c)[a])*((t-e._minValue)/(e._maxValue-e._minValue))+"px",c.style[s]=l,c.style.height=e.layoutRect().h+"px",i(c,"valuenow",t),i(c,"valuetext",""+e.settings.previewFilter(t)),i(c,"valuemin",e._minValue),i(c,"valuemax",e._maxValue)}return e.extend({init:function(e){var t=this;e.previewFilter||(e.previewFilter=function(e){return Math.round(100*e)/100}),t._super(e),t.classes.add("slider"),"v"==e.orientation&&t.classes.add("vertical"),t._minValue=e.minValue||0,t._maxValue=e.maxValue||100,t._initValue=t.state.get("value")},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix;return'<div id="'+t+'" class="'+e.classes+'"><div id="'+t+'-handle" class="'+n+'slider-handle" role="slider" tabindex="-1"></div></div>'},reset:function(){this.value(this._initValue).repaint()},postRender:function(){function e(e,t,n){return(n+e)/(t-e)}function i(e,t,n){return n*(t-e)-e}function o(t,n){function o(o){var a;a=s.value(),a=r(a=i(t,n,e(t,n,a)+.05*o),t,n),s.value(a),s.fire("dragstart",{value:a}),s.fire("drag",{value:a}),s.fire("dragend",{value:a})}s.on("keydown",(function(e){switch(e.keyCode){case 37:case 38:o(-1);break;case 39:case 40:o(1)}}))}function a(e,i,o){var a,l,c,g,p;s._dragHelper=new t(s._id,{handle:s._id+"-handle",start:function(e){a=e[u],l=parseInt(s.getEl("handle").style[d],10),c=(s.layoutRect()[m]||100)-n.getSize(o)[f],s.fire("dragstart",{value:p})},drag:function(t){var n=t[u]-a;g=r(l+n,0,c),o.style[d]=g+"px",p=e+g/c*(i-e),s.value(p),s.tooltip().text(""+s.settings.previewFilter(p)).show().moveRel(o,"bc tc"),s.fire("drag",{value:p})},stop:function(){s.tooltip().hide(),s.fire("dragend",{value:p})}})}var s=this,l,c,u,d,f,m;l=s._minValue,c=s._maxValue,"v"==s.settings.orientation?(u="screenY",d="top",f="height",m="h"):(u="screenX",d="left",f="width",m="w"),s._super(),o(l,c,s.getEl("handle")),a(l,c,s.getEl("handle"))},repaint:function(){this._super(),o(this,this.value())},bindStates:function(){var e=this;return e.state.on("change:value",(function(t){o(e,t.value)})),e._super()}})})),r(tn,[Ie],(function(e){return e.extend({renderHtml:function(){var e=this;return e.classes.add("spacer"),e.canFocus=!1,'<div id="'+e._id+'" class="'+e.classes+'"></div>'}})})),r(nn,[qt,ve,h],(function(e,t,n){return e.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var e=this,r=e.getEl(),i=e.layoutRect(),o,a;return e._super(),o=r.firstChild,a=r.lastChild,n(o).css({width:i.w-t.getSize(a).width,height:i.h-2}),n(a).css({height:i.h-2}),e},activeMenu:function(e){var t=this;n(t.getEl().lastChild).toggleClass(t.classPrefix+"active",e)},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix,r,i=e.state.get("icon"),o=e.state.get("text"),a="";return(r=e.settings.image)?(i="none","string"!=typeof r&&(r=window.getSelection?r[0]:r[1]),r=" style=\"background-image: url('"+r+"')\""):r="",i=e.settings.icon?n+"ico "+n+"i-"+i:"",o&&(e.classes.add("btn-has-text"),a='<span class="'+n+'txt">'+e.encode(o)+"</span>"),'<div id="'+t+'" class="'+e.classes+'" role="button" tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(i?'<i class="'+i+'"'+r+"></i>":"")+a+'</button><button type="button" class="'+n+'open" hidefocus="1" tabindex="-1">'+(e._menuBtnText?(i?"":"")+e._menuBtnText:"")+' <i class="'+n+'caret"></i></button></div>'},postRender:function(){var e=this,t=e.settings.onclick;return e.on("click",(function(e){var n=e.target;if(e.control==this)for(;n;){if(e.aria&&"down"!=e.aria.key||"BUTTON"==n.nodeName&&-1==n.className.indexOf("open"))return e.stopImmediatePropagation(),void(t&&t.call(this,e));n=n.parentNode}})),delete e.settings.onclick,e._super()}})})),r(rn,[Ot],(function(e){return e.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return!0}})})),r(on,[Te,h,ve],(function(e,t,n){return e.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(e){var n;this.activeTabId&&(n=this.getEl(this.activeTabId),t(n).removeClass(this.classPrefix+"active"),n.setAttribute("aria-selected","false")),this.activeTabId="t"+e,(n=this.getEl("t"+e)).setAttribute("aria-selected","true"),t(n).addClass(this.classPrefix+"active"),this.items()[e].show().fire("showtab"),this.reflow(),this.items().each((function(t,n){e!=n&&t.hide()}))},renderHtml:function(){var e=this,t=e._layout,n="",r=e.classPrefix;return e.preRender(),t.preRender(e),e.items().each((function(t,i){var o=e._id+"-t"+i;t.aria("role","tabpanel"),t.aria("labelledby",o),n+='<div id="'+o+'" class="'+r+'tab" unselectable="on" role="tab" aria-controls="'+t._id+'" aria-selected="false" tabIndex="-1">'+e.encode(t.settings.title)+"</div>"})),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1"><div id="'+e._id+'-head" class="'+r+'tabs" role="tablist">'+n+'</div><div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+t.renderHtml(e)+"</div></div>"},postRender:function(){var e=this;e._super(),e.settings.activeTab=e.settings.activeTab||0,e.activateTab(e.settings.activeTab),this.on("click",(function(t){var n=t.target.parentNode;if(n&&n.id==e._id+"-head")for(var r=n.childNodes.length;r--;)n.childNodes[r]==t.target&&e.activateTab(r)}))},initLayoutRect:function(){var e=this,t,r,i;r=(r=n.getSize(e.getEl("head")).width)<0?0:r,i=0,e.items().each((function(e){r=Math.max(r,e.layoutRect().minW),i=Math.max(i,e.layoutRect().minH)})),e.items().each((function(e){e.settings.x=0,e.settings.y=0,e.settings.w=r,e.settings.h=i,e.layoutRect({x:0,y:0,w:r,h:i})}));var o=n.getSize(e.getEl("head")).height;return e.settings.minWidth=r,e.settings.minHeight=i+o,(t=e._super()).deltaH+=o,t.innerH=t.h-t.deltaH,t}})})),r(an,[Ie,p,ve],(function(e,t,n){return e.extend({init:function(e){var t=this;t._super(e),t.classes.add("textbox"),e.multiline?t.classes.add("multiline"):(t.on("keydown",(function(e){var n;13==e.keyCode&&(e.preventDefault(),t.parents().reverse().each((function(e){if(e.toJSON)return n=e,!1})),t.fire("submit",{data:n.toJSON()}))})),t.on("keyup",(function(e){t.state.set("value",e.target.value)})))},repaint:function(){var e=this,t,n,r,i,o=0,a;t=e.getEl().style,n=e._layoutRect,a=e._lastRepaintRect||{};var s=document;return!e.settings.multiline&&s.all&&(!s.documentMode||s.documentMode<=8)&&(t.lineHeight=n.h-o+"px"),i=(r=e.borderBox).left+r.right+8,o=r.top+r.bottom+(e.settings.multiline?8:0),n.x!==a.x&&(t.left=n.x+"px",a.x=n.x),n.y!==a.y&&(t.top=n.y+"px",a.y=n.y),n.w!==a.w&&(t.width=n.w-i+"px",a.w=n.w),n.h!==a.h&&(t.height=n.h-o+"px",a.h=n.h),e._lastRepaintRect=a,e.fire("repaint",{},!1),e},renderHtml:function(){var e=this,r=e.settings,i,o;return i={id:e._id,hidefocus:"1"},t.each(["rows","spellcheck","maxLength","size","readonly","min","max","step","list","pattern","placeholder","required","multiple"],(function(e){i[e]=r[e]})),e.disabled()&&(i.disabled="disabled"),r.subtype&&(i.type=r.subtype),(o=n.create(r.multiline?"textarea":"input",i)).value=e.state.get("value"),o.className=e.classes,o.outerHTML},value:function(e){return arguments.length?(this.state.set("value",e),this):(this.state.get("rendered")&&this.state.set("value",this.getEl().value),this.state.get("value"))},postRender:function(){var e=this;e.getEl().value=e.state.get("value"),e._super(),e.$el.on("change",(function(t){e.state.set("value",t.target.value),e.fire("change",t)}))},bindStates:function(){var e=this;return e.state.on("change:value",(function(t){e.getEl().value!=t.value&&(e.getEl().value=t.value)})),e.state.on("change:disabled",(function(t){e.getEl().disabled=t.value})),e._super()},remove:function(){this.$el.off(),this._super()}})})),r(sn,[],(function(){var e=this||window,t=function(){return e.tinymce};return"function"==typeof e.define&&(e.define.amd||e.define("ephox/tinymce",[],t)),"object"==typeof module&&(module.exports=window.tinymce),{}})),a([l,c,u,d,f,m,p,h,v,b,x,C,k,N,E,A,B,P,M,D,I,L,H,F,q,Y,J,te,le,ce,ue,de,me,pe,he,xe,we,Ce,ke,Ne,Se,_e,Te,Ee,Re,Ae,Be,Pe,Me,De,Ie,Le,Oe,He,Ue,$e,at,st,lt,ct,dt,ft,mt,gt,pt,ht,vt,bt,yt,xt,wt,Ct,kt,Nt,St,_t,Tt,Et,Rt,At,Bt,Pt,Dt,It,Lt,Ot,Ft,zt,Ut,Wt,$t,jt,Vt,qt,Yt,Kt,Xt,Gt,Jt,Zt,Qt,en,tn,nn,rn,on,an])}(window)}).call(this),function(){tinymce.PluginManager.add("advlist",(function(e){function t(t){return e.$.contains(e.getBody(),t)}function n(e){return e&&/^(OL|UL|DL)$/.test(e.nodeName)&&t(e)}function r(e,t){var n=[];return t&&tinymce.each(t.split(/[ ,]/),(function(e){n.push({text:e.replace(/\-/g," ").replace(/\b\w/g,(function(e){return e.toUpperCase()})),data:"default"==e?"":e})})),n}function i(t,n){e.undoManager.transact((function(){var r,i=e.dom,o=e.selection;if(!(r=i.getParent(o.getNode(),"ol,ul"))||r.nodeName!=t||!1===n){var a={"list-style-type":n||""};e.execCommand("UL"==t?"InsertUnorderedList":"InsertOrderedList",!1,a)}(r=i.getParent(o.getNode(),"ol,ul"))&&tinymce.util.Tools.each(i.select("ol,ul",r).concat([r]),(function(e){e.nodeName!==t&&!1!==n&&(e=i.rename(e,t)),i.setStyle(e,"listStyleType",n||null),e.removeAttribute("data-mce-style")})),e.focus()}))}function o(t){var n=e.dom.getStyle(e.dom.getParent(e.selection.getNode(),"ol,ul"),"listStyleType")||"";t.control.items().each((function(e){e.active(e.settings.data===n)}))}var a,s,l=function(e,t){var n=e.settings.plugins?e.settings.plugins:"";return-1!==tinymce.util.Tools.inArray(n.split(/[ ,]/),t)};a=r("OL",e.getParam("advlist_number_styles","default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman")),s=r("UL",e.getParam("advlist_bullet_styles","default,circle,disc,square"));var c=function(t){return function(){var r=this;e.on("NodeChange",(function(e){var i=tinymce.util.Tools.grep(e.parents,n);r.active(i.length>0&&i[0].nodeName===t)}))}};l(e,"lists")&&(e.addCommand("ApplyUnorderedListStyle",(function(e,t){i("UL",t["list-style-type"])})),e.addCommand("ApplyOrderedListStyle",(function(e,t){i("OL",t["list-style-type"])})),e.addButton("numlist",{type:a.length>0?"splitbutton":"button",tooltip:"Numbered list",menu:a,onPostRender:c("OL"),onshow:o,onselect:function(e){i("OL",e.control.settings.data)},onclick:function(){i("OL",!1)}}),e.addButton("bullist",{type:s.length>0?"splitbutton":"button",tooltip:"Bullet list",onPostRender:c("UL"),menu:s,onshow:o,onselect:function(e){i("UL",e.control.settings.data)},onclick:function(){i("UL",!1)}}))}))}.call(this),function(){tinymce.PluginManager.add("autoresize",(function(e){function t(){return e.plugins.fullscreen&&e.plugins.fullscreen.isFullscreen()}function n(r){var a,s,l,c,u,d,f,m,g,p,h,v,b=tinymce.DOM;if(s=e.getDoc()){if(l=s.body,c=s.documentElement,u=i.autoresize_min_height,!l||r&&"setcontent"===r.type&&r.initial||t())return void(l&&c&&(l.style.overflowY="auto",c.style.overflowY="auto"));f=e.dom.getStyle(l,"margin-top",!0),m=e.dom.getStyle(l,"margin-bottom",!0),g=e.dom.getStyle(l,"padding-top",!0),p=e.dom.getStyle(l,"padding-bottom",!0),h=e.dom.getStyle(l,"border-top-width",!0),v=e.dom.getStyle(l,"border-bottom-width",!0),d=l.offsetHeight+parseInt(f,10)+parseInt(m,10)+parseInt(g,10)+parseInt(p,10)+parseInt(h,10)+parseInt(v,10),(isNaN(d)||d<=0)&&(d=tinymce.Env.ie?l.scrollHeight:tinymce.Env.webkit&&0===l.clientHeight?0:l.offsetHeight),d>i.autoresize_min_height&&(u=d),i.autoresize_max_height&&d>i.autoresize_max_height?(u=i.autoresize_max_height,l.style.overflowY="auto",c.style.overflowY="auto"):(l.style.overflowY="hidden",c.style.overflowY="hidden",l.scrollTop=0),u!==o&&(a=u-o,b.setStyle(e.iframeElement,"height",u+"px"),o=u,tinymce.isWebKit&&a<0&&n(r))}}function r(t,i,o){tinymce.util.Delay.setEditorTimeout(e,(function(){n({}),t--?r(t,i,o):o&&o()}),i)}var i=e.settings,o=0;e.settings.inline||(i.autoresize_min_height=parseInt(e.getParam("autoresize_min_height",e.getElement().offsetHeight),10),i.autoresize_max_height=parseInt(e.getParam("autoresize_max_height",0),10),e.on("init",(function(){var t,n;t=e.getParam("autoresize_overflow_padding",1),n=e.getParam("autoresize_bottom_margin",50),!1!==t&&e.dom.setStyles(e.getBody(),{paddingLeft:t,paddingRight:t}),!1!==n&&e.dom.setStyles(e.getBody(),{paddingBottom:n})})),e.on("nodechange setcontent keyup FullscreenStateChanged",n),e.getParam("autoresize_on_init",!0)&&e.on("init",(function(){r(20,100,(function(){r(5,1e3)}))})),e.addCommand("mceAutoResize",n))}))}.call(this),function(){tinymce.PluginManager.add("charmap",(function(e){function t(){return[["160","no-break space"],["173","soft hyphen"],["34","quotation mark"],["162","cent sign"],["8364","euro sign"],["163","pound sign"],["165","yen sign"],["169","copyright sign"],["174","registered sign"],["8482","trade mark sign"],["8240","per mille sign"],["181","micro sign"],["183","middle dot"],["8226","bullet"],["8230","three dot leader"],["8242","minutes / feet"],["8243","seconds / inches"],["167","section sign"],["182","paragraph sign"],["223","sharp s / ess-zed"],["8249","single left-pointing angle quotation mark"],["8250","single right-pointing angle quotation mark"],["171","left pointing guillemet"],["187","right pointing guillemet"],["8216","left single quotation mark"],["8217","right single quotation mark"],["8220","left double quotation mark"],["8221","right double quotation mark"],["8218","single low-9 quotation mark"],["8222","double low-9 quotation mark"],["60","less-than sign"],["62","greater-than sign"],["8804","less-than or equal to"],["8805","greater-than or equal to"],["8211","en dash"],["8212","em dash"],["175","macron"],["8254","overline"],["164","currency sign"],["166","broken bar"],["168","diaeresis"],["161","inverted exclamation mark"],["191","turned question mark"],["710","circumflex accent"],["732","small tilde"],["176","degree sign"],["8722","minus sign"],["177","plus-minus sign"],["247","division sign"],["8260","fraction slash"],["215","multiplication sign"],["185","superscript one"],["178","superscript two"],["179","superscript three"],["188","fraction one quarter"],["189","fraction one half"],["190","fraction three quarters"],["402","function / florin"],["8747","integral"],["8721","n-ary sumation"],["8734","infinity"],["8730","square root"],["8764","similar to"],["8773","approximately equal to"],["8776","almost equal to"],["8800","not equal to"],["8801","identical to"],["8712","element of"],["8713","not an element of"],["8715","contains as member"],["8719","n-ary product"],["8743","logical and"],["8744","logical or"],["172","not sign"],["8745","intersection"],["8746","union"],["8706","partial differential"],["8704","for all"],["8707","there exists"],["8709","diameter"],["8711","backward difference"],["8727","asterisk operator"],["8733","proportional to"],["8736","angle"],["180","acute accent"],["184","cedilla"],["170","feminine ordinal indicator"],["186","masculine ordinal indicator"],["8224","dagger"],["8225","double dagger"],["192","A - grave"],["193","A - acute"],["194","A - circumflex"],["195","A - tilde"],["196","A - diaeresis"],["197","A - ring above"],["256","A - macron"],["198","ligature AE"],["199","C - cedilla"],["200","E - grave"],["201","E - acute"],["202","E - circumflex"],["203","E - diaeresis"],["274","E - macron"],["204","I - grave"],["205","I - acute"],["206","I - circumflex"],["207","I - diaeresis"],["298","I - macron"],["208","ETH"],["209","N - tilde"],["210","O - grave"],["211","O - acute"],["212","O - circumflex"],["213","O - tilde"],["214","O - diaeresis"],["216","O - slash"],["332","O - macron"],["338","ligature OE"],["352","S - caron"],["217","U - grave"],["218","U - acute"],["219","U - circumflex"],["220","U - diaeresis"],["362","U - macron"],["221","Y - acute"],["376","Y - diaeresis"],["562","Y - macron"],["222","THORN"],["224","a - grave"],["225","a - acute"],["226","a - circumflex"],["227","a - tilde"],["228","a - diaeresis"],["229","a - ring above"],["257","a - macron"],["230","ligature ae"],["231","c - cedilla"],["232","e - grave"],["233","e - acute"],["234","e - circumflex"],["235","e - diaeresis"],["275","e - macron"],["236","i - grave"],["237","i - acute"],["238","i - circumflex"],["239","i - diaeresis"],["299","i - macron"],["240","eth"],["241","n - tilde"],["242","o - grave"],["243","o - acute"],["244","o - circumflex"],["245","o - tilde"],["246","o - diaeresis"],["248","o slash"],["333","o macron"],["339","ligature oe"],["353","s - caron"],["249","u - grave"],["250","u - acute"],["251","u - circumflex"],["252","u - diaeresis"],["363","u - macron"],["253","y - acute"],["254","thorn"],["255","y - diaeresis"],["563","y - macron"],["913","Alpha"],["914","Beta"],["915","Gamma"],["916","Delta"],["917","Epsilon"],["918","Zeta"],["919","Eta"],["920","Theta"],["921","Iota"],["922","Kappa"],["923","Lambda"],["924","Mu"],["925","Nu"],["926","Xi"],["927","Omicron"],["928","Pi"],["929","Rho"],["931","Sigma"],["932","Tau"],["933","Upsilon"],["934","Phi"],["935","Chi"],["936","Psi"],["937","Omega"],["945","alpha"],["946","beta"],["947","gamma"],["948","delta"],["949","epsilon"],["950","zeta"],["951","eta"],["952","theta"],["953","iota"],["954","kappa"],["955","lambda"],["956","mu"],["957","nu"],["958","xi"],["959","omicron"],["960","pi"],["961","rho"],["962","final sigma"],["963","sigma"],["964","tau"],["965","upsilon"],["966","phi"],["967","chi"],["968","psi"],["969","omega"],["8501","alef symbol"],["982","pi symbol"],["8476","real part symbol"],["978","upsilon - hook symbol"],["8472","Weierstrass p"],["8465","imaginary part"],["8592","leftwards arrow"],["8593","upwards arrow"],["8594","rightwards arrow"],["8595","downwards arrow"],["8596","left right arrow"],["8629","carriage return"],["8656","leftwards double arrow"],["8657","upwards double arrow"],["8658","rightwards double arrow"],["8659","downwards double arrow"],["8660","left right double arrow"],["8756","therefore"],["8834","subset of"],["8835","superset of"],["8836","not a subset of"],["8838","subset of or equal to"],["8839","superset of or equal to"],["8853","circled plus"],["8855","circled times"],["8869","perpendicular"],["8901","dot operator"],["8968","left ceiling"],["8969","right ceiling"],["8970","left floor"],["8971","right floor"],["9001","left-pointing angle bracket"],["9002","right-pointing angle bracket"],["9674","lozenge"],["9824","black spade suit"],["9827","black club suit"],["9829","black heart suit"],["9830","black diamond suit"],["8194","en space"],["8195","em space"],["8201","thin space"],["8204","zero width non-joiner"],["8205","zero width joiner"],["8206","left-to-right mark"],["8207","right-to-left mark"]]}function n(e){return tinymce.util.Tools.grep(e,(function(e){return l(e)&&2==e.length}))}function r(e){return l(e)?[].concat(n(e)):"function"==typeof e?e():[]}function i(t){var n=e.settings;return n.charmap&&(t=r(n.charmap)),n.charmap_append?[].concat(t).concat(r(n.charmap_append)):t}function o(){return i([["160","no-break space"],["173","soft hyphen"],["34","quotation mark"],["162","cent sign"],["8364","euro sign"],["163","pound sign"],["165","yen sign"],["169","copyright sign"],["174","registered sign"],["8482","trade mark sign"],["8240","per mille sign"],["181","micro sign"],["183","middle dot"],["8226","bullet"],["8230","three dot leader"],["8242","minutes / feet"],["8243","seconds / inches"],["167","section sign"],["182","paragraph sign"],["223","sharp s / ess-zed"],["8249","single left-pointing angle quotation mark"],["8250","single right-pointing angle quotation mark"],["171","left pointing guillemet"],["187","right pointing guillemet"],["8216","left single quotation mark"],["8217","right single quotation mark"],["8220","left double quotation mark"],["8221","right double quotation mark"],["8218","single low-9 quotation mark"],["8222","double low-9 quotation mark"],["60","less-than sign"],["62","greater-than sign"],["8804","less-than or equal to"],["8805","greater-than or equal to"],["8211","en dash"],["8212","em dash"],["175","macron"],["8254","overline"],["164","currency sign"],["166","broken bar"],["168","diaeresis"],["161","inverted exclamation mark"],["191","turned question mark"],["710","circumflex accent"],["732","small tilde"],["176","degree sign"],["8722","minus sign"],["177","plus-minus sign"],["247","division sign"],["8260","fraction slash"],["215","multiplication sign"],["185","superscript one"],["178","superscript two"],["179","superscript three"],["188","fraction one quarter"],["189","fraction one half"],["190","fraction three quarters"],["402","function / florin"],["8747","integral"],["8721","n-ary sumation"],["8734","infinity"],["8730","square root"],["8764","similar to"],["8773","approximately equal to"],["8776","almost equal to"],["8800","not equal to"],["8801","identical to"],["8712","element of"],["8713","not an element of"],["8715","contains as member"],["8719","n-ary product"],["8743","logical and"],["8744","logical or"],["172","not sign"],["8745","intersection"],["8746","union"],["8706","partial differential"],["8704","for all"],["8707","there exists"],["8709","diameter"],["8711","backward difference"],["8727","asterisk operator"],["8733","proportional to"],["8736","angle"],["180","acute accent"],["184","cedilla"],["170","feminine ordinal indicator"],["186","masculine ordinal indicator"],["8224","dagger"],["8225","double dagger"],["192","A - grave"],["193","A - acute"],["194","A - circumflex"],["195","A - tilde"],["196","A - diaeresis"],["197","A - ring above"],["256","A - macron"],["198","ligature AE"],["199","C - cedilla"],["200","E - grave"],["201","E - acute"],["202","E - circumflex"],["203","E - diaeresis"],["274","E - macron"],["204","I - grave"],["205","I - acute"],["206","I - circumflex"],["207","I - diaeresis"],["298","I - macron"],["208","ETH"],["209","N - tilde"],["210","O - grave"],["211","O - acute"],["212","O - circumflex"],["213","O - tilde"],["214","O - diaeresis"],["216","O - slash"],["332","O - macron"],["338","ligature OE"],["352","S - caron"],["217","U - grave"],["218","U - acute"],["219","U - circumflex"],["220","U - diaeresis"],["362","U - macron"],["221","Y - acute"],["376","Y - diaeresis"],["562","Y - macron"],["222","THORN"],["224","a - grave"],["225","a - acute"],["226","a - circumflex"],["227","a - tilde"],["228","a - diaeresis"],["229","a - ring above"],["257","a - macron"],["230","ligature ae"],["231","c - cedilla"],["232","e - grave"],["233","e - acute"],["234","e - circumflex"],["235","e - diaeresis"],["275","e - macron"],["236","i - grave"],["237","i - acute"],["238","i - circumflex"],["239","i - diaeresis"],["299","i - macron"],["240","eth"],["241","n - tilde"],["242","o - grave"],["243","o - acute"],["244","o - circumflex"],["245","o - tilde"],["246","o - diaeresis"],["248","o slash"],["333","o macron"],["339","ligature oe"],["353","s - caron"],["249","u - grave"],["250","u - acute"],["251","u - circumflex"],["252","u - diaeresis"],["363","u - macron"],["253","y - acute"],["254","thorn"],["255","y - diaeresis"],["563","y - macron"],["913","Alpha"],["914","Beta"],["915","Gamma"],["916","Delta"],["917","Epsilon"],["918","Zeta"],["919","Eta"],["920","Theta"],["921","Iota"],["922","Kappa"],["923","Lambda"],["924","Mu"],["925","Nu"],["926","Xi"],["927","Omicron"],["928","Pi"],["929","Rho"],["931","Sigma"],["932","Tau"],["933","Upsilon"],["934","Phi"],["935","Chi"],["936","Psi"],["937","Omega"],["945","alpha"],["946","beta"],["947","gamma"],["948","delta"],["949","epsilon"],["950","zeta"],["951","eta"],["952","theta"],["953","iota"],["954","kappa"],["955","lambda"],["956","mu"],["957","nu"],["958","xi"],["959","omicron"],["960","pi"],["961","rho"],["962","final sigma"],["963","sigma"],["964","tau"],["965","upsilon"],["966","phi"],["967","chi"],["968","psi"],["969","omega"],["8501","alef symbol"],["982","pi symbol"],["8476","real part symbol"],["978","upsilon - hook symbol"],["8472","Weierstrass p"],["8465","imaginary part"],["8592","leftwards arrow"],["8593","upwards arrow"],["8594","rightwards arrow"],["8595","downwards arrow"],["8596","left right arrow"],["8629","carriage return"],["8656","leftwards double arrow"],["8657","upwards double arrow"],["8658","rightwards double arrow"],["8659","downwards double arrow"],["8660","left right double arrow"],["8756","therefore"],["8834","subset of"],["8835","superset of"],["8836","not a subset of"],["8838","subset of or equal to"],["8839","superset of or equal to"],["8853","circled plus"],["8855","circled times"],["8869","perpendicular"],["8901","dot operator"],["8968","left ceiling"],["8969","right ceiling"],["8970","left floor"],["8971","right floor"],["9001","left-pointing angle bracket"],["9002","right-pointing angle bracket"],["9674","lozenge"],["9824","black spade suit"],["9827","black club suit"],["9829","black heart suit"],["9830","black diamond suit"],["8194","en space"],["8195","em space"],["8201","thin space"],["8204","zero width non-joiner"],["8205","zero width joiner"],["8206","left-to-right mark"],["8207","right-to-left mark"]])}function a(t){e.fire("insertCustomChar",{chr:t}).chr,e.execCommand("mceInsertContent",!1,t)}function s(){function t(e){for(;e;){if("TD"==e.nodeName)return e;e=e.parentNode}}var n,r,i,s;n='<table role="presentation" cellspacing="0" class="mce-charmap"><tbody>';var l=o(),c=Math.min(l.length,25),u=Math.ceil(l.length/c);for(i=0;i<u;i++){for(n+="<tr>",r=0;r<c;r++){var d=i*c+r;if(d<l.length){var f=l[d],m=f?String.fromCharCode(parseInt(f[0],10)):"&nbsp;";n+='<td title="'+f[1]+'"><div tabindex="-1" title="'+f[1]+'" role="button" data-chr="'+m+'">'+m+"</div></td>"}else n+="<td />"}n+="</tr>"}var g={type:"container",html:n+="</tbody></table>",onclick:function(e){var n=e.target;/^(TD|DIV)$/.test(n.nodeName)&&t(n).firstChild&&(a(n.getAttribute("data-chr")),e.ctrlKey||s.close())},onmouseover:function(e){var n=t(e.target);n&&n.firstChild?(s.find("#preview").text(n.firstChild.firstChild.data),s.find("#previewTitle").text(n.title)):(s.find("#preview").text(" "),s.find("#previewTitle").text(" "))}};s=e.windowManager.open({title:"Special character",spacing:10,padding:10,items:[g,{type:"container",layout:"flex",direction:"column",align:"center",spacing:5,minWidth:160,minHeight:160,items:[{type:"label",name:"preview",text:" ",style:"font-size: 40px; text-align: center",border:1,minWidth:140,minHeight:80},{type:"label",name:"previewTitle",text:" ",style:"text-align: center",border:1,minWidth:140,minHeight:80}]}],buttons:[{text:"Close",onclick:function(){s.close()}}]})}var l=tinymce.util.Tools.isArray;return e.addCommand("mceShowCharmap",s),e.addButton("charmap",{icon:"charmap",tooltip:"Special character",cmd:"mceShowCharmap"}),e.addMenuItem("charmap",{icon:"charmap",text:"Special character",cmd:"mceShowCharmap",context:"insert"}),{getCharMap:o,insertChar:a}}))}.call(this),function(){tinymce.PluginManager.add("colorpicker",(function(e){function t(t,n){function r(e){var t=new tinymce.util.Color(e),n=t.toRgb();o.fromJSON({r:n.r,g:n.g,b:n.b,hex:t.toHex().substr(1)}),i(t.toHex())}function i(e){o.find("#preview")[0].getEl().style.background=e}var o=e.windowManager.open({title:"Color",items:{type:"container",layout:"flex",direction:"row",align:"stretch",padding:5,spacing:10,items:[{type:"colorpicker",value:n,onchange:function(){var e=this.rgb();o&&(o.find("#r").value(e.r),o.find("#g").value(e.g),o.find("#b").value(e.b),o.find("#hex").value(this.value().substr(1)),i(this.value()))}},{type:"form",padding:0,labelGap:5,defaults:{type:"textbox",size:7,value:"0",flex:1,spellcheck:!1,onchange:function(){var e,t,n=o.find("colorpicker")[0];return e=this.name(),t=this.value(),"hex"==e?(r(t="#"+t),void n.value(t)):(t={r:o.find("#r").value(),g:o.find("#g").value(),b:o.find("#b").value()},n.value(t),void r(t))}},items:[{name:"r",label:"R",autofocus:1},{name:"g",label:"G"},{name:"b",label:"B"},{name:"hex",label:"#",value:"000000"},{name:"preview",type:"container",border:1}]}]},onSubmit:function(){t("#"+this.toJSON().hex)}});r(n)}e.settings.color_picker_callback||(e.settings.color_picker_callback=t)}))}.call(this),function(){tinymce.PluginManager.add("emoticons",(function(e,t){function n(){var e;return e='<table role="list" class="mce-grid">',tinymce.each(r,(function(n){e+="<tr>",tinymce.each(n,(function(n){var r=t+"/img/smiley-"+n+".gif";e+='<td><a href="#" data-mce-url="'+r+'" data-mce-alt="'+n+'" tabindex="-1" role="option" aria-label="'+n+'"><img src="'+r+'" style="width: 18px; height: 18px" role="presentation" /></a></td>'})),e+="</tr>"})),e+="</table>"}var r=[["cool","cry","embarassed","foot-in-mouth"],["frown","innocent","kiss","laughing"],["money-mouth","sealed","smile","surprised"],["tongue-out","undecided","wink","yell"]];e.addButton("emoticons",{type:"panelbutton",panel:{role:"application",autohide:!0,html:n,onclick:function(t){var n=e.dom.getParent(t.target,"a");n&&(e.insertContent('<img src="'+n.getAttribute("data-mce-url")+'" alt="'+n.getAttribute("data-mce-alt")+'" />'),this.hide())}},tooltip:"Emoticons"})}))}.call(this),function(){tinymce.PluginManager.add("fullpage",(function(e){function t(){var t=n();e.windowManager.open({title:"Document properties",data:t,defaults:{type:"textbox",size:40},body:[{name:"title",label:"Title"},{name:"keywords",label:"Keywords"},{name:"description",label:"Description"},{name:"robots",label:"Robots"},{name:"author",label:"Author"},{name:"docencoding",label:"Encoding"}],onSubmit:function(e){r(tinymce.extend(t,e.data))}})}function n(){function t(e,t){var n;return e.attr(t)||""}var n,r,o=i(),a={};return a.fontface=e.getParam("fullpage_default_fontface",""),a.fontsize=e.getParam("fullpage_default_fontsize",""),7==(n=o.firstChild).type&&(a.xml_pi=!0,(r=/encoding="([^"]+)"/.exec(n.value))&&(a.docencoding=r[1])),(n=o.getAll("#doctype")[0])&&(a.doctype="<!DOCTYPE"+n.value+">"),(n=o.getAll("title")[0])&&n.firstChild&&(a.title=n.firstChild.value),u(o.getAll("meta"),(function(e){var t,n=e.attr("name"),r=e.attr("http-equiv");n?a[n.toLowerCase()]=e.attr("content"):"Content-Type"==r&&((t=/charset\s*=\s*(.*)\s*/gi.exec(e.attr("content")))&&(a.docencoding=t[1]))})),(n=o.getAll("html")[0])&&(a.langcode=t(n,"lang")||t(n,"xml:lang")),a.stylesheets=[],tinymce.each(o.getAll("link"),(function(e){"stylesheet"==e.attr("rel")&&a.stylesheets.push(e.attr("href"))})),(n=o.getAll("body")[0])&&(a.langdir=t(n,"dir"),a.style=t(n,"style"),a.visited_color=t(n,"vlink"),a.link_color=t(n,"link"),a.active_color=t(n,"alink")),a}function r(t){function n(e,t,n){e.attr(t,n||void 0)}function r(e){a.firstChild?a.insert(e,a.firstChild):a.append(e)}var o,a,s,c,f,m=e.dom;o=i(),(a=o.getAll("head")[0])||(c=o.getAll("html")[0],a=new d("head",1),c.firstChild?c.insert(a,c.firstChild,!0):c.append(a)),c=o.firstChild,t.xml_pi?(f='version="1.0"',t.docencoding&&(f+=' encoding="'+t.docencoding+'"'),7!=c.type&&(c=new d("xml",7),o.insert(c,o.firstChild,!0)),c.value=f):c&&7==c.type&&c.remove(),c=o.getAll("#doctype")[0],t.doctype?(c||(c=new d("#doctype",10),t.xml_pi?o.insert(c,o.firstChild):r(c)),c.value=t.doctype.substring(9,t.doctype.length-1)):c&&c.remove(),c=null,u(o.getAll("meta"),(function(e){"Content-Type"==e.attr("http-equiv")&&(c=e)})),t.docencoding?(c||((c=new d("meta",1)).attr("http-equiv","Content-Type"),c.shortEnded=!0,r(c)),c.attr("content","text/html; charset="+t.docencoding)):c&&c.remove(),c=o.getAll("title")[0],t.title?(c?c.empty():r(c=new d("title",1)),c.append(new d("#text",3)).value=t.title):c&&c.remove(),u("keywords,description,author,copyright,robots".split(","),(function(e){var n,i,a=o.getAll("meta"),s=t[e];for(n=0;n<a.length;n++)if((i=a[n]).attr("name")==e)return void(s?i.attr("content",s):i.remove());s&&((c=new d("meta",1)).attr("name",e),c.attr("content",s),c.shortEnded=!0,r(c))}));var g={};tinymce.each(o.getAll("link"),(function(e){"stylesheet"==e.attr("rel")&&(g[e.attr("href")]=e)})),tinymce.each(t.stylesheets,(function(e){g[e]||((c=new d("link",1)).attr({rel:"stylesheet",text:"text/css",href:e}),c.shortEnded=!0,r(c)),delete g[e]})),tinymce.each(g,(function(e){e.remove()})),(c=o.getAll("body")[0])&&(n(c,"dir",t.langdir),n(c,"style",t.style),n(c,"vlink",t.visited_color),n(c,"link",t.link_color),n(c,"alink",t.active_color),m.setAttribs(e.getBody(),{style:t.style,dir:t.dir,vLink:t.visited_color,link:t.link_color,aLink:t.active_color})),(c=o.getAll("html")[0])&&(n(c,"lang",t.langcode),n(c,"xml:lang",t.langcode)),a.firstChild||a.remove(),s=new tinymce.html.Serializer({validate:!1,indent:!0,apply_source_formatting:!0,indent_before:"head,html,body,meta,title,script,link,style",indent_after:"head,html,body,meta,title,script,link,style"}).serialize(o),l=s.substring(0,s.indexOf("</body>"))}function i(){return new tinymce.html.DomParser({validate:!1,root_name:"#document"}).parse(l)}function o(t){function n(e){return e.replace(/<\/?[A-Z]+/g,(function(e){return e.toLowerCase()}))}var r,o,s,d,f=t.content,m="",g=e.dom;if(!t.selection&&!("raw"==t.format&&l||t.source_view&&e.getParam("fullpage_hide_in_source_view"))){0!==f.length||t.source_view||(f=tinymce.trim(l)+"\n"+tinymce.trim(f)+"\n"+tinymce.trim(c)),-1!=(r=(f=f.replace(/<(\/?)BODY/gi,"<$1body")).indexOf("<body"))?(r=f.indexOf(">",r),l=n(f.substring(0,r+1)),-1==(o=f.indexOf("</body",r))&&(o=f.length),t.content=f.substring(r+1,o),c=n(f.substring(o))):(l=a(),c="\n</body>\n</html>"),s=i(),u(s.getAll("style"),(function(e){e.firstChild&&(m+=e.firstChild.value)})),(d=s.getAll("body")[0])&&g.setAttribs(e.getBody(),{style:d.attr("style")||"",dir:d.attr("dir")||"",vLink:d.attr("vlink")||"",link:d.attr("link")||"",aLink:d.attr("alink")||""}),g.remove("fullpage_styles");var p=e.getDoc().getElementsByTagName("head")[0];m&&(g.add(p,"style",{id:"fullpage_styles"},m),(d=g.get("fullpage_styles")).styleSheet&&(d.styleSheet.cssText=m));var h={};tinymce.each(p.getElementsByTagName("link"),(function(e){"stylesheet"==e.rel&&e.getAttribute("data-mce-fullpage")&&(h[e.href]=e)})),tinymce.each(s.getAll("link"),(function(e){var t=e.attr("href");return!t||(h[t]||"stylesheet"!=e.attr("rel")||g.add(p,"link",{rel:"stylesheet",text:"text/css",href:t,"data-mce-fullpage":"1"}),void delete h[t])})),tinymce.each(h,(function(e){e.parentNode.removeChild(e)}))}}function a(){var t,n="",r="";return e.getParam("fullpage_default_xml_pi")&&(n+='<?xml version="1.0" encoding="'+e.getParam("fullpage_default_encoding","ISO-8859-1")+'" ?>\n'),n+=e.getParam("fullpage_default_doctype","<!DOCTYPE html>"),n+="\n<html>\n<head>\n",(t=e.getParam("fullpage_default_title"))&&(n+="<title>"+t+"</title>\n"),(t=e.getParam("fullpage_default_encoding"))&&(n+='<meta http-equiv="Content-Type" content="text/html; charset='+t+'" />\n'),(t=e.getParam("fullpage_default_font_family"))&&(r+="font-family: "+t+";"),(t=e.getParam("fullpage_default_font_size"))&&(r+="font-size: "+t+";"),(t=e.getParam("fullpage_default_text_color"))&&(r+="color: "+t+";"),n+"</head>\n<body"+(r?' style="'+r+'"':"")+">\n"}function s(t){t.selection||t.source_view&&e.getParam("fullpage_hide_in_source_view")||(t.content=tinymce.trim(l)+"\n"+tinymce.trim(t.content)+"\n"+tinymce.trim(c))}var l,c,u=tinymce.each,d=tinymce.html.Node;e.addCommand("mceFullPageProperties",t),e.addButton("fullpage",{title:"Document properties",cmd:"mceFullPageProperties"}),e.addMenuItem("fullpage",{text:"Document properties",cmd:"mceFullPageProperties",context:"file"}),e.on("BeforeSetContent",o),e.on("GetContent",s)}))}.call(this),function(){tinymce.PluginManager.add("image",(function(e){function t(e,t){function n(e,n){r.parentNode&&r.parentNode.removeChild(r),t({width:e,height:n})}var r=document.createElement("img");r.onload=function(){n(Math.max(r.width,r.clientWidth),Math.max(r.height,r.clientHeight))},r.onerror=function(){n()};var i=r.style;i.visibility="hidden",i.position="fixed",i.bottom=i.left=0,i.width=i.height="auto",document.body.appendChild(r),r.src=e}function n(e,t,n){function r(e,n){return n=n||[],tinymce.each(e,(function(e){var i={text:e.text||e.title};e.menu?i.menu=r(e.menu):(i.value=e.value,t(i)),n.push(i)})),n}return r(e,n||[])}function r(t){return function(){var n=e.settings.image_list;"string"==typeof n?tinymce.util.XHR.send({url:n,success:function(e){t(tinymce.util.JSON.parse(e))}}):"function"==typeof n?n(t):t(n)}}function i(r){function i(){var e,t,n,r;e=f.find("#width")[0],t=f.find("#height")[0],e&&t&&(n=e.value(),r=t.value(),f.find("#constrain")[0].checked()&&p&&h&&n&&r&&(p!=n?(r=Math.round(n/p*r),isNaN(r)||t.value(r)):(n=Math.round(r/h*n),isNaN(n)||e.value(n))),p=n,h=r)}function o(){function t(t){function n(){t.onload=t.onerror=null,e.selection&&(e.selection.select(t),e.nodeChanged())}t.onload=function(){y.width||y.height||!w||x.setAttribs(t,{width:t.clientWidth,height:t.clientHeight}),n()},t.onerror=n}var n,r;u(),i(),(y=tinymce.extend(y,f.toJSON())).alt||(y.alt=""),y.title||(y.title=""),""===y.width&&(y.width=null),""===y.height&&(y.height=null),y.style||(y.style=null),y={src:y.src,alt:y.alt,title:y.title,width:y.width,height:y.height,style:y.style,caption:y.caption,class:y.class},e.undoManager.transact((function(){function i(t){return e.schema.getTextBlockElements()[t.nodeName]}if(y.src){if(""===y.title&&(y.title=null),m?x.setAttribs(m,y):(y.id="__mcenew",e.focus(),e.selection.setContent(x.createHTML("img",y)),m=x.get("__mcenew"),x.setAttrib(m,"id",null)),e.editorUpload.uploadImagesAuto(),!1===y.caption&&x.is(m.parentNode,"figure.image")&&(n=m.parentNode,x.insertAfter(m,n),x.remove(n)),!0!==y.caption)t(m);else if(!x.is(m.parentNode,"figure.image")){r=m,m=m.cloneNode(!0),(n=x.create("figure",{class:"image"})).appendChild(m),n.appendChild(x.create("figcaption",{contentEditable:!0},"Caption")),n.contentEditable=!1;var o=x.getParent(r,i);o?x.split(o,r,n):x.replace(n,r),e.selection.select(n)}}else m&&(x.remove(m),e.focus(),e.nodeChanged())}))}function a(e){return e&&(e=e.replace(/px$/,"")),e}function s(n){var r,i,o,a=n.meta||{};v&&v.value(e.convertURL(this.value(),"src")),tinymce.each(a,(function(e,t){f.find("#"+t).value(e)})),a.width||a.height||(r=e.convertURL(this.value(),"src"),i=e.settings.image_prepend_url,o=new RegExp("^(?:[a-z]+:)?//","i"),i&&!o.test(r)&&r.substring(0,i.length)!==i&&(r=i+r),this.value(r),t(e.documentBaseURI.toAbsolute(this.value()),(function(e){e.width&&e.height&&w&&(p=e.width,h=e.height,f.find("#width").value(p),f.find("#height").value(h))})))}function l(e){e.meta=f.toJSON()}function c(e){if(e.margin){var t=e.margin.split(" ");switch(t.length){case 1:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[0],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[0];break;case 2:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[1];break;case 3:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[1];break;case 4:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[3]}delete e.margin}return e}function u(){function t(e){return e.length>0&&/^[0-9]+$/.test(e)&&(e+="px"),e}if(e.settings.image_advtab){var n=f.toJSON(),r=x.parseStyle(n.style);r=c(r),n.vspace&&(r["margin-top"]=r["margin-bottom"]=t(n.vspace)),n.hspace&&(r["margin-left"]=r["margin-right"]=t(n.hspace)),n.border&&(r["border-width"]=t(n.border)),f.find("#style").value(x.serializeStyle(x.parseStyle(x.serializeStyle(r))))}}function d(){if(e.settings.image_advtab){var t=f.toJSON(),n=x.parseStyle(t.style);f.find("#vspace").value(""),f.find("#hspace").value(""),((n=c(n))["margin-top"]&&n["margin-bottom"]||n["margin-right"]&&n["margin-left"])&&(n["margin-top"]===n["margin-bottom"]?f.find("#vspace").value(a(n["margin-top"])):f.find("#vspace").value(""),n["margin-right"]===n["margin-left"]?f.find("#hspace").value(a(n["margin-right"])):f.find("#hspace").value("")),n["border-width"]&&f.find("#border").value(a(n["border-width"])),f.find("#style").value(x.serializeStyle(x.parseStyle(x.serializeStyle(n))))}}var f,m,g,p,h,v,b,y={},x=e.dom,w=!1!==e.settings.image_dimensions;m=e.selection.getNode(),(g=x.getParent(m,"figure.image"))&&(m=x.select("img",g)[0]),m&&("IMG"!=m.nodeName||m.getAttribute("data-mce-object")||m.getAttribute("data-mce-placeholder"))&&(m=null),m&&(p=x.getAttrib(m,"width"),h=x.getAttrib(m,"height"),y={src:x.getAttrib(m,"src"),alt:x.getAttrib(m,"alt"),title:x.getAttrib(m,"title"),class:x.getAttrib(m,"class"),width:p,height:h,caption:!!g}),r&&(v={type:"listbox",label:"Image list",values:n(r,(function(t){t.value=e.convertURL(t.value||t.url,"src")}),[{text:"None",value:""}]),value:y.src&&e.convertURL(y.src,"src"),onselect:function(e){var t=f.find("#alt");(!t.value()||e.lastControl&&t.value()==e.lastControl.text())&&t.value(e.control.text()),f.find("#src").value(e.control.value()).fire("change")},onPostRender:function(){v=this}}),e.settings.image_class_list&&(b={name:"class",type:"listbox",label:"Class",values:n(e.settings.image_class_list,(function(t){t.value&&(t.textStyle=function(){return e.formatter.getCssText({inline:"img",classes:[t.value]})})}))});var C=[{name:"src",type:"filepicker",filetype:"image",label:"Source",autofocus:!0,onchange:s,onbeforecall:l},v];!1!==e.settings.image_description&&C.push({name:"alt",type:"textbox",label:"Image description"}),e.settings.image_title&&C.push({name:"title",type:"textbox",label:"Image Title"}),w&&C.push({type:"container",label:"Dimensions",layout:"flex",direction:"row",align:"center",spacing:5,items:[{name:"width",type:"textbox",maxLength:5,size:3,onchange:i,ariaLabel:"Width"},{type:"label",text:"x"},{name:"height",type:"textbox",maxLength:5,size:3,onchange:i,ariaLabel:"Height"},{name:"constrain",type:"checkbox",checked:!0,text:"Constrain proportions"}]}),C.push(b),e.settings.image_caption&&tinymce.Env.ceFalse&&C.push({name:"caption",type:"checkbox",label:"Caption"}),e.settings.image_advtab?(m&&(m.style.marginLeft&&m.style.marginRight&&m.style.marginLeft===m.style.marginRight&&(y.hspace=a(m.style.marginLeft)),m.style.marginTop&&m.style.marginBottom&&m.style.marginTop===m.style.marginBottom&&(y.vspace=a(m.style.marginTop)),m.style.borderWidth&&(y.border=a(m.style.borderWidth)),y.style=e.dom.serializeStyle(e.dom.parseStyle(e.dom.getAttrib(m,"style")))),f=e.windowManager.open({title:"Insert/edit image",data:y,bodyType:"tabpanel",body:[{title:"General",type:"form",items:C},{title:"Advanced",type:"form",pack:"start",items:[{label:"Style",name:"style",type:"textbox",onchange:d},{type:"form",layout:"grid",packV:"start",columns:2,padding:0,alignH:["left","right"],defaults:{type:"textbox",maxWidth:50,onchange:u},items:[{label:"Vertical space",name:"vspace"},{label:"Horizontal space",name:"hspace"},{label:"Border",name:"border"}]}]}],onSubmit:o})):f=e.windowManager.open({title:"Insert/edit image",data:y,body:C,onSubmit:o})}e.on("preInit",(function(){function t(e){var t=e.attr("class");return t&&/\bimage\b/.test(t)}function n(e){return function(n){function r(t){t.attr("contenteditable",e?"true":null)}for(var i,o=n.length;o--;)t(i=n[o])&&(i.attr("contenteditable",e?"false":null),tinymce.each(i.getAll("figcaption"),r))}}e.parser.addNodeFilter("figure",n(!0)),e.serializer.addNodeFilter("figure",n(!1))})),e.addButton("image",{icon:"image",tooltip:"Insert/edit image",onclick:r(i),stateSelector:"img:not([data-mce-object],[data-mce-placeholder]),figure.image"}),e.addMenuItem("image",{icon:"image",text:"Image",onclick:r(i),context:"insert",prependToContext:!0}),e.addCommand("mceImage",r(i))}))}.call(this),function(){tinymce.PluginManager.add("insertdatetime",(function(e){function t(t,n){function r(e,t){if((e=""+e).length<t)for(var n=0;n<t-e.length;n++)e="0"+e;return e}return n=n||new Date,(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace("%D","%m/%d/%Y")).replace("%r","%I:%M:%S %p")).replace("%Y",""+n.getFullYear())).replace("%y",""+n.getYear())).replace("%m",r(n.getMonth()+1,2))).replace("%d",r(n.getDate(),2))).replace("%H",""+r(n.getHours(),2))).replace("%M",""+r(n.getMinutes(),2))).replace("%S",""+r(n.getSeconds(),2))).replace("%I",""+((n.getHours()+11)%12+1))).replace("%p",n.getHours()<12?"AM":"PM")).replace("%B",""+e.translate(l[n.getMonth()]))).replace("%b",""+e.translate(s[n.getMonth()]))).replace("%A",""+e.translate(a[n.getDay()]))).replace("%a",""+e.translate(o[n.getDay()]))).replace("%%","%")}function n(n){var r=t(n);if(e.settings.insertdatetime_element){var i;r='<time datetime="'+(i=t(/%[HMSIp]/.test(n)?"%Y-%m-%dT%H:%M":"%Y-%m-%d"))+'">'+r+"</time>";var o=e.dom.getParent(e.selection.getStart(),"time");if(o)return void e.dom.setOuterHTML(o,r)}e.insertContent(r)}var r,i,o="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),a="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),s="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),l="January February March April May June July August September October November December".split(" "),c=[];e.addCommand("mceInsertDate",(function(){n(e.getParam("insertdatetime_dateformat",e.translate("%Y-%m-%d")))})),e.addCommand("mceInsertTime",(function(){n(e.getParam("insertdatetime_timeformat",e.translate("%H:%M:%S")))})),e.addButton("insertdatetime",{type:"splitbutton",title:"Insert date/time",onclick:function(){n(r||i)},menu:c}),tinymce.each(e.settings.insertdatetime_formats||["%H:%M:%S","%Y-%m-%d","%I:%M:%S %p","%D"],(function(e){i||(i=e),c.push({text:t(e),onclick:function(){r=e,n(e)}})})),e.addMenuItem("insertdatetime",{icon:"date",text:"Date/time",menu:c,context:"insert"})}))}.call(this),function(){var e,t,n,r,i,o,a,s;e={},t=function(t){for(var n=e[t],i=n.deps,o=n.defn,a=i.length,s=new Array(a),l=0;l<a;++l)s[l]=r(i[l]);var c=o.apply(null,s);if(void 0===c)throw"module ["+t+"] returned undefined";n.instance=c},n=function(t,n,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;e[t]={deps:n,defn:r,instance:void 0}},r=function(n){var r=e[n];if(void 0===r)throw"module ["+n+"] was undefined";return void 0===r.instance&&t(n),r.instance},a=n,(s=function(e,t){a(e,[],(function(){return t}))})("1",tinymce.PluginManager),s("2",tinymce.util.Tools),s("3",tinymce.util.VK),a("4",[],(function(){var e,t,n,r=function(e){return e&&"BR"===e.nodeName},i,o,a,s=function(e,t){return!!r(t)&&!(!e.isBlock(t.nextSibling)||r(t.previousSibling))},l,c;return{isTextNode:function(e){return e&&3===e.nodeType},isListNode:function(e){return e&&/^(OL|UL|DL)$/.test(e.nodeName)},isListItemNode:function(e){return e&&/^(LI|DT|DD)$/.test(e.nodeName)},isBr:r,isFirstChild:function(e){return e.parentNode.firstChild===e},isLastChild:function(e){return e.parentNode.lastChild===e},isTextBlock:function(e,t){return t&&!!e.schema.getTextBlockElements()[t.nodeName]},isBogusBr:s,isEmpty:function(e,t,n){var r=e.isEmpty(t);return!(n&&e.select("span[data-mce-type=bookmark]",t).length>0)&&r},isChildOfBody:function(e,t){return e.isChildOf(t,e.getRoot())}}})),s("9",tinymce.dom.TreeWalker),s("a",tinymce.dom.RangeUtils),a("b",["2","4"],(function(e,t){var n;return{getSelectedListItems:function(n){return e.grep(n.selection.getSelectedBlocks(),(function(e){return t.isListItemNode(e)}))}}})),s("h",tinymce.dom.DOMUtils.DOM),a("d",["a","4"],(function(e,t){var n=function(n,r){var i=e.getNode(n,r),o;return t.isListItemNode(n)&&t.isTextNode(i)?{container:i,offset:r>=n.childNodes.length?i.data.length:0}:{container:n,offset:r}},r=function(e){var t=e.cloneRange(),r=n(e.startContainer,e.startOffset);t.setStart(r.container,r.offset);var i=n(e.endContainer,e.endOffset);return t.setEnd(i.container,i.offset),t};return{getNormalizedEndPoint:n,normalizeRange:r}})),a("c",["h","4","d"],(function(e,t,n){var r=function(t){var n={},r=function(r){var i,o,a;o=t[r?"startContainer":"endContainer"],a=t[r?"startOffset":"endOffset"],1===o.nodeType&&(i=e.create("span",{"data-mce-type":"bookmark"}),o.hasChildNodes()?(a=Math.min(a,o.childNodes.length-1),r?o.insertBefore(i,o.childNodes[a]):e.insertAfter(i,o.childNodes[a])):o.appendChild(i),o=i,a=0),n[r?"startContainer":"endContainer"]=o,n[r?"startOffset":"endOffset"]=a};return r(!0),t.collapsed||r(),n},i=function(t){function r(n){var r,i,o,a=function(e){for(var t=e.parentNode.firstChild,n=0;t;){if(t===e)return n;1===t.nodeType&&"bookmark"===t.getAttribute("data-mce-type")||n++,t=t.nextSibling}return-1};r=o=t[n?"startContainer":"endContainer"],i=t[n?"startOffset":"endOffset"],r&&(1===r.nodeType&&(i=a(r),r=r.parentNode,e.remove(o)),t[n?"startContainer":"endContainer"]=r,t[n?"startOffset":"endOffset"]=i)}r(!0),r();var i=e.createRng();return i.setStart(t.startContainer,t.startOffset),t.endContainer&&i.setEnd(t.endContainer,t.endOffset),n.normalizeRange(i)};return{createBookmark:r,resolveBookmark:i}})),a("e",["h","2","4"],(function(e,t,n){var r=function(t,r){var i,o=r.parentNode;"LI"===o.nodeName&&o.firstChild===r&&((i=o.previousSibling)&&"LI"===i.nodeName?(i.appendChild(r),n.isEmpty(t,o)&&e.remove(o)):e.setStyle(o,"listStyleType","none")),n.isListNode(o)&&(i=o.previousSibling)&&"LI"===i.nodeName&&i.appendChild(r)},i=function(e,n){t.each(t.grep(e.select("ol,ul",n)),(function(t){r(e,t)}))};return{normalizeList:r,normalizeLists:i}})),s("f",tinymce.dom.BookmarkManager),s("j",tinymce.Env),a("i",["h","j"],(function(e,t){var n;return{createNewTextBlock:function(n,r,i){var o,a,s,l=e.createFragment(),c=n.schema.getBlockElements();if(n.settings.forced_root_block&&(i=i||n.settings.forced_root_block),i&&((a=e.create(i)).tagName===n.settings.forced_root_block&&e.setAttribs(a,n.settings.forced_root_block_attrs),l.appendChild(a)),r)for(;o=r.firstChild;){var u=o.nodeName;s||"SPAN"===u&&"bookmark"===o.getAttribute("data-mce-type")||(s=!0),c[u]?(l.appendChild(o),a=null):i?(a||(a=e.create(i),l.appendChild(a)),a.appendChild(o)):l.appendChild(o)}return n.settings.forced_root_block?s||t.ie&&!(t.ie>10)||a.appendChild(e.create("br",{"data-mce-bogus":"1"})):l.appendChild(e.create("br")),l}}})),a("g",["h","2","i","4"],(function(e,t,n,r){var i;return{splitList:function(i,o,a,s){var l,c,u,d,f=function(n){t.each(u,(function(e){n.parentNode.insertBefore(e,a.parentNode)})),e.remove(n)};for(u=e.select('span[data-mce-type="bookmark"]',o),s=s||n.createNewTextBlock(i,a),(l=e.createRng()).setStartAfter(a),l.setEndAfter(o),d=(c=l.extractContents()).firstChild;d;d=d.firstChild)if("LI"===d.nodeName&&i.dom.isEmpty(d)){e.remove(d);break}i.dom.isEmpty(c)||e.insertAfter(c,o),e.insertAfter(s,o),r.isEmpty(i.dom,a.parentNode)&&f(a.parentNode),e.remove(a),r.isEmpty(i.dom,o)&&e.remove(o)}}})),a("7",["h","4","c","b","g","e","i"],(function(e,t,n,r,i,o,a){var s=function(n,r){t.isEmpty(n,r)&&e.remove(r)},l=function(n,r){var l,c=r.parentNode,u=c.parentNode;return!(c!==n.getBody()&&("DD"===r.nodeName?(e.rename(r,"DT"),0):t.isFirstChild(r)&&t.isLastChild(r)?("LI"===u.nodeName?(e.insertAfter(r,u),s(n.dom,u),e.remove(c)):t.isListNode(u)?e.remove(c,!0):(u.insertBefore(a.createNewTextBlock(n,r),c),e.remove(c)),0):t.isFirstChild(r)?("LI"===u.nodeName?(e.insertAfter(r,u),r.appendChild(c),s(n.dom,u)):t.isListNode(u)?u.insertBefore(r,c):(u.insertBefore(a.createNewTextBlock(n,r),c),e.remove(r)),0):t.isLastChild(r)?("LI"===u.nodeName?e.insertAfter(r,u):t.isListNode(u)?e.insertAfter(r,c):(e.insertAfter(a.createNewTextBlock(n,r),c),e.remove(r)),0):("LI"===u.nodeName?(c=u,l=a.createNewTextBlock(n,r,"LI")):l=t.isListNode(u)?a.createNewTextBlock(n,r,"LI"):a.createNewTextBlock(n,r),i.splitList(n,c,r,l),o.normalizeLists(n.dom,c.parentNode),0)))},c=function(e){var t=r.getSelectedListItems(e);if(t.length){var i,o,a=n.createBookmark(e.selection.getRng(!0)),s=e.getBody();for(i=t.length;i--;)for(var c=t[i].parentNode;c&&c!==s;){for(o=t.length;o--;)if(t[o]===c){t.splice(i,1);break}c=c.parentNode}for(i=0;i<t.length&&(l(e,t[i])||0!==i);i++);return e.selection.setRng(n.resolveBookmark(a)),e.nodeChanged(),!0}};return{outdent:l,outdentSelection:c}})),a("8",["2","f","b","4","c","g","e","7"],(function(e,t,n,r,i,o,a,s){var l=function(e,t,n){var r=n["list-style-type"]?n["list-style-type"]:null;e.setStyle(t,"list-style-type",r)},c=function(t,n){e.each(n,(function(e,n){t.setAttribute(n,e)}))},u=function(t,n,r){c(n,r["list-attributes"]),e.each(t.select("li",n),(function(e){c(e,r["list-item-attributes"])}))},d=function(e,t,n){l(e,t,n),u(e,t,n)},f=function(e,t,n){var i,o,a=e.getBody();for(i=t[n?"startContainer":"endContainer"],o=t[n?"startOffset":"endOffset"],1===i.nodeType&&(i=i.childNodes[Math.min(o,i.childNodes.length-1)]||i);i.parentNode!==a;){if(r.isTextBlock(e,i))return i;if(/^(TD|TH)$/.test(i.parentNode.nodeName))return i;i=i.parentNode}return i},m=function(n,i){for(var o,a=[],s=n.getBody(),l=n.dom,c=f(n,i,!0),u=f(n,i,!1),d=[],m=c;m&&(d.push(m),m!==u);m=m.nextSibling);return e.each(d,(function(e){if(r.isTextBlock(n,e))return a.push(e),void(o=null);if(l.isBlock(e)||r.isBr(e))return r.isBr(e)&&l.remove(e),void(o=null);var i=e.nextSibling;return t.isBookmarkNode(e)&&(r.isTextBlock(n,i)||!i&&e.parentNode===s)?void(o=null):(o||(o=l.create("p"),e.parentNode.insertBefore(o,e),a.push(o)),void o.appendChild(e))})),a},g=function(t,n,o){var a,s=t.selection.getRng(!0),l="LI",c=t.dom;o=o||{},"false"!==c.getContentEditable(t.selection.getNode())&&("DL"===(n=n.toUpperCase())&&(l="DT"),a=i.createBookmark(s),e.each(m(t,s),(function(e){var i,a,s=function(e){var t=c.getStyle(e,"list-style-type"),n=o?o["list-style-type"]:"";return t===(n=null===n?"":n)};(a=e.previousSibling)&&r.isListNode(a)&&a.nodeName===n&&s(a)?(i=a,e=c.rename(e,l),a.appendChild(e)):(i=c.create(n),e.parentNode.insertBefore(i,e),i.appendChild(e),e=c.rename(e,l)),d(c,i,o),x(t.dom,i)})),t.selection.setRng(i.resolveBookmark(a)))},p=function(t){var l=i.createBookmark(t.selection.getRng(!0)),c=t.getBody(),u=n.getSelectedListItems(t),d=e.grep(u,(function(e){return t.dom.isEmpty(e)}));u=e.grep(u,(function(e){return!t.dom.isEmpty(e)})),e.each(d,(function(e){r.isEmpty(t.dom,e)&&s.outdent(t,e)})),e.each(u,(function(e){var n,i;if(e.parentNode!==t.getBody()){for(n=e;n&&n!==c;n=n.parentNode)r.isListNode(n)&&(i=n);o.splitList(t,i,e),a.normalizeLists(t.dom,i.parentNode)}})),t.selection.setRng(i.resolveBookmark(l))},h=function(e,t){return e&&t&&r.isListNode(e)&&e.nodeName===t.nodeName},v=function(e,t,n){var r,i;return e.getStyle(t,"list-style-type",!0)===e.getStyle(n,"list-style-type",!0)},b=function(e,t){return e.className===t.className},y=function(e,t,n){return h(t,n)&&v(e,t,n)&&b(t,n)},x=function(e,t){var n,r;if(n=t.nextSibling,y(e,t,n)){for(;r=n.firstChild;)t.appendChild(r);e.remove(n)}if(n=t.previousSibling,y(e,t,n)){for(;r=n.lastChild;)t.insertBefore(r,t.firstChild);e.remove(n)}},w;return{toggleList:function(e,t,n){var r=e.dom.getParent(e.selection.getStart(),"OL,UL,DL");if(n=n||{},r!==e.getBody())if(r)if(r.nodeName===t)p(e,t);else{var o=i.createBookmark(e.selection.getRng(!0));d(e.dom,r,n),x(e.dom,e.dom.rename(r,t)),e.selection.setRng(i.resolveBookmark(o))}else g(e,t,n)},removeList:p,mergeWithAdjacentLists:x}})),a("5",["9","a","3","b","4","c","d","e","8"],(function(e,t,n,r,i,o,a,s,l){var c=function(n,r,o){var a,s,l=r.startContainer,c=r.startOffset;if(3===l.nodeType&&(o?c<l.data.length:c>0))return l;for(a=n.schema.getNonEmptyElements(),1===l.nodeType&&(l=t.getNode(l,c)),s=new e(l,n.getBody()),o&&i.isBogusBr(n.dom,l)&&s.next();l=s[o?"next":"prev2"]();){if("LI"===l.nodeName&&!l.hasChildNodes())return l;if(a[l.nodeName])return l;if(3===l.nodeType&&l.data.length>0)return l}},u=function(e,t,n){var r,o,a=t.parentNode;if(i.isChildOfBody(e,t)&&i.isChildOfBody(e,n)){if(i.isListNode(n.lastChild)&&(o=n.lastChild),a===n.lastChild&&i.isBr(a.previousSibling)&&e.remove(a.previousSibling),(r=n.lastChild)&&i.isBr(r)&&t.hasChildNodes()&&e.remove(r),i.isEmpty(e,n,!0)&&e.$(n).empty(),!i.isEmpty(e,t,!0))for(;r=t.firstChild;)n.appendChild(r);o&&n.appendChild(o),e.remove(t),i.isEmpty(e,a)&&a!==e.getRoot()&&e.remove(a)}},d=function(e,t){var n,r,s,d=e.dom,f=e.selection,m=d.getParent(f.getStart(),"LI");if(m){if((n=m.parentNode)===e.getBody()&&i.isEmpty(d,n))return!0;if(r=a.normalizeRange(f.getRng(!0)),(s=d.getParent(c(e,r,t),"LI"))&&s!==m){var g=o.createBookmark(r);return t?u(d,s,m):u(d,m,s),e.selection.setRng(o.resolveBookmark(g)),!0}if(!s&&!t&&l.removeList(e,n.nodeName))return!0}return!1},f=function(e,t){var n=e.dom,r=n.getParent(e.selection.getStart(),n.isBlock);if(r&&n.isEmpty(r)){var i=a.normalizeRange(e.selection.getRng(!0)),o=n.getParent(c(e,i,t),"LI");if(o)return e.undoManager.transact((function(){n.remove(r),l.mergeWithAdjacentLists(n,o.parentNode),e.selection.select(o,!0),e.selection.collapse(t)})),!0}return!1},m=function(e,t){return d(e,t)||f(e,t)},g=function(e){var t;return!!(e.dom.getParent(e.selection.getStart(),"LI,DT,DD")||r.getSelectedListItems(e).length>0)&&(e.undoManager.transact((function(){e.execCommand("Delete"),s.normalizeLists(e.dom,e.getBody())})),!0)},p=function(e,t){return e.selection.isCollapsed()?m(e,t):g(e)},h;return{setup:function(e){e.on("keydown",(function(t){t.keyCode===n.BACKSPACE?p(e,!1)&&t.preventDefault():t.keyCode===n.DELETE&&p(e,!0)&&t.preventDefault()}))},backspaceDelete:p}})),a("6",["h","4","c","b"],(function(e,t,n,r){var i=function(n,r){var i;if(t.isListNode(n)){for(;i=n.firstChild;)r.appendChild(i);e.remove(n)}},o=function(n){var r,o,a;return"DT"===n.nodeName?(e.rename(n,"DD"),!0):(r=n.previousSibling)&&t.isListNode(r)?(r.appendChild(n),!0):r&&"LI"===r.nodeName&&t.isListNode(r.lastChild)?(r.lastChild.appendChild(n),i(n.lastChild,r.lastChild),!0):(r=n.nextSibling)&&t.isListNode(r)?(r.insertBefore(n,r.firstChild),!0):!(!(r=n.previousSibling)||"LI"!==r.nodeName||(o=e.create(n.parentNode.nodeName),a=e.getStyle(n.parentNode,"listStyleType"),a&&e.setStyle(o,"listStyleType",a),r.appendChild(o),o.appendChild(n),i(n.lastChild,o),0))},a;return{indentSelection:function(e){var t=r.getSelectedListItems(e);if(t.length){for(var i=n.createBookmark(e.selection.getRng(!0)),a=0;a<t.length&&(o(t[a])||0!==a);a++);return e.selection.setRng(n.resolveBookmark(i)),e.nodeChanged(),!0}}}})),a("0",["1","2","3","4","5","6","7","8"],(function(e,t,n,r,i,o,a,s){var l=function(e,t){return function(){var n=e.dom.getParent(e.selection.getStart(),"UL,OL,DL");return n&&n.nodeName===t}},c=function(e){e.on("BeforeExecCommand",(function(t){var n,r=t.command.toLowerCase();if("indent"===r?o.indentSelection(e)&&(n=!0):"outdent"===r&&a.outdentSelection(e)&&(n=!0),n)return e.fire("ExecCommand",{command:t.command}),t.preventDefault(),!0})),e.addCommand("InsertUnorderedList",(function(t,n){s.toggleList(e,"UL",n)})),e.addCommand("InsertOrderedList",(function(t,n){s.toggleList(e,"OL",n)})),e.addCommand("InsertDefinitionList",(function(t,n){s.toggleList(e,"DL",n)}))},u=function(e){e.addQueryStateHandler("InsertUnorderedList",l(e,"UL")),e.addQueryStateHandler("InsertOrderedList",l(e,"OL")),e.addQueryStateHandler("InsertDefinitionList",l(e,"DL"))},d=function(e){e.on("keydown",(function(t){9!==t.keyCode||n.metaKeyPressed(t)||e.dom.getParent(e.selection.getStart(),"LI,DT,DD")&&(t.preventDefault(),t.shiftKey?a.outdentSelection(e):o.indentSelection(e))}))},f=function(e){var n=function(n){return function(){var i=this;e.on("NodeChange",(function(e){var o=t.grep(e.parents,r.isListNode);i.active(o.length>0&&o[0].nodeName===n)}))}},i;(function(e,n){var r=e.settings.plugins?e.settings.plugins:"";return-1!==t.inArray(r.split(/[ ,]/),n)})(e,"advlist")||(e.addButton("numlist",{title:"Numbered list",cmd:"InsertOrderedList",onPostRender:n("OL")}),e.addButton("bullist",{title:"Bullet list",cmd:"InsertUnorderedList",onPostRender:n("UL")})),e.addButton("indent",{icon:"indent",title:"Increase indent",cmd:"Indent",onPostRender:function(t){var n=t.control;e.on("nodechange",(function(){for(var t=e.selection.getSelectedBlocks(),i=!1,o=0,a=t.length;!i&&o<a;o++){var s=t[o].nodeName;i="LI"===s&&r.isFirstChild(t[o])||"UL"===s||"OL"===s||"DD"===s}n.disabled(i)}))}})};return e.add("lists",(function(e){return f(e),i.setup(e),e.on("init",(function(){c(e),u(e),d(e)})),{backspaceDelete:function(t){i.backspaceDelete(e,t)}}})),function(){}})),r("0")()}.call(this),function(){tinymce.PluginManager.add("noneditable",(function(e){function t(e){return function(t){return-1!==(" "+t.attr("class")+" ").indexOf(e)}}function n(t){function n(t){var n=arguments,r=n[n.length-2],i=r>0?a.charAt(r-1):"";if('"'===i)return t;if(">"===i){var o=a.lastIndexOf("<",r),l;if(-1!==o)if(-1!==a.substring(o,r).indexOf('contenteditable="false"'))return t}return'<span class="'+s+'" data-mce-content="'+e.dom.encode(n[0])+'">'+e.dom.encode("string"==typeof n[1]?n[1]:n[0])+"</span>"}var r=o.length,a=t.content,s=tinymce.trim(i);if("raw"!=t.format){for(;r--;)a=a.replace(o[r],n);t.content=a}}var r,i,o,a="contenteditable";r=" "+tinymce.trim(e.getParam("noneditable_editable_class","mceEditable"))+" ",i=" "+tinymce.trim(e.getParam("noneditable_noneditable_class","mceNonEditable"))+" ";var s=t(r),l=t(i);(o=e.getParam("noneditable_regexp"))&&!o.length&&(o=[o]),e.on("PreInit",(function(){o&&e.on("BeforeSetContent",n),e.parser.addAttributeFilter("class",(function(e){for(var t,n=e.length;n--;)t=e[n],s(t)?t.attr(a,"true"):l(t)&&t.attr(a,"false")})),e.serializer.addAttributeFilter(a,(function(e){for(var t,n=e.length;n--;)t=e[n],(s(t)||l(t))&&(o&&t.attr("data-mce-content")?(t.name="#text",t.type=3,t.raw=!0,t.value=t.attr("data-mce-content")):t.attr(a,null))}))}))}))}.call(this),function(){tinymce.PluginManager.add("preview",(function(e){var t=e.settings,n=!tinymce.Env.ie;e.addCommand("mcePreview",(function(){e.windowManager.open({title:"Preview",width:parseInt(e.getParam("plugin_preview_width","650"),10),height:parseInt(e.getParam("plugin_preview_height","500"),10),html:'<iframe src="javascript:\'\'" frameborder="0"'+(n?' sandbox="allow-scripts"':"")+"></iframe>",buttons:{text:"Close",onclick:function(){this.parent().parent().close()}},onPostRender:function(){var r,i="";i+='<base href="'+e.documentBaseURI.getURI()+'">',tinymce.each(e.contentCSS,(function(t){i+='<link type="text/css" rel="stylesheet" href="'+e.documentBaseURI.toAbsolute(t)+'">'}));var o=t.body_id||"tinymce";-1!=o.indexOf("=")&&(o=(o=e.getParam("body_id","","hash"))[e.id]||o);var a=t.body_class||"";-1!=a.indexOf("=")&&(a=(a=e.getParam("body_class","","hash"))[e.id]||"");var s='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A") {e.preventDefault();}}}, false);<\/script> ',l=e.settings.directionality?' dir="'+e.settings.directionality+'"':"";if(r="<!DOCTYPE html><html><head>"+i+'</head><body id="'+o+'" class="mce-content-body '+a+'"'+l+">"+e.getContent()+s+"</body></html>",n)this.getEl("body").firstChild.src="data:text/html;charset=utf-8,"+encodeURIComponent(r);else{var c=this.getEl("body").firstChild.contentWindow.document;c.open(),c.write(r),c.close()}}})})),e.addButton("preview",{title:"Preview",cmd:"mcePreview"}),e.addMenuItem("preview",{text:"Preview",cmd:"mcePreview",context:"view"})}))}.call(this),function(){!function(){function e(e){return e&&1==e.nodeType&&"false"===e.contentEditable}function t(t,n,r,i,o){function a(e,t){if(t=t||0,!e[0])throw"findAndReplaceDOMText cannot handle zero-length matches";var n=e.index;if(t>0){var r=e[t];if(!r)throw"Invalid capture group";n+=e[0].indexOf(r),e[0]=r}return[n,n+e[0].length,[e[0]]]}function s(t){var n;if(3===t.nodeType)return t.data;if(g[t.nodeName]&&!m[t.nodeName])return"";if(n="",e(t))return"\n";if((m[t.nodeName]||p[t.nodeName])&&(n+="\n"),t=t.firstChild)do{n+=s(t)}while(t=t.nextSibling);return n}function l(t,n,r){var i,o,a,s,l=[],c=0,u=t,d=n.shift(),f=0;e:for(;;){if((m[u.nodeName]||p[u.nodeName]||e(u))&&c++,3===u.nodeType&&(!o&&u.length+c>=d[1]?(o=u,s=d[1]-c):i&&l.push(u),!i&&u.length+c>d[0]&&(i=u,a=d[0]-c),c+=u.length),i&&o){if(u=r({startNode:i,startNodeIndex:a,endNode:o,endNodeIndex:s,innerNodes:l,match:d[2],matchIndex:f}),c-=o.length-s,i=null,o=null,l=[],f++,!(d=n.shift()))break}else if(g[u.nodeName]&&!m[u.nodeName]||!u.firstChild){if(u.nextSibling){u=u.nextSibling;continue}}else if(!e(u)){u=u.firstChild;continue}for(;;){if(u.nextSibling){u=u.nextSibling;break}if(u.parentNode===t)break e;u=u.parentNode}}}function c(e){var t;if("function"!=typeof e){var n=e.nodeType?e:f.createElement(e);t=function(e,t){var r=n.cloneNode(!1);return r.setAttribute("data-mce-index",t),e&&r.appendChild(f.createTextNode(e)),r}}else t=e;return function(e){var n,r,i,o=e.startNode,a=e.endNode,s=e.matchIndex;if(o===a){var l=o;i=l.parentNode,e.startNodeIndex>0&&(n=f.createTextNode(l.data.substring(0,e.startNodeIndex)),i.insertBefore(n,l));var c=t(e.match[0],s);return i.insertBefore(c,l),e.endNodeIndex<l.length&&(r=f.createTextNode(l.data.substring(e.endNodeIndex)),i.insertBefore(r,l)),l.parentNode.removeChild(l),c}n=f.createTextNode(o.data.substring(0,e.startNodeIndex)),r=f.createTextNode(a.data.substring(e.endNodeIndex));for(var u=t(o.data.substring(e.startNodeIndex),s),d=[],m=0,g=e.innerNodes.length;m<g;++m){var p=e.innerNodes[m],h=t(p.data,s);p.parentNode.replaceChild(h,p),d.push(h)}var v=t(a.data.substring(0,e.endNodeIndex),s);return(i=o.parentNode).insertBefore(n,o),i.insertBefore(u,o),i.removeChild(o),(i=a.parentNode).insertBefore(v,a),i.insertBefore(r,a),i.removeChild(a),v}}var u,d,f,m,g,p,h=[],v=0;if(f=n.ownerDocument,m=o.getBlockElements(),g=o.getWhiteSpaceElements(),p=o.getShortEndedElements(),d=s(n)){if(t.global)for(;u=t.exec(d);)h.push(a(u,i));else u=d.match(t),h.push(a(u,i));return h.length&&(v=h.length,l(n,h,c(r))),v}}function n(e){function n(){function t(){o.statusbar.find("#next").disabled(!a(d+1).length),o.statusbar.find("#prev").disabled(!a(d-1).length)}function n(){e.windowManager.alert("Could not find the specified string.",(function(){o.find("#find")[0].focus()}))}var r,i={};r=tinymce.trim(e.selection.getContent({format:"text"}));var o=e.windowManager.open({layout:"flex",pack:"center",align:"center",onClose:function(){e.focus(),u.done()},onSubmit:function(e){var r,s,l,c;return e.preventDefault(),s=o.find("#case").checked(),c=o.find("#words").checked(),(l=o.find("#find").value()).length?i.text==l&&i.caseState==s&&i.wholeWord==c?0===a(d+1).length?void n():(u.next(),void t()):((r=u.find(l,s,c))||n(),o.statusbar.items().slice(1).disabled(0===r),t(),void(i={text:l,caseState:s,wholeWord:c})):(u.done(!1),void o.statusbar.items().slice(1).disabled(!0))},buttons:[{text:"Find",subtype:"primary",onclick:function(){o.submit()}},{text:"Replace",disabled:!0,onclick:function(){u.replace(o.find("#replace").value())||(o.statusbar.items().slice(1).disabled(!0),d=-1,i={})}},{text:"Replace all",disabled:!0,onclick:function(){u.replace(o.find("#replace").value(),!0,!0),o.statusbar.items().slice(1).disabled(!0),i={}}},{type:"spacer",flex:1},{text:"Prev",name:"prev",disabled:!0,onclick:function(){u.prev(),t()}},{text:"Next",name:"next",disabled:!0,onclick:function(){u.next(),t()}}],title:"Find and replace",items:{type:"form",padding:20,labelGap:30,spacing:10,items:[{type:"textbox",name:"find",size:40,label:"Find",value:r},{type:"textbox",name:"replace",size:40,label:"Replace with"},{type:"checkbox",name:"case",text:"Match case",label:" "},{type:"checkbox",name:"words",text:"Whole words",label:" "}]}})}function r(e){var t=e.getAttribute("data-mce-index");return"number"==typeof t?""+t:t}function i(n){var r,i;return(i=e.dom.create("span",{"data-mce-bogus":1})).className="mce-match-marker",r=e.getBody(),u.done(!1),t(n,r,i,!1,e.schema)}function o(e){var t=e.parentNode;e.firstChild&&t.insertBefore(e.firstChild,e),e.parentNode.removeChild(e)}function a(t){var n,i=[];if((n=tinymce.toArray(e.getBody().getElementsByTagName("span"))).length)for(var o=0;o<n.length;o++){var a=r(n[o]);null!==a&&a.length&&a===t.toString()&&i.push(n[o])}return i}function s(t){var n=d,r=e.dom;(t=!1!==t)?n++:n--,r.removeClass(a(d),"mce-match-marker-selected");var i=a(n);return i.length?(r.addClass(a(n),"mce-match-marker-selected"),e.selection.scrollIntoView(i[0]),n):-1}function l(t){var n=e.dom,r=t.parentNode;n.remove(t),n.isEmpty(r)&&n.remove(r)}function c(e){var t=r(e);return null!==t&&t.length>0}var u=this,d=-1;u.init=function(e){e.addMenuItem("searchreplace",{text:"Find and replace",shortcut:"Meta+F",onclick:n,separator:"before",context:"edit"}),e.addButton("searchreplace",{tooltip:"Find and replace",shortcut:"Meta+F",onclick:n}),e.addCommand("SearchReplace",n),e.shortcuts.add("Meta+F","",n)},u.find=function(e,t,n){e=e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),e=n?"\\b"+e+"\\b":e;var r=i(new RegExp(e,t?"g":"gi"));return r&&(d=-1,d=s(!0)),r},u.next=function(){var e=s(!0);-1!==e&&(d=e)},u.prev=function(){var e=s(!1);-1!==e&&(d=e)},u.replace=function(t,n,i){var s,f,m,g,p,h,v=d;for(n=!1!==n,m=e.getBody(),f=tinymce.grep(tinymce.toArray(m.getElementsByTagName("span")),c),s=0;s<f.length;s++){var b=r(f[s]);if(g=p=parseInt(b,10),i||g===d){for(t.length?(f[s].firstChild.nodeValue=t,o(f[s])):l(f[s]);f[++s];){if((g=parseInt(r(f[s]),10))!==p){s--;break}l(f[s])}n&&v--}else p>d&&f[s].setAttribute("data-mce-index",p-1)}return e.undoManager.add(),d=v,n?(h=a(v+1).length>0,u.next()):(h=a(v-1).length>0,u.prev()),!i&&h},u.done=function(t){var n,i,a,s;for(i=tinymce.toArray(e.getBody().getElementsByTagName("span")),n=0;n<i.length;n++){var l=r(i[n]);null!==l&&l.length&&(l===d.toString()&&(a||(a=i[n].firstChild),s=i[n].firstChild),o(i[n]))}if(a&&s){var c=e.dom.createRng();return c.setStart(a,0),c.setEnd(s,s.data.length),!1!==t&&e.selection.setRng(c),c}}}tinymce.PluginManager.add("searchreplace",n)}()}.call(this),function(){!function(e,t){"use strict";function n(e,t){for(var n,r=[],a=0;a<e.length;++a){if(!(n=o[e[a]]||i(e[a])))throw"module definition dependecy not found: "+e[a];r.push(n)}t.apply(null,r)}function r(e,r,i){if("string"!=typeof e)throw"invalid module definition, module id must be defined and be a string";if(r===t)throw"invalid module definition, dependencies must be specified";if(i===t)throw"invalid module definition, definition function must be specified";n(r,(function(){o[e]=i.apply(null,arguments)}))}function i(t){for(var n=e,r=t.split(/[.\/]/),i=0;i<r.length;++i){if(!n[r[i]])return;n=n[r[i]]}return n}var o={};r("tinymce/tableplugin/Utils",["tinymce/Env"],(function(e){function t(t){(!e.ie||e.ie>9)&&(t.hasChildNodes()||(t.innerHTML='<br data-mce-bogus="1" />'))}var n=function(e){return function(t,n){t&&(1===(n=parseInt(n,10))||0===n?t.removeAttribute(e,1):t.setAttribute(e,n,1))}},r=function(e){return function(t){return parseInt(t.getAttribute(e)||1,10)}};return{setColSpan:n("colSpan"),setRowSpan:n("rowspan"),getColSpan:r("colSpan"),getRowSpan:r("rowSpan"),setSpanVal:function(e,t,r){n(t)(e,r)},getSpanVal:function(e,t){return r(t)(e)},paddCell:t}})),r("tinymce/tableplugin/SplitCols",["tinymce/util/Tools","tinymce/tableplugin/Utils"],(function(e,t){var n=function(e,t,n){return e[n]?e[n][t]:null},r=function(e,t,r){var i=n(e,t,r);return i?i.elm:null},i=function(e,t,i,o){var a,s,l=0,c=r(e,t,i);for(a=i;(o>0?a<e.length:a>=0)&&c===(s=n(e,t,a)).elm;a+=o)l++;return l},o=function(e,t,n){for(var r,i=e[n],o=t;o<i.length;o++)if((r=i[o]).real)return r.elm;return null},a=function(e,n){for(var r,o=[],a=e[n],s=0;s<a.length;s++)r=a[s],o.push({elm:r.elm,above:i(e,s,n,-1)-1,below:i(e,s,n,1)-1}),s+=t.getColSpan(r.elm)-1;return o},s=function(e,n){var r,i=e.elm.ownerDocument.createElement("td");return t.setColSpan(i,t.getColSpan(e.elm)),t.setRowSpan(i,n),t.paddCell(i),i},l=function(e,t,n,r){var i=o(e,n+1,r);i?i.parentNode.insertBefore(t,i):(i=o(e,0,r)).parentNode.appendChild(t)},c=function(e,n,r,i){if(0!==n.above){t.setRowSpan(n.elm,n.above);var o=s(n,n.below+1);return l(e,o,r,i),o}return null},u=function(e,n,r,i){if(0!==n.below){t.setRowSpan(n.elm,n.above+1);var o=s(n,n.below);return l(e,o,r,i+1),o}return null},d;return{splitAt:function(t,n,i,o){var s=a(t,i),l=r(t,n,i).parentNode,d=[];return e.each(s,(function(e,n){var r;null!==(o?c(t,e,n,i):u(t,e,n,i))&&d.push(d)})),{cells:d,row:l}}}})),r("tinymce/tableplugin/TableGrid",["tinymce/util/Tools","tinymce/Env","tinymce/tableplugin/Utils","tinymce/tableplugin/SplitCols"],(function(e,n,r,i){var o=e.each,a=r.getSpanVal,s=r.setSpanVal;return function(l,c,u){function d(){l.$("td[data-mce-selected],th[data-mce-selected]").removeAttr("data-mce-selected")}function f(e){return e===l.getBody()}function m(t,n){return t?(n=e.map(n.split(","),(function(e){return e.toLowerCase()})),e.grep(t.childNodes,(function(t){return-1!==e.inArray(n,t.nodeName.toLowerCase())}))):[]}function g(){var e=0;Z=[],Q=0,o(["thead","tbody","tfoot"],(function(t){var n=m(c,t)[0],r=m(n,"tr");o(r,(function(n,r){r+=e,o(m(n,"td,th"),(function(e,n){var i,o,s,l;if(Z[r])for(;Z[r][n];)n++;for(s=a(e,"rowspan"),l=a(e,"colspan"),o=r;o<r+s;o++)for(Z[o]||(Z[o]=[]),i=n;i<n+l;i++)Z[o][i]={part:t,real:o==r&&i==n,elm:e,rowspan:s,colspan:l};Q=Math.max(Q,n+1)}))})),e+=r.length}))}function p(e){return l.fire("newrow",{node:e}),e}function h(e){return l.fire("newcell",{node:e}),e}function v(e,t){return(e=e.cloneNode(t)).removeAttribute("id"),e}function b(e,t){var n;if(n=Z[t])return n[e]}function y(e,t){return e[t]?e[t]:null}function x(e,t){for(var n=[],r=0;r<e.length;r++)n.push(b(t,r));return n}function w(e){return e&&(!!re.getAttrib(e.elm,"data-mce-selected")||e==u)}function C(){var e=[];return o(c.rows,(function(t){o(t.cells,(function(n){if(re.getAttrib(n,"data-mce-selected")||u&&n==u.elm)return e.push(t),!1}))})),e}function k(){var e=0;return o(Z,(function(t){if(o(t,(function(t){w(t)&&e++})),e)return!1})),e}function N(){var e=re.createRng();f(c)||(e.setStartAfter(c),e.setEndAfter(c),ne.setRng(e),re.remove(c))}function S(t){var i,a={};return!1!==l.settings.table_clone_elements&&(a=e.makeMap((l.settings.table_clone_elements||"strong em b i span font h1 h2 h3 h4 h5 h6 p div").toUpperCase(),/[ ,]/)),e.walk(t,(function(e){var r;if(3==e.nodeType)return o(re.getParents(e.parentNode,null,t).reverse(),(function(e){a[e.nodeName]&&(e=v(e,!1),i?r&&r.appendChild(e):i=r=e,r=e)})),r&&(r.innerHTML=n.ie&&n.ie<10?"&nbsp;":'<br data-mce-bogus="1" />'),!1}),"childNodes"),h(t=v(t,!1)),s(t,"rowSpan",1),s(t,"colSpan",1),i?t.appendChild(i):r.paddCell(t),t}function _(){var e,t=re.createRng();return o(re.select("tr",c),(function(e){0===e.cells.length&&re.remove(e)})),0===re.select("tr",c).length?(t.setStartBefore(c),t.setEndBefore(c),ne.setRng(t),void re.remove(c)):(o(re.select("thead,tbody,tfoot",c),(function(e){0===e.rows.length&&re.remove(e)})),g(),void(ee&&(e=Z[Math.min(Z.length-1,ee.y)],e&&(ne.select(e[Math.min(e.length-1,ee.x)].elm,!0),ne.collapse(!0)))))}function T(e,t,n,r){var i,o,a,s,l;for(i=Z[t][e].elm.parentNode,a=1;a<=n;a++)if(i=re.getNext(i,"tr")){for(o=e;o>=0;o--)if((l=Z[t+a][o].elm).parentNode==i){for(s=1;s<=r;s++)re.insertAfter(S(l),l);break}if(-1==o)for(s=1;s<=r;s++)i.insertBefore(S(i.cells[0]),i.cells[0])}}function E(){o(Z,(function(e,t){o(e,(function(e,n){var r,i,o;if(w(e)&&(e=e.elm,r=a(e,"colspan"),i=a(e,"rowspan"),r>1||i>1)){for(s(e,"rowSpan",1),s(e,"colSpan",1),o=0;o<r-1;o++)re.insertAfter(S(e),e);T(n,t,i-1,r)}}))}))}function R(e,t,n){for(var r=[],i=0;i<e.length;i++)(i<t||i>n)&&r.push(e[i]);return r}function A(t){return e.grep(t,(function(e){return!1===e.real}))}function B(e){for(var t=[],n=0;n<e.length;n++){var r=e[n].elm;t[t.length-1]!==r&&t.push(r)}return t}function P(t,n,i,o,a){var s=0;if(a-i<1)return 0;for(var l=i+1;l<=a;l++){var c=R(y(t,l),n,o),u=A(c);c.length===u.length&&(e.each(B(u),(function(e){r.setRowSpan(e,r.getRowSpan(e)-1)})),s++)}return s}function M(t,n,i,o,a){var s=0;if(o-n<1)return 0;for(var l=n+1;l<=o;l++){var c=R(x(t,l),i,a),u=A(c);c.length===u.length&&(e.each(B(u),(function(e){r.setColSpan(e,r.getColSpan(e)-1)})),s++)}return s}function D(t,n,r){var i,a,l,c,u,d,f,m,p,h,v,y,x;if(t?(c=(a=(i=q(t)).x)+(n-1),u=(l=i.y)+(r-1)):(ee=te=null,o(Z,(function(e,t){o(e,(function(e,n){w(e)&&(ee||(ee={x:n,y:t}),te={x:n,y:t})}))})),ee&&(a=ee.x,l=ee.y,c=te.x,u=te.y)),m=b(a,l),p=b(c,u),m&&p&&m.part==p.part){E(),g(),y=P(Z,a,l,c,u),x=M(Z,a,l,c,u),m=b(a,l).elm;var C=c-a-x+1,k=u-l-y+1;for(C===Q&&k===Z.length&&(C=1,k=1),C===Q&&k>1&&(k=1),s(m,"colSpan",C),s(m,"rowSpan",k),f=l;f<=u;f++)for(d=a;d<=c;d++)Z[f]&&Z[f][d]&&((t=Z[f][d].elm)!=m&&(h=e.grep(t.childNodes),o(h,(function(e){m.appendChild(e)})),h.length&&(h=e.grep(m.childNodes),v=0,o(h,(function(e){"BR"==e.nodeName&&v++<h.length-1&&m.removeChild(e)}))),re.remove(t)));_()}}function I(e){var n,r,i,l,c,u,d,f,m,g;if(o(Z,(function(r,i){if(o(r,(function(t){if(w(t)&&(t=t.elm,c=t.parentNode,u=p(v(c,!1)),n=i,e))return!1})),e)return n===t})),n!==t){for(l=0,g=0;l<Z[0].length;l+=g)if(Z[n][l]&&(r=Z[n][l].elm,g=a(r,"colspan"),r!=i)){if(e){if(n>0&&Z[n-1][l]&&(f=Z[n-1][l].elm,(m=a(f,"rowSpan"))>1)){s(f,"rowSpan",m+1);continue}}else if((m=a(r,"rowspan"))>1){s(r,"rowSpan",m+1);continue}d=S(r),s(d,"colSpan",r.colSpan),u.appendChild(d),i=r}u.hasChildNodes()&&(e?c.parentNode.insertBefore(u,c):re.insertAfter(u,c))}}function L(e,t){t=t||C().length||1;for(var n=0;n<t;n++)I(e)}function O(e){var n,r;o(Z,(function(r){if(o(r,(function(t,r){if(w(t)&&(n=r,e))return!1})),e)return n===t})),o(Z,(function(t,i){var o,l,c;t[n]&&((o=t[n].elm)!=r&&(c=a(o,"colspan"),l=a(o,"rowspan"),1==c?e?(o.parentNode.insertBefore(S(o),o),T(n,i,l-1,c)):(re.insertAfter(S(o),o),T(n,i,l-1,c)):s(o,"colSpan",o.colSpan+1),r=o))}))}function H(e,t){t=t||k()||1;for(var n=0;n<t;n++)O(e)}function F(t){return e.grep(z(t),w)}function z(e){var t=[];return o(e,(function(e){o(e,(function(e){t.push(e)}))})),t}function U(){var t=[];if(f(c)){if(1==Z[0].length)return;if(F(Z).length==z(Z).length)return}o(Z,(function(n){o(n,(function(n,r){w(n)&&-1===e.inArray(t,r)&&(o(Z,(function(e){var t,n=e[r].elm;(t=a(n,"colSpan"))>1?s(n,"colSpan",t-1):re.remove(n)})),t.push(r))}))})),_()}function W(){function e(e){var t,n;o(e.cells,(function(e){var n=a(e,"rowSpan");n>1&&(s(e,"rowSpan",n-1),T((t=q(e)).x,t.y,1,1))})),t=q(e.cells[0]),o(Z[t.y],(function(e){var t;(e=e.elm)!=n&&((t=a(e,"rowSpan"))<=1?re.remove(e):s(e,"rowSpan",t-1),n=e)}))}var t;t=C(),f(c)&&t.length==c.rows.length||(o(t.reverse(),(function(t){e(t)})),_())}function $(){var e=C();if(!f(c)||e.length!=c.rows.length)return re.remove(e),_(),e}function j(){var e=C();return o(e,(function(t,n){e[n]=v(t,!0)})),e}function V(t,n){var r,a,l;t&&(r=i.splitAt(Z,ee.x,ee.y,n),a=r.row,e.each(r.cells,h),l=e.map(t,(function(e){return e.cloneNode(!0)})),n||l.reverse(),o(l,(function(e){var t,r,i=e.cells.length;for(p(e),t=0;t<i;t++)h(r=e.cells[t]),s(r,"colSpan",1),s(r,"rowSpan",1);for(t=i;t<Q;t++)e.appendChild(h(S(e.cells[i-1])));for(t=Q;t<i;t++)re.remove(e.cells[t]);n?a.parentNode.insertBefore(e,a):re.insertAfter(e,a)})),d())}function q(e){var t;return o(Z,(function(n,r){return o(n,(function(n,i){if(n.elm==e)return t={x:i,y:r},!1})),!t})),t}function Y(e){ee=q(e)}function K(){var e,t;return e=t=0,o(Z,(function(n,r){o(n,(function(n,i){var o,a;w(n)&&(n=Z[r][i],i>e&&(e=i),r>t&&(t=r),n.real&&(o=n.colspan-1,a=n.rowspan-1,o&&i+o>e&&(e=i+o),a&&r+a>t&&(t=r+a)))}))})),{x:e,y:t}}function X(e){var t,n,r,i,o,a,s,l,c,u;if(te=q(e),ee&&te){for(t=Math.min(ee.x,te.x),n=Math.min(ee.y,te.y),o=r=Math.max(ee.x,te.x),a=i=Math.max(ee.y,te.y),u=n;u<=i;u++)for(c=t;c<=r;c++)(e=Z[u][c]).real&&((s=e.colspan-1)&&c+s>o&&(o=c+s),(l=e.rowspan-1)&&u+l>a&&(a=u+l));for(d(),u=n;u<=a;u++)for(c=t;c<=o;c++)Z[u][c]&&re.setAttrib(Z[u][c].elm,"data-mce-selected","1")}}function G(e,t){var n,r,i;r=(n=q(e)).y*Q+n.x;do{if(!(i=b((r+=t)%Q,Math.floor(r/Q))))break;if(i.elm!=e)return ne.select(i.elm,!0),re.isEmpty(i.elm)&&ne.collapse(!0),!0}while(i.elm==e);return!1}function J(t){if(ee){var n=i.splitAt(Z,ee.x,ee.y,t);e.each(n.cells,h)}}var Z,Q,ee,te,ne=l.selection,re=ne.dom;c=c||re.getParent(ne.getStart(!0),"table"),g(),(u=u||re.getParent(ne.getStart(!0),"th,td"))&&(ee=q(u),te=K(),u=b(ee.x,ee.y)),e.extend(this,{deleteTable:N,split:E,merge:D,insertRow:I,insertRows:L,insertCol:O,insertCols:H,splitCols:J,deleteCols:U,deleteRows:W,cutRows:$,copyRows:j,pasteRows:V,getPos:q,setStartCell:Y,setEndCell:X,moveRelIdx:G,refresh:g})}})),r("tinymce/tableplugin/Quirks",["tinymce/util/VK","tinymce/util/Delay","tinymce/Env","tinymce/util/Tools","tinymce/tableplugin/Utils"],(function(e,t,n,r,i){var o=r.each,a=i.getSpanVal;return function(s){function l(){function n(n){function r(e,t){var r=e?"previousSibling":"nextSibling",o=s.dom.getParent(t,"tr"),a=o[r];if(a)return v(s,t,a,e),n.preventDefault(),!0;var l=s.dom.getParent(o,"table"),d=o.parentNode,f=d.nodeName.toLowerCase();if("tbody"===f||f===(e?"tfoot":"thead")){var m=i(e,l,d,"tbody");if(null!==m)return c(e,m,t)}return u(e,o,r,l)}function i(e,t,n,r){var i=s.dom.select(">"+r,t),o=i.indexOf(n),a;return e&&0===o||!e&&o===i.length-1?l(e,t):-1===o?i["thead"===n.tagName.toLowerCase()?0:i.length-1]:i[o+(e?-1:1)]}function l(e,t){var n=e?"thead":"tfoot",r=s.dom.select(">"+n,t);return 0!==r.length?r[0]:null}function c(e,t,r){var i=d(t,e);return i&&v(s,r,i,e),n.preventDefault(),!0}function u(e,t,i,o){var a=o[i];if(a)return f(a),!0;var l=s.dom.getParent(o,"td,th"),c;return l?r(e,l,n):(f(d(t,!e)),n.preventDefault(),!1)}function d(e,t){var n=e&&e[t?"lastChild":"firstChild"];return n&&"BR"===n.nodeName?s.dom.getParent(n,"td,th"):n}function f(e){s.selection.setCursorLocation(e,0)}function m(){return x==e.UP||x==e.DOWN}function g(e){var t=e.selection.getNode(),n;return null!==e.dom.getParent(t,"tr")}function p(e){for(var t=0,n=e;n.previousSibling;)n=n.previousSibling,t+=a(n,"colspan");return t}function h(e,t){var n=0,r=0;return o(e.children,(function(e,i){if(n+=a(e,"colspan"),r=i,n>t)return!1})),r}function v(e,t,n,r){var i,o=h(n,p(s.dom.getParent(t,"td,th"))),a=n.childNodes[o],l;f(d(a,r)||a)}function b(e){var t=s.selection.getNode(),n=s.dom.getParent(t,"td,th"),r=s.dom.getParent(e,"td,th");return n&&n!==r&&y(n,r)}function y(e,t){return s.dom.getParent(e,"TABLE")===s.dom.getParent(t,"TABLE")}var x=n.keyCode;if(m()&&g(s)){var w=s.selection.getNode();t.setEditorTimeout(s,(function(){b(w)&&r(!n.shiftKey&&x===e.UP,w,n)}),0)}}s.on("KeyDown",(function(e){n(e)}))}function c(){function e(e,t){var n,r=t.ownerDocument,i=r.createRange();return i.setStartBefore(t),i.setEnd(e.endContainer,e.endOffset),(n=r.createElement("body")).appendChild(i.cloneContents()),0===n.innerHTML.replace(/<(br|img|object|embed|input|textarea)[^>]*>/gi,"-").replace(/<[^>]+>/g,"").length}s.on("KeyDown",(function(t){var n,r,i=s.dom;37!=t.keyCode&&38!=t.keyCode||(n=s.selection.getRng(),(r=i.getParent(n.startContainer,"table"))&&s.getBody().firstChild==r&&e(n,r)&&((n=i.createRng()).setStartBefore(r),n.setEndBefore(r),s.selection.setRng(n),t.preventDefault()))}))}function u(){s.on("KeyDown SetContent VisualAid",(function(){var e;for(e=s.getBody().lastChild;e;e=e.previousSibling)if(3==e.nodeType){if(e.nodeValue.length>0)break}else if(1==e.nodeType&&("BR"==e.tagName||!e.getAttribute("data-mce-bogus")))break;e&&"TABLE"==e.nodeName&&(s.settings.forced_root_block?s.dom.add(s.getBody(),s.settings.forced_root_block,s.settings.forced_root_block_attrs,n.ie&&n.ie<10?"&nbsp;":'<br data-mce-bogus="1" />'):s.dom.add(s.getBody(),"br",{"data-mce-bogus":"1"}))})),s.on("PreProcess",(function(e){var t=e.node.lastChild;t&&("BR"==t.nodeName||1==t.childNodes.length&&("BR"==t.firstChild.nodeName||""==t.firstChild.nodeValue))&&t.previousSibling&&"TABLE"==t.previousSibling.nodeName&&s.dom.remove(t)}))}function d(){function e(e,t,n,r){var i,o,a,s=3,l=e.dom.getParent(t.startContainer,"TABLE");return l&&(i=l.parentNode),o=3==t.startContainer.nodeType&&0===t.startOffset&&0===t.endOffset&&r&&("TR"==n.nodeName||n==i),a=("TD"==n.nodeName||"TH"==n.nodeName)&&!r,o||a}function t(){var t=s.selection.getRng(),n=s.selection.getNode(),r=s.dom.getParent(t.startContainer,"TD,TH");if(e(s,t,n,r)){r||(r=n);for(var i=r.lastChild;i.lastChild;)i=i.lastChild;3==i.nodeType&&(t.setEnd(i,i.data.length),s.selection.setRng(t))}}s.on("KeyDown",(function(){t()})),s.on("MouseDown",(function(e){2!=e.button&&t()}))}function f(){function t(e){s.selection.select(e,!0),s.selection.collapse(!0)}function n(e){s.$(e).empty(),i.paddCell(e)}s.on("keydown",(function(i){var o,a,l,c;if((i.keyCode==e.DELETE||i.keyCode==e.BACKSPACE)&&!i.isDefaultPrevented()&&(o=s.dom.getParent(s.selection.getStart(),"table"))){if(a=s.dom.select("td,th",o),0===(l=r.grep(a,(function(e){return!!s.dom.getAttrib(e,"data-mce-selected")}))).length)return c=s.dom.getParent(s.selection.getStart(),"td,th"),void(s.selection.isCollapsed()&&c&&s.dom.isEmpty(c)&&(i.preventDefault(),n(c),t(c)));i.preventDefault(),s.undoManager.transact((function(){a.length==l.length?s.execCommand("mceTableDelete"):(r.each(l,n),t(l[0]))}))}}))}function m(){var t=function(e){return e&&"CAPTION"==e.nodeName&&"TABLE"==e.parentNode.nodeName},r=function(e,t){var n=s.selection.getRng(),r=e.ownerDocument.createTextNode("");n.startOffset?e.insertBefore(r,e.firstChild):e.appendChild(r),t&&(s.selection.select(r,!0),s.selection.collapse(!0))},i=function(t){return(t.keyCode==e.DELETE||t.keyCode==e.BACKSPACE)&&!t.isDefaultPrevented()},o=function(e){return e.firstChild===e.lastChild&&e.firstChild},a=function(e){return e&&3===e.nodeType},l=function(e){var t=o(e);return a(t)&&1===t.data.length?t.data:null},c=function(e){var t=o(e),n=l(e);return t&&!a(t)||n&&!d(n)},u=function(e){return s.dom.isEmpty(e)||d(l(e))},d=function(e){return""===e};s.on("keydown",(function(e){if(i(e)){var o=s.dom.getParent(s.selection.getStart(),"caption");t(o)&&(n.ie&&(s.selection.isCollapsed()?c(o)&&r(o):(s.undoManager.transact((function(){s.execCommand("Delete"),u(o)&&r(o,!0)})),e.preventDefault())),u(o)&&e.preventDefault())}}))}f(),m(),n.webkit&&(l(),d()),n.gecko&&(c(),u()),n.ie>9&&(c(),u())}})),r("tinymce/tableplugin/CellSelection",["tinymce/tableplugin/TableGrid","tinymce/dom/TreeWalker","tinymce/util/Tools"],(function(e,t,n){return function(r,i){function o(e){r.getBody().style.webkitUserSelect="",(e||p)&&(r.$("td[data-mce-selected],th[data-mce-selected]").removeAttr("data-mce-selected"),p=!1)}function a(e,t){return!(!e||!t)&&e===g.getParent(t,"table")}function s(t){var n,o,s=t.target;if(!f&&!m&&s!==d&&(d=s,u&&c)){if(o=g.getParent(s,"td,th"),a(u,o)||(o=g.getParent(u,"td,th")),c===o&&!p)return;if(i(!0),a(u,o)){t.preventDefault(),l||(l=new e(r,u,c),r.getBody().style.webkitUserSelect="none"),l.setEndCell(o),p=!0,n=r.selection.getSel();try{n.removeAllRanges?n.removeAllRanges():n.empty()}catch(e){}}}}var l,c,u,d,f,m,g=r.dom,p=!0,h=function(){c=l=u=d=null,i(!1)};return r.on("SelectionChange",(function(e){p&&e.stopImmediatePropagation()}),!0),r.on("MouseDown",(function(e){2==e.button||f||m||(o(),c=g.getParent(e.target,"td,th"),u=g.getParent(c,"table"))})),r.on("mouseover",s),r.on("remove",(function(){g.unbind(r.getDoc(),"mouseover",s),o()})),r.on("MouseUp",(function(){function e(e,r){var o=new t(e,e);do{if(3==e.nodeType&&0!==n.trim(e.nodeValue).length)return void(r?i.setStart(e,0):i.setEnd(e,e.nodeValue.length));if("BR"==e.nodeName)return void(r?i.setStartBefore(e):i.setEndBefore(e))}while(e=r?o.next():o.prev())}var i,o,a,s,u,d=r.selection;if(c){if(l&&(r.getBody().style.webkitUserSelect=""),(o=g.select("td[data-mce-selected],th[data-mce-selected]")).length>0){i=g.createRng(),s=o[0],i.setStartBefore(s),i.setEndAfter(s),e(s,1),a=new t(s,g.getParent(o[0],"table"));do{if("TD"==s.nodeName||"TH"==s.nodeName){if(!g.getAttrib(s,"data-mce-selected"))break;u=s}}while(s=a.next());e(u),d.setRng(i)}r.nodeChanged(),h()}})),r.on("KeyUp Drop SetContent",(function(e){o("setcontent"==e.type),h(),f=!1})),r.on("ObjectResizeStart ObjectResized",(function(e){f="objectresized"!=e.type})),r.on("dragstart",(function(){m=!0})),r.on("drop dragend",(function(){m=!1})),{clear:o}}})),r("tinymce/tableplugin/Dialogs",["tinymce/util/Tools","tinymce/Env"],(function(e,t){var n=e.each;return function(r){function i(){var e=r.settings.color_picker_callback;if(e)return function(){var t=this;e.call(r,(function(e){t.value(e).fire("change")}),t.value())}}function o(e){return{title:"Advanced",type:"form",defaults:{onchange:function(){d(e,this.parents().reverse()[0],"style"==this.name())}},items:[{label:"Style",name:"style",type:"textbox"},{type:"form",padding:0,formItemDefaults:{layout:"grid",alignH:["start","right"]},defaults:{size:7},items:[{label:"Border color",type:"colorbox",name:"borderColor",onaction:i()},{label:"Background color",type:"colorbox",name:"backgroundColor",onaction:i()}]}]}}function a(e){return e?e.replace(/px$/,""):""}function s(e){return/^[0-9]+$/.test(e)&&(e+="px"),e}function l(e){n("left center right".split(" "),(function(t){r.formatter.remove("align"+t,{},e)}))}function c(e){n("top middle bottom".split(" "),(function(t){r.formatter.remove("valign"+t,{},e)}))}function u(t,n,r){function i(t,r){return r=r||[],e.each(t,(function(e){var t={text:e.text||e.title};e.menu?t.menu=i(e.menu):(t.value=e.value,n&&n(t)),r.push(t)})),r}return i(t,r||[])}function d(e,t,n){var r=t.toJSON(),i=e.parseStyle(r.style);n?(t.find("#borderColor").value(i["border-color"]||"")[0].fire("change"),t.find("#backgroundColor").value(i["background-color"]||"")[0].fire("change")):(i["border-color"]=r.borderColor,i["background-color"]=r.backgroundColor),t.find("#style").value(e.serializeStyle(e.parseStyle(e.serializeStyle(i))))}function f(e,t,n){var r=e.parseStyle(e.getAttrib(n,"style"));r["border-color"]&&(t.borderColor=r["border-color"]),r["background-color"]&&(t.backgroundColor=r["background-color"]),t.style=e.serializeStyle(r)}function m(e,t,r){var i=e.parseStyle(e.getAttrib(t,"style"));n(r,(function(e){i[e.name]=e.value})),e.setAttrib(t,"style",e.serializeStyle(e.parseStyle(e.serializeStyle(i))))}var g=this;g.tableProps=function(){g.table(!0)},g.table=function(i){function c(){function n(e,t,r){if("TD"===e.tagName||"TH"===e.tagName)w.setStyle(e,t,r);else if(e.children)for(var i=0;i<e.children.length;i++)n(e.children[i],t,r)}var i;d(w,this),!1===(C=e.extend(C,this.toJSON())).class&&delete C.class,r.undoManager.transact((function(){if(p||(p=r.plugins.table.insertTable(C.cols||1,C.rows||1)),r.dom.setAttribs(p,{style:C.style,class:C.class}),r.settings.table_style_by_css){if((x=[]).push({name:"border",value:C.border}),x.push({name:"border-spacing",value:s(C.cellspacing)}),m(w,p,x),w.setAttribs(p,{"data-mce-border-color":C.borderColor,"data-mce-cell-padding":C.cellpadding,"data-mce-border":C.border}),p.children)for(var e=0;e<p.children.length;e++)n(p.children[e],"border",C.border),n(p.children[e],"padding",s(C.cellpadding))}else r.dom.setAttribs(p,{border:C.border,cellpadding:C.cellpadding,cellspacing:C.cellspacing});w.getAttrib(p,"width")&&!r.settings.table_style_by_css?w.setAttrib(p,"width",a(C.width)):w.setStyle(p,"width",s(C.width)),w.setStyle(p,"height",s(C.height)),(i=w.select("caption",p)[0])&&!C.caption&&w.remove(i),!i&&C.caption&&((i=w.create("caption")).innerHTML=t.ie?"":'<br data-mce-bogus="1"/>',p.insertBefore(i,p.firstChild)),l(p),C.align&&r.formatter.apply("align"+C.align,{},p),r.focus(),r.addVisual()}))}function g(e,t){function n(e,n){for(var r=0;r<n.length;r++){var i=w.getStyle(n[r],t);if(void 0===e&&(e=i),e!=i)return""}return e}var i,o;return n(i,r.dom.select("td,th",e))}var p,h,v,b,y,x,w=r.dom,C={};!0===i?(p=w.getParent(r.selection.getStart(),"table"))&&(C={width:a(w.getStyle(p,"width")||w.getAttrib(p,"width")),height:a(w.getStyle(p,"height")||w.getAttrib(p,"height")),cellspacing:a(w.getStyle(p,"border-spacing")||w.getAttrib(p,"cellspacing")),cellpadding:w.getAttrib(p,"data-mce-cell-padding")||w.getAttrib(p,"cellpadding")||g(p,"padding"),border:w.getAttrib(p,"data-mce-border")||w.getAttrib(p,"border")||g(p,"border"),borderColor:w.getAttrib(p,"data-mce-border-color"),caption:!!w.select("caption",p)[0],class:w.getAttrib(p,"class")},n("left center right".split(" "),(function(e){r.formatter.matchNode(p,"align"+e)&&(C.align=e)}))):(h={label:"Cols",name:"cols"},v={label:"Rows",name:"rows"}),r.settings.table_class_list&&(C.class&&(C.class=C.class.replace(/\s*mce\-item\-table\s*/g,"")),b={name:"class",type:"listbox",label:"Class",values:u(r.settings.table_class_list,(function(e){e.value&&(e.textStyle=function(){return r.formatter.getCssText({block:"table",classes:[e.value]})})}))}),y={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",labelGapCalc:!1,padding:0,layout:"grid",columns:2,defaults:{type:"textbox",maxWidth:50},items:!1!==r.settings.table_appearance_options?[h,v,{label:"Width",name:"width"},{label:"Height",name:"height"},{label:"Cell spacing",name:"cellspacing"},{label:"Cell padding",name:"cellpadding"},{label:"Border",name:"border"},{label:"Caption",name:"caption",type:"checkbox"}]:[h,v,{label:"Width",name:"width"},{label:"Height",name:"height"}]},{label:"Alignment",name:"align",type:"listbox",text:"None",values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},b]},!1!==r.settings.table_advtab?(f(w,C,p),r.windowManager.open({title:"Table properties",data:C,bodyType:"tabpanel",body:[{title:"General",type:"form",items:y},o(w)],onsubmit:c})):r.windowManager.open({title:"Table properties",data:C,body:y,onsubmit:c})},g.merge=function(e,t){r.windowManager.open({title:"Merge cells",body:[{label:"Cols",name:"cols",type:"textbox",value:"1",size:10},{label:"Rows",name:"rows",type:"textbox",value:"1",size:10}],onsubmit:function(){var n=this.toJSON();r.undoManager.transact((function(){e.merge(t,n.cols,n.rows)}))}})},g.cell=function(){function t(e,t,n){(1===b.length||n)&&v.setAttrib(e,t,n)}function i(e,t,n){(1===b.length||n)&&v.setStyle(e,t,n)}function m(){d(v,this),p=e.extend(p,this.toJSON()),r.undoManager.transact((function(){n(b,(function(e){t(e,"scope",p.scope),t(e,"style",p.style),t(e,"class",p.class),i(e,"width",s(p.width)),i(e,"height",s(p.height)),p.type&&e.nodeName.toLowerCase()!==p.type&&(e=v.rename(e,p.type)),1===b.length&&(l(e),c(e)),p.align&&r.formatter.apply("align"+p.align,{},e),p.valign&&r.formatter.apply("valign"+p.valign,{},e)})),r.focus()}))}var g,p,h,v=r.dom,b=[];if(b=r.dom.select("td[data-mce-selected],th[data-mce-selected]"),g=r.dom.getParent(r.selection.getStart(),"td,th"),!b.length&&g&&b.push(g),g=g||b[0]){b.length>1?p={width:"",height:"",scope:"",class:"",align:"",style:"",type:g.nodeName.toLowerCase()}:((p={width:a(v.getStyle(g,"width")||v.getAttrib(g,"width")),height:a(v.getStyle(g,"height")||v.getAttrib(g,"height")),scope:v.getAttrib(g,"scope"),class:v.getAttrib(g,"class")}).type=g.nodeName.toLowerCase(),n("left center right".split(" "),(function(e){r.formatter.matchNode(g,"align"+e)&&(p.align=e)})),n("top middle bottom".split(" "),(function(e){r.formatter.matchNode(g,"valign"+e)&&(p.valign=e)})),f(v,p,g)),r.settings.table_cell_class_list&&(h={name:"class",type:"listbox",label:"Class",values:u(r.settings.table_cell_class_list,(function(e){e.value&&(e.textStyle=function(){return r.formatter.getCssText({block:"td",classes:[e.value]})})}))});var y={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",layout:"grid",columns:2,labelGapCalc:!1,padding:0,defaults:{type:"textbox",maxWidth:50},items:[{label:"Width",name:"width"},{label:"Height",name:"height"},{label:"Cell type",name:"type",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{label:"Scope",name:"scope",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{label:"H Align",name:"align",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"V Align",name:"valign",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}]}]},h]};!1!==r.settings.table_cell_advtab?r.windowManager.open({title:"Cell properties",bodyType:"tabpanel",data:p,body:[{title:"General",type:"form",items:y},o(v)],onsubmit:m}):r.windowManager.open({title:"Cell properties",data:p,body:y,onsubmit:m})}},g.row=function(){function t(e,t,n){(1===x.length||n)&&y.setAttrib(e,t,n)}function i(e,t,n){(1===x.length||n)&&y.setStyle(e,t,n)}function c(){var o,a,c;d(y,this),v=e.extend(v,this.toJSON()),r.undoManager.transact((function(){var e=v.type;n(x,(function(n){t(n,"scope",v.scope),t(n,"style",v.style),t(n,"class",v.class),i(n,"height",s(v.height)),e!==n.parentNode.nodeName.toLowerCase()&&(o=y.getParent(n,"table"),a=n.parentNode,(c=y.select(e,o)[0])||(c=y.create(e),o.firstChild?o.insertBefore(c,o.firstChild):o.appendChild(c)),c.appendChild(n),a.hasChildNodes()||y.remove(a)),1===x.length&&l(n),v.align&&r.formatter.apply("align"+v.align,{},n)})),r.focus()}))}var m,g,p,h,v,b,y=r.dom,x=[];m=r.dom.getParent(r.selection.getStart(),"table"),g=r.dom.getParent(r.selection.getStart(),"td,th"),n(m.rows,(function(e){n(e.cells,(function(t){if(y.getAttrib(t,"data-mce-selected")||t==g)return x.push(e),!1}))})),(p=x[0])&&(x.length>1?v={height:"",scope:"",class:"",align:"",type:p.parentNode.nodeName.toLowerCase()}:((v={height:a(y.getStyle(p,"height")||y.getAttrib(p,"height")),scope:y.getAttrib(p,"scope"),class:y.getAttrib(p,"class")}).type=p.parentNode.nodeName.toLowerCase(),n("left center right".split(" "),(function(e){r.formatter.matchNode(p,"align"+e)&&(v.align=e)})),f(y,v,p)),r.settings.table_row_class_list&&(h={name:"class",type:"listbox",label:"Class",values:u(r.settings.table_row_class_list,(function(e){e.value&&(e.textStyle=function(){return r.formatter.getCssText({block:"tr",classes:[e.value]})})}))}),b={type:"form",columns:2,padding:0,defaults:{type:"textbox"},items:[{type:"listbox",name:"type",label:"Row type",text:"Header",maxWidth:null,values:[{text:"Header",value:"thead"},{text:"Body",value:"tbody"},{text:"Footer",value:"tfoot"}]},{type:"listbox",name:"align",label:"Alignment",text:"None",maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height"},h]},!1!==r.settings.table_row_advtab?r.windowManager.open({title:"Row properties",data:v,bodyType:"tabpanel",body:[{title:"General",type:"form",items:b},o(y)],onsubmit:c}):r.windowManager.open({title:"Row properties",data:v,body:b,onsubmit:c}))}}})),r("tinymce/tableplugin/ResizeBars",["tinymce/util/Tools","tinymce/util/VK"],(function(e,n){var r;return function(i){function o(e,t){return{index:e,y:i.dom.getPos(t).y}}function a(e,t){return{index:e,y:i.dom.getPos(t).y+t.offsetHeight}}function s(e,t){return{index:e,x:i.dom.getPos(t).x}}function l(e,t){return{index:e,x:i.dom.getPos(t).x+t.offsetWidth}}function c(){var e;return"rtl"===i.getBody().dir}function u(){return i.inline}function d(){return u?i.getBody().ownerDocument.body:i.getBody()}function f(e,t){return c()?l(e,t):s(e,t)}function m(e,t){return c()?s(e,t):l(e,t)}function g(e,t){return p(e,"width")/p(t,"width")*100}function p(e,t){var n=i.dom.getStyle(e,t,!0),r;return parseInt(n,10)}function h(e){var t,n;return p(e,"width")/p(e.parentElement,"width")*100}function v(e,t){var n;return t/p(e,"width")*100}function b(e,t){var n;return t/p(e.parentElement,"width")*100}function y(e,t,n){for(var r=[],i=1;i<n.length;i++){var o=n[i].element;r.push(e(i-1,o))}var a=n[n.length-1];return r.push(t(n.length-1,a.element)),r}function x(){var t=i.dom.select("."+fe,d());e.each(t,(function(e){i.dom.remove(e)}))}function w(e){x(),B(e)}function C(e,t,n,r,i,o,a,s){var l={"data-mce-bogus":"all",class:fe+" "+e,unselectable:"on","data-mce-resize":!1,style:"cursor: "+t+"; margin: 0; padding: 0; position: absolute; left: "+n+"px; top: "+r+"px; height: "+i+"px; width: "+o+"px; "};return l[a]=s,l}function k(t,n,r){e.each(t,(function(e){var t=r.x,o=e.y-we/2,a=we,s=n;i.dom.add(d(),"div",C(me,ge,t,o,a,s,pe,e.index))}))}function N(t,n,r){e.each(t,(function(e){var t=e.x-we/2,o=r.y,a=n,s=we;i.dom.add(d(),"div",C(ve,be,t,o,a,s,ye,e.index))}))}function S(t){return e.map(t.rows,(function(t){var n;return{element:t,cells:e.map(t.cells,(function(e){var t=e.hasAttribute("rowspan")?parseInt(e.getAttribute("rowspan"),10):1,n=e.hasAttribute("colspan")?parseInt(e.getAttribute("colspan"),10):1;return{element:e,rowspan:t,colspan:n}}))}}))}function _(n){function r(e,t){return e+","+t}function i(e,t){return s[r(e,t)]}function o(){var t=[];return e.each(l,(function(e){t=t.concat(e.cells)})),t}function a(){return l}var s={},l=[],c=0,u=0;return e.each(n,(function(n,i){var o=[];e.each(n.cells,(function(e){for(var n=0;s[r(i,n)]!==t;)n++;for(var a={element:e.element,colspan:e.colspan,rowspan:e.rowspan,rowIndex:i,colIndex:n},l=0;l<e.colspan;l++)for(var d=0;d<e.rowspan;d++){var f=i+d,m=n+l;s[r(f,m)]=a,c=Math.max(c,f+1),u=Math.max(u,m+1)}o.push(a)})),l.push({element:n.element,cells:o})})),{grid:{maxRows:c,maxCols:u},getAt:i,getAllCells:o,getAllRows:a}}function T(e,t){for(var n=[],r=e;r<t;r++)n.push(r);return n}function E(e,t,n){for(var r,i=e(),o=0;o<i.length;o++)t(i[o])&&(r=i[o]);return r||n()}function R(t){var n=T(0,t.grid.maxCols),r=T(0,t.grid.maxRows);return e.map(n,(function(e){function n(){for(var n=[],i=0;i<r.length;i++){var o=t.getAt(i,e);o&&o.colIndex===e&&n.push(o)}return n}function i(e){return 1===e.colspan}function o(){for(var n,i=0;i<r.length;i++)if(n=t.getAt(i,e))return n;return null}return E(n,i,o)}))}function A(t){var n=T(0,t.grid.maxCols),r=T(0,t.grid.maxRows);return e.map(r,(function(e){function r(){for(var r=[],i=0;i<n.length;i++){var o=t.getAt(e,i);o&&o.rowIndex===e&&r.push(o)}return r}function i(e){return 1===e.rowspan}function o(){return t.getAt(e,0)}return E(r,i,o)}))}function B(e){var t,n=_(S(e)),r=A(n),s=R(n),l=i.dom.getPos(e),c=r.length>0?y(o,a,r):[],u=s.length>0?y(f,m,s):[];k(c,e.offsetWidth,l),N(u,e.offsetHeight,l)}function P(e,t,n,r){if(t<0||t>=e.length-1)return"";var i=e[t];if(i)i={value:i,delta:0};else for(var o=e.slice(0,t).reverse(),a=0;a<o.length;a++)o[a]&&(i={value:o[a],delta:a+1});var s=e[t+1];if(s)s={value:s,delta:1};else for(var l=e.slice(t+1),c=0;c<l.length;c++)l[c]&&(s={value:l[c],delta:c+1});var u=s.delta-i.delta,d=Math.abs(s.value-i.value)/u;return n?d/p(r,"width")*100:d}function M(e,t){var n=i.dom.getStyle(e,t);return n||(n=i.dom.getAttrib(e,t)),n||(n=i.dom.getStyle(e,t,!0)),n}function D(e,t,n){var r=M(e,"width"),i=parseInt(r,10),o=t?g(e,n):p(e,"width");return(t&&!$(r)||!t&&!j(r))&&(i=0),!isNaN(i)&&i>0?i:o}function I(t,n,r){for(var i=R(t),o=e.map(i,(function(e){return f(e.colIndex,e.element).x})),a=[],s=0;s<i.length;s++){var l,c=(i[s].element.hasAttribute("colspan")?parseInt(i[s].element.getAttribute("colspan"),10):1)>1?P(o,s):D(i[s].element,n,r);c=c||Ce,a.push(c)}return a}function L(e){var t=M(e,"height"),n=parseInt(t,10);return $(t)&&(n=0),!isNaN(n)&&n>0?n:p(e,"height")}function O(t){for(var n=A(t),r=e.map(n,(function(e){return o(e.rowIndex,e.element).y})),i=[],a=0;a<n.length;a++){var s,l=(n[a].element.hasAttribute("rowspan")?parseInt(n[a].element.getAttribute("rowspan"),10):1)>1?P(r,a):L(n[a].element);l=l||ke,i.push(l)}return i}function H(t,n,r,i,o){function a(t){return e.map(t,(function(){return 0}))}function s(){var e,t;o?e=[100-d[0]]:e=[Math.max(i,d[0]+r)-d[0]];return e}function l(e,t){var n,o=a(d.slice(0,e)),s=a(d.slice(t+1));if(r>=0){var l=Math.max(i,d[t]-r);n=o.concat([r,l-d[t]]).concat(s)}else{var c=Math.max(i,d[e]+r),u=d[e]-c;n=o.concat([c-d[e],u]).concat(s)}return n}function c(e,t){var n,o=a(d.slice(0,t));if(r>=0)n=o.concat([r]);else{var s=Math.max(i,d[t]+r);n=o.concat([s-d[t]])}return n}var u,d=t.slice(0);return 0===t.length?[]:1===t.length?s():0===n?l(0,1):n>0&&n<t.length-1?l(n,n+1):n===t.length-1?c(n-1,n):[]}function F(e,t,n){for(var r=0,i=e;i<t;i++)r+=n[i];return r}function z(t,n){var r=t.getAllCells();return e.map(r,(function(e){var t=F(e.colIndex,e.colIndex+e.colspan,n);return{element:e.element,width:t,colspan:e.colspan}}))}function U(t,n){var r=t.getAllCells();return e.map(r,(function(e){var t=F(e.rowIndex,e.rowIndex+e.rowspan,n);return{element:e.element,height:t,rowspan:e.rowspan}}))}function W(t,n){var r=t.getAllRows();return e.map(r,(function(e,t){return{element:e.element,height:n[t]}}))}function $(e){return Se.test(e)}function j(e){return _e.test(e)}function V(t,n,r){function o(t,n){e.each(t,(function(e){i.dom.setStyle(e.element,"width",e.width+n),i.dom.setAttrib(e.element,"width",null)}))}function a(){return r<u.grid.maxCols-1?h(t):h(t)+b(t,n)}function s(){return r<u.grid.maxCols-1?p(t,"width"):p(t,"width")+n}function l(e,n,o){r!=u.grid.maxCols-1&&o||(i.dom.setStyle(t,"width",e+n),i.dom.setAttrib(t,"width",null))}for(var c,u=_(S(t)),d=$(t.width)||$(t.style.width),f=I(u,d,t),m=d?v(t,n):n,g=H(f,r,m,Ce,d,t),y=[],x=0;x<g.length;x++)y.push(g[x]+f[x]);var w=z(u,y),C=d?"%":"px",k=d?a():s();i.undoManager.transact((function(){o(w,C),l(k,C,d)}))}function q(t,n,r){for(var o,a=_(S(t)),s=O(a),l=[],c=0,u=0;u<s.length;u++)l.push(u===r?n+s[u]:s[u]),c+=c[u];var d=U(a,l),f=W(a,l);i.undoManager.transact((function(){e.each(f,(function(e){i.dom.setStyle(e.element,"height",e.height+"px"),i.dom.setAttrib(e.element,"height",null)})),e.each(d,(function(e){i.dom.setStyle(e.element,"height",e.height+"px"),i.dom.setAttrib(e.element,"height",null)})),i.dom.setStyle(t,"height",c+"px"),i.dom.setAttrib(t,"height",null)}))}function Y(){ae=setTimeout((function(){J()}),200)}function K(){clearTimeout(ae)}function X(){var e=document.createElement("div");return e.setAttribute("style","margin: 0; padding: 0; position: fixed; left: 0px; top: 0px; height: 100%; width: 100%;"),e.setAttribute("data-mce-bogus","all"),e}function G(e,t){i.dom.bind(e,"mouseup",(function(){J()})),i.dom.bind(e,"mousemove",(function(e){K(),se&&t(e)})),i.dom.bind(e,"mouseout",(function(){Y()}))}function J(){if(i.dom.remove(le),se){var e,t;if(i.dom.removeClass(ce,Ne),se=!1,Q(ce)){var n=parseInt(i.dom.getAttrib(ce,xe),10),o=i.dom.getPos(ce).x;e=parseInt(i.dom.getAttrib(ce,ye),10),t=c()?n-o:o-n,Math.abs(t)>=1&&V(r,t,e)}else if(ee(ce)){var a=parseInt(i.dom.getAttrib(ce,he),10),s=i.dom.getPos(ce).y;e=parseInt(i.dom.getAttrib(ce,pe),10),t=s-a,Math.abs(t)>=1&&q(r,t,e)}w(r),i.nodeChanged()}}function Z(e,t){le=le||X(),se=!0,i.dom.addClass(e,Ne),ce=e,G(le,t),i.dom.add(d(),le)}function Q(e){return i.dom.hasClass(e,ve)}function ee(e){return i.dom.hasClass(e,me)}function te(e){ue=ue!==t?ue:e.clientX;var n=e.clientX-ue;ue=e.clientX;var r=i.dom.getPos(ce).x;i.dom.setStyle(ce,"left",r+n+"px")}function ne(e){de=de!==t?de:e.clientY;var n=e.clientY-de;de=e.clientY;var r=i.dom.getPos(ce).y;i.dom.setStyle(ce,"top",r+n+"px")}function re(e){ue=t,Z(e,te)}function ie(e){de=t,Z(e,ne)}function oe(e){var t=e.target,n=i.getBody();if(i.$.contains(n,r)||r===n)if(Q(t)){e.preventDefault();var o=i.dom.getPos(t).x;i.dom.setAttrib(t,xe,o),re(t)}else if(ee(t)){e.preventDefault();var a=i.dom.getPos(t).y;i.dom.setAttrib(t,he,a),ie(t)}else x()}var ae,se,le,ce,ue,de,fe="mce-resize-bar",me="mce-resize-bar-row",ge="row-resize",pe="data-row",he="data-initial-top",ve="mce-resize-bar-col",be="col-resize",ye="data-col",xe="data-initial-left",we=4,Ce=10,ke=10,Ne="mce-resize-bar-dragging",Se=new RegExp(/(\d+(\.\d+)?%)/),_e=new RegExp(/px|em/);return i.on("init",(function(){i.dom.bind(d(),"mousedown",oe)})),i.on("ObjectResized",(function(t){var n=t.target;if("TABLE"===n.nodeName){var r=[];e.each(n.rows,(function(t){e.each(t.cells,(function(e){var t=i.dom.getStyle(e,"width",!0);r.push({cell:e,width:t})}))})),e.each(r,(function(e){i.dom.setStyle(e.cell,"width",e.width),i.dom.setAttrib(e.cell,"width",null)}))}})),i.on("mouseover",(function(e){if(!se){var t=i.dom.getParent(e.target,"table");("TABLE"===e.target.nodeName||t)&&(r=t,w(t))}})),i.on("keydown",(function(e){switch(e.keyCode){case n.LEFT:case n.RIGHT:case n.UP:case n.DOWN:x()}})),i.on("remove",(function(){x(),i.dom.unbind(d(),"mousedown",oe)})),{adjustWidth:V,adjustHeight:q,clearBars:x,drawBars:B,determineDeltas:H,getTableGrid:_,getTableDetails:S,getWidths:I,getPixelHeights:O,isPercentageBasedSize:$,isPixelBasedSize:j,recalculateWidths:z,recalculateCellHeights:U,recalculateRowHeights:W}}})),r("tinymce/tableplugin/Plugin",["tinymce/tableplugin/TableGrid","tinymce/tableplugin/Quirks","tinymce/tableplugin/CellSelection","tinymce/tableplugin/Dialogs","tinymce/tableplugin/ResizeBars","tinymce/util/Tools","tinymce/dom/TreeWalker","tinymce/Env","tinymce/PluginManager"],(function(e,t,n,r,i,o,a,s,l){function c(o){function a(e){return function(){o.execCommand(e)}}function l(e,t){var n,r,i,a;for(i='<table id="__mce"><tbody>',n=0;n<t;n++){for(i+="<tr>",r=0;r<e;r++)i+="<td>"+(s.ie&&s.ie<10?"&nbsp;":"<br>")+"</td>";i+="</tr>"}return i+="</tbody></table>",o.undoManager.transact((function(){o.insertContent(i),a=o.dom.get("__mce"),o.dom.setAttrib(a,"id",null),o.$("tr",a).each((function(e,t){o.fire("newrow",{node:t}),o.$("th,td",t).each((function(e,t){o.fire("newcell",{node:t})}))})),o.dom.setAttribs(a,o.settings.table_default_attributes||{}),o.dom.setStyles(a,o.settings.table_default_styles||{})})),a}function c(e,t,n){function r(){var r,i,a,s={},l=0;(r=(i=o.dom.select("td[data-mce-selected],th[data-mce-selected]"))[0])||(r=o.selection.getStart()),n&&i.length>0?(u(i,(function(e){return s[e.parentNode.parentNode.nodeName]=1})),u(s,(function(e){l+=e})),a=1!==l):a=!o.dom.getParent(r,t),e.disabled(a),o.selection.selectorChanged(t,(function(t){e.disabled(!t)}))}o.initialized?r():o.on("init",r)}function d(){c(this,"table")}function f(){c(this,"td,th")}function m(){c(this,"td,th",!0)}function g(){var e="";e='<table role="grid" class="mce-grid mce-grid-border" aria-readonly="true">';for(var t=0;t<10;t++){e+="<tr>";for(var n=0;n<10;n++)e+='<td role="gridcell" tabindex="-1"><a id="mcegrid'+(10*t+n)+'" href="#" data-mce-x="'+n+'" data-mce-y="'+t+'"></a></td>';e+="</tr>"}return(e+="</table>")+'<div class="mce-text-center" role="presentation">1 x 1</div>'}function p(e,t,n){var r,i,a,s,l,c=n.getEl().getElementsByTagName("table")[0],u=n.isRtl()||"tl-tr"==n.parent().rel;for(c.nextSibling.innerHTML=e+1+" x "+(t+1),u&&(e=9-e),i=0;i<10;i++)for(r=0;r<10;r++)s=c.rows[i].childNodes[r].firstChild,l=(u?r>=e:r<=e)&&i<=t,o.dom.toggleClass(s,"mce-active",l),l&&(a=s);return a.parentNode}function h(){o.addButton("tableprops",{title:"Table properties",onclick:N.tableProps,icon:"table"}),o.addButton("tabledelete",{title:"Delete table",onclick:a("mceTableDelete")}),o.addButton("tablecellprops",{title:"Cell properties",onclick:a("mceTableCellProps")}),o.addButton("tablemergecells",{title:"Merge cells",onclick:a("mceTableMergeCells")}),o.addButton("tablesplitcells",{title:"Split cell",onclick:a("mceTableSplitCells")}),o.addButton("tableinsertrowbefore",{title:"Insert row before",onclick:a("mceTableInsertRowBefore")}),o.addButton("tableinsertrowafter",{title:"Insert row after",onclick:a("mceTableInsertRowAfter")}),o.addButton("tabledeleterow",{title:"Delete row",onclick:a("mceTableDeleteRow")}),o.addButton("tablerowprops",{title:"Row properties",onclick:a("mceTableRowProps")}),o.addButton("tablecutrow",{title:"Cut row",onclick:a("mceTableCutRow")}),o.addButton("tablecopyrow",{title:"Copy row",onclick:a("mceTableCopyRow")}),o.addButton("tablepasterowbefore",{title:"Paste row before",onclick:a("mceTablePasteRowBefore")}),o.addButton("tablepasterowafter",{title:"Paste row after",onclick:a("mceTablePasteRowAfter")}),o.addButton("tableinsertcolbefore",{title:"Insert column before",onclick:a("mceTableInsertColBefore")}),o.addButton("tableinsertcolafter",{title:"Insert column after",onclick:a("mceTableInsertColAfter")}),o.addButton("tabledeletecol",{title:"Delete column",onclick:a("mceTableDeleteCol")})}function v(e){var t;return o.dom.is(e,"table")&&o.getBody().contains(e)}function b(){var e=o.settings.table_toolbar;""!==e&&!1!==e&&(e||(e="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol"),o.addContextToolbar(v,e))}function y(){return w}function x(e){w=e}var w,C,k=this,N=new r(o);!o.settings.object_resizing||!1===o.settings.table_resize_bars||!0!==o.settings.object_resizing&&"table"!==o.settings.object_resizing||(C=i(o)),!1===o.settings.table_grid?o.addMenuItem("inserttable",{text:"Table",icon:"table",context:"table",onclick:N.table}):o.addMenuItem("inserttable",{text:"Table",icon:"table",context:"table",ariaHideMenu:!0,onclick:function(e){e.aria&&(this.parent().hideAll(),e.stopImmediatePropagation(),N.table())},onshow:function(){p(0,0,this.menu.items()[0])},onhide:function(){var e=this.menu.items()[0].getEl().getElementsByTagName("a");o.dom.removeClass(e,"mce-active"),o.dom.addClass(e[0],"mce-active")},menu:[{type:"container",html:g(),onPostRender:function(){this.lastX=this.lastY=0},onmousemove:function(e){var t,n,r=e.target;"A"==r.tagName.toUpperCase()&&(t=parseInt(r.getAttribute("data-mce-x"),10),n=parseInt(r.getAttribute("data-mce-y"),10),(this.isRtl()||"tl-tr"==this.parent().rel)&&(t=9-t),t===this.lastX&&n===this.lastY||(p(t,n,e.control),this.lastX=t,this.lastY=n))},onclick:function(e){var t=this;"A"==e.target.tagName.toUpperCase()&&(e.preventDefault(),e.stopPropagation(),t.parent().cancel(),o.undoManager.transact((function(){l(t.lastX+1,t.lastY+1)})),o.addVisual())}}]}),o.addMenuItem("tableprops",{text:"Table properties",context:"table",onPostRender:d,onclick:N.tableProps}),o.addMenuItem("deletetable",{text:"Delete table",context:"table",onPostRender:d,cmd:"mceTableDelete"}),o.addMenuItem("cell",{separator:"before",text:"Cell",context:"table",menu:[{text:"Cell properties",onclick:a("mceTableCellProps"),onPostRender:f},{text:"Merge cells",onclick:a("mceTableMergeCells"),onPostRender:m},{text:"Split cell",onclick:a("mceTableSplitCells"),onPostRender:f}]}),o.addMenuItem("row",{text:"Row",context:"table",menu:[{text:"Insert row before",onclick:a("mceTableInsertRowBefore"),onPostRender:f},{text:"Insert row after",onclick:a("mceTableInsertRowAfter"),onPostRender:f},{text:"Delete row",onclick:a("mceTableDeleteRow"),onPostRender:f},{text:"Row properties",onclick:a("mceTableRowProps"),onPostRender:f},{text:"-"},{text:"Cut row",onclick:a("mceTableCutRow"),onPostRender:f},{text:"Copy row",onclick:a("mceTableCopyRow"),onPostRender:f},{text:"Paste row before",onclick:a("mceTablePasteRowBefore"),onPostRender:f},{text:"Paste row after",onclick:a("mceTablePasteRowAfter"),onPostRender:f}]}),o.addMenuItem("column",{text:"Column",context:"table",menu:[{text:"Insert column before",onclick:a("mceTableInsertColBefore"),onPostRender:f},{text:"Insert column after",onclick:a("mceTableInsertColAfter"),onPostRender:f},{text:"Delete column",onclick:a("mceTableDeleteCol"),onPostRender:f}]});var S=[];u("inserttable tableprops deletetable | cell row column".split(" "),(function(e){"|"==e?S.push({text:"-"}):S.push(o.menuItems[e])})),o.addButton("table",{type:"menubutton",title:"Table",menu:S}),s.isIE||o.on("click",(function(e){"TABLE"===(e=e.target).nodeName&&(o.selection.select(e),o.nodeChanged())})),k.quirks=new t(o),o.on("Init",(function(){k.cellSelection=new n(o,(function(e){e&&C&&C.clearBars()})),k.resizeBars=C})),o.on("PreInit",(function(){o.serializer.addAttributeFilter("data-mce-cell-padding,data-mce-border,data-mce-border-color",(function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}))})),u({mceTableSplitCells:function(e){e.split()},mceTableMergeCells:function(e){var t;t=o.dom.getParent(o.selection.getStart(),"th,td"),o.dom.select("td[data-mce-selected],th[data-mce-selected]").length?e.merge():N.merge(e,t)},mceTableInsertRowBefore:function(e){e.insertRows(!0)},mceTableInsertRowAfter:function(e){e.insertRows()},mceTableInsertColBefore:function(e){e.insertCols(!0)},mceTableInsertColAfter:function(e){e.insertCols()},mceTableDeleteCol:function(e){e.deleteCols()},mceTableDeleteRow:function(e){e.deleteRows()},mceTableCutRow:function(e){w=e.cutRows()},mceTableCopyRow:function(e){w=e.copyRows()},mceTablePasteRowBefore:function(e){e.pasteRows(w,!0)},mceTablePasteRowAfter:function(e){e.pasteRows(w)},mceSplitColsBefore:function(e){e.splitCols(!0)},mceSplitColsAfter:function(e){e.splitCols(!1)},mceTableDelete:function(e){C&&C.clearBars(),e.deleteTable()}},(function(t,n){o.addCommand(n,(function(){var n=new e(o);n&&(t(n),o.execCommand("mceRepaint"),k.cellSelection.clear())}))})),u({mceInsertTable:N.table,mceTableProps:function(){N.table(!0)},mceTableRowProps:N.row,mceTableCellProps:N.cell},(function(e,t){o.addCommand(t,(function(t,n){e(n)}))})),h(),b(),!1!==o.settings.table_tab_navigation&&o.on("keydown",(function(t){var n,r,i;9==t.keyCode&&((n=o.dom.getParent(o.selection.getStart(),"th,td"))&&(t.preventDefault(),r=new e(o),i=t.shiftKey?-1:1,o.undoManager.transact((function(){!r.moveRelIdx(n,i)&&i>0&&(r.insertRow(),r.refresh(),r.moveRelIdx(n,i))}))))})),k.insertTable=l,k.setClipboardRows=x,k.getClipboardRows=y}var u=o.each;l.add("table",c)}))}(window)}.call(this),function(){tinymce.PluginManager.add("textpattern",(function(e){function t(){return c&&(l.sort((function(e,t){return e.start.length>t.start.length?-1:e.start.length<t.start.length?1:0})),c=!1),l}function n(e){for(var n=t(),r=0;r<n.length;r++)if(0===e.indexOf(n[r].start)&&(!n[r].end||e.lastIndexOf(n[r].end)==e.length-n[r].end.length))return n[r]}function r(e,n,r){var i,o,a;for(i=t(),a=0;a<i.length;a++)if((o=i[a]).end&&e.substr(n-o.end.length-r,o.end.length)==o.end)return o}function i(t){function i(){(l=l.splitText(u)).splitText(c-u-g),l.deleteData(0,m.start.length),l.deleteData(l.data.length-m.end.length,m.end.length)}var o,a,s,l,c,u,d,f,m,g,p;if(o=e.selection,a=e.dom,o.isCollapsed()&&(s=o.getRng(!0),l=s.startContainer,c=s.startOffset,d=l.data,g=t?1:0,3==l.nodeType&&((m=r(d,c,g))&&(u=Math.max(0,c-g),-1!==(u=d.lastIndexOf(m.start,u-m.end.length-1))&&((f=a.createRng()).setStart(l,u),f.setEnd(l,c-g),(m=n(f.toString()))&&m.end&&!(l.data.length<=m.start.length+m.end.length))))))return(p=e.formatter.get(m.format))&&p[0].inline?(i(),e.formatter.apply(m.format,{},l),l):void 0}function o(){var t,r,i,o,a,s,l,c,u,d,f;if(t=e.selection,r=e.dom,t.isCollapsed()&&(l=r.getParent(t.getStart(),"p"))){for(u=new tinymce.dom.TreeWalker(l,l);a=u.next();)if(3==a.nodeType){o=a;break}if(o){if(!(c=n(o.data)))return;if(i=(d=t.getRng(!0)).startContainer,f=d.startOffset,o==i&&(f=Math.max(0,f-c.start.length)),tinymce.trim(o.data).length==c.start.length)return;c.format&&((s=e.formatter.get(c.format))&&s[0].block&&(o.deleteData(0,c.start.length),e.formatter.apply(c.format,{},o),d.setStart(i,f),d.collapse(!0),t.setRng(d))),c.cmd&&e.undoManager.transact((function(){o.deleteData(0,c.start.length),e.execCommand(c.cmd)}))}}}function a(){var t,n;(n=i())&&((t=e.dom.createRng()).setStart(n,n.data.length),t.setEnd(n,n.data.length),e.selection.setRng(t)),o()}function s(){var t,n,r,o,a;(t=i(!0))&&(a=e.dom,n=t.data.slice(-1),/[\u00a0 ]/.test(n)&&(t.deleteData(t.data.length-1,1),r=a.doc.createTextNode(n),t.nextSibling?a.insertAfter(r,t.nextSibling):t.parentNode.appendChild(r),(o=a.createRng()).setStart(r,1),o.setEnd(r,1),e.selection.setRng(o)))}var l,c=!0;l=e.settings.textpattern_patterns||[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}],e.on("keydown",(function(e){13!=e.keyCode||tinymce.util.VK.modifierPressed(e)||a()}),!0),e.on("keyup",(function(e){32!=e.keyCode||tinymce.util.VK.modifierPressed(e)||s()})),this.getPatterns=t,this.setPatterns=function(e){l=e,c=!0}}))}.call(this),function(){tinymce.PluginManager.add("visualchars",(function(e){function t(t){function n(e){return'<span data-mce-bogus="1" class="mce-'+m[e]+'">'+e+"</span>"}function o(){var e,t="";for(e in m)t+=e;return new RegExp("["+t+"]","g")}function a(){var e,t="";for(e in m)t&&(t+=","),t+="span.mce-"+m[e];return t}var s,l,c,u,d,f,m,g,p=e.getBody(),h=e.selection;if(m={"":"nbsp","":"shy"},r=!r,i.state=r,e.fire("VisualChars",{state:r}),g=o(),t&&(f=h.getBookmark()),r)for(l=[],tinymce.walk(p,(function(e){3==e.nodeType&&e.nodeValue&&g.test(e.nodeValue)&&l.push(e)}),"childNodes"),c=0;c<l.length;c++){for(u=(u=l[c].nodeValue).replace(g,n),d=e.dom.create("div",null,u);s=d.lastChild;)e.dom.insertAfter(s,l[c]);e.dom.remove(l[c])}else for(c=(l=e.dom.select(a(),p)).length-1;c>=0;c--)e.dom.remove(l[c],1);h.moveToBookmark(f)}function n(){var t=this;e.on("VisualChars",(function(e){t.active(e.state)}))}var r,i=this;e.addCommand("mceVisualChars",t),e.addButton("visualchars",{title:"Show invisible characters",cmd:"mceVisualChars",onPostRender:n}),e.addMenuItem("visualchars",{text:"Show invisible characters",cmd:"mceVisualChars",onPostRender:n,selectable:!0,context:"view",prependToContext:!0})}))}.call(this),function(){tinymce.PluginManager.add("anchor",(function(e){var t=function(e){return!e.attr("href")&&(e.attr("id")||e.attr("name"))&&!e.firstChild},n=function(e){return function(n){for(var r=0;r<n.length;r++)t(n[r])&&n[r].attr("contenteditable",e)}},r=function(e){return/^[A-Za-z][A-Za-z0-9\-:._]*$/.test(e)},i=function(){var t=e.selection.getNode(),n="A"==t.tagName&&""===e.dom.getAttrib(t,"href"),i="";n&&(i=t.id||t.name||""),e.windowManager.open({title:"Anchor",body:{type:"textbox",name:"id",size:40,label:"Id",value:i},onsubmit:function(i){var o=i.data.id;return r(o)?void(n?(t.removeAttribute("name"),t.id=o):(e.selection.collapse(!0),e.execCommand("mceInsertContent",!1,e.dom.createHTML("a",{id:o})))):(i.preventDefault(),void e.windowManager.alert("Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores."))}})};tinymce.Env.ceFalse&&e.on("PreInit",(function(){e.parser.addNodeFilter("a",n("false")),e.serializer.addNodeFilter("a",n(null))})),e.addCommand("mceAnchor",i),e.addButton("anchor",{icon:"anchor",tooltip:"Anchor",onclick:i,stateSelector:"a:not([href])"}),e.addMenuItem("anchor",{icon:"anchor",text:"Anchor",context:"insert",onclick:i})}))}.call(this),function(){tinymce._beforeUnloadHandler=function(){var e;return tinymce.each(tinymce.editors,(function(t){t.plugins.autosave&&t.plugins.autosave.storeDraft(),!e&&t.isDirty()&&t.getParam("autosave_ask_before_unload",!0)&&(e=t.translate("You have unsaved changes are you sure you want to navigate away?"))})),e},tinymce.PluginManager.add("autosave",(function(e){function t(e,t){var n={s:1e3,m:6e4};return((e=/^(\d+)([ms]?)$/.exec(""+(e||t)))[2]?n[e[2]]:1)*parseInt(e,10)}function n(){var e=parseInt(m.getItem(u+"time"),10)||0;return!((new Date).getTime()-e>f.autosave_retention&&(r(!1),1))}function r(t){m.removeItem(u+"draft"),m.removeItem(u+"time"),!1!==t&&e.fire("RemoveDraft")}function i(){!c()&&e.isDirty()&&(m.setItem(u+"draft",e.getContent({format:"raw",no_events:!0})),m.setItem(u+"time",(new Date).getTime()),e.fire("StoreDraft"))}function o(){n()&&(e.setContent(m.getItem(u+"draft"),{format:"raw"}),e.fire("RestoreDraft"))}function a(){d||(setInterval((function(){e.removed||i()}),f.autosave_interval),d=!0)}function s(){var t=this;t.disabled(!n()),e.on("StoreDraft RestoreDraft RemoveDraft",(function(){t.disabled(!n())})),a()}function l(){e.undoManager.beforeChange(),o(),r(),e.undoManager.add()}function c(t){var n=e.settings.forced_root_block;return""===(t=tinymce.trim(void 0===t?e.getBody().innerHTML:t))||new RegExp("^<"+n+"[^>]*>((|&nbsp;|[ \t]|<br[^>]*>)+?|)</"+n+">|<br>$","i").test(t)}var u,d,f=e.settings,m=tinymce.util.LocalStorage;u=(u=(u=(u=f.autosave_prefix||"tinymce-autosave-{path}{query}-{id}-").replace(/\{path\}/g,document.location.pathname)).replace(/\{query\}/g,document.location.search)).replace(/\{id\}/g,e.id),f.autosave_interval=t(f.autosave_interval,"30s"),f.autosave_retention=t(f.autosave_retention,"20m"),e.addButton("restoredraft",{title:"Restore last draft",onclick:l,onPostRender:s}),e.addMenuItem("restoredraft",{text:"Restore last draft",onclick:l,onPostRender:s,context:"file"}),!1!==e.settings.autosave_restore_when_empty&&(e.on("init",(function(){n()&&c()&&o()})),e.on("saveContent",(function(){r()}))),window.onbeforeunload=tinymce._beforeUnloadHandler,this.hasDraft=n,this.storeDraft=i,this.restoreDraft=o,this.removeDraft=r,this.isEmpty=c}))}.call(this),function(){tinymce.PluginManager.add("code",(function(e){function t(){var t;e.windowManager.open({title:"Source code",body:{type:"textbox",name:"code",multiline:!0,minWidth:e.getParam("code_dialog_width",600),minHeight:e.getParam("code_dialog_height",Math.min(tinymce.DOM.getViewPort().h-200,500)),spellcheck:!1,style:"direction: ltr; text-align: left"},onSubmit:function(t){e.focus(),e.undoManager.transact((function(){e.setContent(t.data.code)})),e.selection.setCursorLocation(),e.nodeChanged()}}).find("#code").value(e.getContent({source_view:!0}))}e.addCommand("mceCodeEditor",t),e.addButton("code",{icon:"code",tooltip:"Source code",onclick:t}),e.addMenuItem("code",{icon:"code",text:"Source code",context:"tools",onclick:t})}))}.call(this),function(){tinymce.PluginManager.add("contextmenu",(function(e){var t,n,r=e.settings.contextmenu_never_use_native,i=function(e){return e.ctrlKey&&!r},o=function(){return tinymce.Env.mac&&tinymce.Env.webkit},a=function(){return!0===n};return e.on("mousedown",(function(t){o()&&2===t.button&&!i(t)&&e.selection.isCollapsed()&&e.once("contextmenu",(function(t){e.selection.placeCaretAt(t.clientX,t.clientY)}))})),e.on("contextmenu",(function(r){var o;if(!i(r)){if(r.preventDefault(),o=e.settings.contextmenu||"link openlink image inserttable | cell row column deletetable",t)t.show();else{var a=[];tinymce.each(o.split(/[ ,]/),(function(t){var n=e.menuItems[t];"|"==t&&(n={text:t}),n&&(n.shortcut="",a.push(n))}));for(var s=0;s<a.length;s++)"|"==a[s].text&&(0!==s&&s!=a.length-1||a.splice(s,1));(t=new tinymce.ui.Menu({items:a,context:"contextmenu",classes:"contextmenu"}).renderTo()).on("hide",(function(e){e.control===this&&(n=!1)})),e.on("remove",(function(){t.remove(),t=null}))}var l={x:r.pageX,y:r.pageY};e.inline||((l=tinymce.DOM.getPos(e.getContentAreaContainer())).x+=r.clientX,l.y+=r.clientY),t.moveTo(l.x,l.y),n=!0}})),{isContextMenuVisible:a}}))}.call(this),function(){tinymce.PluginManager.add("fullscreen",(function(e){function t(){var e,t,n=window,r,i=document.body;return i.offsetWidth&&(e=i.offsetWidth,t=i.offsetHeight),n.innerWidth&&n.innerHeight&&(e=n.innerWidth,t=n.innerHeight),{w:e,h:t}}function n(){var e=tinymce.DOM.getViewPort();return{x:e.x,y:e.y}}function r(e){scrollTo(e.x,e.y)}function i(){function i(){f.setStyle(p,"height",t().h-(g.clientHeight-p.clientHeight))}var m,g,p,h,v=document.body,b=document.documentElement;d=!d,m=(g=e.getContainer()).style,h=(p=e.getContentAreaContainer().firstChild).style,d?(u=n(),o=h.width,a=h.height,h.width=h.height="100%",l=m.width,c=m.height,m.width=m.height="",f.addClass(v,"mce-fullscreen"),f.addClass(b,"mce-fullscreen"),f.addClass(g,"mce-fullscreen"),f.bind(window,"resize",i),i(),s=i):(h.width=o,h.height=a,l&&(m.width=l),c&&(m.height=c),f.removeClass(v,"mce-fullscreen"),f.removeClass(b,"mce-fullscreen"),f.removeClass(g,"mce-fullscreen"),f.unbind(window,"resize",s),r(u)),e.fire("FullscreenStateChanged",{state:d})}var o,a,s,l,c,u,d=!1,f=tinymce.DOM;if(!e.settings.inline)return e.on("init",(function(){e.addShortcut("Ctrl+Shift+F","",i)})),e.on("remove",(function(){s&&f.unbind(window,"resize",s)})),e.addCommand("mceFullScreen",i),e.addMenuItem("fullscreen",{text:"Fullscreen",shortcut:"Ctrl+Shift+F",selectable:!0,onClick:function(){i(),e.focus()},onPostRender:function(){var t=this;e.on("FullscreenStateChanged",(function(e){t.active(e.state)}))},context:"view"}),e.addButton("fullscreen",{tooltip:"Fullscreen",shortcut:"Ctrl+Shift+F",onClick:i,onPostRender:function(){var t=this;e.on("FullscreenStateChanged",(function(e){t.active(e.state)}))}}),{isFullscreen:function(){return d}}}))}.call(this),function(){var e,t,n,r,i,o,a,s;e={},t=function(t){for(var n=e[t],i=n.deps,o=n.defn,a=i.length,s=new Array(a),l=0;l<a;++l)s[l]=r(i[l]);var c=o.apply(null,s);if(void 0===c)throw"module ["+t+"] returned undefined";n.instance=c},n=function(t,n,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;e[t]={deps:n,defn:r,instance:void 0}},r=function(n){var r=e[n];if(void 0===r)throw"module ["+n+"] was undefined";return void 0===r.instance&&t(n),r.instance},a=n,(s=function(e,t){a(e,[],(function(){return t}))})("1",tinymce.PluginManager),s("2",tinymce.Env),s("3",tinymce.util.Promise),s("4",tinymce.util.URI),s("5",tinymce.util.Tools),s("6",tinymce.util.Delay),a("m",[],(function(){function e(e,t){return r(document.createElement("canvas"),e,t)}function t(e){return e.getContext("2d")}function n(e){var t=null;try{t=e.getContext("webgl")||e.getContext("experimental-webgl")}catch(e){}return t||(t=null),t}function r(e,t,n){return e.width=t,e.height=n,e}return{create:e,resize:r,get2dContext:t,get3dContext:n}})),a("n",[],(function(){function e(e){return e.naturalWidth||e.width}function t(e){return e.naturalHeight||e.height}return{getWidth:e,getHeight:t}})),a("o",[],(function(){function e(e,t){return function(){e.apply(t,arguments)}}function t(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],s(t,e(r,this),e(i,this))}function n(e){var t=this;return null===this._state?void this._deferreds.push(e):void l((function(){var n=t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void e.reject(t)}e.resolve(r)}else(t._state?e.resolve:e.reject)(t._value)}))}function r(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void s(e(n,t),e(r,this),e(i,this))}this._state=!0,this._value=t,o.call(this)}catch(e){i.call(this,e)}}function i(e){this._state=!1,this._value=e,o.call(this)}function o(){for(var e=0,t=this._deferreds.length;e<t;e++)n.call(this,this._deferreds[e]);this._deferreds=null}function a(e,t,n,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r}function s(e,t,n){var r=!1;try{e((function(e){r||(r=!0,t(e))}),(function(e){r||(r=!0,n(e))}))}catch(e){if(r)return;r=!0,n(e)}}if(window.Promise)return window.Promise;var l=t.immediateFn||"function"==typeof setImmediate&&setImmediate||function(e){setTimeout(e,1)},c=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.then=function(e,r){var i=this;return new t((function(t,o){n.call(i,new a(e,r,t,o))}))},t.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&c(arguments[0])?arguments[0]:arguments);return new t((function(t,n){function r(o,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,(function(e){r(o,e)}),n)}e[o]=a,0==--i&&t(e)}catch(e){n(e)}}if(0===e.length)return t([]);for(var i=e.length,o=0;o<e.length;o++)r(o,e[o])}))},t.resolve=function(e){return e&&"object"==typeof e&&e.constructor===t?e:new t((function(t){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var r=0,i=e.length;r<i;r++)e[r].then(t,n)}))},t})),a("p",[],(function(){function e(e){var t=document.createElement("a");return t.href=e,t.pathname}function t(t){var n=e(t).split("."),r=n[n.length-1],i={jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png"};return r&&(r=r.toLowerCase()),i[r]}return{guessMimeType:t}})),a("e",["o","m","p","n"],(function(e,t,n,r){function i(t){return new e((function(e){function n(){t.removeEventListener("load",n),e(t)}t.complete?e(t):t.addEventListener("load",n)}))}function o(e){return i(e).then((function(e){var n,i;return i=t.create(r.getWidth(e),r.getHeight(e)),(n=t.get2dContext(i)).drawImage(e,0,0),i}))}function a(e){return i(e).then((function(e){var t=e.src;return 0===t.indexOf("blob:")?l(t):0===t.indexOf("data:")?c(t):o(e).then((function(e){return c(e.toDataURL(n.guessMimeType(t)))}))}))}function s(t){return new e((function(e){function n(){r.removeEventListener("load",n),e(r)}var r=new Image;r.addEventListener("load",n),r.src=URL.createObjectURL(t),r.complete&&n()}))}function l(t){return new e((function(e){var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="blob",n.onload=function(){200==this.status&&e(this.response)},n.send()}))}function c(t){return new e((function(e){var n,r,i,o,a,s;if(t=t.split(","),(o=/data:([^;]+)/.exec(t[0]))&&(a=o[1]),n=atob(t[1]),window.WebKitBlobBuilder){for(s=new WebKitBlobBuilder,r=new ArrayBuffer(n.length),i=0;i<r.length;i++)r[i]=n.charCodeAt(i);return s.append(r),void e(s.getBlob(a))}for(r=new Uint8Array(n.length),i=0;i<r.length;i++)r[i]=n.charCodeAt(i);e(new Blob([r],{type:a}))}))}function u(e){return 0===e.indexOf("blob:")?l(e):0===e.indexOf("data:")?c(e):null}function d(e,t){return c(e.toDataURL(t))}function f(t){return new e((function(e){var n=new FileReader;n.onloadend=function(){e(n.result)},n.readAsDataURL(t)}))}function m(e){return f(e).then((function(e){return e.split(",")[1]}))}function g(e){URL.revokeObjectURL(e.src)}return{blobToImage:s,imageToBlob:a,blobToDataUri:f,blobToBase64:m,imageToCanvas:o,canvasToBlob:d,revokeImageUrl:g,uriToBlob:u}})),a("q",[],(function(){function e(e,t,n){return(e=parseFloat(e))>n?e=n:e<t&&(e=t),e}function t(){return[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]}function n(e,t){var n,r,i,o,a=[],s=new Array(10);for(n=0;n<5;n++){for(r=0;r<5;r++)a[r]=t[r+5*n];for(r=0;r<5;r++){for(o=0,i=0;i<5;i++)o+=e[r+5*i]*a[i];s[r+5*n]=o}}return s}function r(t,n){return n=e(n,0,1),t.map((function(t,r){return r%6==0?t=1-(1-t)*n:t*=n,e(t,0,1)}))}function i(t,r){var i;return r=e(r,-1,1),i=(r*=100)<0?127+r/100*127:127*(i=0==(i=r%1)?d[r]:d[Math.floor(r)]*(1-i)+d[Math.floor(r)+1]*i)+127,n(t,[i/127,0,0,0,.5*(127-i),0,i/127,0,0,.5*(127-i),0,0,i/127,0,.5*(127-i),0,0,0,1,0,0,0,0,0,1])}function o(t,r){var i,o,a,s;return n(t,[(o=.3086)*(1-(i=1+((r=e(r,-1,1))>0?3*r:r)))+i,(a=.6094)*(1-i),(s=.082)*(1-i),0,0,o*(1-i),a*(1-i)+i,s*(1-i),0,0,o*(1-i),a*(1-i),s*(1-i)+i,0,0,0,0,0,1,0,0,0,0,0,1])}function a(t,r){var i,o,a,s,l;return r=e(r,-180,180)/180*Math.PI,n(t,[(a=.213)+(i=Math.cos(r))*(1-a)+(o=Math.sin(r))*-a,(s=.715)+i*-s+o*-s,(l=.072)+i*-l+o*(1-l),0,0,a+i*-a+.143*o,s+i*(1-s)+.14*o,l+i*-l+-.283*o,0,0,a+i*-a+-.787*o,s+i*-s+o*s,l+i*(1-l)+o*l,0,0,0,0,0,1,0,0,0,0,0,1])}function s(t,r){return n(t,[1,0,0,0,r=e(255*r,-255,255),0,1,0,0,r,0,0,1,0,r,0,0,0,1,0,0,0,0,0,1])}function l(t,r,i,o){return n(t,[r=e(r,0,2),0,0,0,0,0,i=e(i,0,2),0,0,0,0,0,o=e(o,0,2),0,0,0,0,0,1,0,0,0,0,0,1])}function c(t,i){return n(t,r([.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0,0,0,0,0,1],i=e(i,0,1)))}function u(t,i){return n(t,r([.33,.34,.33,0,0,.33,.34,.33,0,0,.33,.34,.33,0,0,0,0,0,1,0,0,0,0,0,1],i=e(i,0,1)))}var d=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10];return{identity:t,adjust:r,multiply:n,adjustContrast:i,adjustBrightness:s,adjustSaturation:o,adjustHue:a,adjustColors:l,adjustSepia:c,adjustGrayscale:u}})),a("c",["m","n","e","q"],(function(e,t,n,r){function i(r,i){return n.blobToImage(r).then((function(r){function o(e,t){var n,r,i,o,a,s=e.data,l=t[0],c=t[1],u=t[2],d=t[3],f=t[4],m=t[5],g=t[6],p=t[7],h=t[8],v=t[9],b=t[10],y=t[11],x=t[12],w=t[13],C=t[14],k=t[15],N=t[16],S=t[17],_=t[18],T=t[19];for(a=0;a<s.length;a+=4)n=s[a],r=s[a+1],i=s[a+2],o=s[a+3],s[a]=n*l+r*c+i*u+o*d+f,s[a+1]=n*m+r*g+i*p+o*h+v,s[a+2]=n*b+r*y+i*x+o*w+C,s[a+3]=n*k+r*N+i*S+o*_+T;return e}var a,s=e.create(t.getWidth(r),t.getHeight(r)),l=e.get2dContext(s);return l.drawImage(r,0,0),u(r),a=o(l.getImageData(0,0,s.width,s.height),i),l.putImageData(a,0,0),n.canvasToBlob(s)}))}function o(r,i){return n.blobToImage(r).then((function(r){function o(e,t,n){function r(e,t,n){return e>n?e=n:e<t&&(e=t),e}var i,o,a,s,l,c,u,d,f,m,g,p,h,v,b,y,x;for(a=Math.round(Math.sqrt(n.length)),s=Math.floor(a/2),i=e.data,o=t.data,y=e.width,x=e.height,c=0;c<x;c++)for(l=0;l<y;l++){for(u=d=f=0,g=0;g<a;g++)for(m=0;m<a;m++)p=r(l+m-s,0,y-1),v=4*((h=r(c+g-s,0,x-1))*y+p),b=n[g*a+m],u+=i[v]*b,d+=i[v+1]*b,f+=i[v+2]*b;o[v=4*(c*y+l)]=r(u,0,255),o[v+1]=r(d,0,255),o[v+2]=r(f,0,255)}return t}var a,s,l=e.create(t.getWidth(r),t.getHeight(r)),c=e.get2dContext(l);return c.drawImage(r,0,0),u(r),s=o(a=c.getImageData(0,0,l.width,l.height),s=c.getImageData(0,0,l.width,l.height),i),c.putImageData(s,0,0),n.canvasToBlob(l)}))}function a(r){return function(i,o){return n.blobToImage(i).then((function(i){function a(e,t){var n,r=e.data;for(n=0;n<r.length;n+=4)r[n]=t[r[n]],r[n+1]=t[r[n+1]],r[n+2]=t[r[n+2]];return e}var s,l,c=e.create(t.getWidth(i),t.getHeight(i)),d=e.get2dContext(c),f=new Array(256);for(l=0;l<f.length;l++)f[l]=r(l,o);return d.drawImage(i,0,0),u(i),s=a(d.getImageData(0,0,c.width,c.height),f),d.putImageData(s,0,0),n.canvasToBlob(c)}))}}function s(e){return function(t,n){return i(t,e(r.identity(),n))}}function l(e){return function(t){return i(t,e)}}function c(e){return function(t){return o(t,e)}}var u=n.revokeImageUrl;return{invert:l([-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0]),brightness:s(r.adjustBrightness),hue:s(r.adjustHue),saturate:s(r.adjustSaturation),contrast:s(r.adjustContrast),grayscale:s(r.adjustGrayscale),sepia:s(r.adjustSepia),colorize:function(e,t,n,o){return i(e,r.adjustColors(r.identity(),t,n,o))},sharpen:c([0,-1,0,-1,5,-1,0,-1,0]),emboss:c([-2,-1,0,-1,1,1,0,1,2]),gamma:a((function(e,t){return 255*Math.pow(e/255,1-t)})),exposure:a((function(e,t){return 255*(1-Math.exp(-e/255*t))})),colorFilter:i,convoluteFilter:o}})),a("r",["o","e","m","n"],(function(e,t,n,r){function i(e,t,n){var a=r.getWidth(e),s=r.getHeight(e),l=t/a,c=n/s,u=!1;(l<.5||l>2)&&(l=l<.5?.5:2,u=!0),(c<.5||c>2)&&(c=c<.5?.5:2,u=!0);var d=o(e,l,c);return u?d.then((function(e){return i(e,t,n)})):d}function o(t,i,o){return new e((function(e){var a=r.getWidth(t),s=r.getHeight(t),l=Math.floor(a*i),c=Math.floor(s*o),u=n.create(l,c),d;n.get2dContext(u).drawImage(t,0,0,a,s,0,0,l,c),e(u)}))}return{scale:i}})),a("d",["e","m","n","r"],(function(e,t,n,r){function i(r,i){return e.blobToImage(r).then((function(o){var a=t.create(n.getWidth(o),n.getHeight(o)),s=t.get2dContext(a),c=0,u=0;return 90!=(i=i<0?360+i:i)&&270!=i||t.resize(a,a.height,a.width),90!=i&&180!=i||(c=a.width),270!=i&&180!=i||(u=a.height),s.translate(c,u),s.rotate(i*Math.PI/180),s.drawImage(o,0,0),l(o),e.canvasToBlob(a,r.type)}))}function o(r,i){return e.blobToImage(r).then((function(r){var o=t.create(n.getWidth(r),n.getHeight(r)),a=t.get2dContext(o);return"v"==i?(a.scale(1,-1),a.drawImage(r,0,-o.height)):(a.scale(-1,1),a.drawImage(r,-o.width,0)),l(r),e.canvasToBlob(o)}))}function a(n,r,i,o,a){return e.blobToImage(n).then((function(n){var s=t.create(o,a),c;return t.get2dContext(s).drawImage(n,-r,-i),l(n),e.canvasToBlob(s)}))}function s(t,n,i){return e.blobToImage(t).then((function(o){var a;return r.scale(o,n,i).then((function(n){return e.canvasToBlob(n,t.type)})).then(c(o)).catch(c(o))}))}var l=e.revokeImageUrl,c=function(e){return function(t){return l(e),t}};return{rotate:i,flip:o,crop:a,resize:s}})),a("7",["c","d"],(function(e,t){var n,r,i,o,a,s,l,c,u,d,f,m,g,p,h,v;return{invert:function(t){return e.invert(t)},sharpen:function(t){return e.sharpen(t)},emboss:function(t){return e.emboss(t)},brightness:function(t,n){return e.brightness(t,n)},hue:function(t,n){return e.hue(t,n)},saturate:function(t,n){return e.saturate(t,n)},contrast:function(t,n){return e.contrast(t,n)},grayscale:function(t,n){return e.grayscale(t,n)},sepia:function(t,n){return e.sepia(t,n)},colorize:function(t,n,r,i){return e.colorize(t,n,r,i)},gamma:function(t,n){return e.gamma(t,n)},exposure:function(t,n){return e.exposure(t,n)},flip:function(e,n){return t.flip(e,n)},crop:function(e,n,r,i,o){return t.crop(e,n,r,i,o)},resize:function(e,n,r){return t.resize(e,n,r)},rotate:function(e,n){return t.rotate(e,n)}}})),a("8",["e"],(function(e){var t,n,r,i;return{blobToImage:function(t){return e.blobToImage(t)},imageToBlob:function(t){return e.imageToBlob(t)},blobToDataUri:function(t){return e.blobToDataUri(t)},blobToBase64:function(t){return e.blobToBase64(t)}}})),s("f",tinymce.dom.DOMUtils),s("g",tinymce.ui.Factory),s("h",tinymce.ui.Form),s("i",tinymce.ui.Container),s("s",tinymce.ui.Control),s("t",tinymce.ui.DragHelper),s("u",tinymce.geom.Rect),s("w",tinymce.dom.DomQuery),s("x",tinymce.util.Observable),s("y",tinymce.util.VK),a("v",["w","t","u","5","x","y"],(function(e,t,n,r,i,o){var a=0;return function(s,l,c,u,d){function f(e,t){return{x:t.x+e.x,y:t.y+e.y,w:t.w,h:t.h}}function m(e,t){return{x:t.x-e.x,y:t.y-e.y,w:t.w,h:t.h}}function g(){return m(c,s)}function p(e,t,r,i){var o,a,l,u,d;o=t.x,a=t.y,l=t.w,u=t.h,o+=r*e.deltaX,a+=i*e.deltaY,(l+=r*e.deltaW)<20&&(l=20),(u+=i*e.deltaH)<20&&(u=20),d=s=n.clamp({x:o,y:a,w:l,h:u},c,"move"==e.name),d=m(c,d),N.fire("updateRect",{rect:d}),w(d)}function h(){function n(e){var n;return new t(R,{document:u.ownerDocument,handle:R+"-"+e.name,start:function(){n=s},drag:function(t){p(e,n,t.deltaX,t.deltaY)}})}e('<div id="'+R+'" class="'+E+'croprect-container" role="grid" aria-dropeffect="execute">').appendTo(u),r.each(T,(function(t){e("#"+R,u).append('<div id="'+R+"-"+t+'"class="'+E+'croprect-block" style="display: none" data-mce-bogus="all">')})),r.each(S,(function(t){e("#"+R,u).append('<div id="'+R+"-"+t.name+'" class="'+E+"croprect-handle "+E+"croprect-handle-"+t.name+'"style="display: none" data-mce-bogus="all" role="gridcell" tabindex="-1" aria-label="'+t.label+'" aria-grabbed="false">')})),_=r.map(S,n),b(s),e(u).on("focusin focusout",(function(t){e(t.target).attr("aria-grabbed","focus"===t.type)})),e(u).on("keydown",(function(e){function t(e,t,r,i,o){e.stopPropagation(),e.preventDefault(),p(n,r,i,o)}var n;switch(r.each(S,(function(t){if(e.target.id==R+"-"+t.name)return n=t,!1})),e.keyCode){case o.LEFT:t(e,n,s,-10,0);break;case o.RIGHT:t(e,n,s,10,0);break;case o.UP:t(e,n,s,0,-10);break;case o.DOWN:t(e,n,s,0,10);break;case o.ENTER:case o.SPACEBAR:e.preventDefault(),d()}}))}function v(t){var n;n=r.map(S,(function(e){return"#"+R+"-"+e.name})).concat(r.map(T,(function(e){return"#"+R+"-"+e}))).join(","),t?e(n,u).show():e(n,u).hide()}function b(t){function n(t,n){n.h<0&&(n.h=0),n.w<0&&(n.w=0),e("#"+R+"-"+t,u).css({left:n.x,top:n.y,width:n.w,height:n.h})}r.each(S,(function(n){e("#"+R+"-"+n.name,u).css({left:t.w*n.xMul+t.x,top:t.h*n.yMul+t.y})})),n("top",{x:l.x,y:l.y,w:l.w,h:t.y-l.y}),n("right",{x:t.x+t.w,y:t.y,w:l.w-t.x-t.w+l.x,h:t.h}),n("bottom",{x:l.x,y:t.y+t.h,w:l.w,h:l.h-t.y-t.h+l.y}),n("left",{x:l.x,y:t.y,w:t.x-l.x,h:t.h}),n("move",t)}function y(e){b(s=e)}function x(e){l=e,b(s)}function w(e){y(f(c,e))}function C(e){c=e,b(s)}function k(){r.each(_,(function(e){e.destroy()})),_=[]}var N,S,_,T,E="mce-",R=E+"crid-"+a++;return S=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}],T=["top","right","bottom","left"],h(u),N=r.extend({toggleVisibility:v,setClampRect:C,setRect:y,getInnerRect:g,setInnerRect:w,setViewPortRect:x,destroy:k},i)}})),a("j",["s","t","u","5","3","v"],(function(e,t,n,r,i,o){function a(e){return new i((function(t){function n(){e.removeEventListener("load",n),t(e)}e.complete?t(e):e.addEventListener("load",n)}))}return e.extend({Defaults:{classes:"imagepanel"},selection:function(e){return arguments.length?(this.state.set("rect",e),this):this.state.get("rect")},imageSize:function(){var e=this.state.get("viewRect");return{w:e.w,h:e.h}},toggleCropRect:function(e){this.state.set("cropEnabled",e)},imageSrc:function(e){var t=this,r=new Image;r.src=e,a(r).then((function(){var e,i,o=t.state.get("viewRect");if((i=t.$el.find("img"))[0])i.replaceWith(r);else{var a=document.createElement("div");a.className="mce-imagepanel-bg",t.getEl().appendChild(a),t.getEl().appendChild(r)}e={x:0,y:0,w:r.naturalWidth,h:r.naturalHeight},t.state.set("viewRect",e),t.state.set("rect",n.inflate(e,-20,-20)),o&&o.w==e.w&&o.h==e.h||t.zoomFit(),t.repaintImage(),t.fire("load")}))},zoom:function(e){return arguments.length?(this.state.set("zoom",e),this):this.state.get("zoom")},postRender:function(){return this.imageSrc(this.settings.imageSrc),this._super()},zoomFit:function(){var e,t,n,r,i,o,a,s=this;a=10,e=s.$el.find("img"),t=s.getEl().clientWidth,n=s.getEl().clientHeight,r=e[0].naturalWidth,i=e[0].naturalHeight,(o=Math.min((t-a)/r,(n-a)/i))>=1&&(o=1),s.zoom(o)},repaintImage:function(){var e,t,n,r,i,o,a,s,l,c,u;u=this.getEl(),l=this.zoom(),c=this.state.get("rect"),a=this.$el.find("img"),s=this.$el.find(".mce-imagepanel-bg"),i=u.offsetWidth,o=u.offsetHeight,n=a[0].naturalWidth*l,r=a[0].naturalHeight*l,e=Math.max(0,i/2-n/2),t=Math.max(0,o/2-r/2),a.css({left:e,top:t,width:n,height:r}),s.css({left:e,top:t,width:n,height:r}),this.cropRect&&(this.cropRect.setRect({x:c.x*l+e,y:c.y*l+t,w:c.w*l,h:c.h*l}),this.cropRect.setClampRect({x:e,y:t,w:n,h:r}),this.cropRect.setViewPortRect({x:0,y:0,w:i,h:o}))},bindStates:function(){function e(e){t.cropRect=new o(e,t.state.get("viewRect"),t.state.get("viewRect"),t.getEl(),(function(){t.fire("crop")})),t.cropRect.on("updateRect",(function(e){var n=e.rect,r=t.zoom();n={x:Math.round(n.x/r),y:Math.round(n.y/r),w:Math.round(n.w/r),h:Math.round(n.h/r)},t.state.set("rect",n)})),t.on("remove",t.cropRect.destroy)}var t=this;t.state.on("change:cropEnabled",(function(e){t.cropRect.toggleVisibility(e.value),t.repaintImage()})),t.state.on("change:zoom",(function(){t.repaintImage()})),t.state.on("change:rect",(function(n){var r=n.value;t.cropRect||e(r),t.cropRect.setRect(r)}))}})})),a("k",[],(function(){return function(){function e(e){var t;return t=o.splice(++a),o.push(e),{state:e,removed:t}}function t(){if(r())return o[--a]}function n(){if(i())return o[++a]}function r(){return a>0}function i(){return-1!=a&&a<o.length-1}var o=[],a=-1;return{data:o,add:e,undo:t,redo:n,canUndo:r,canRedo:i}}})),a("9",["f","5","3","g","h","i","j","7","8","k"],(function(e,t,n,r,i,o,a,s,l,c){function u(e){return{blob:e,url:URL.createObjectURL(e)}}function d(e){e&&URL.revokeObjectURL(e.url)}function f(e){t.each(e,d)}function m(n,l,m){function g(e){var t,n,r,i;t=O.find("#w")[0],n=O.find("#h")[0],r=parseInt(t.value(),10),i=parseInt(n.value(),10),O.find("#constrain")[0].checked()&&ae&&se&&r&&i&&("w"==e.control.settings.name?(i=Math.round(r*le),n.value(i)):(r=Math.round(i*ce),t.value(r))),ae=r,se=i}function p(e){return Math.round(100*e)+"%"}function h(){O.find("#undo").disabled(!ue.canUndo()),O.find("#redo").disabled(!ue.canRedo()),O.statusbar.find("#save").disabled(!ue.canUndo())}function v(){O.find("#undo").disabled(!0),O.find("#redo").disabled(!0)}function b(e){e&&j.imageSrc(e.url)}function y(e){return function(){var n=t.grep(oe,(function(t){return t.settings.name!=e}));t.each(n,(function(e){e.hide()})),e.show(),e.focus()}}function x(e){b(z=u(e))}function w(e){b(n=u(e)),f(ue.add(n).removed),h()}function C(){var e=j.selection();s.crop(n.blob,e.x,e.y,e.w,e.h).then((function(e){w(e),S()}))}function k(e){var t=[].slice.call(arguments,1);return function(){var r=z||n;e.apply(this,[r.blob].concat(t)).then(x)}}function N(e){var t=[].slice.call(arguments,1);return function(){e.apply(this,[n.blob].concat(t)).then(w)}}function S(){b(n),d(z),y(H)(),h()}function _(){z&&(w(z.blob),S())}function T(){var e=j.zoom();e<2&&(e+=.1),j.zoom(e)}function E(){var e=j.zoom();e>.1&&(e-=.1),j.zoom(e)}function R(){b(n=ue.undo()),h()}function A(){b(n=ue.redo()),h()}function B(){l(n.blob),O.close()}function P(e){return new i({layout:"flex",direction:"row",labelGap:5,border:"0 0 1 0",align:"center",pack:"center",padding:"0 10 0 10",spacing:5,flex:0,minHeight:60,defaults:{classes:"imagetool",type:"button"},items:e})}function M(e,t){return P([{text:"Back",onclick:S},{type:"spacer",flex:1},{text:"Apply",subtype:"primary",onclick:_}]).hide().on("show",(function(){v(),t(n.blob).then((function(e){var t=u(e);b(t),d(z),z=t}))}))}function D(e,t,r,i,o){function a(e){t(n.blob,e).then((function(e){var t=u(e);b(t),d(z),z=t}))}return P([{text:"Back",onclick:S},{type:"spacer",flex:1},{type:"slider",flex:1,ondragend:function(e){a(e.value)},minValue:i,maxValue:o,value:r,previewFilter:p},{type:"spacer",flex:1},{text:"Apply",subtype:"primary",onclick:_}]).hide().on("show",(function(){this.find("slider").value(r),v()}))}function I(e,t){function r(){var e,r,i;e=O.find("#r")[0].value(),r=O.find("#g")[0].value(),i=O.find("#b")[0].value(),t(n.blob,e,r,i).then((function(e){var t=u(e);b(t),d(z),z=t}))}return P([{text:"Back",onclick:S},{type:"spacer",flex:1},{type:"slider",label:"R",name:"r",minValue:0,value:1,maxValue:2,ondragend:r,previewFilter:p},{type:"slider",label:"G",name:"g",minValue:0,value:1,maxValue:2,ondragend:r,previewFilter:p},{type:"slider",label:"B",name:"b",minValue:0,value:1,maxValue:2,ondragend:r,previewFilter:p},{type:"spacer",flex:1},{text:"Apply",subtype:"primary",onclick:_}]).hide().on("show",(function(){O.find("#r,#g,#b").value(1),v()}))}function L(e){!0===e.control.value()&&(le=se/ae,ce=ae/se)}var O,H,F,z,U,W,$,j,V,q,Y,K,X,G,J,Z,Q,ee,te,ne,re,ie,oe,ae,se,le,ce,ue=new c;U=P([{text:"Back",onclick:S},{type:"spacer",flex:1},{text:"Apply",subtype:"primary",onclick:C}]).hide().on("show hide",(function(e){j.toggleCropRect("show"==e.type)})).on("show",v),W=P([{text:"Back",onclick:S},{type:"spacer",flex:1},{type:"textbox",name:"w",label:"Width",size:4,onkeyup:g},{type:"textbox",name:"h",label:"Height",size:4,onkeyup:g},{type:"checkbox",name:"constrain",text:"Constrain proportions",checked:!0,onchange:L},{type:"spacer",flex:1},{text:"Apply",subtype:"primary",onclick:"submit"}]).hide().on("submit",(function(e){var t=parseInt(O.find("#w").value(),10),n=parseInt(O.find("#h").value(),10);e.preventDefault(),N(s.resize,t,n)(),S()})).on("show",v),$=P([{text:"Back",onclick:S},{type:"spacer",flex:1},{icon:"fliph",tooltip:"Flip horizontally",onclick:k(s.flip,"h")},{icon:"flipv",tooltip:"Flip vertically",onclick:k(s.flip,"v")},{icon:"rotateleft",tooltip:"Rotate counterclockwise",onclick:k(s.rotate,-90)},{icon:"rotateright",tooltip:"Rotate clockwise",onclick:k(s.rotate,90)},{type:"spacer",flex:1},{text:"Apply",subtype:"primary",onclick:_}]).hide().on("show",v),Y=M("Invert",s.invert),te=M("Sharpen",s.sharpen),ne=M("Emboss",s.emboss),K=D("Brightness",s.brightness,0,-1,1),X=D("Hue",s.hue,180,0,360),G=D("Saturate",s.saturate,0,-1,1),J=D("Contrast",s.contrast,0,-1,1),Z=D("Grayscale",s.grayscale,0,0,1),Q=D("Sepia",s.sepia,0,0,1),ee=I("Colorize",s.colorize),re=D("Gamma",s.gamma,0,-1,1),ie=D("Exposure",s.exposure,1,0,2),F=P([{text:"Back",onclick:S},{type:"spacer",flex:1},{text:"hue",icon:"hue",onclick:y(X)},{text:"saturate",icon:"saturate",onclick:y(G)},{text:"sepia",icon:"sepia",onclick:y(Q)},{text:"emboss",icon:"emboss",onclick:y(ne)},{text:"exposure",icon:"exposure",onclick:y(ie)},{type:"spacer",flex:1}]).hide(),H=P([{tooltip:"Crop",icon:"crop",onclick:y(U)},{tooltip:"Resize",icon:"resize2",onclick:y(W)},{tooltip:"Orientation",icon:"orientation",onclick:y($)},{tooltip:"Brightness",icon:"sun",onclick:y(K)},{tooltip:"Sharpen",icon:"sharpen",onclick:y(te)},{tooltip:"Contrast",icon:"contrast",onclick:y(J)},{tooltip:"Color levels",icon:"drop",onclick:y(ee)},{tooltip:"Gamma",icon:"gamma",onclick:y(re)},{tooltip:"Invert",icon:"invert",onclick:y(Y)}]),j=new a({flex:1,imageSrc:n.url}),V=new o({layout:"flex",direction:"column",border:"0 1 0 0",padding:5,spacing:5,items:[{type:"button",icon:"undo",tooltip:"Undo",name:"undo",onclick:R},{type:"button",icon:"redo",tooltip:"Redo",name:"redo",onclick:A},{type:"button",icon:"zoomin",tooltip:"Zoom in",onclick:T},{type:"button",icon:"zoomout",tooltip:"Zoom out",onclick:E}]}),q=new o({type:"container",layout:"flex",direction:"row",align:"stretch",flex:1,items:[V,j]}),oe=[H,U,W,$,F,Y,K,X,G,J,Z,Q,ee,te,ne,re,ie],(O=r.create("window",{layout:"flex",direction:"column",align:"stretch",minWidth:Math.min(e.DOM.getViewPort().w,800),minHeight:Math.min(e.DOM.getViewPort().h,650),title:"Edit image",items:oe.concat([q]),buttons:[{text:"Save",name:"save",subtype:"primary",onclick:B},{text:"Cancel",onclick:"close"}]})).renderTo(document.body).reflow(),O.on("close",(function(){m(),f(ue.data),ue=null,z=null})),ue.add(n),h(),j.on("load",(function(){ae=j.imageSize().w,se=j.imageSize().h,le=se/ae,ce=ae/se,O.find("#w").value(ae),O.find("#h").value(se)})),j.on("crop",C)}function g(e){return new n((function(t,n){m(u(e),t,n)}))}return{edit:g}})),a("a",[],(function(){function e(e){function t(e){return/^[0-9\.]+px$/.test(e)}var n,r;return n=e.style.width,r=e.style.height,n||r?t(n)&&t(r)?{w:parseInt(n,10),h:parseInt(r,10)}:null:(n=e.width,r=e.height,n&&r?{w:parseInt(n,10),h:parseInt(r,10)}:null)}function t(e,t){var n,r;t&&(n=e.style.width,r=e.style.height,(n||r)&&(e.style.width=t.w+"px",e.style.height=t.h+"px",e.removeAttribute("data-mce-style")),n=e.width,r=e.height,(n||r)&&(e.setAttribute("width",t.w),e.setAttribute("height",t.h)))}function n(e){return{w:e.naturalWidth,h:e.naturalHeight}}return{getImageSize:e,setImageSize:t,getNaturalImageSize:n}})),a("l",["3","5"],(function(e,t){var n=function(e){return null!=e},r,i,o,a;return{traverse:function(e,t){var r;return r=t.reduce((function(e,t){return n(e)?e[t]:void 0}),e),n(r)?r:null},readBlob:function(t){return new e((function(e){var n=new FileReader;n.onload=function(t){var n=t.target;e(n.result)},n.readAsText(t)}))},requestUrlAsBlob:function(n,r){return new e((function(e){var i;(i=new XMLHttpRequest).onreadystatechange=function(){4===i.readyState&&e({status:i.status,blob:this.response})},i.open("GET",n,!0),t.each(r,(function(e,t){i.setRequestHeader(t,e)})),i.responseType="blob",i.send()}))},parseJson:function(e){var t;try{t=JSON.parse(e)}catch(e){}return t}}})),a("b",["3","5","l"],(function(e,t,n){function r(t){return n.requestUrlAsBlob(t,{}).then((function(t){return t.status>=400?o(t.status):e.resolve(t.blob)}))}var i=function(e){return 400===e||403===e||500===e},o=function(t){return e.reject("ImageProxy HTTP error: "+t)},a=function(t){e.reject("ImageProxy Service error: "+t)},s=function(e,t){return n.readBlob(t).then((function(e){var t=n.parseJson(e),r=n.traverse(t,["error","type"]);return a(r||"Invalid JSON")}))},l=function(e,t){return i(e)?s(e,t):o(e)},c=function(t,r){return n.requestUrlAsBlob(t,{"Content-Type":"application/json;charset=UTF-8","tiny-api-key":r}).then((function(t){return t.status>=400?l(t.status,t.blob):e.resolve(t.blob)}))},u;return{getUrl:function(e,t){return t?c(e,t):r(e)}}})),a("0",["1","2","3","4","5","6","7","8","9","a","b"],(function(e,t,n,r,i,o,a,s,l,c,u){var d=function(e){function d(t){e.notificationManager.open({text:t,type:"error"})}function f(){return e.selection.getNode()}function m(t){var n=t.match(/\/([^\/\?]+)?\.(?:jpeg|jpg|png|gif)(?:\?|$)/i);return n?e.dom.encode(n[1]):null}function g(){return"imagetools"+M++}function p(t){var n=t.src;return 0===n.indexOf("data:")||0===n.indexOf("blob:")||new r(n).host===e.documentBaseURI.host}function h(t){return-1!==i.inArray(e.settings.imagetools_cors_hosts,new r(t.src).host)}function v(){return e.settings.api_key||e.settings.imagetools_api_key}function b(t){var n,r=t.src;return h(t)?u.getUrl(t.src,null):p(t)?s.imageToBlob(t):(r=e.settings.imagetools_proxy,r+=(-1===r.indexOf("?")?"?":"&")+"url="+encodeURIComponent(t.src),n=v(),u.getUrl(r,n))}function y(){var t;return(t=e.editorUpload.blobCache.getByUri(f().src))?t.blob():b(f())}function x(){B=o.setEditorTimeout(e,(function(){e.editorUpload.uploadImagesAuto()}),e.settings.images_upload_timeout||3e4)}function w(){clearTimeout(B)}function C(t,n){return s.blobToDataUri(t).then((function(i){var o,a,s,l,c,u;return u=f(),l=e.editorUpload.blobCache,c=l.getByUri(u.src),s=r.parseDataUri(i).data,o=g(),e.settings.images_reuse_filename&&(a=c?c.filename():m(u.src)),c=l.create(o,t,s,a),l.add(c),e.undoManager.transact((function(){function t(){e.$(u).off("load",t),e.nodeChanged(),n?e.editorUpload.uploadImagesAuto():(w(),x())}e.$(u).on("load",t),e.$(u).attr({src:c.blobUri()}).removeAttr("data-mce-src")})),c}))}function k(t){return function(){return e._scanForImages().then(y).then(t).then(C,d)}}function N(e){return function(){return k((function(t){var n=c.getImageSize(f());return n&&c.setImageSize(f(),{w:n.h,h:n.w}),a.rotate(t,e)}))()}}function S(e){return function(){return k((function(t){return a.flip(t,e)}))()}}function _(){var e=f(),t=c.getNaturalImageSize(e),r=function(r){return new n((function(n){s.blobToImage(r).then((function(i){var o=c.getNaturalImageSize(i);t.w==o.w&&t.h==o.h||c.getImageSize(e)&&c.setImageSize(e,o),URL.revokeObjectURL(i.src),n(r)}))}))},i=function(e){return l.edit(e).then(r).then((function(e){C(e,!0)}),(function(){}))};e&&b(e).then(i,d)}function T(){e.addButton("rotateleft",{title:"Rotate counterclockwise",cmd:"mceImageRotateLeft"}),e.addButton("rotateright",{title:"Rotate clockwise",cmd:"mceImageRotateRight"}),e.addButton("flipv",{title:"Flip vertically",cmd:"mceImageFlipVertical"}),e.addButton("fliph",{title:"Flip horizontally",cmd:"mceImageFlipHorizontal"}),e.addButton("editimage",{title:"Edit image",cmd:"mceEditImage"}),e.addButton("imageoptions",{title:"Image options",icon:"options",cmd:"mceImage"})}function E(){e.on("NodeChange",(function(t){P&&P.src!=t.element.src&&(w(),e.editorUpload.uploadImagesAuto(),P=void 0),R(t.element)&&(P=t.element)}))}function R(t){var n;return e.dom.is(t,"img:not([data-mce-object],[data-mce-placeholder])")&&(p(t)||h(t)||e.settings.imagetools_proxy)}function A(){var t=e.settings.imagetools_toolbar;t||(t="rotateleft rotateright | flipv fliph | crop editimage imageoptions"),e.addContextToolbar(R,t)}var B,P,M=0;t.fileApi&&(i.each({mceImageRotateLeft:N(-90),mceImageRotateRight:N(90),mceImageFlipVertical:S("v"),mceImageFlipHorizontal:S("h"),mceEditImage:_},(function(t,n){e.addCommand(n,t)})),T(),A(),E())};return e.add("imagetools",d),function(){}})),r("0")()}.call(this),function(){var e;(e=tinymce).PluginManager.add("legacyoutput",(function(t,n,r){t.settings.inline_styles=!1,t.on("init",(function(){var n="p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li,table,img",r=e.explode(t.settings.font_size_style_values),i=t.schema;t.formatter.register({alignleft:{selector:n,attributes:{align:"left"}},aligncenter:{selector:n,attributes:{align:"center"}},alignright:{selector:n,attributes:{align:"right"}},alignjustify:{selector:n,attributes:{align:"justify"}},bold:[{inline:"b",remove:"all"},{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}}],italic:[{inline:"i",remove:"all"},{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}}],underline:[{inline:"u",remove:"all"},{inline:"span",styles:{textDecoration:"underline"},exact:!0}],strikethrough:[{inline:"strike",remove:"all"},{inline:"span",styles:{textDecoration:"line-through"},exact:!0}],fontname:{inline:"font",attributes:{face:"%value"}},fontsize:{inline:"font",attributes:{size:function(t){return e.inArray(r,t.value)+1}}},forecolor:{inline:"font",attributes:{color:"%value"}},hilitecolor:{inline:"font",styles:{backgroundColor:"%value"}}}),e.each("b,i,u,strike".split(","),(function(e){i.addValidElements(e+"[*]")})),i.getElementRule("font")||i.addValidElements("font[face|size|color|style]"),e.each(n.split(","),(function(e){var t=i.getElementRule(e);t&&(t.attributes.align||(t.attributes.align={},t.attributesOrder.push("align")))}))})),t.addButton("fontsizeselect",(function(){var e=[],n="8pt=1 10pt=2 12pt=3 14pt=4 18pt=5 24pt=6 36pt=7",r=t.settings.fontsize_formats||n;return t.$.each(r.split(" "),(function(t,n){var r=n,i=n,o=n.split("=");o.length>1&&(r=o[0],i=o[1]),e.push({text:r,value:i})})),{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:e,fixedWidth:!0,onPostRender:function(){var e=this;t.on("NodeChange",(function(){var n;(n=t.dom.getParent(t.selection.getNode(),"font"))?e.value(n.size):e.value("")}))},onclick:function(e){e.control.settings.value&&t.execCommand("FontSize",!1,e.control.settings.value)}}})),t.addButton("fontselect",(function(){function e(e){for(var t=(e=e.replace(/;$/,"").split(";")).length;t--;)e[t]=e[t].split("=");return e}var n="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",i=[],o=e(t.settings.font_formats||n);return r.each(o,(function(e,t){i.push({text:{raw:t[0]},value:t[1],textStyle:-1==t[1].indexOf("dings")?"font-family:"+t[1]:""})})),{type:"listbox",text:"Font Family",tooltip:"Font Family",values:i,fixedWidth:!0,onPostRender:function(){var e=this;t.on("NodeChange",(function(){var n;(n=t.dom.getParent(t.selection.getNode(),"font"))?e.value(n.face):e.value("")}))},onselect:function(e){e.control.settings.value&&t.execCommand("FontName",!1,e.control.settings.value)}}}))}))}.call(this),function(){var e,t,n,r,i,o,a,s;e={},t=function(t){for(var n=e[t],i=n.deps,o=n.defn,a=i.length,s=new Array(a),l=0;l<a;++l)s[l]=r(i[l]);var c=o.apply(null,s);if(void 0===c)throw"module ["+t+"] returned undefined";n.instance=c},n=function(t,n,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;e[t]={deps:n,defn:r,instance:void 0}},r=function(n){var r=e[n];if(void 0===r)throw"module ["+n+"] was undefined";return void 0===r.instance&&t(n),r.instance},a=n,(s=function(e,t){a(e,[],(function(){return t}))})("1",tinymce.PluginManager),s("6",tinymce.util.Delay),s("e",tinymce.util.Tools),s("9",tinymce.html.SaxParser),s("a",tinymce.html.Schema),s("b",tinymce.dom.DOMUtils.DOM),a("h",[],(function(){var e;return{getVideoScriptMatch:function(e,t){if(e)for(var n=0;n<e.length;n++)if(-1!==t.indexOf(e[n].filter))return e[n]}}})),a("c",[],(function(){var e=function(e){return e.replace(/px$/,"")},t=function(e){return/^[0-9.]+$/.test(e)?e+"px":e},n=function(t){return function(n){return n?e(n.style[t]):""}},r=function(e){return function(n,r){n&&(n.style[e]=t(r))}};return{getMaxWidth:n("maxWidth"),getMaxHeight:n("maxHeight"),setMaxWidth:r("maxWidth"),setMaxHeight:r("maxHeight")}})),a("7",["e","9","a","b","h","c"],(function(e,t,n,r,i,o){var a=function(e){return r.getAttrib(e,"data-ephox-embed-iri")},s=function(e){var t=r.createFragment(e);return""!==a(t.firstChild)},l=function(n,r){var o={};return new t({validate:!1,allow_conditional_comments:!0,special:"script,noscript",start:function(t,r){if(o.source1||"param"!==t||(o.source1=r.map.movie),"iframe"!==t&&"object"!==t&&"embed"!==t&&"video"!==t&&"audio"!==t||(o.type||(o.type=t),o=e.extend(r.map,o)),"script"===t){var a=i.getVideoScriptMatch(n,r.map.src);if(!a)return;o={type:"script",source1:r.map.src,width:a.width,height:a.height}}"source"===t&&(o.source1?o.source2||(o.source2=r.map.src):o.source1=r.map.src),"img"!==t||o.poster||(o.poster=r.map.src)}}).parse(r),o.source1=o.source1||o.src||o.data,o.source2=o.source2||"",o.poster=o.poster||"",o},c=function(e){var t,n=r.createFragment(e).firstChild;return{type:"ephox-embed-iri",source1:a(n),source2:"",poster:"",width:o.getMaxWidth(n),height:o.getMaxHeight(n)}},u;return{htmlToData:function(e,t){return s(t)?c(t):l(e,t)}}})),s("8",tinymce.html.Writer),a("4",["8","9","a","b","c"],(function(e,t,n,r,i){var o=function(e,t){var n,r,i,o;for(n in t)if(i=""+t[n],e.map[n])for(r=e.length;r--;)(o=e[r]).name===n&&(i?(e.map[n]=i,o.value=i):(delete e.map[n],e.splice(r,1)));else i&&(e.push({name:n,value:i}),e.map[n]=i)},a=function(n){var r=new e,i;return new t(r).parse(n),r.getContent()},s=function(r,i,a){var s,l=new e,c=0;return new t({validate:!1,allow_conditional_comments:!0,special:"script,noscript",comment:function(e){l.comment(e)},cdata:function(e){l.cdata(e)},text:function(e,t){l.text(e,t)},start:function(e,t,n){switch(e){case"video":case"object":case"embed":case"img":case"iframe":o(t,{width:i.width,height:i.height})}if(a)switch(e){case"video":o(t,{poster:i.poster,src:""}),i.source2&&o(t,{src:""});break;case"iframe":o(t,{src:i.source1});break;case"source":if(++c<=2&&(o(t,{src:i["source"+c],type:i["source"+c+"mime"]}),!i["source"+c]))return;break;case"img":if(!i.poster)return;s=!0}l.start(e,t,n)},end:function(e){if("video"===e&&a)for(var t=1;t<=2;t++)if(i["source"+t]){var n=[];n.map={},c<t&&(o(n,{src:i["source"+t],type:i["source"+t+"mime"]}),l.start("source",n,!0))}if(i.poster&&"object"===e&&a&&!s){var r=[];r.map={},o(r,{src:i.poster,width:i.width,height:i.height}),l.start("img",r,!0)}l.end(e)}},new n({})).parse(r),l.getContent()},l=function(e){var t=r.createFragment(e);return""!==r.getAttrib(t.firstChild,"data-ephox-embed-iri")},c=function(e,t){var n,o=r.createFragment(e).firstChild;return i.setMaxWidth(o,t.width),i.setMaxHeight(o,t.height),a(o.outerHTML)},u;return{updateHtml:function(e,t,n){return l(e)?c(e,t):s(e,t,n)}}})),a("l",[],(function(){var e;return{guess:function(e){var t,n,r={mp3:"audio/mpeg",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"}[e.toLowerCase().split(".").pop()];return r||""}}})),a("m",[],(function(){var e;return{urlPatterns:[{regex:/youtu\.be\/([\w\-.]+)/,type:"iframe",w:560,h:314,url:"//www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)/,type:"iframe",w:560,h:314,url:"//www.youtube.com/embed/$2",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\-_]+(?:\?.+)?)/i,type:"iframe",w:560,h:314,url:"//www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"//player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowfullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"//player.vimeo.com/video/$2?title=0&amp;byline=0",allowfullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'//maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"//www.dailymotion.com/embed/video/$1",allowFullscreen:!0}]}})),a("j",["l","7","m","h","4","e"],(function(e,t,n,r,i,o){var a;return{dataToHtml:function(a,s){var l="",c=o.extend({},s);if(!c.source1&&(o.extend(c,t.htmlToData(a.settings.media_scripts,c.embed)),!c.source1))return"";if(c.source2||(c.source2=""),c.poster||(c.poster=""),c.source1=a.convertURL(c.source1,"source"),c.source2=a.convertURL(c.source2,"source"),c.source1mime=e.guess(c.source1),c.source2mime=e.guess(c.source2),c.poster=a.convertURL(c.poster,"poster"),o.each(n.urlPatterns,(function(e){var t,n,r=e.regex.exec(c.source1);if(r){for(n=e.url,t=0;r[t];t++)n=n.replace("$"+t,(function(){return r[t]}));c.source1=n,c.type=e.type,c.allowFullscreen=e.allowFullscreen,c.width=c.width||e.w,c.height=c.height||e.h}})),c.embed)l=i.updateHtml(c.embed,c,!0);else{var u=r.getVideoScriptMatch(a.settings.media_scripts,c.source1);if(u&&(c.type="script",c.width=u.width,c.height=u.height),c.width=c.width||300,c.height=c.height||150,o.each(c,(function(e,t){c[t]=a.dom.encode(e)})),"iframe"===c.type){var d=c.allowFullscreen?' allowFullscreen="1"':"";l+='<iframe src="'+c.source1+'" width="'+c.width+'" height="'+c.height+'"'+d+"></iframe>"}else"application/x-shockwave-flash"===c.source1mime?(l+='<object data="'+c.source1+'" width="'+c.width+'" height="'+c.height+'" type="application/x-shockwave-flash">',c.poster&&(l+='<img src="'+c.poster+'" width="'+c.width+'" height="'+c.height+'" />'),l+="</object>"):-1!==c.source1mime.indexOf("audio")?a.settings.audio_template_callback?l=a.settings.audio_template_callback(c):l+='<audio controls="controls" src="'+c.source1+'">'+(c.source2?'\n<source src="'+c.source2+'"'+(c.source2mime?' type="'+c.source2mime+'"':"")+" />\n":"")+"</audio>":"script"===c.type?l+='<script src="'+c.source1+'"><\/script>':l=a.settings.video_template_callback?a.settings.video_template_callback(c):'<video width="'+c.width+'" height="'+c.height+'"'+(c.poster?' poster="'+c.poster+'"':"")+' controls="controls">\n<source src="'+c.source1+'"'+(c.source1mime?' type="'+c.source1mime+'"':"")+" />\n"+(c.source2?'<source src="'+c.source2+'"'+(c.source2mime?' type="'+c.source2mime+'"':"")+" />\n":"")+"</video>"}return l}}})),s("k",tinymce.util.Promise),a("d",["j","k"],(function(e,t){var n=function(e,n,r){var i={};return new t((function(t,o){var a=function(r){return r.html&&(i[e.source1]=r),t({url:e.source1,html:r.html?r.html:n(e)})};i[e.source1]?a(i[e.source1]):r({url:e.source1},a,o)}))},r=function(e,n){return new t((function(t){t({html:n(e),url:e.source1})}))},i=function(t){return function(n){return e.dataToHtml(t,n)}},o;return{getEmbedHtml:function(e,t){var o=e.settings.media_url_resolver;return o?n(t,i(e),o):r(t,i(e))}}})),s("f",tinymce.Env),a("g",[],(function(){var e=function(e,t){e.state.set("oldVal",e.value()),t.state.set("oldVal",t.value())},t=function(e,t){var n=e.find("#width")[0],r=e.find("#height")[0],i=e.find("#constrain")[0];n&&r&&i&&t(n,r,i.checked())},n=function(t,n,r){var i=t.state.get("oldVal"),o=n.state.get("oldVal"),a=t.value(),s=n.value();r&&i&&o&&a&&s&&(a!==i?(s=Math.round(a/i*s),isNaN(s)||n.value(s)):(a=Math.round(s/o*a),isNaN(a)||t.value(a))),e(t,n)},r,i=function(e){t(e,n)},o;return{createUi:function(e){var t=function(){e((function(e){i(e)}))};return{type:"container",label:"Dimensions",layout:"flex",align:"center",spacing:5,items:[{name:"width",type:"textbox",maxLength:5,size:5,onchange:t,ariaLabel:"Width"},{type:"label",text:"x"},{name:"height",type:"textbox",maxLength:5,size:5,onchange:t,ariaLabel:"Height"},{name:"constrain",type:"checkbox",checked:!0,text:"Constrain proportions"}]}},syncSize:function(n){t(n,e)},updateSize:i}})),a("2",["6","7","4","d","c","e","f","g"],(function(e,t,n,r,i,o,a,s){var l=a.ie&&a.ie<=8?"onChange":"onInput",c=function(e){return function(t){var n=t&&t.msg?"Media embed handler error: "+t.msg:"Media embed handler threw unknown error.";e.notificationManager.open({type:"error",text:n})}},u=function(e){var n=e.selection.getNode(),r=n.getAttribute("data-ephox-embed-iri");return r?{source1:r,"data-ephox-embed-iri":r,width:i.getMaxWidth(n),height:i.getMaxHeight(n)}:n.getAttribute("data-mce-object")?t.htmlToData(e.settings.media_scripts,e.serializer.serialize(n,{selection:!0})):{}},d=function(e){var t=e.selection.getNode();if(t.getAttribute("data-mce-object")||t.getAttribute("data-ephox-embed-iri"))return e.selection.getContent()},f=function(e,n){return function(r){var i=r.html,a=e.find("#embed")[0],l=o.extend(t.htmlToData(n.settings.media_scripts,i),{source1:r.url});e.fromJSON(l),a&&(a.value(i),s.updateSize(e))}},m=function(e,t){var n,r,i=e.dom.select("img[data-mce-object]");for(n=0;n<t.length;n++)for(r=i.length-1;r>=0;r--)t[n]===i[r]&&i.splice(r,1);e.selection.select(i[0])},g=function(e,t){var n=e.dom.select("img[data-mce-object]");e.insertContent(t),m(e,n),e.nodeChanged()},p=function(e,t){var i=e.toJSON();i.embed=n.updateHtml(i.embed,i),i.embed?g(t,i.embed):r.getEmbedHtml(t,i).then((function(e){g(t,e.html)})).catch(c(t))},h=function(e,t){o.each(t,(function(t,n){e.find("#"+n).value(t)}))},v;return{showDialog:function(e){var i,a,m=[{name:"source1",type:"filepicker",filetype:"media",size:40,autofocus:!0,label:"Source",onpaste:function(){setTimeout((function(){r.getEmbedHtml(e,i.toJSON()).then(f(i,e)).catch(c(e))}),1)},onchange:function(t){r.getEmbedHtml(e,i.toJSON()).then(f(i,e)).catch(c(e)),h(i,t.meta)},onbeforecall:function(e){e.meta=i.toJSON()}}],g=[],v=function(e){e(i),a=i.toJSON(),i.find("#embed").value(n.updateHtml(a.embed,a))};if(!1!==e.settings.media_alt_source&&g.push({name:"source2",type:"filepicker",filetype:"media",size:40,label:"Alternative source"}),!1!==e.settings.media_poster&&g.push({name:"poster",type:"filepicker",filetype:"image",size:40,label:"Poster"}),!1!==e.settings.media_dimensions){var b=s.createUi(v);m.push(b)}a=u(e);var y={id:"mcemediasource",type:"textbox",flex:1,name:"embed",value:d(e),multiline:!0,rows:5,label:"Source"},x=function(){a=o.extend({},t.htmlToData(e.settings.media_scripts,this.value())),this.parent().parent().fromJSON(a)};y[l]=x,i=e.windowManager.open({title:"Insert/edit media",data:a,bodyType:"tabpanel",body:[{title:"General",type:"form",items:m},{title:"Embed",type:"container",layout:"flex",direction:"column",align:"stretch",padding:10,spacing:10,items:[{type:"label",text:"Paste your embed code below:",forId:"mcemediasource"},y]},{title:"Advanced",type:"form",items:g}],onSubmit:function(){s.updateSize(i),p(i,e)}}),s.syncSize(i)}}})),a("3",["e","8","9","a"],(function(e,t,n,r){var i;return{sanitize:function(e,i){if(!1===e.settings.media_filter_html)return i;var o,a=new t;return new n({validate:!1,allow_conditional_comments:!1,special:"script,noscript",comment:function(e){a.comment(e)},cdata:function(e){a.cdata(e)},text:function(e,t){a.text(e,t)},start:function(t,n,r){if(o=!0,"script"!==t&&"noscript"!==t){for(var i=0;i<n.length;i++){if(0===n[i].name.indexOf("on"))return;"style"===n[i].name&&(n[i].value=e.dom.serializeStyle(e.dom.parseStyle(n[i].value),t))}a.start(t,n,r),o=!1}},end:function(e){o||a.end(e)}},new r({})).parse(i),a.getContent()}}})),s("i",tinymce.html.Node),a("5",["3","h","i","f"],(function(e,t,n,r){var i=function(e,t){var i,o=t.name;return(i=new n("img",1)).shortEnded=!0,a(e,t,i),i.attr({width:t.attr("width")||"300",height:t.attr("height")||("audio"===o?"30":"150"),style:t.attr("style"),src:r.transparentSrc,"data-mce-object":o,class:"mce-object mce-object-"+o}),i},o=function(e,t){var r,i,o,s=t.name;return(r=new n("span",1)).attr({contentEditable:"false",style:t.attr("style"),"data-mce-object":s,class:"mce-preview-object mce-object-"+s}),a(e,t,r),(i=new n(s,1)).attr({src:t.attr("src"),allowfullscreen:t.attr("allowfullscreen"),width:t.attr("width")||"300",height:t.attr("height")||("audio"===s?"30":"150"),frameborder:"0"}),(o=new n("span",1)).attr("class","mce-shim"),r.append(i),r.append(o),r},a=function(t,n,r){var i,o,a,s,l;for(s=(a=n.attributes).length;s--;)i=a[s].name,o=a[s].value,"width"!==i&&"height"!==i&&"style"!==i&&("data"!==i&&"src"!==i||(o=t.convertURL(o,i)),r.attr("data-mce-p-"+i,o));(l=n.firstChild&&n.firstChild.value)&&(r.attr("data-mce-html",escape(e.sanitize(t,l))),r.firstChild=null)},s=function(e){for(;e=e.parent;)if(e.attr("data-ephox-embed-iri"))return!0;return!1},l=function(e){return function(n){for(var a,l,c=n.length;c--;)(a=n[c]).parent&&(a.parent.attr("data-mce-object")||("script"!==a.name||(l=t.getVideoScriptMatch(e.settings.media_scripts,a.attr("src"))))&&(l&&(l.width&&a.attr("width",l.width.toString()),l.height&&a.attr("height",l.height.toString())),"iframe"===a.name&&!1!==e.settings.media_live_embeds&&r.ceFalse?s(a)||a.replace(o(e,a)):s(a)||a.replace(i(e,a))))}};return{createPreviewIframeNode:o,createPlaceholderNode:i,placeHolderConverter:l}})),a("0",["1","2","3","4","5"],(function(e,t,n,r,i){var o=function(e){e.on("ResolveName",(function(e){var t;1===e.target.nodeType&&(t=e.target.getAttribute("data-mce-object"))&&(e.name=t)})),e.on("preInit",(function(){var t=e.schema.getSpecialElements();tinymce.each("video audio iframe object".split(" "),(function(e){t[e]=new RegExp("</"+e+"[^>]*>","gi")}));var r=e.schema.getBoolAttrs();tinymce.each("webkitallowfullscreen mozallowfullscreen allowfullscreen".split(" "),(function(e){r[e]={}})),e.parser.addNodeFilter("iframe,video,audio,object,embed,script",i.placeHolderConverter(e)),e.serializer.addAttributeFilter("data-mce-object",(function(t,r){for(var i,o,a,s,l,c,u,d,f=t.length;f--;)if((i=t[f]).parent){for(u=i.attr(r),o=new tinymce.html.Node(u,1),"audio"!==u&&"script"!==u&&((d=i.attr("class"))&&-1!==d.indexOf("mce-preview-object")?o.attr({width:i.firstChild.attr("width"),height:i.firstChild.attr("height")}):o.attr({width:i.attr("width"),height:i.attr("height")})),o.attr({style:i.attr("style")}),a=(s=i.attributes).length;a--;){var m=s[a].name;0===m.indexOf("data-mce-p-")&&o.attr(m.substr(11),s[a].value)}"script"===u&&o.attr("type","text/javascript"),(l=i.attr("data-mce-html"))&&((c=new tinymce.html.Node("#text",3)).raw=!0,c.value=n.sanitize(e,unescape(l)),o.append(c)),i.replace(o)}}))})),e.on("click keyup",(function(){var t=e.selection.getNode();t&&e.dom.hasClass(t,"mce-preview-object")&&e.dom.getAttrib(t,"data-mce-selected")&&t.setAttribute("data-mce-selected","2")})),e.on("ObjectSelected",(function(e){var t=e.target.getAttribute("data-mce-object");"audio"!==t&&"script"!==t||e.preventDefault()})),e.on("objectResized",(function(e){var t,n=e.target;n.getAttribute("data-mce-object")&&(t=n.getAttribute("data-mce-html"))&&(t=unescape(t),n.setAttribute("data-mce-html",escape(r.updateHtml(t,{width:e.width,height:e.height}))))})),this.showDialog=function(){t.showDialog(e)},e.addButton("media",{tooltip:"Insert/edit media",onclick:this.showDialog,stateSelector:["img[data-mce-object]","span[data-mce-object]","div[data-ephox-embed-iri]"]}),e.addMenuItem("media",{icon:"media",text:"Media",onclick:this.showDialog,context:"insert",prependToContext:!0}),e.on("setContent",(function(){e.$("span.mce-preview-object").each((function(t,n){var r=e.$(n);0===r.find("span.mce-shim",n).length&&r.append('<span class="mce-shim"></span>')}))})),e.addCommand("mceMedia",this.showDialog)};return e.add("media",o),function(){}})),r("0")()}.call(this),function(){tinymce.PluginManager.add("pagebreak",(function(e){var t="mce-pagebreak",n=e.getParam("pagebreak_separator","\x3c!-- pagebreak --\x3e"),r=new RegExp(n.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,(function(e){return"\\"+e})),"gi"),i='<img src="'+tinymce.Env.transparentSrc+'" class="'+t+'" data-mce-resize="false" data-mce-placeholder />';e.addCommand("mcePageBreak",(function(){e.settings.pagebreak_split_block?e.insertContent("<p>"+i+"</p>"):e.insertContent(i)})),e.addButton("pagebreak",{title:"Page break",cmd:"mcePageBreak"}),e.addMenuItem("pagebreak",{text:"Page break",icon:"pagebreak",cmd:"mcePageBreak",context:"insert"}),e.on("ResolveName",(function(n){"IMG"==n.target.nodeName&&e.dom.hasClass(n.target,t)&&(n.name="pagebreak")})),e.on("click",(function(n){"IMG"===(n=n.target).nodeName&&e.dom.hasClass(n,t)&&e.selection.select(n)})),e.on("BeforeSetContent",(function(e){e.content=e.content.replace(r,i)})),e.on("PreInit",(function(){e.serializer.addNodeFilter("img",(function(t){for(var r,i,o=t.length;o--;)if((i=(r=t[o]).attr("class"))&&-1!==i.indexOf("mce-pagebreak")){var a=r.parent;if(e.schema.getBlockElements()[a.name]&&e.settings.pagebreak_split_block){a.type=3,a.value=n,a.raw=!0,r.remove();continue}r.type=3,r.value=n,r.raw=!0}}))}))}))}.call(this),function(){tinymce.PluginManager.add("print",(function(e){e.addCommand("mcePrint",(function(){e.getWin().print()})),e.addButton("print",{title:"Print",cmd:"mcePrint"}),e.addShortcut("Meta+P","","mcePrint"),e.addMenuItem("print",{text:"Print",cmd:"mcePrint",icon:"print",shortcut:"Meta+P",context:"file"})}))}.call(this),function(){!function(e,t){"use strict";function n(e,t){for(var n,r=[],o=0;o<e.length;++o){if(!(n=a[e[o]]||i(e[o])))throw"module definition dependecy not found: "+e[o];r.push(n)}t.apply(null,r)}function r(e,r,i){if("string"!=typeof e)throw"invalid module definition, module id must be defined and be a string";if(r===t)throw"invalid module definition, dependencies must be specified";if(i===t)throw"invalid module definition, definition function must be specified";n(r,(function(){a[e]=i.apply(null,arguments)}))}function i(t){for(var n=e,r=t.split(/[.\/]/),i=0;i<r.length;++i){if(!n[r[i]])return;n=n[r[i]]}return n}function o(n){var r,i,o,s,l;for(r=0;r<n.length;r++){i=e,s=(o=n[r]).split(/[.\/]/);for(var c=0;c<s.length-1;++c)i[s[c]]===t&&(i[s[c]]={}),i=i[s[c]];i[s[s.length-1]]=a[o]}if(e.AMDLC_TESTS){for(o in l=e.privateModules||{},a)l[o]=a[o];for(r=0;r<n.length;r++)delete l[n[r]];e.privateModules=l}}var a={};r("tinymce/spellcheckerplugin/DomTextMatcher",[],(function(){function e(e){return e&&1==e.nodeType&&"false"===e.contentEditable}return function(t,n){function r(e,t){if(!e[0])throw"findAndReplaceDOMText cannot handle zero-length matches";return{start:e.index,end:e.index+e[0].length,text:e[0],data:t}}function i(t){var n;if(3===t.nodeType)return t.data;if(N[t.nodeName]&&!k[t.nodeName])return"";if(e(t))return"\n";if(n="",(k[t.nodeName]||S[t.nodeName])&&(n+="\n"),t=t.firstChild)do{n+=i(t)}while(t=t.nextSibling);return n}function o(t,n,r){var i,o,a,s,l,c=[],u=0,d=t,f=0;(n=n.slice(0)).sort((function(e,t){return e.start-t.start})),l=n.shift();e:for(;;){if((k[d.nodeName]||S[d.nodeName]||e(d))&&u++,3===d.nodeType&&(!o&&d.length+u>=l.end?(o=d,s=l.end-u):i&&c.push(d),!i&&d.length+u>l.start&&(i=d,a=l.start-u),u+=d.length),i&&o){if(d=r({startNode:i,startNodeIndex:a,endNode:o,endNodeIndex:s,innerNodes:c,match:l.text,matchIndex:f}),u-=o.length-s,i=null,o=null,c=[],f++,!(l=n.shift()))break}else if(N[d.nodeName]&&!k[d.nodeName]||!d.firstChild){if(d.nextSibling){d=d.nextSibling;continue}}else if(!e(d)){d=d.firstChild;continue}for(;;){if(d.nextSibling){d=d.nextSibling;break}if(d.parentNode===t)break e;d=d.parentNode}}}function a(e){function t(t,n){var r=_[n];r.stencil||(r.stencil=e(r));var i=r.stencil.cloneNode(!1);return i.setAttribute("data-mce-index",n),t&&i.appendChild(T.doc.createTextNode(t)),i}return function(e){var n,r,i,o=e.startNode,a=e.endNode,s=e.matchIndex,l=T.doc;if(o===a){var c=o;i=c.parentNode,e.startNodeIndex>0&&(n=l.createTextNode(c.data.substring(0,e.startNodeIndex)),i.insertBefore(n,c));var u=t(e.match,s);return i.insertBefore(u,c),e.endNodeIndex<c.length&&(r=l.createTextNode(c.data.substring(e.endNodeIndex)),i.insertBefore(r,c)),c.parentNode.removeChild(c),u}n=l.createTextNode(o.data.substring(0,e.startNodeIndex)),r=l.createTextNode(a.data.substring(e.endNodeIndex));for(var d=t(o.data.substring(e.startNodeIndex),s),f=[],m=0,g=e.innerNodes.length;m<g;++m){var p=e.innerNodes[m],h=t(p.data,s);p.parentNode.replaceChild(h,p),f.push(h)}var v=t(a.data.substring(0,e.endNodeIndex),s);return(i=o.parentNode).insertBefore(n,o),i.insertBefore(d,o),i.removeChild(o),(i=a.parentNode).insertBefore(v,a),i.insertBefore(r,a),i.removeChild(a),v}}function s(e){var t;e.parentNode.insertBefore(e.firstChild,e),e.parentNode.removeChild(e)}function l(e){var n=t.getElementsByTagName("*"),r=[];e="number"==typeof e?""+e:null;for(var i=0;i<n.length;i++){var o=n[i],a=o.getAttribute("data-mce-index");null!==a&&a.length&&(a!==e&&null!==e||r.push(o))}return r}function c(e){for(var t=_.length;t--;)if(_[t]===e)return t;return-1}function u(e){var t=[];return d((function(n,r){e(n,r)&&t.push(n)})),_=t,this}function d(e){for(var t=0,n=_.length;t<n&&!1!==e(_[t],t);t++);return this}function f(e){return _.length&&o(t,_,a(e)),this}function m(e,t){if(C&&e.global)for(;w=e.exec(C);)_.push(r(w,t));return this}function g(e){var t,n=l(e?c(e):null);for(t=n.length;t--;)s(n[t]);return this}function p(e){return _[e.getAttribute("data-mce-index")]}function h(e){return l(c(e))[0]}function v(e,t,n){return _.push({start:e,end:e+t,text:C.substr(e,t),data:n}),this}function b(e){var t=l(c(e)),r=n.dom.createRng();return r.setStartBefore(t[0]),r.setEndAfter(t[t.length-1]),r}function y(e,t){var r=b(e);return r.deleteContents(),t.length>0&&r.insertNode(n.dom.doc.createTextNode(t)),r}function x(){return _.splice(0,_.length),g(),this}var w,C,k,N,S,_=[],T=n.dom;return k=n.schema.getBlockElements(),N=n.schema.getWhiteSpaceElements(),S=n.schema.getShortEndedElements(),{text:C=i(t),matches:_,each:d,filter:u,reset:x,matchFromElement:p,elementFromMatch:h,find:m,add:v,wrap:f,unwrap:g,replace:y,rangeFromMatch:b,indexOf:c}}})),r("tinymce/spellcheckerplugin/Plugin",["tinymce/spellcheckerplugin/DomTextMatcher","tinymce/PluginManager","tinymce/util/Tools","tinymce/ui/Menu","tinymce/dom/DOMUtils","tinymce/util/XHR","tinymce/util/URI","tinymce/util/JSON"],(function(e,t,n,r,i,o,a,s){t.add("spellchecker",(function(l,c){function u(){return B.textMatcher||(B.textMatcher=new e(l.getBody(),l)),B.textMatcher}function d(e,t){var r=[];return n.each(t,(function(e){r.push({selectable:!0,text:e.name,data:e.value})})),r}function f(e){for(var t in e)return!1;return!0}function m(e,t){var o=[],a=T[e];n.each(a,(function(e){o.push({text:e,onclick:function(){l.insertContent(l.dom.encode(e)),l.dom.remove(t),b()}})})),o.push({text:"-"}),A&&o.push({text:"Add to Dictionary",onclick:function(){y(e,t)}}),o.push.apply(o,[{text:"Ignore",onclick:function(){x(e,t)}},{text:"Ignore all",onclick:function(){x(e,t,!0)}}]),(R=new r({items:o,context:"contextmenu",onautohide:function(e){-1!=e.target.className.indexOf("spellchecker")&&e.preventDefault()},onhide:function(){R.remove(),R=null}})).renderTo(document.body);var s=i.DOM.getPos(l.getContentAreaContainer()),c=l.dom.getPos(t[0]),u=l.dom.getRoot();"BODY"==u.nodeName?(c.x-=u.ownerDocument.documentElement.scrollLeft||u.scrollLeft,c.y-=u.ownerDocument.documentElement.scrollTop||u.scrollTop):(c.x-=u.scrollLeft,c.y-=u.scrollTop),s.x+=c.x,s.y+=c.y,R.moveTo(s.x,s.y+t[0].offsetHeight)}function g(){return l.getParam("spellchecker_wordchar_pattern")||new RegExp('[^\\s!"#$%&()*+,-./:;<=>?@[\\]^_{|}`]+',"g")}function p(e,t,r,i){var u={method:e,lang:P.spellchecker_language},d="";u["addToDictionary"==e?"word":"text"]=t,n.each(u,(function(e,t){d&&(d+="&"),d+=t+"="+encodeURIComponent(e)})),o.send({url:new a(c).toAbsolute(P.spellchecker_rpc_url),type:"post",content_type:"application/x-www-form-urlencoded",data:d,success:function(e){if(e=s.parse(e))e.error?i(e.error):r(e);else{var t=l.translate("Server response wasn't proper JSON.");i(t)}},error:function(){var e=l.translate("The spelling service was not found: (")+P.spellchecker_rpc_url+l.translate(")");i(e)}})}function h(e,t,n,r){var i;(P.spellchecker_callback||p).call(B,e,t,n,r)}function v(){function e(e){l.notificationManager.open({text:e,type:"error"}),l.setProgressState(!1),w()}w()||(l.setProgressState(!0),h("spellcheck",u().text,S,e),l.focus())}function b(){l.dom.select("span.mce-spellchecker-word").length||w()}function y(e,t){l.setProgressState(!0),h("addToDictionary",e,(function(){l.setProgressState(!1),l.dom.remove(t,!0),b()}),(function(e){l.notificationManager.open({text:e,type:"error"}),l.setProgressState(!1)}))}function x(e,t,r){l.selection.collapse(),r?n.each(l.dom.select("span.mce-spellchecker-word"),(function(t){t.getAttribute("data-mce-word")==e&&l.dom.remove(t,!0)})):l.dom.remove(t,!0),b()}function w(){if(u().reset(),B.textMatcher=null,E)return E=!1,l.fire("SpellcheckEnd"),!0}function C(e){var t=e.getAttribute("data-mce-index");return"number"==typeof t?""+t:t}function k(e){var t,r=[];if((t=n.toArray(l.getBody().getElementsByTagName("span"))).length)for(var i=0;i<t.length;i++){var o=C(t[i]);null!==o&&o.length&&o===e.toString()&&r.push(t[i])}return r}function N(e){var t=P.spellchecker_language;e.control.items().each((function(e){e.active(e.settings.data===t)}))}function S(e){var t;if(e.words?(A=!!e.dictionary,t=e.words):t=e,l.setProgressState(!1),f(t)){var n=l.translate("No misspellings found.");return l.notificationManager.open({text:n,type:"info"}),void(E=!1)}T=t,u().find(g()).filter((function(e){return!!t[e.text]})).wrap((function(e){return l.dom.create("span",{class:"mce-spellchecker-word","data-mce-bogus":1,"data-mce-word":e.text})})),E=!0,l.fire("SpellcheckStart")}var _,T,E,R,A,B=this,P=l.settings;if(/(^|[ ,])tinymcespellchecker([, ]|$)/.test(P.plugins)&&t.get("tinymcespellchecker"))"undefined"!=typeof console&&console.log&&console.log("Spell Checker Pro is incompatible with Spell Checker plugin! Remove 'spellchecker' from the 'plugins' option.");else{var M=P.spellchecker_languages||"English=en,Danish=da,Dutch=nl,Finnish=fi,French=fr_FR,German=de,Italian=it,Polish=pl,Portuguese=pt_BR,Spanish=es,Swedish=sv";_=d("Language",n.map(M.split(","),(function(e){return{name:(e=e.split("="))[0],value:e[1]}}))),l.on("click",(function(e){var t=e.target;if("mce-spellchecker-word"==t.className){e.preventDefault();var n=k(C(t));if(n.length>0){var r=l.dom.createRng();r.setStartBefore(n[0]),r.setEndAfter(n[n.length-1]),l.selection.setRng(r),m(t.getAttribute("data-mce-word"),n)}}})),l.addMenuItem("spellchecker",{text:"Spellcheck",context:"tools",onclick:v,selectable:!0,onPostRender:function(){var e=this;e.active(E),l.on("SpellcheckStart SpellcheckEnd",(function(){e.active(E)}))}});var D={tooltip:"Spellcheck",onclick:v,onPostRender:function(){var e=this;l.on("SpellcheckStart SpellcheckEnd",(function(){e.active(E)}))}};_.length>1&&(D.type="splitbutton",D.menu=_,D.onshow=N,D.onselect=function(e){P.spellchecker_language=e.control.settings.data}),l.addButton("spellchecker",D),l.addCommand("mceSpellCheck",v),l.on("remove",(function(){R&&(R.remove(),R=null)})),l.on("change",b),this.getTextMatcher=u,this.getWordCharPattern=g,this.markErrors=S,this.getLanguage=function(){return P.spellchecker_language},P.spellchecker_language=P.spellchecker_language||P.language||"en"}}))})),o(["tinymce/spellcheckerplugin/DomTextMatcher"])}(window)}.call(this),function(){tinymce.PluginManager.add("template",(function(e){function t(t){return function(){var n=e.settings.templates;return"function"==typeof n?void n(t):void("string"==typeof n?tinymce.util.XHR.send({url:n,success:function(e){t(tinymce.util.JSON.parse(e))}}):t(n))}}function n(t){function n(t){function n(t){if(-1==t.indexOf("<html>")){var n="";tinymce.each(e.contentCSS,(function(t){n+='<link type="text/css" rel="stylesheet" href="'+e.documentBaseURI.toAbsolute(t)+'">'}));var i=e.settings.body_class||"";-1!=i.indexOf("=")&&(i=(i=e.getParam("body_class","","hash"))[e.id]||""),t="<!DOCTYPE html><html><head>"+n+'</head><body class="'+i+'">'+t+"</body></html>"}t=o(t,"template_preview_replace_values");var a=r.find("iframe")[0].getEl().contentWindow.document;a.open(),a.write(t),a.close()}var a=t.control.value();a.url?tinymce.util.XHR.send({url:a.url,success:function(e){n(i=e)}}):n(i=a.content),r.find("#description")[0].text(t.control.value().description)}var r,i,s=[];if(t&&0!==t.length)tinymce.each(t,(function(e){s.push({selected:!s.length,text:e.title,value:{url:e.url,content:e.content,description:e.description}})})),(r=e.windowManager.open({title:"Insert template",layout:"flex",direction:"column",align:"stretch",padding:15,spacing:10,items:[{type:"form",flex:0,padding:0,items:[{type:"container",label:"Templates",items:{type:"listbox",label:"Templates",name:"template",values:s,onselect:n}}]},{type:"label",name:"description",label:"Description",text:""},{type:"iframe",flex:1,border:1}],onsubmit:function(){a(!1,i)},minWidth:Math.min(tinymce.DOM.getViewPort().w,e.getParam("template_popup_width",600)),minHeight:Math.min(tinymce.DOM.getViewPort().h,e.getParam("template_popup_height",500))})).find("listbox")[0].fire("select");else{var l=e.translate("No templates defined.");e.notificationManager.open({text:l,type:"info"})}}function r(t,n){function r(e,t){if((e=""+e).length<t)for(var n=0;n<t-e.length;n++)e="0"+e;return e}var i="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),o="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),a="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),s="January February March April May June July August September October November December".split(" ");return n=n||new Date,(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace("%D","%m/%d/%Y")).replace("%r","%I:%M:%S %p")).replace("%Y",""+n.getFullYear())).replace("%y",""+n.getYear())).replace("%m",r(n.getMonth()+1,2))).replace("%d",r(n.getDate(),2))).replace("%H",""+r(n.getHours(),2))).replace("%M",""+r(n.getMinutes(),2))).replace("%S",""+r(n.getSeconds(),2))).replace("%I",""+((n.getHours()+11)%12+1))).replace("%p",n.getHours()<12?"AM":"PM")).replace("%B",""+e.translate(s[n.getMonth()]))).replace("%b",""+e.translate(a[n.getMonth()]))).replace("%A",""+e.translate(o[n.getDay()]))).replace("%a",""+e.translate(i[n.getDay()]))).replace("%%","%")}function i(t){var n=e.dom,r=e.getParam("template_replace_values");s(n.select("*",t),(function(e){s(r,(function(t,i){n.hasClass(e,i)&&"function"==typeof r[i]&&r[i](e)}))}))}function o(t,n){return s(e.getParam(n),(function(e,n){"function"==typeof e&&(e=e(n)),t=t.replace(new RegExp("\\{\\$"+n+"\\}","g"),e)})),t}function a(t,n){function a(e,t){return new RegExp("\\b"+t+"\\b","g").test(e.className)}var l,c,u=e.dom,d=e.selection.getContent();n=o(n,"template_replace_values"),l=u.create("div",null,n),(c=u.select(".mceTmpl",l))&&c.length>0&&(l=u.create("div",null)).appendChild(c[0].cloneNode(!0)),s(u.select("*",l),(function(t){a(t,e.getParam("template_cdate_classes","cdate").replace(/\s+/g,"|"))&&(t.innerHTML=r(e.getParam("template_cdate_format",e.getLang("template.cdate_format")))),a(t,e.getParam("template_mdate_classes","mdate").replace(/\s+/g,"|"))&&(t.innerHTML=r(e.getParam("template_mdate_format",e.getLang("template.mdate_format")))),a(t,e.getParam("template_selected_content_classes","selcontent").replace(/\s+/g,"|"))&&(t.innerHTML=d)})),i(l),e.execCommand("mceInsertContent",!1,l.innerHTML),e.addVisual()}var s=tinymce.each;e.addCommand("mceInsertTemplate",a),e.addButton("template",{title:"Insert template",onclick:t(n)}),e.addMenuItem("template",{text:"Template",onclick:t(n),context:"insert"}),e.on("PreProcess",(function(t){var n=e.dom;s(n.select("div",t.node),(function(t){n.hasClass(t,"mceTmpl")&&(s(n.select("*",t),(function(t){n.hasClass(t,e.getParam("template_mdate_classes","mdate").replace(/\s+/g,"|"))&&(t.innerHTML=r(e.getParam("template_mdate_format",e.getLang("template.mdate_format"))))})),i(t))}))}))}))}.call(this),function(){tinymce.PluginManager.add("toc",(function(e){function t(t){return e.schema.isValidChild("div",t)}function n(t){return t&&e.dom.is(t,"."+d.className)&&e.getBody().contains(t)}function r(){var t=this;t.disabled(e.readonly||!o()),e.on("LoadContent SetContent change",(function(){t.disabled(e.readonly||!o())}))}function i(e){var t,n=[];for(t=1;t<=e;t++)n.push("h"+t);return n.join(",")}function o(){return!(!d||!a(d).length)}function a(t){var n=i(t.depth),r=f(n);return r.length&&/^h[1-9]$/i.test(t.headerTag)&&(r=r.filter((function(n,r){return!e.dom.hasClass(r.parentNode,t.className)}))),tinymce.map(r,(function(e){return e.id||(e.id=v()),{id:e.id,level:parseInt(e.nodeName.replace(/^H/i,""),10),title:f.text(e)}}))}function s(e){var t,n=9;for(t=0;t<e.length;t++)if(e[t].level<n&&(n=e[t].level),1==n)return n;return n}function l(t,n){var r,i="</"+t+">";return"<"+t+' contenteditable="true">'+e.dom.encode(n)+i}function c(e){var t=u(e);return'<div class="'+e.className+'" contenteditable="false">'+t+"</div>"}function u(e){var t,n,r,i,o="",c=a(e),u=s(c)-1;if(!c.length)return"";for(o+=l(e.headerTag,tinymce.translate("Table of Contents")),t=0;t<c.length;t++){if(r=c[t],i=c[t+1]&&c[t+1].level,u===r.level)o+="<li>";else for(n=u;n<r.level;n++)o+="<ul><li>";if(o+='<a href="#'+r.id+'">'+r.title+"</a>",i!==r.level&&i)for(n=r.level;n>i;n--)o+="</li></ul><li>";else o+="</li>",i||(o+="</ul>");u=r.level}return o}var d,f=e.$,m=3,g="h2",p="mce-toc",h,v=function(e){var t=0;return function(){var n=(new Date).getTime().toString(32);return e+n+(t++).toString(32)}}("mcetoc_");e.on("PreInit",(function(){var n=e.settings,r=parseInt(n.toc_depth,10)||0;d={depth:r>=1&&r<=9?r:m,headerTag:t(n.toc_header)?n.toc_header:g,className:n.toc_class?e.dom.encode(n.toc_class):p}})),e.on("PreProcess",(function(e){var t=f("."+d.className,e.node);t.length&&(t.removeAttr("contentEditable"),t.find("[contenteditable]").removeAttr("contentEditable"))})),e.on("SetContent",(function(){var e=f("."+d.className);e.length&&(e.attr("contentEditable",!1),e.children(":first-child").attr("contentEditable",!0))}));var b=function(t){return!t.length||e.dom.getParents(t[0],".mce-offscreen-selection").length>0};e.addCommand("mceInsertToc",(function(){var t=f("."+d.className);b(t)?e.insertContent(c(d)):e.execCommand("mceUpdateToc")})),e.addCommand("mceUpdateToc",(function(){var t=f("."+d.className);t.length&&e.undoManager.transact((function(){t.html(u(d))}))})),e.addButton("toc",{tooltip:"Table of Contents",cmd:"mceInsertToc",icon:"toc",onPostRender:r}),e.addButton("tocupdate",{tooltip:"Update",cmd:"mceUpdateToc",icon:"reload"}),e.addContextToolbar(n,"tocupdate"),e.addMenuItem("toc",{text:"Table of Contents",context:"insert",cmd:"mceInsertToc",onPostRender:r})}))}.call(this),function(){var e,t,n,r,i,o,a,s;e={},t=function(t){for(var n=e[t],i=n.deps,o=n.defn,a=i.length,s=new Array(a),l=0;l<a;++l)s[l]=r(i[l]);var c=o.apply(null,s);if(void 0===c)throw"module ["+t+"] returned undefined";n.instance=c},n=function(t,n,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;e[t]={deps:n,defn:r,instance:void 0}},r=function(n){var r=e[n];if(void 0===r)throw"module ["+n+"] was undefined";return void 0===r.instance&&t(n),r.instance},a=n,(s=function(e,t){a(e,[],(function(){return t}))})("1",tinymce.PluginManager),s("2",tinymce.util.Delay),a("4",[],(function(){var e,t="['\\.]",n="[:]",r="[,;;]",i="[0-9---------------------------------]",o="\\r",a="\\n",s="[\v\f\u2028\u2029]",l="[------------------------------------------------------------------------------------------------------]",c="[----\ufeff-]",u="[-------]",d="[_-]",f="[!-#%-*,-\\/:;?@\\[-\\]_{};----------------------------------------------]",m,g,p,h,v;return{characterIndices:{ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},SETS:[new RegExp("[A-Za-z---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]"),new RegExp(t),new RegExp(n),new RegExp(r),new RegExp(i),new RegExp(o),new RegExp(a),new RegExp(s),new RegExp(l),new RegExp(c),new RegExp(u),new RegExp(d),new RegExp("@")],EMPTY_STRING:"",PUNCTUATION:new RegExp("^"+f+"$"),WHITESPACE:/\s/}})),a("7",[],(function(){var e=function(e,t,n){var r,i;if(!e)return 0;if(n=n||e,void 0!==e.length){for(r=0,i=e.length;r<i;r++)if(!1===t.call(n,e[r],r,e))return 0}else for(r in e)if(e.hasOwnProperty(r)&&!1===t.call(n,e[r],r,e))return 0;return 1},t=function(t,n){var r=[];return e(t,(function(e,i){r.push(n(e,i,t))})),r};return{each:e,map:t}})),a("5",["4","7"],(function(e,t){var n=e.SETS,r=e.characterIndices.OTHER,i=function(e){var t,i,o=r,a=n.length;for(t=0;t<a;++t)if((i=n[t])&&i.test(e)){o=t;break}return o},o=function(e){var t={};return function(n){if(t[n])return t[n];var r=e(n);return t[n]=r,r}},a;return{classify:function(e){var n=o(i);return t.map(e.split(""),n)}}})),a("6",["4"],(function(e){var t=e.characterIndices,n;return{isWordBoundary:function(e,n){var r,i,o=e[n],a=e[n+1];return!(n<0||n>e.length-1&&0!==n||o===t.ALETTER&&a===t.ALETTER||(i=e[n+2],o===t.ALETTER&&(a===t.MIDLETTER||a===t.MIDNUMLET||a===t.AT)&&i===t.ALETTER||(r=e[n-1],(o===t.MIDLETTER||o===t.MIDNUMLET||a===t.AT)&&a===t.ALETTER&&r===t.ALETTER||!(o!==t.NUMERIC&&o!==t.ALETTER||a!==t.NUMERIC&&a!==t.ALETTER)||(o===t.MIDNUM||o===t.MIDNUMLET)&&a===t.NUMERIC&&r===t.NUMERIC||o===t.NUMERIC&&(a===t.MIDNUM||a===t.MIDNUMLET)&&i===t.NUMERIC||o===t.EXTEND||o===t.FORMAT||r===t.EXTEND||r===t.FORMAT||a===t.EXTEND||a===t.FORMAT||o===t.CR&&a===t.LF||o!==t.NEWLINE&&o!==t.CR&&o!==t.LF&&a!==t.NEWLINE&&a!==t.CR&&a!==t.LF&&(o===t.KATAKANA&&a===t.KATAKANA||a===t.EXTENDNUMLET&&(o===t.ALETTER||o===t.NUMERIC||o===t.KATAKANA||o===t.EXTENDNUMLET)||o===t.EXTENDNUMLET&&(a===t.ALETTER||a===t.NUMERIC||a===t.KATAKANA)||o===t.AT))))}}})),a("3",["4","5","6"],(function(e,t,n){var r=e.EMPTY_STRING,i=e.WHITESPACE,o=e.PUNCTUATION,a=function(e){return"http"===e||"https"===e},s=function(e,t){var n;for(n=t;n<e.length;++n){var r=e.charAt(n);if(i.test(r))break}return n},l=function(e,t,n){var r=s(t,n+1),i=t.substring(n+1,r);return"://"===i.substr(0,3)?{word:e+i,index:r}:{word:e,index:n}},c;return{getWords:function(e,s){var c,u,d,f=0,m=t.classify(e),g=m.length,p=[],h=[];for(s||(s={}),s.ignoreCase&&(e=e.toLowerCase()),u=s.includePunctuation,d=s.includeWhitespace;f<g;++f)if(c=e.charAt(f),p.push(c),n.isWordBoundary(m,f)){if((p=p.join(r))&&(d||!i.test(p))&&(u||!o.test(p)))if(a(p)){var v=l(p,e,f);h.push(v.word),f=v.index}else h.push(p);p=[]}return h}}})),a("0",["1","2","3"],(function(e,t,n){return e.add("wordcount",(function(e){var r=function(e){return e.removed?"":e.getBody().innerText},i=function(){return n.getWords(r(e)).length},o=function(){e.theme.panel.find("#wordcount").text(["Words: {0}",i()])};return e.on("init",(function(){var n=e.theme.panel&&e.theme.panel.find("#statusbar")[0],r=t.debounce(o,300);n&&t.setEditorTimeout(e,(function(){n.insert({type:"label",name:"wordcount",text:["Words: {0}",i()],classes:"wordcount",disabled:e.settings.readonly},0),e.on("setcontent beforeaddundo undo redo keyup",r)}),0)})),{getCount:i}})),function(){}})),r("0")()}.call(this),function(){tinymce.PluginManager.add("autolink",(function(e){function t(e){i(e,-1,"(",!0)}function n(e){i(e,0,"",!0)}function r(e){i(e,-1,"",!1)}function i(e,t,n){function r(e,t){if(t<0&&(t=0),3==e.nodeType){var n=e.data.length;t>n&&(t=n)}return t}function i(e,t){1!=e.nodeType||e.hasChildNodes()?s.setStart(e,r(e,t)):s.setStartBefore(e)}function o(e,t){1!=e.nodeType||e.hasChildNodes()?s.setEnd(e,r(e,t)):s.setEndAfter(e)}var s,l,c,u,d,f,m,g,p,h;if("A"!=e.selection.getNode().tagName){if((s=e.selection.getRng(!0).cloneRange()).startOffset<5){if(!(g=s.endContainer.previousSibling)){if(!s.endContainer.firstChild||!s.endContainer.firstChild.nextSibling)return;g=s.endContainer.firstChild.nextSibling}if(i(g,p=g.length),o(g,p),s.endOffset<5)return;l=s.endOffset,u=g}else{if(3!=(u=s.endContainer).nodeType&&u.firstChild){for(;3!=u.nodeType&&u.firstChild;)u=u.firstChild;3==u.nodeType&&(i(u,0),o(u,u.nodeValue.length))}l=1==s.endOffset?2:s.endOffset-1-t}c=l;do{i(u,l>=2?l-2:0),o(u,l>=1?l-1:0),l-=1,h=s.toString()}while(" "!=h&&""!==h&&160!=h.charCodeAt(0)&&l-2>=0&&h!=n);s.toString()==n||160==s.toString().charCodeAt(0)?(i(u,l),o(u,c),l+=1):0===s.startOffset?(i(u,0),o(u,c)):(i(u,l),o(u,c)),"."==(f=s.toString()).charAt(f.length-1)&&o(u,c-1),(m=(f=s.toString()).match(a))&&("www."==m[1]?m[1]="http://www.":/@$/.test(m[1])&&!/^mailto:/.test(m[1])&&(m[1]="mailto:"+m[1]),d=e.selection.getBookmark(),e.selection.setRng(s),e.execCommand("createlink",!1,m[1]+m[2]),e.settings.default_link_target&&e.dom.setAttrib(e.selection.getNode(),"target",e.settings.default_link_target),e.selection.moveToBookmark(d),e.nodeChanged())}}var o,a=/^(https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|www\.|(?:mailto:)?[A-Z0-9._%+\-]+@)(.+)$/i;return e.settings.autolink_pattern&&(a=e.settings.autolink_pattern),e.on("keydown",(function(t){if(13==t.keyCode)return r(e)})),tinymce.Env.ie?void e.on("focus",(function(){if(!o){o=!0;try{e.execCommand("AutoUrlDetect",!1,!0)}catch(e){}}})):(e.on("keypress",(function(n){if(41==n.keyCode)return t(e)})),void e.on("keyup",(function(t){if(32==t.keyCode)return n(e)})))}))}.call(this),function(){tinymce.create("tinymce.plugins.BBCodePlugin",{init:function(e){var t=this,n=e.getParam("bbcode_dialect","punbb").toLowerCase();e.on("beforeSetContent",(function(e){e.content=t["_"+n+"_bbcode2html"](e.content)})),e.on("postProcess",(function(e){e.set&&(e.content=t["_"+n+"_bbcode2html"](e.content)),e.get&&(e.content=t["_"+n+"_html2bbcode"](e.content))}))},getInfo:function(){return{longname:"BBCode Plugin",author:"Ephox Corp",authorurl:"http://www.tinymce.com",infourl:"http://www.tinymce.com/wiki.php/Plugin:bbcode"}},_punbb_html2bbcode:function(e){function t(t,n){e=e.replace(t,n)}return e=tinymce.trim(e),t(/<a.*?href=\"(.*?)\".*?>(.*?)<\/a>/gi,"[url=$1]$2[/url]"),t(/<font.*?color=\"(.*?)\".*?class=\"codeStyle\".*?>(.*?)<\/font>/gi,"[code][color=$1]$2[/color][/code]"),t(/<font.*?color=\"(.*?)\".*?class=\"quoteStyle\".*?>(.*?)<\/font>/gi,"[quote][color=$1]$2[/color][/quote]"),t(/<font.*?class=\"codeStyle\".*?color=\"(.*?)\".*?>(.*?)<\/font>/gi,"[code][color=$1]$2[/color][/code]"),t(/<font.*?class=\"quoteStyle\".*?color=\"(.*?)\".*?>(.*?)<\/font>/gi,"[quote][color=$1]$2[/color][/quote]"),t(/<span style=\"color: ?(.*?);\">(.*?)<\/span>/gi,"[color=$1]$2[/color]"),t(/<font.*?color=\"(.*?)\".*?>(.*?)<\/font>/gi,"[color=$1]$2[/color]"),t(/<span style=\"font-size:(.*?);\">(.*?)<\/span>/gi,"[size=$1]$2[/size]"),t(/<font>(.*?)<\/font>/gi,"$1"),t(/<img.*?src=\"(.*?)\".*?\/>/gi,"[img]$1[/img]"),t(/<span class=\"codeStyle\">(.*?)<\/span>/gi,"[code]$1[/code]"),t(/<span class=\"quoteStyle\">(.*?)<\/span>/gi,"[quote]$1[/quote]"),t(/<strong class=\"codeStyle\">(.*?)<\/strong>/gi,"[code][b]$1[/b][/code]"),t(/<strong class=\"quoteStyle\">(.*?)<\/strong>/gi,"[quote][b]$1[/b][/quote]"),t(/<em class=\"codeStyle\">(.*?)<\/em>/gi,"[code][i]$1[/i][/code]"),t(/<em class=\"quoteStyle\">(.*?)<\/em>/gi,"[quote][i]$1[/i][/quote]"),t(/<u class=\"codeStyle\">(.*?)<\/u>/gi,"[code][u]$1[/u][/code]"),t(/<u class=\"quoteStyle\">(.*?)<\/u>/gi,"[quote][u]$1[/u][/quote]"),t(/<\/(strong|b)>/gi,"[/b]"),t(/<(strong|b)>/gi,"[b]"),t(/<\/(em|i)>/gi,"[/i]"),t(/<(em|i)>/gi,"[i]"),t(/<\/u>/gi,"[/u]"),t(/<span style=\"text-decoration: ?underline;\">(.*?)<\/span>/gi,"[u]$1[/u]"),t(/<u>/gi,"[u]"),t(/<blockquote[^>]*>/gi,"[quote]"),t(/<\/blockquote>/gi,"[/quote]"),t(/<br \/>/gi,"\n"),t(/<br\/>/gi,"\n"),t(/<br>/gi,"\n"),t(/<p>/gi,""),t(/<\/p>/gi,"\n"),t(/&nbsp;|\u00a0/gi," "),t(/&quot;/gi,'"'),t(/&lt;/gi,"<"),t(/&gt;/gi,">"),t(/&amp;/gi,"&"),e},_punbb_bbcode2html:function(e){function t(t,n){e=e.replace(t,n)}return e=tinymce.trim(e),t(/\n/gi,"<br />"),t(/\[b\]/gi,"<strong>"),t(/\[\/b\]/gi,"</strong>"),t(/\[i\]/gi,"<em>"),t(/\[\/i\]/gi,"</em>"),t(/\[u\]/gi,"<u>"),t(/\[\/u\]/gi,"</u>"),t(/\[url=([^\]]+)\](.*?)\[\/url\]/gi,'<a href="$1">$2</a>'),t(/\[url\](.*?)\[\/url\]/gi,'<a href="$1">$1</a>'),t(/\[img\](.*?)\[\/img\]/gi,'<img src="$1" />'),t(/\[color=(.*?)\](.*?)\[\/color\]/gi,'<font color="$1">$2</font>'),t(/\[code\](.*?)\[\/code\]/gi,'<span class="codeStyle">$1</span>&nbsp;'),t(/\[quote.*?\](.*?)\[\/quote\]/gi,'<span class="quoteStyle">$1</span>&nbsp;'),e}}),tinymce.PluginManager.add("bbcode",tinymce.plugins.BBCodePlugin)}.call(this),function(){!function(e,n){"use strict";function r(e,t){for(var n,r=[],i=0;i<e.length;++i){if(!(n=s[e[i]]||o(e[i])))throw"module definition dependecy not found: "+e[i];r.push(n)}t.apply(null,r)}function i(e,t,i){if("string"!=typeof e)throw"invalid module definition, module id must be defined and be a string";if(t===n)throw"invalid module definition, dependencies must be specified";if(i===n)throw"invalid module definition, definition function must be specified";r(t,(function(){s[e]=i.apply(null,arguments)}))}function o(t){for(var n=e,r=t.split(/[.\/]/),i=0;i<r.length;++i){if(!n[r[i]])return;n=n[r[i]]}return n}function a(t){var r,i,o,a,l;for(r=0;r<t.length;r++){i=e,a=(o=t[r]).split(/[.\/]/);for(var c=0;c<a.length-1;++c)i[a[c]]===n&&(i[a[c]]={}),i=i[a[c]];i[a[a.length-1]]=s[o]}if(e.AMDLC_TESTS){for(o in l=e.privateModules||{},s)l[o]=s[o];for(r=0;r<t.length;r++)delete l[t[r]];e.privateModules=l}}var s={};i("tinymce/codesampleplugin/Prism",[],(function(){var e={},n=void 0!==e?e:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},r=function(){var e=/\blang(?:uage)?-(?!\*)(\w+)\b/i,t=n.Prism={util:{encode:function(e){return e instanceof r?new r(e.type,t.util.encode(e.content),e.alias):"Array"===t.util.type(e)?e.map(t.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).match(/\[object (\w+)\]/)[1]},clone:function(e){var n;switch(t.util.type(e)){case"Object":var r={};for(var i in e)e.hasOwnProperty(i)&&(r[i]=t.util.clone(e[i]));return r;case"Array":return e.map&&e.map((function(e){return t.util.clone(e)}))}return e}},languages:{extend:function(e,n){var r=t.util.clone(t.languages[e]);for(var i in n)r[i]=n[i];return r},insertBefore:function(e,n,r,i){var o=(i=i||t.languages)[e];if(2==arguments.length){for(var a in r=arguments[1])r.hasOwnProperty(a)&&(o[a]=r[a]);return o}var s={};for(var l in o)if(o.hasOwnProperty(l)){if(l==n)for(var a in r)r.hasOwnProperty(a)&&(s[a]=r[a]);s[l]=o[l]}return t.languages.DFS(t.languages,(function(t,n){n===i[e]&&t!=e&&(this[t]=s)})),i[e]=s},DFS:function(e,n,r){for(var i in e)e.hasOwnProperty(i)&&(n.call(e,i,e[i],r||i),"Object"===t.util.type(e[i])?t.languages.DFS(e[i],n):"Array"===t.util.type(e[i])&&t.languages.DFS(e[i],n,i))}},plugins:{},highlightAll:function(e,n){for(var r,i=document.querySelectorAll('code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'),o=0;r=i[o++];)t.highlightElement(r,!0===e,n)},highlightElement:function(r,i,o){for(var a,s,l=r;l&&!e.test(l.className);)l=l.parentNode;l&&(a=(l.className.match(e)||[,""])[1],s=t.languages[a]),r.className=r.className.replace(e,"").replace(/\s+/g," ")+" language-"+a,l=r.parentNode,/pre/i.test(l.nodeName)&&(l.className=l.className.replace(e,"").replace(/\s+/g," ")+" language-"+a);var c=r.textContent,u={element:r,language:a,grammar:s,code:c};if(c&&s)if(t.hooks.run("before-highlight",u),i&&n.Worker){var d=new Worker(t.filename);d.onmessage=function(e){u.highlightedCode=e.data,t.hooks.run("before-insert",u),u.element.innerHTML=u.highlightedCode,o&&o.call(u.element),t.hooks.run("after-highlight",u),t.hooks.run("complete",u)},d.postMessage(JSON.stringify({language:u.language,code:u.code,immediateClose:!0}))}else u.highlightedCode=t.highlight(u.code,u.grammar,u.language),t.hooks.run("before-insert",u),u.element.innerHTML=u.highlightedCode,o&&o.call(r),t.hooks.run("after-highlight",u),t.hooks.run("complete",u);else t.hooks.run("complete",u)},highlight:function(e,n,i){var o=t.tokenize(e,n);return r.stringify(t.util.encode(o),i)},tokenize:function(e,n,r){var i=t.Token,o=[e],a=n.rest;if(a){for(var s in a)n[s]=a[s];delete n.rest}e:for(var s in n)if(n.hasOwnProperty(s)&&n[s]){var l=n[s];l="Array"===t.util.type(l)?l:[l];for(var c=0;c<l.length;++c){var u=l[c],d=u.inside,f=!!u.lookbehind,m=0,g=u.alias;u=u.pattern||u;for(var p=0;p<o.length;p++){var h=o[p],v;if(o.length>e.length)break e;if(!(h instanceof i))if(u.lastIndex=0,v=u.exec(h)){f&&(m=v[1].length);var b=v.index-1+m,v,y,x=b+(v=v[0].slice(m)).length,w=h.slice(0,b+1),C=h.slice(x+1),k=[p,1];w&&k.push(w);var N=new i(s,d?t.tokenize(v,d):v,g);k.push(N),C&&k.push(C),Array.prototype.splice.apply(o,k)}}}}return o},hooks:{all:{},add:function(e,n){var r=t.hooks.all;r[e]=r[e]||[],r[e].push(n)},run:function(e,n){var r=t.hooks.all[e];if(r&&r.length)for(var i,o=0;i=r[o++];)i(n)}}},r=t.Token=function(e,t,n){this.type=e,this.content=t,this.alias=n};if(r.stringify=function(e,n,i){if("string"==typeof e)return e;if("Array"===t.util.type(e))return e.map((function(t){return r.stringify(t,n,e)})).join("");var o={type:e.type,content:r.stringify(e.content,n,i),tag:"span",classes:["token",e.type],attributes:{},language:n,parent:i};if("comment"==o.type&&(o.attributes.spellcheck="true"),e.alias){var a="Array"===t.util.type(e.alias)?e.alias:[e.alias];Array.prototype.push.apply(o.classes,a)}t.hooks.run("wrap",o);var s="";for(var l in o.attributes)s+=(s?" ":"")+l+'="'+(o.attributes[l]||"")+'"';return"<"+o.tag+' class="'+o.classes.join(" ")+'" '+s+">"+o.content+"</"+o.tag+">"},!n.document)return n.addEventListener?(n.addEventListener("message",(function(e){var r=JSON.parse(e.data),i=r.language,o=r.code,a=r.immediateClose;n.postMessage(t.highlight(o,t.languages[i],i)),a&&n.close()}),!1),n.Prism):n.Prism}();return"undefined"!=typeof module&&module.exports&&(module.exports=r),void 0!==t&&(t.Prism=r),r.languages.markup={comment:/<!--[\w\W]*?-->/,prolog:/<\?[\w\W]+?\?>/,doctype:/<!DOCTYPE[\w\W]+?>/,cdata:/<!\[CDATA\[[\w\W]*?]]>/i,tag:{pattern:/<\/?[^\s>\/=.]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\\1|\\?(?!\1)[\w\W])*\1|[^\s'">=]+))?)*\s*\/?>/i,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=(?:('|")[\w\W]*?(\1)|[^\s>]+)/i,inside:{punctuation:/[=>"']/}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},r.hooks.add("wrap",(function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))})),r.languages.xml=r.languages.markup,r.languages.html=r.languages.markup,r.languages.mathml=r.languages.markup,r.languages.svg=r.languages.markup,r.languages.css={comment:/\/\*[\w\W]*?\*\//,atrule:{pattern:/@[\w-]+?.*?(;|(?=\s*\{))/i,inside:{rule:/@[\w-]+/}},url:/url\((?:(["'])(\\(?:\r\n|[\w\W])|(?!\1)[^\\\r\n])*\1|.*?)\)/i,selector:/[^\{\}\s][^\{\};]*?(?=\s*\{)/,string:/("|')(\\(?:\r\n|[\w\W])|(?!\1)[^\\\r\n])*\1/,property:/(\b|\B)[\w-]+(?=\s*:)/i,important:/\B!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:]/},r.languages.css.atrule.inside.rest=r.util.clone(r.languages.css),r.languages.markup&&(r.languages.insertBefore("markup","tag",{style:{pattern:/<style[\w\W]*?>[\w\W]*?<\/style>/i,inside:{tag:{pattern:/<style[\w\W]*?>|<\/style>/i,inside:r.languages.markup.tag.inside},rest:r.languages.css},alias:"language-css"}}),r.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|').*?\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:r.languages.markup.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:r.languages.css}},alias:"language-css"}},r.languages.markup.tag)),r.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\w\W]*?\*\//,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0}],string:/(["'])(\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[a-z0-9_\.\\]+/i,lookbehind:!0,inside:{punctuation:/(\.|\\)/}},keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(true|false)\b/,function:/[a-z0-9_]+(?=\()/i,number:/\b-?(?:0x[\da-f]+|\d*\.?\d+(?:e[+-]?\d+)?)\b/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},r.languages.javascript=r.languages.extend("clike",{keyword:/\b(as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|false|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|true|try|typeof|var|void|while|with|yield)\b/,number:/\b-?(0x[\dA-Fa-f]+|0b[01]+|0o[0-7]+|\d*\.?\d+([Ee][+-]?\d+)?|NaN|Infinity)\b/,function:/[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*(?=\()/i}),r.languages.insertBefore("javascript","keyword",{regex:{pattern:/(^|[^\/])\/(?!\/)(\[.+?]|\\.|[^\/\\\r\n])+\/[gimyu]{0,5}(?=\s*($|[\r\n,.;})]))/,lookbehind:!0}}),r.languages.insertBefore("javascript","class-name",{"template-string":{pattern:/`(?:\\`|\\?[^`])*`/,inside:{interpolation:{pattern:/\$\{[^}]+\}/,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:r.languages.javascript}},string:/[\s\S]+/}}}),r.languages.markup&&r.languages.insertBefore("markup","tag",{script:{pattern:/<script[\w\W]*?>[\w\W]*?<\/script>/i,inside:{tag:{pattern:/<script[\w\W]*?>|<\/script>/i,inside:r.languages.markup.tag.inside},rest:r.languages.javascript},alias:"language-javascript"}}),r.languages.js=r.languages.javascript,r.languages.c=r.languages.extend("clike",{keyword:/\b(asm|typeof|inline|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|union|unsigned|void|volatile|while)\b/,operator:/\-[>-]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|?\||[~^%?*\/]/,number:/\b-?(?:0x[\da-f]+|\d*\.?\d+(?:e[+-]?\d+)?)[ful]*\b/i}),r.languages.insertBefore("c","string",{macro:{pattern:/(^\s*)#\s*[a-z]+([^\r\n\\]|\\.|\\(?:\r\n?|\n))*/im,lookbehind:!0,alias:"property",inside:{string:{pattern:/(#\s*include\s*)(<.+?>|("|')(\\?.)+?\3)/,lookbehind:!0}}}}),delete r.languages.c["class-name"],delete r.languages.c.boolean,r.languages.csharp=r.languages.extend("clike",{keyword:/\b(abstract|as|async|await|base|bool|break|byte|case|catch|char|checked|class|const|continue|decimal|default|delegate|do|double|else|enum|event|explicit|extern|false|finally|fixed|float|for|foreach|goto|if|implicit|in|int|interface|internal|is|lock|long|namespace|new|null|object|operator|out|override|params|private|protected|public|readonly|ref|return|sbyte|sealed|short|sizeof|stackalloc|static|string|struct|switch|this|throw|true|try|typeof|uint|ulong|unchecked|unsafe|ushort|using|virtual|void|volatile|while|add|alias|ascending|async|await|descending|dynamic|from|get|global|group|into|join|let|orderby|partial|remove|select|set|value|var|where|yield)\b/,string:[/@("|')(\1\1|\\\1|\\?(?!\1)[\s\S])*\1/,/("|')(\\?.)*?\1/],number:/\b-?(0x[\da-f]+|\d*\.?\d+)\b/i}),r.languages.insertBefore("csharp","keyword",{preprocessor:{pattern:/(^\s*)#.*/m,lookbehind:!0}}),r.languages.cpp=r.languages.extend("c",{keyword:/\b(alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|class|compl|const|constexpr|const_cast|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|float|for|friend|goto|if|inline|int|long|mutable|namespace|new|noexcept|nullptr|operator|private|protected|public|register|reinterpret_cast|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,boolean:/\b(true|false)\b/,operator:/[-+]{1,2}|!=?|<{1,2}=?|>{1,2}=?|\->|:{1,2}|={1,2}|\^|~|%|&{1,2}|\|?\||\?|\*|\/|\b(and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/}),r.languages.insertBefore("cpp","keyword",{"class-name":{pattern:/(class\s+)[a-z0-9_]+/i,lookbehind:!0}}),r.languages.java=r.languages.extend("clike",{keyword:/\b(abstract|continue|for|new|switch|assert|default|goto|package|synchronized|boolean|do|if|private|this|break|double|implements|protected|throw|byte|else|import|public|throws|case|enum|instanceof|return|transient|catch|extends|int|short|try|char|final|interface|static|void|class|finally|long|strictfp|volatile|const|float|native|super|while)\b/,number:/\b0b[01]+\b|\b0x[\da-f]*\.?[\da-fp\-]+\b|\b\d*\.?\d+(?:e[+-]?\d+)?[df]?\b/i,operator:{pattern:/(^|[^.])(?:\+[+=]?|-[-=]?|!=?|<<?=?|>>?>?=?|==?|&[&=]?|\|[|=]?|\*=?|\/=?|%=?|\^=?|[?:~])/m,lookbehind:!0}}),r.languages.php=r.languages.extend("clike",{keyword:/\b(and|or|xor|array|as|break|case|cfunction|class|const|continue|declare|default|die|do|else|elseif|enddeclare|endfor|endforeach|endif|endswitch|endwhile|extends|for|foreach|function|include|include_once|global|if|new|return|static|switch|use|require|require_once|var|while|abstract|interface|public|implements|private|protected|parent|throw|null|echo|print|trait|namespace|final|yield|goto|instanceof|finally|try|catch)\b/i,constant:/\b[A-Z0-9_]{2,}\b/,comment:{pattern:/(^|[^\\])(?:\/\*[\w\W]*?\*\/|\/\/.*)/,lookbehind:!0}}),r.languages.insertBefore("php","class-name",{"shell-comment":{pattern:/(^|[^\\])#.*/,lookbehind:!0,alias:"comment"}}),r.languages.insertBefore("php","keyword",{delimiter:/\?>|<\?(?:php)?/i,variable:/\$\w+\b/i,package:{pattern:/(\\|namespace\s+|use\s+)[\w\\]+/,lookbehind:!0,inside:{punctuation:/\\/}}}),r.languages.insertBefore("php","operator",{property:{pattern:/(->)[\w]+/,lookbehind:!0}}),r.languages.markup&&(r.hooks.add("before-highlight",(function(e){"php"===e.language&&(e.tokenStack=[],e.backupCode=e.code,e.code=e.code.replace(/(?:<\?php|<\?)[\w\W]*?(?:\?>)/gi,(function(t){return e.tokenStack.push(t),"{{{PHP"+e.tokenStack.length+"}}}"})))})),r.hooks.add("before-insert",(function(e){"php"===e.language&&(e.code=e.backupCode,delete e.backupCode)})),r.hooks.add("after-highlight",(function(e){if("php"===e.language){for(var t,n=0;t=e.tokenStack[n];n++)e.highlightedCode=e.highlightedCode.replace("{{{PHP"+(n+1)+"}}}",r.highlight(t,e.grammar,"php").replace(/\$/g,"$$$$"));e.element.innerHTML=e.highlightedCode}})),r.hooks.add("wrap",(function(e){"php"===e.language&&"markup"===e.type&&(e.content=e.content.replace(/(\{\{\{PHP[0-9]+\}\}\})/g,'<span class="token php">$1</span>'))})),r.languages.insertBefore("php","comment",{markup:{pattern:/<[^?]\/?(.*?)>/,inside:r.languages.markup},php:/\{\{\{PHP[0-9]+\}\}\}/})),r.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0},string:/"""[\s\S]+?"""|'''[\s\S]+?'''|("|')(?:\\?.)*?\1/,function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_][a-zA-Z0-9_]*(?=\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)[a-z0-9_]+/i,lookbehind:!0},keyword:/\b(?:as|assert|async|await|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|pass|print|raise|return|try|while|with|yield)\b/,boolean:/\b(?:True|False)\b/,number:/\b-?(?:0[bo])?(?:(?:\d|0x[\da-f])[\da-f]*\.?\d*|\.\d+)(?:e[+-]?\d+)?j?\b/i,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]|\b(?:or|and|not)\b/,punctuation:/[{}[\];(),.:]/},function(e){e.languages.ruby=e.languages.extend("clike",{comment:/#(?!\{[^\r\n]*?\}).*/,keyword:/\b(alias|and|BEGIN|begin|break|case|class|def|define_method|defined|do|each|else|elsif|END|end|ensure|false|for|if|in|module|new|next|nil|not|or|raise|redo|require|rescue|retry|return|self|super|then|throw|true|undef|unless|until|when|while|yield)\b/});var t={pattern:/#\{[^}]+\}/,inside:{delimiter:{pattern:/^#\{|\}$/,alias:"tag"},rest:e.util.clone(e.languages.ruby)}};e.languages.insertBefore("ruby","keyword",{regex:[{pattern:/%r([^a-zA-Z0-9\s\{\(\[<])(?:[^\\]|\\[\s\S])*?\1[gim]{0,3}/,inside:{interpolation:t}},{pattern:/%r\((?:[^()\\]|\\[\s\S])*\)[gim]{0,3}/,inside:{interpolation:t}},{pattern:/%r\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}[gim]{0,3}/,inside:{interpolation:t}},{pattern:/%r\[(?:[^\[\]\\]|\\[\s\S])*\][gim]{0,3}/,inside:{interpolation:t}},{pattern:/%r<(?:[^<>\\]|\\[\s\S])*>[gim]{0,3}/,inside:{interpolation:t}},{pattern:/(^|[^\/])\/(?!\/)(\[.+?]|\\.|[^\/\r\n])+\/[gim]{0,3}(?=\s*($|[\r\n,.;})]))/,lookbehind:!0}],variable:/[@$]+[a-zA-Z_][a-zA-Z_0-9]*(?:[?!]|\b)/,symbol:/:[a-zA-Z_][a-zA-Z_0-9]*(?:[?!]|\b)/}),e.languages.insertBefore("ruby","number",{builtin:/\b(Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Stat|File|Fixnum|Fload|Hash|Integer|IO|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|String|Struct|TMS|Symbol|ThreadGroup|Thread|Time|TrueClass)\b/,constant:/\b[A-Z][a-zA-Z_0-9]*(?:[?!]|\b)/}),e.languages.ruby.string=[{pattern:/%[qQiIwWxs]?([^a-zA-Z0-9\s\{\(\[<])(?:[^\\]|\\[\s\S])*?\1/,inside:{interpolation:t}},{pattern:/%[qQiIwWxs]?\((?:[^()\\]|\\[\s\S])*\)/,inside:{interpolation:t}},{pattern:/%[qQiIwWxs]?\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}/,inside:{interpolation:t}},{pattern:/%[qQiIwWxs]?\[(?:[^\[\]\\]|\\[\s\S])*\]/,inside:{interpolation:t}},{pattern:/%[qQiIwWxs]?<(?:[^<>\\]|\\[\s\S])*>/,inside:{interpolation:t}},{pattern:/("|')(#\{[^}]+\}|\\(?:\r?\n|\r)|\\?.)*?\1/,inside:{interpolation:t}}]}(r),r})),i("tinymce/codesampleplugin/Utils",[],(function(){function e(e){return e&&"PRE"==e.nodeName&&-1!==e.className.indexOf("language-")}function t(e){return function(t,n){return e(n)}}return{isCodeSample:e,trimArg:t}})),i("tinymce/codesampleplugin/Dialog",["tinymce/dom/DOMUtils","tinymce/codesampleplugin/Utils","tinymce/codesampleplugin/Prism"],(function(e,t,n){function r(e){var t=[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}],n=e.settings.codesample_languages;return n||t}function i(e,t,r){e.undoManager.transact((function(){var i=o(e);r=l.encode(r),i?(e.dom.setAttrib(i,"class","language-"+t),i.innerHTML=r,n.highlightElement(i),e.selection.select(i)):(e.insertContent('<pre id="__new" class="language-'+t+'">'+r+"</pre>"),e.selection.select(e.$("#__new").removeAttr("id")[0]))}))}function o(e){var n=e.selection.getNode();return t.isCodeSample(n)?n:null}function a(e){var t=o(e);return t?t.textContent:""}function s(e){var t,n=o(e);return n?(t=n.className.match(/language-(\w+)/))?t[1]:"":""}var l=e.DOM;return{open:function(e){e.windowManager.open({title:"Insert/Edit code sample",minWidth:Math.min(l.getViewPort().w,e.getParam("codesample_dialog_width",800)),minHeight:Math.min(l.getViewPort().h,e.getParam("codesample_dialog_height",650)),layout:"flex",direction:"column",align:"stretch",body:[{type:"listbox",name:"language",label:"Language",maxWidth:200,value:s(e),values:r(e)},{type:"textbox",name:"code",multiline:!0,spellcheck:!1,ariaLabel:"Code view",flex:1,style:"direction: ltr; text-align: left",classes:"monospace",value:a(e),autofocus:!0}],onSubmit:function(t){i(e,t.data.language,t.data.code)}})}}})),i("tinymce/codesampleplugin/Plugin",["tinymce/Env","tinymce/PluginManager","tinymce/codesampleplugin/Prism","tinymce/codesampleplugin/Dialog","tinymce/codesampleplugin/Utils"],(function(e,t,n,r,i){var o,a=i.trimArg;t.add("codesample",(function(t,s){function l(){var e,n=t.settings.codesample_content_css;t.inline&&o||!t.inline&&c||(t.inline?o=!0:c=!0,!1!==n&&(e=t.dom.create("link",{rel:"stylesheet",href:n||s+"/css/prism.css"}),t.getDoc().getElementsByTagName("head")[0].appendChild(e)))}var c,u=t.$;e.ceFalse&&(t.on("PreProcess",(function(e){u("pre[contenteditable=false]",e.node).filter(a(i.isCodeSample)).each((function(e,t){var n=u(t),r=t.textContent;n.attr("class",u.trim(n.attr("class"))),n.removeAttr("contentEditable"),n.empty().append(u("<code></code>").each((function(){this.textContent=r})))}))})),t.on("SetContent",(function(){var e=u("pre").filter(a(i.isCodeSample)).filter((function(e,t){return"false"!==t.contentEditable}));e.length&&t.undoManager.transact((function(){e.each((function(e,r){u(r).find("br").each((function(e,n){n.parentNode.replaceChild(t.getDoc().createTextNode("\n"),n)})),r.contentEditable=!1,r.innerHTML=t.dom.encode(r.textContent),n.highlightElement(r),r.className=u.trim(r.className)}))}))})),t.addCommand("codesample",(function(){var e=t.selection.getNode();t.selection.isCollapsed()||i.isCodeSample(e)?r.open(t):t.formatter.toggle("code")})),t.addButton("codesample",{cmd:"codesample",title:"Insert/Edit code sample"}),t.on("init",l))}))})),a(["tinymce/codesampleplugin/Prism","tinymce/codesampleplugin/Utils","tinymce/codesampleplugin/Dialog","tinymce/codesampleplugin/Plugin"])}(window)}.call(this),function(){tinymce.PluginManager.add("directionality",(function(e){function t(t){var n,r=e.dom,i=e.selection.getSelectedBlocks();i.length&&(n=r.getAttrib(i[0],"dir"),tinymce.each(i,(function(e){r.getParent(e.parentNode,"*[dir='"+t+"']",r.getRoot())||(n!=t?r.setAttrib(e,"dir",t):r.setAttrib(e,"dir",null))})),e.nodeChanged())}function n(e){var t=[];return tinymce.each("h1 h2 h3 h4 h5 h6 div p".split(" "),(function(n){t.push(n+"[dir="+e+"]")})),t.join(",")}e.addCommand("mceDirectionLTR",(function(){t("ltr")})),e.addCommand("mceDirectionRTL",(function(){t("rtl")})),e.addButton("ltr",{title:"Left to right",cmd:"mceDirectionLTR",stateSelector:n("ltr")}),e.addButton("rtl",{title:"Right to left",cmd:"mceDirectionRTL",stateSelector:n("rtl")})}))}.call(this),function(){tinymce.PluginManager.add("hr",(function(e){e.addCommand("InsertHorizontalRule",(function(){e.execCommand("mceInsertContent",!1,"<hr />")})),e.addButton("hr",{icon:"hr",tooltip:"Horizontal line",cmd:"InsertHorizontalRule"}),e.addMenuItem("hr",{icon:"hr",text:"Horizontal line",cmd:"InsertHorizontalRule",context:"insert"})}))}.call(this),function(){tinymce.PluginManager.add("importcss",(function(e){function t(e){var t=tinymce.Env.cacheSuffix;return"string"==typeof e&&(e=e.replace("?"+t,"").replace("&"+t,"")),e}function n(t){var n=e.settings,r=!1!==n.skin&&(n.skin||"lightgray");if(r){var i=n.skin_url;return t===(i=i?e.documentBaseURI.toAbsolute(i):tinymce.baseURL+"/skins/"+r)+"/content"+(e.inline?".inline":"")+".min.css"}return!1}function r(e){return"string"==typeof e?function(t){return-1!==t.indexOf(e)}:e instanceof RegExp?function(t){return e.test(t)}:e}function i(r,i){function o(e,r){var s,l=e.href;if((l=t(l))&&i(l,r)&&!n(l)){m(e.imports,(function(e){o(e,!0)}));try{s=e.cssRules||e.rules}catch(e){}m(s,(function(e){e.styleSheet?o(e.styleSheet,!0):e.selectorText&&m(e.selectorText.split(","),(function(e){a.push(tinymce.trim(e))}))}))}}var a=[],s={};m(e.contentCSS,(function(e){s[e]=!0})),i||(i=function(e,t){return t||s[e]});try{m(r.styleSheets,(function(e){o(e)}))}finally{}return a}function o(t){var n,r=/^(?:([a-z0-9\-_]+))?(\.[a-z0-9_\-\.]+)$/i.exec(t);if(r){var i=r[1],o=r[2].substr(1).split(".").join(" "),a=tinymce.makeMap("a,img");return r[1]?(n={title:t},e.schema.getTextBlockElements()[i]?n.block=i:e.schema.getBlockElements()[i]||a[i.toLowerCase()]?n.selector=i:n.inline=i):r[2]&&(n={inline:"span",title:t.substr(1),classes:o}),!1!==e.settings.importcss_merge_classes?n.classes=o:n.attributes={class:o},n}}function a(e,t){return tinymce.util.Tools.grep(e,(function(e){return!e.filter||e.filter(t)}))}function s(e){return tinymce.util.Tools.map(e,(function(e){return tinymce.util.Tools.extend({},e,{original:e,selectors:{},filter:r(e.filter),item:{text:e.title,menu:[]}})}))}function l(e,t){return null===t||!1!==e.settings.importcss_exclusive}function c(t,n,r){return!(l(e,n)?t in r:t in n.selectors)}function u(t,n,r){l(e,n)?r[t]=!0:n.selectors[t]=!0}function d(t,n,r){var i,a=e.settings;return(i=r&&r.selector_converter?r.selector_converter:a.importcss_selector_converter?a.importcss_selector_converter:o).call(t,n,r)}var f=this,m=tinymce.each;e.on("renderFormatsMenu",(function(t){var n=e.settings,o={},l=r(n.importcss_selector_filter),g=t.control,p=s(n.importcss_groups),h=function(t,n){if(c(t,n,o)){u(t,n,o);var r=d(f,t,n);if(r){var i=r.name||tinymce.DOM.uniqueId();return e.formatter.register(i,r),tinymce.extend({},g.settings.itemDefaults,{text:r.title,format:i})}}return null};e.settings.importcss_append||g.items().remove(),m(i(t.doc||e.getDoc(),r(n.importcss_file_filter)),(function(e){if(-1===e.indexOf(".mce-")&&(!l||l(e))){var t=a(p,e);if(t.length>0)tinymce.util.Tools.each(t,(function(t){var n=h(e,t);n&&t.item.menu.push(n)}));else{var n=h(e,null);n&&g.add(n)}}})),m(p,(function(e){e.item.menu.length>0&&g.add(e.item)})),t.control.renderNew()})),f.convertSelectorToFormat=o}))}.call(this),function(){tinymce.PluginManager.add("link",(function(e){function t(e){return e&&"A"===e.nodeName&&e.href}function n(e){return tinymce.util.Tools.grep(e,t).length>0}function r(t){return e.dom.getParent(t,"a[href]")}function i(){return r(e.selection.getStart())}function o(e){var t=e.getAttribute("data-mce-href");return t||e.getAttribute("href")}function a(){var t=e.plugins.contextmenu;return!!t&&t.isContextMenuVisible()}function s(n){var r,i,o;return!!(e.settings.link_context_toolbar&&!a()&&t(n)&&(r=e.selection,i=r.getRng(),o=i.startContainer,3==o.nodeType&&r.isCollapsed()&&i.startOffset>0&&i.startOffset<o.data.length))}function l(e,t){document.body.appendChild(e),e.dispatchEvent(t),document.body.removeChild(e)}function c(e){if(!tinymce.Env.ie||tinymce.Env.ie>10){var t=document.createElement("a");t.target="_blank",t.href=e,t.rel="noreferrer noopener";var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),l(t,n)}else{var r=window.open("","_blank");if(r){r.opener=null;var i=r.document;i.open(),i.write('<meta http-equiv="refresh" content="0; url='+tinymce.DOM.encode(e)+'">'),i.close()}}}function u(t){if(t){var n=o(t);if(/^#/.test(n)){var r=e.$(n);r.length&&e.selection.scrollIntoView(r[0],!0)}else c(t.href)}}function d(){u(i())}function f(){var t=this,r=function(e){n(e.parents)?t.show():t.hide()};n(e.dom.getParents(e.selection.getStart()))||t.hide(),e.on("nodechange",r),t.on("remove",(function(){e.off("nodechange",r)}))}function m(t){return function(){var n=e.settings.link_list;"string"==typeof n?tinymce.util.XHR.send({url:n,success:function(e){t(tinymce.util.JSON.parse(e))}}):"function"==typeof n?n(t):t(n)}}function g(e,t,n){function r(e,n){return n=n||[],tinymce.each(e,(function(e){var i={text:e.text||e.title};e.menu?i.menu=r(e.menu):(i.value=e.value,t&&t(i)),n.push(i)})),n}return r(e,n||[])}function p(t){function n(e){var t=d.find("#text");(!t.value()||e.lastControl&&t.value()==e.lastControl.text())&&t.value(e.control.text()),d.find("#href").value(e.control.value())}function r(t){var r=[];if(tinymce.each(e.dom.select("a:not([href])"),(function(e){var n=e.name||e.id;n&&r.push({text:n,value:"#"+n,selected:-1!=t.indexOf("#"+n)})})),r.length)return r.unshift({text:"None",value:""}),{name:"anchor",type:"listbox",label:"Anchors",values:r,onselect:n}}function i(){!u&&0===C.text.length&&f&&this.parent().parent().find("#text")[0].value(this.value())}function o(t){var n=t.meta||{};p&&p.value(e.convertURL(this.value(),"href")),tinymce.each(t.meta,(function(e,t){var n=d.find("#"+t);"text"===t?0===u.length&&(n.value(e),C.text=e):n.value(e)})),n.attach&&(h={href:this.value(),attach:n.attach}),n.text||i.call(this)}function a(e){var t=k.getContent();if(/</.test(t)&&(!/^<a [^>]+>[^<]+<\/a>$/.test(t)||-1==t.indexOf("href=")))return!1;if(e){var n,r=e.childNodes;if(0===r.length)return!1;for(n=r.length-1;n>=0;n--)if(3!=r[n].nodeType)return!1}return!0}function s(e){e.meta=d.toJSON()}var l,c,u,d,f,m,p,v,b,y,x,w,C={},k=e.selection,N=e.dom;l=k.getNode(),c=N.getParent(l,"a[href]"),f=a(),C.text=u=c?c.innerText||c.textContent:k.getContent({format:"text"}),C.href=c?N.getAttrib(c,"href"):"",c?C.target=N.getAttrib(c,"target"):e.settings.default_link_target&&(C.target=e.settings.default_link_target),(w=N.getAttrib(c,"rel"))&&(C.rel=w),(w=N.getAttrib(c,"class"))&&(C.class=w),(w=N.getAttrib(c,"title"))&&(C.title=w),f&&(m={name:"text",type:"textbox",size:40,label:"Text to display",onchange:function(){C.text=this.value()}}),t&&(p={type:"listbox",label:"Link list",values:g(t,(function(t){t.value=e.convertURL(t.value||t.url,"href")}),[{text:"None",value:""}]),onselect:n,value:e.convertURL(C.href,"href"),onPostRender:function(){p=this}}),!1!==e.settings.target_list&&(e.settings.target_list||(e.settings.target_list=[{text:"None",value:""},{text:"New window",value:"_blank"}]),b={name:"target",type:"listbox",label:"Target",values:g(e.settings.target_list)}),e.settings.rel_list&&(v={name:"rel",type:"listbox",label:"Rel",values:g(e.settings.rel_list)}),e.settings.link_class_list&&(y={name:"class",type:"listbox",label:"Class",values:g(e.settings.link_class_list,(function(t){t.value&&(t.textStyle=function(){return e.formatter.getCssText({inline:"a",classes:[t.value]})})}))}),!1!==e.settings.link_title&&(x={name:"title",type:"textbox",label:"Title",value:C.title}),d=e.windowManager.open({title:"Insert link",data:C,body:[{name:"href",type:"filepicker",filetype:"file",size:40,autofocus:!0,label:"Url",onchange:o,onkeyup:i,onbeforecall:s},m,x,r(C.href),p,v,b,y],onSubmit:function(t){function n(t,n){var r=e.selection.getRng();tinymce.util.Delay.setEditorTimeout(e,(function(){e.windowManager.confirm(t,(function(t){e.selection.setRng(r),n(t)}))}))}function r(e,t){function n(e){return(e=r(e))?[e,i].join(" "):i}function r(e){var t=new RegExp("("+i.replace(" ","|")+")","g");return e&&(e=tinymce.trim(e.replace(t,""))),e||null}var i="noopener noreferrer";return t?n(e):r(e)}function i(){var t={href:a,target:C.target?C.target:null,rel:C.rel?C.rel:null,class:C.class?C.class:null,title:C.title?C.title:null};e.settings.allow_unsafe_link_target||(t.rel=r(t.rel,"_blank"==t.target)),a===h.href&&(h.attach(),h={}),c?(e.focus(),f&&C.text!=u&&("innerText"in c?c.innerText=C.text:c.textContent=C.text),N.setAttribs(c,t),k.select(c),e.undoManager.add()):f?e.insertContent(N.createHTML("a",t,N.encode(C.text))):e.execCommand("mceInsertLink",!1,t)}function o(){e.undoManager.transact(i)}var a;return C=tinymce.extend(C,t.data),(a=C.href)?a.indexOf("@")>0&&-1==a.indexOf("//")&&-1==a.indexOf("mailto:")?void n("The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",(function(e){e&&(a="mailto:"+a),o()})):e.settings.link_assume_external_targets&&!/^\w+:/i.test(a)||!e.settings.link_assume_external_targets&&/^\s*www[\.|\d\.]/i.test(a)?void n("The URL you entered seems to be an external link. Do you want to add the required http:// prefix?",(function(e){e&&(a="http://"+a),o()})):void o():void e.execCommand("unlink")}})}var h={},v=function(e){return!0===e.altKey&&!1===e.shiftKey&&!1===e.ctrlKey&&!1===e.metaKey};e.addButton("link",{icon:"link",tooltip:"Insert/edit link",shortcut:"Meta+K",onclick:m(p),stateSelector:"a[href]"}),e.addButton("unlink",{icon:"unlink",tooltip:"Remove link",cmd:"unlink",stateSelector:"a[href]"}),e.addContextToolbar&&(e.addButton("openlink",{icon:"newtab",tooltip:"Open link",onclick:d}),e.addContextToolbar(s,"openlink | link unlink")),e.addShortcut("Meta+K","",m(p)),e.addCommand("mceLink",m(p)),e.on("click",(function(e){var t=r(e.target);t&&tinymce.util.VK.metaKeyPressed(e)&&(e.preventDefault(),u(t))})),e.on("keydown",(function(e){var t=i();t&&13===e.keyCode&&v(e)&&(e.preventDefault(),u(t))})),this.showDialog=p,e.addMenuItem("openlink",{text:"Open link",icon:"newtab",onclick:d,onPostRender:f,prependToContext:!0}),e.addMenuItem("link",{icon:"link",text:"Link",shortcut:"Meta+K",onclick:m(p),stateSelector:"a[href]",context:"insert",prependToContext:!0})}))}.call(this),function(){tinymce.PluginManager.add("nonbreaking",(function(e){var t=e.getParam("nonbreaking_force_tab");if(e.addCommand("mceNonBreaking",(function(){e.insertContent(e.plugins.visualchars&&e.plugins.visualchars.state?'<span class="mce-nbsp">&nbsp;</span>':"&nbsp;"),e.dom.setAttrib(e.dom.select("span.mce-nbsp"),"data-mce-bogus","1")})),e.addButton("nonbreaking",{title:"Nonbreaking space",cmd:"mceNonBreaking"}),e.addMenuItem("nonbreaking",{text:"Nonbreaking space",cmd:"mceNonBreaking",context:"insert"}),t){var n=+t>1?+t:3;e.on("keydown",(function(t){if(9==t.keyCode){if(t.shiftKey)return;t.preventDefault();for(var r=0;r<n;r++)e.execCommand("mceNonBreaking")}}))}}))}.call(this),function(){!function(e,t){"use strict";function n(e,t){for(var n,r=[],o=0;o<e.length;++o){if(!(n=a[e[o]]||i(e[o])))throw"module definition dependecy not found: "+e[o];r.push(n)}t.apply(null,r)}function r(e,r,i){if("string"!=typeof e)throw"invalid module definition, module id must be defined and be a string";if(r===t)throw"invalid module definition, dependencies must be specified";if(i===t)throw"invalid module definition, definition function must be specified";n(r,(function(){a[e]=i.apply(null,arguments)}))}function i(t){for(var n=e,r=t.split(/[.\/]/),i=0;i<r.length;++i){if(!n[r[i]])return;n=n[r[i]]}return n}function o(n){var r,i,o,s,l;for(r=0;r<n.length;r++){i=e,s=(o=n[r]).split(/[.\/]/);for(var c=0;c<s.length-1;++c)i[s[c]]===t&&(i[s[c]]={}),i=i[s[c]];i[s[s.length-1]]=a[o]}if(e.AMDLC_TESTS){for(o in l=e.privateModules||{},a)l[o]=a[o];for(r=0;r<n.length;r++)delete l[n[r]];e.privateModules=l}}var a={};r("tinymce/pasteplugin/Utils",["tinymce/util/Tools","tinymce/html/DomParser","tinymce/html/Schema"],(function(e,t,n){function r(t,n){return e.each(n,(function(e){t=e.constructor==RegExp?t.replace(e,""):t.replace(e[0],e[1])})),t}function i(i){function o(e){var t=e.name,n=e;if("br"!==t)if(c[t]&&(l+=" "),u[t])l+=" ";else{if(3==e.type&&(l+=e.value),!e.shortEnded&&(e=e.firstChild))do{o(e)}while(e=e.next);d[t]&&n.next&&(l+="\n","p"==t&&(l+="\n"))}else l+="\n"}var a=new n,s=new t({},a),l="",c=a.getShortEndedElements(),u=e.makeMap("script noscript style textarea video audio iframe object"," "),d=a.getBlockElements();return i=r(i,[/<!\[[^\]]+\]>/g]),o(s.parse(i)),l}function o(e){function t(e,t,n){return t||n?"":" "}return r(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/g,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,t],/<br class="Apple-interchange-newline">/g,/<br>$/i])}function a(e){var t=0;return function(){return e+t++}}return{filter:r,innerText:i,trimHtml:o,createIdGenerator:a}})),r("tinymce/pasteplugin/SmartPaste",["tinymce/util/Tools"],(function(e){var t=function(e){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(e)},n=function(e){return t(e)&&/.(gif|jpe?g|png)$/.test(e)},r=function(e,t,n){return e.undoManager.extra((function(){n(e,t)}),(function(){e.insertContent('<img src="'+t+'">')})),!0},i=function(e,t,n){return e.undoManager.extra((function(){n(e,t)}),(function(){e.execCommand("mceInsertLink",!1,t)})),!0},o=function(e,n,r){return!(!1!==e.selection.isCollapsed()||!t(n))&&i(e,n,r)},a=function(e,t,i){return!!n(t)&&r(e,t,i)},s=function(e,t){return e.insertContent(t,{merge:!1!==e.settings.paste_merge_formats,paste:!0}),!0},l=function(t,n){e.each([o,a,s],(function(e){return!0!==e(t,n,s)}))},c;return{isImageUrl:n,isAbsoluteUrl:t,insertContent:function(e,t){!1===e.settings.smart_paste?s(e,t):l(e,t)}}})),r("tinymce/pasteplugin/Clipboard",["tinymce/Env","tinymce/dom/RangeUtils","tinymce/util/VK","tinymce/pasteplugin/Utils","tinymce/pasteplugin/SmartPaste","tinymce/util/Delay"],(function(e,t,n,r,i,o){return function(a){function s(e){var t,n=a.dom;if(t=a.fire("BeforePastePreProcess",{content:e}),e=(t=a.fire("PastePreProcess",t)).content,!t.isDefaultPrevented()){if(a.hasEventListeners("PastePostProcess")&&!t.isDefaultPrevented()){var r=n.add(a.getBody(),"div",{style:"display:none"},e);t=a.fire("PastePostProcess",{node:r}),n.remove(r),e=t.node.innerHTML}t.isDefaultPrevented()||i.insertContent(a,e)}}function l(e){e=a.dom.encode(e).replace(/\r\n/g,"\n");var t,n=a.dom.getParent(a.selection.getStart(),a.dom.isBlock),i=a.settings.forced_root_block;i&&(t=(t=a.dom.createHTML(i,a.settings.forced_root_block_attrs)).substr(0,t.length-3)+">"),n&&/^(PRE|DIV)$/.test(n.nodeName)||!i?e=r.filter(e,[[/\n/g,"<br>"]]):-1!=(e=r.filter(e,[[/\n\n/g,"</p>"+t],[/^(.*<\/p>)(<p>)$/,t+"$1"],[/\n/g,"<br />"]])).indexOf("<p>")&&(e=t+e),s(e)}function c(){function t(e){var t,n,i,o=e.startContainer;if((t=e.getClientRects()).length)return t[0];if(e.collapsed&&1==o.nodeType){for(i=o.childNodes[S.startOffset];i&&3==i.nodeType&&!i.data.length;)i=i.nextSibling;if(i)return"BR"==i.tagName&&(n=r.doc.createTextNode("\ufeff"),i.parentNode.insertBefore(n,i),(e=r.createRng()).setStartBefore(n),e.setEndAfter(n),t=e.getClientRects(),r.remove(n)),t.length?t[0]:void 0}}var n,r=a.dom,i=a.getBody(),o,s=a.dom.getViewPort(a.getWin()).y,l=20;if(S=a.selection.getRng(),a.inline&&((n=a.selection.getScrollContainer())&&n.scrollTop>0&&(s=n.scrollTop)),S.getClientRects){var c=t(S);if(c)l=s+(c.top-r.getPos(i).y);else{l=s;var u=S.startContainer;u&&(3==u.nodeType&&u.parentNode!=i&&(u=u.parentNode),1==u.nodeType&&(l=r.getPos(u,n||i).y))}}N=r.add(a.getBody(),"div",{id:"mcepastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: absolute; top: "+l+"px;width: 10px; height: 10px; overflow: hidden; opacity: 0"},A),(e.ie||e.gecko)&&r.setStyle(N,"left","rtl"==r.getStyle(i,"direction",!0)?65535:-65535),r.bind(N,"beforedeactivate focusin focusout",(function(e){e.stopPropagation()})),N.focus(),a.selection.select(N,!0)}function u(){if(N){for(var e;e=a.dom.get("mcepastebin");)a.dom.remove(e),a.dom.unbind(e);S&&a.selection.setRng(S)}N=S=null}function d(){var e,t,n,r,i="";for(e=a.dom.select("div[id=mcepastebin]"),t=0;t<e.length;t++)(n=e[t]).firstChild&&"mcepastebin"==n.firstChild.id&&(n=n.firstChild),r=n.innerHTML,i!=A&&(i+=r);return i}function f(e){var t={};if(e){if(e.getData){var n=e.getData("Text");n&&n.length>0&&-1==n.indexOf(B)&&(t["text/plain"]=n)}if(e.types)for(var r=0;r<e.types.length;r++){var i=e.types[r];t[i]=e.getData(i)}}return t}function m(e){return f(e.clipboardData||a.getDoc().dataTransfer)}function g(e){return w(e,"text/html")||w(e,"text/plain")}function p(e){var t;return-1!==(t=e.indexOf(","))?e.substr(t+1):null}function h(e,t){return!e.images_dataimg_filter||e.images_dataimg_filter(t)}function v(e,t,n){e&&(a.selection.setRng(e),e=null);var r=t.result,i=p(r),o=new Image;if(o.src=r,h(a.settings,o)){var l,c,u=a.editorUpload.blobCache;(c=u.findFirst((function(e){return e.base64()===i})))?l=c:(l=u.create(P(),n,i),u.add(l)),s('<img src="'+l.blobUri()+'">')}else s('<img src="'+r+'">')}function b(e,t){function n(n){var r,i,o,a=!1;if(n)for(r=0;r<n.length;r++)if(i=n[r],/^image\/(jpeg|png|gif|bmp)$/.test(i.type)){var s=i.getAsFile?i.getAsFile():i;(o=new FileReader).onload=v.bind(null,t,o,s),o.readAsDataURL(s),e.preventDefault(),a=!0}return a}var r=e.clipboardData||e.dataTransfer;if(a.settings.paste_data_images&&r)return n(r.items)||n(r.files)}function y(e){var t=e.clipboardData;return-1!=navigator.userAgent.indexOf("Android")&&t&&t.items&&0===t.items.length}function x(e){return t.getCaretRangeFromPoint(e.clientX,e.clientY,a.getDoc())}function w(e,t){return t in e&&e[t].length>0}function C(e){return n.metaKeyPressed(e)&&86==e.keyCode||e.shiftKey&&45==e.keyCode}function k(){function t(e,t,n){var i;return w(e,"text/html")?i=e["text/html"]:(i=d())==A&&(n=!0),i=r.trimHtml(i),N&&N.firstChild&&"mcepastebin"===N.firstChild.id&&(n=!0),u(),i.length||(n=!0),n&&(i=w(e,"text/plain")&&-1==i.indexOf("</p>")?e["text/plain"]:r.innerText(i)),i==A?void(t||a.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.")):void(n?l(i):s(i))}function n(e){var t=e["text/plain"];return!!t&&0===t.indexOf("file://")}a.on("keydown",(function(t){function n(e){C(e)&&!e.isDefaultPrevented()&&u()}if(C(t)&&!t.isDefaultPrevented()){if((_=t.shiftKey&&86==t.keyCode)&&e.webkit&&-1!=navigator.userAgent.indexOf("Version/"))return;if(t.stopImmediatePropagation(),E=(new Date).getTime(),e.ie&&_)return t.preventDefault(),void a.fire("paste",{ieFake:!0});u(),c(),a.once("keyup",n),a.once("paste",(function(){a.off("keyup",n)}))}}));var i=function(){return S||a.selection.getRng()};a.on("paste",(function(n){var r=(new Date).getTime(),s=m(n),l=(new Date).getTime()-r,f=(new Date).getTime()-E-l<1e3,p="text"==T.pasteFormat||_;return _=!1,n.isDefaultPrevented()||y(n)?void u():!g(s)&&b(n,i())?void u():(f||n.preventDefault(),!e.ie||f&&!n.ieFake||(c(),a.dom.bind(N,"paste",(function(e){e.stopPropagation()})),a.getDoc().execCommand("Paste",!1,null),s["text/html"]=d()),void(w(s,"text/html")?(n.preventDefault(),t(s,f,p)):o.setEditorTimeout(a,(function(){t(s,f,p)}),0)))})),a.on("dragstart dragend",(function(e){R="dragstart"==e.type})),a.on("drop",(function(e){var t,i;if(i=x(e),!e.isDefaultPrevented()&&!R&&((g(t=f(e.dataTransfer))&&!n(t)||!b(e,i))&&i&&!1!==a.settings.paste_filter_drop)){var c=t["mce-internal"]||t["text/html"]||t["text/plain"];c&&(e.preventDefault(),o.setEditorTimeout(a,(function(){a.undoManager.transact((function(){t["mce-internal"]&&a.execCommand("Delete"),a.selection.setRng(i),c=r.trimHtml(c),t["text/html"]?s(c):l(c)}))})))}})),a.on("dragover dragend",(function(e){a.settings.paste_data_images&&e.preventDefault()}))}var N,S,_,T=this,E=0,R=!1,A="%MCEPASTEBIN%",B="data:text/mce-internal,",P=r.createIdGenerator("mceclip");T.pasteHtml=s,T.pasteText=l,T.pasteImageData=b,a.on("preInit",(function(){k(),a.parser.addNodeFilter("img",(function(t,n,r){function i(e){return e.data&&!0===e.data.paste}function o(t){t.attr("data-mce-object")||u===e.transparentSrc||t.remove()}function s(e){return 0===e.indexOf("webkit-fake-url")}function l(e){return 0===e.indexOf("data:")}if(!a.settings.paste_data_images&&i(r))for(var c=t.length;c--;){var u=t[c].attributes.map.src;u&&(s(u)?o(t[c]):!a.settings.allow_html_data_urls&&l(u)&&o(t[c]))}}))}))}})),r("tinymce/pasteplugin/WordFilter",["tinymce/util/Tools","tinymce/html/DomParser","tinymce/html/Schema","tinymce/html/Serializer","tinymce/html/Node","tinymce/pasteplugin/Utils"],(function(e,t,n,r,i,o){function a(e){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i.test(e)||/class="OutlineElement/.test(e)||/id="?docs\-internal\-guid\-/.test(e)}function s(t){var n,r;return r=[/^[IVXLMCD]{1,2}\.[ \u00a0]/,/^[ivxlmcd]{1,2}\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/],t=t.replace(/^[\u00a0 ]+/,""),e.each(r,(function(e){if(e.test(t))return n=!0,!1})),n}function l(e){return/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(e)}function c(c){var u=c.settings;c.on("BeforePastePreProcess",(function(d){function f(e){function t(e){var n="";if(3===e.type)return e.value;if(e=e.firstChild)do{n+=t(e)}while(e=e.next);return n}function n(e,t){if(3===e.type&&t.test(e.value))return e.value=e.value.replace(t,""),!1;if(e=e.firstChild)do{if(!n(e,t))return!1}while(e=e.next);return!0}function r(e){if(e._listIgnore)e.remove();else if(e=e.firstChild)do{r(e)}while(e=e.next)}function o(e,t,o){var s=e._listLevel||u;s!=u&&(s<u?a&&(a=a.parent.parent):(c=a,a=null)),a&&a.name==t?a.append(e):(c=c||a,a=new i(t,1),o>1&&a.attr("start",""+o),e.wrap(a)),e.name="li",s>u&&c&&c.lastChild.append(a),u=s,r(e),n(e,/^\u00a0+/),n(e,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),n(e,/^\u00a0+/)}for(var a,c,u=1,d=[],f=e.firstChild;null!=f;)if(d.push(f),null!==(f=f.walk()))for(;void 0!==f&&f.parent!==e;)f=f.walk();for(var m=0;m<d.length;m++)if("p"==(e=d[m]).name&&e.firstChild){var g=t(e);if(l(g)){o(e,"ul");continue}if(s(g)){var p=/([0-9]+)\./.exec(g),h=1;p&&(h=parseInt(p[1],10)),o(e,"ol",h);continue}if(e._listLevel){o(e,"ul",1);continue}a=null}else c=a,a=null}function m(t,n){var r,o={},a=c.dom.parseStyle(n);return e.each(a,(function(e,i){switch(i){case"mso-list":(r=/\w+ \w+([0-9]+)/i.exec(n))&&(t._listLevel=parseInt(r[1],10)),/Ignore/i.test(e)&&t.firstChild&&(t._listIgnore=!0,t.firstChild._listIgnore=!0);break;case"horiz-align":i="text-align";break;case"vert-align":i="vertical-align";break;case"font-color":case"mso-foreground":i="color";break;case"mso-background":case"mso-highlight":i="background";break;case"font-weight":case"font-style":return void("normal"!=e&&(o[i]=e));case"mso-element":if(/^(comment|comment-list)$/i.test(e))return void t.remove()}return 0===i.indexOf("mso-comment")?void t.remove():void(0!==i.indexOf("mso-")&&("all"==g||p&&p[i])&&(o[i]=e))})),/(bold)/i.test(o["font-weight"])&&(delete o["font-weight"],t.wrap(new i("b",1))),/(italic)/i.test(o["font-style"])&&(delete o["font-style"],t.wrap(new i("i",1))),(o=c.dom.serializeStyle(o,t.name))||null}var g,p,h=d.content;if(h=(h=h.replace(/<b[^>]+id="?docs-internal-[^>]*>/gi,"")).replace(/<br class="?Apple-interchange-newline"?>/gi,""),(g=u.paste_retain_style_properties)&&(p=e.makeMap(g.split(/[, ]/))),!1!==u.paste_enable_default_filters&&a(d.content)){d.wordContent=!0,h=o.filter(h,[/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,""],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(e,t){return t.length>0?t.replace(/./," ").slice(Math.floor(t.length/2)).split("").join(""):""}]]);var v=u.paste_word_valid_elements;v||(v="-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody");var b=new n({valid_elements:v,valid_children:"-li[p]"});e.each(b.elements,(function(e){e.attributes.class||(e.attributes.class={},e.attributesOrder.push("class")),e.attributes.style||(e.attributes.style={},e.attributesOrder.push("style"))}));var y=new t({},b);y.addAttributeFilter("style",(function(e){for(var t,n=e.length;n--;)(t=e[n]).attr("style",m(t,t.attr("style"))),"span"==t.name&&t.parent&&!t.attributes.length&&t.unwrap()})),y.addAttributeFilter("class",(function(e){for(var t,n,r=e.length;r--;)n=(t=e[r]).attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(n)&&t.remove(),t.attr("class",null)})),y.addNodeFilter("del",(function(e){for(var t=e.length;t--;)e[t].remove()})),y.addNodeFilter("a",(function(e){for(var t,n,r,i=e.length;i--;)if(n=(t=e[i]).attr("href"),r=t.attr("name"),n&&-1!=n.indexOf("#_msocom_"))t.remove();else if(n&&0===n.indexOf("file://")&&((n=n.split("#")[1])&&(n="#"+n)),n||r){if(r&&!/^_?(?:toc|edn|ftn)/i.test(r)){t.unwrap();continue}t.attr({href:n,name:r})}else t.unwrap()}));var x=y.parse(h);!1!==u.paste_convert_word_fake_lists&&f(x),d.content=new r({validate:u.validate},b).serialize(x)}}))}return c.isWordContent=a,c})),r("tinymce/pasteplugin/Quirks",["tinymce/Env","tinymce/util/Tools","tinymce/pasteplugin/WordFilter","tinymce/pasteplugin/Utils"],(function(e,t,n,r){return function(i){function o(e){i.on("BeforePastePreProcess",(function(t){t.content=e(t.content)}))}function a(e){i.on("PastePostProcess",(function(t){e(t.node)}))}function s(e){if(!n.isWordContent(e))return e;var o=[];t.each(i.schema.getBlockElements(),(function(e,t){o.push(t)}));var a=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+o.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return e=r.filter(e,[[a,"$1"]]),r.filter(e,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]])}function l(e){if(n.isWordContent(e))return e;var t=i.settings.paste_webkit_styles;if(!1===i.settings.paste_remove_styles_if_webkit||"all"==t)return e;if(t&&(t=t.split(/[, ]/)),t){var r=i.dom,o=i.selection.getNode();e=e.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(function(e,n,i,a){var s=r.parseStyle(i,"span"),l={};if("none"===t)return n+a;for(var c=0;c<t.length;c++){var u=s[t[c]],d=r.getStyle(o,t[c],!0);/color/.test(t[c])&&(u=r.toHex(u),d=r.toHex(d)),d!=u&&(l[t[c]]=u)}return(l=r.serializeStyle(l,"span"))?n+' style="'+l+'"'+a:n+a}))}else e=e.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return e.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(function(e,t,n,r){return t+' style="'+n+'"'+r}))}function c(e){i.$("a",e).find("font,u").each((function(e,t){i.dom.remove(t,!0)}))}e.webkit&&o(l),e.ie&&(o(s),a(c))}})),r("tinymce/pasteplugin/Plugin",["tinymce/PluginManager","tinymce/pasteplugin/Clipboard","tinymce/pasteplugin/WordFilter","tinymce/pasteplugin/Quirks"],(function(e,t,n,r){var i;e.add("paste",(function(o){function a(){return i||!1===o.settings.paste_plaintext_inform}function s(){if("text"==c.pasteFormat)c.pasteFormat="html",o.fire("PastePlainTextToggle",{state:!1});else if(c.pasteFormat="text",o.fire("PastePlainTextToggle",{state:!0}),!a()){var e=o.translate("Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.");o.notificationManager.open({text:e,type:"info"}),i=!0}o.focus()}function l(){var e=this;e.active("text"===c.pasteFormat),o.on("PastePlainTextToggle",(function(t){e.active(t.state)}))}var c,u=this,d=o.settings;return/(^|[ ,])powerpaste([, ]|$)/.test(d.plugins)&&e.get("powerpaste")?void("undefined"!=typeof console&&console.log&&console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option.")):(u.clipboard=c=new t(o),u.quirks=new r(o),u.wordFilter=new n(o),o.settings.paste_as_text&&(u.clipboard.pasteFormat="text"),d.paste_preprocess&&o.on("PastePreProcess",(function(e){d.paste_preprocess.call(u,u,e)})),d.paste_postprocess&&o.on("PastePostProcess",(function(e){d.paste_postprocess.call(u,u,e)})),o.addCommand("mceInsertClipboardContent",(function(e,t){t.content&&u.clipboard.pasteHtml(t.content),t.text&&u.clipboard.pasteText(t.text)})),o.settings.paste_block_drop&&o.on("dragend dragover draggesture dragdrop drop drag",(function(e){e.preventDefault(),e.stopPropagation()})),o.settings.paste_data_images||o.on("drop",(function(e){var t=e.dataTransfer;t&&t.files&&t.files.length>0&&e.preventDefault()})),o.addCommand("mceTogglePlainTextPaste",s),o.addButton("pastetext",{icon:"pastetext",tooltip:"Paste as text",onclick:s,onPostRender:l}),void o.addMenuItem("pastetext",{text:"Paste as text",selectable:!0,active:c.pasteFormat,onclick:s,onPostRender:l}))}))})),o(["tinymce/pasteplugin/Utils"])}(window)}.call(this),function(){tinymce.PluginManager.add("save",(function(e){function t(){var t;if(t=tinymce.DOM.getParent(e.id,"form"),!e.getParam("save_enablewhendirty",!0)||e.isDirty())return tinymce.triggerSave(),e.getParam("save_onsavecallback")?(e.execCallback("save_onsavecallback",e),void e.nodeChanged()):void(t?(e.setDirty(!1),t.onsubmit&&!t.onsubmit()||("function"==typeof t.submit?t.submit():n(e.translate("Error: Form submit field collision."))),e.nodeChanged()):n(e.translate("Error: No form element found.")))}function n(t){e.notificationManager.open({text:t,type:"error"})}function r(){var t=tinymce.trim(e.startContent);return e.getParam("save_oncancelcallback")?void e.execCallback("save_oncancelcallback",e):(e.setContent(t),e.undoManager.clear(),void e.nodeChanged())}function i(){var t=this;e.on("nodeChange dirty",(function(){t.disabled(e.getParam("save_enablewhendirty",!0)&&!e.isDirty())}))}e.addCommand("mceSave",t),e.addCommand("mceCancel",r),e.addButton("save",{icon:"save",text:"Save",cmd:"mceSave",disabled:!0,onPostRender:i}),e.addButton("cancel",{text:"Cancel",icon:!1,cmd:"mceCancel",disabled:!0,onPostRender:i}),e.addShortcut("Meta+S","","mceSave")}))}.call(this),function(){tinymce.PluginManager.add("tabfocus",(function(e){function t(e){9!==e.keyCode||e.ctrlKey||e.altKey||e.metaKey||e.preventDefault()}function n(t){function n(n){function o(e){return"BODY"===e.nodeName||"hidden"!=e.type&&"none"!=e.style.display&&"hidden"!=e.style.visibility&&o(e.parentNode)}function l(e){return/INPUT|TEXTAREA|BUTTON/.test(e.tagName)&&tinymce.get(t.id)&&-1!=e.tabIndex&&o(e)}if(s=r.select(":input:enabled,*[tabindex]:not(iframe)"),i(s,(function(t,n){if(t.id==e.id)return a=n,!1})),n>0){for(c=a+1;c<s.length;c++)if(l(s[c]))return s[c]}else for(c=a-1;c>=0;c--)if(l(s[c]))return s[c];return null}var a,s,l,c;if(!(9!==t.keyCode||t.ctrlKey||t.altKey||t.metaKey||t.isDefaultPrevented())&&(1==(l=o(e.getParam("tab_focus",e.getParam("tabfocus_elements",":prev,:next")))).length&&(l[1]=l[0],l[0]=":prev"),s=t.shiftKey?":prev"==l[0]?n(-1):r.get(l[0]):":next"==l[1]?n(1):r.get(l[1]))){var u=tinymce.get(s.id||s.name);s.id&&u?u.focus():tinymce.util.Delay.setTimeout((function(){tinymce.Env.webkit||window.focus(),s.focus()}),10),t.preventDefault()}}var r=tinymce.DOM,i=tinymce.each,o=tinymce.explode;e.on("init",(function(){e.inline&&tinymce.DOM.setAttrib(e.getBody(),"tabIndex",null),e.on("keyup",t),tinymce.Env.gecko?e.on("keypress keydown",n):e.on("keydown",n)}))}))}.call(this),function(){tinymce.PluginManager.add("textcolor",(function(e){function t(t){var n;return e.dom.getParents(e.selection.getStart(),(function(e){var r;(r=e.style["forecolor"==t?"color":"background-color"])&&(n=r)})),n}function n(t){var n,r,i=[];for(r=["000000","Black","993300","Burnt orange","333300","Dark olive","003300","Dark green","003366","Dark azure","000080","Navy Blue","333399","Indigo","333333","Very dark gray","800000","Maroon","FF6600","Orange","808000","Olive","008000","Green","008080","Teal","0000FF","Blue","666699","Grayish blue","808080","Gray","FF0000","Red","FF9900","Amber","99CC00","Yellow green","339966","Sea green","33CCCC","Turquoise","3366FF","Royal blue","800080","Purple","999999","Medium gray","FF00FF","Magenta","FFCC00","Gold","FFFF00","Yellow","00FF00","Lime","00FFFF","Aqua","00CCFF","Sky blue","993366","Red violet","FFFFFF","White","FF99CC","Pink","FFCC99","Peach","FFFF99","Light yellow","CCFFCC","Pale green","CCFFFF","Pale cyan","99CCFF","Light sky blue","CC99FF","Plum"],r=e.settings.textcolor_map||r,r=e.settings[t+"_map"]||r,n=0;n<r.length;n+=2)i.push({text:r[n+1],color:"#"+r[n]});return i}function r(){function t(e,t){var n="transparent"==e;return'<td class="mce-grid-cell'+(n?" mce-colorbtn-trans":"")+'"><div id="'+g+"-"+p+++'" data-mce-color="'+(e||"")+'" role="option" tabIndex="-1" style="'+(e?"background-color: "+e:"")+'" title="'+tinymce.translate(t)+'">'+(n?"&#215;":"")+"</div></td>"}var r,i,o,a,s,u,d,f,m=this,g=m._id,p=0;for((r=n(f=m.settings.origin)).push({text:tinymce.translate("No color"),color:"transparent"}),o='<table class="mce-grid mce-grid-border mce-colorbutton-grid" role="list" cellspacing="0"><tbody>',a=r.length-1,u=0;u<c[f];u++){for(o+="<tr>",s=0;s<l[f];s++)(d=u*l[f]+s)>a?o+="<td></td>":o+=t((i=r[d]).color,i.text);o+="</tr>"}if(e.settings.color_picker_callback){for(o+='<tr><td colspan="'+l[f]+'" class="mce-custom-color-btn"><div id="'+g+'-c" class="mce-widget mce-btn mce-btn-small mce-btn-flat" role="button" tabindex="-1" aria-labelledby="'+g+'-c" style="width: 100%"><button type="button" role="presentation" tabindex="-1">'+tinymce.translate("Custom...")+"</button></div></td></tr>",o+="<tr>",s=0;s<l[f];s++)o+=t("","Custom color");o+="</tr>"}return o+"</tbody></table>"}function i(t,n){e.undoManager.transact((function(){e.focus(),e.formatter.apply(t,{value:n}),e.nodeChanged()}))}function o(t){e.undoManager.transact((function(){e.focus(),e.formatter.remove(t,{value:null},null,!0),e.nodeChanged()}))}function a(n){function r(e){d.hidePanel(),d.color(e),i(d.settings.format,e)}function a(){d.hidePanel(),d.resetColor(),o(d.settings.format)}function s(e,t){e.style.background=t,e.setAttribute("data-mce-color",t)}var c,u,d=this.parent();u=d.settings.origin,tinymce.DOM.getParent(n.target,".mce-custom-color-btn")&&(d.hidePanel(),e.settings.color_picker_callback.call(e,(function(e){var t,n,i,o=d.panel.getEl().getElementsByTagName("table")[0];for(t=tinymce.map(o.rows[o.rows.length-1].childNodes,(function(e){return e.firstChild})),i=0;i<t.length&&(n=t[i]).getAttribute("data-mce-color");i++);if(i==l[u])for(i=0;i<l[u]-1;i++)s(t[i],t[i+1].getAttribute("data-mce-color"));s(n,e),r(e)}),t(d.settings.format))),(c=n.target.getAttribute("data-mce-color"))?(this.lastId&&document.getElementById(this.lastId).setAttribute("aria-selected",!1),n.target.setAttribute("aria-selected",!0),this.lastId=n.target.id,"transparent"==c?a():r(c)):null!==c&&d.hidePanel()}function s(){var e=this;e._color?i(e.settings.format,e._color):o(e.settings.format)}var l,c;c={forecolor:e.settings.forecolor_rows||e.settings.textcolor_rows||5,backcolor:e.settings.backcolor_rows||e.settings.textcolor_rows||5},l={forecolor:e.settings.forecolor_cols||e.settings.textcolor_cols||8,backcolor:e.settings.backcolor_cols||e.settings.textcolor_cols||8},e.addButton("forecolor",{type:"colorbutton",tooltip:"Text color",format:"forecolor",panel:{origin:"forecolor",role:"application",ariaRemember:!0,html:r,onclick:a},onclick:s}),e.addButton("backcolor",{type:"colorbutton",tooltip:"Background color",format:"hilitecolor",panel:{origin:"backcolor",role:"application",ariaRemember:!0,html:r,onclick:a},onclick:s})}))}.call(this),function(){tinymce.PluginManager.add("visualblocks",(function(e,t){function n(){var t=this;t.active(o),e.on("VisualBlocks",(function(){t.active(e.dom.hasClass(e.getBody(),"mce-visualblocks"))}))}var r,i,o;window.NodeList&&(e.addCommand("mceVisualBlocks",(function(){var n,i=e.dom;r||(r=i.uniqueId(),n=i.create("link",{id:r,rel:"stylesheet",href:t+"/css/visualblocks.css"}),e.getDoc().getElementsByTagName("head")[0].appendChild(n)),e.on("PreviewFormats AfterPreviewFormats",(function(t){o&&i.toggleClass(e.getBody(),"mce-visualblocks","afterpreviewformats"==t.type)})),i.toggleClass(e.getBody(),"mce-visualblocks"),o=e.dom.hasClass(e.getBody(),"mce-visualblocks"),e.fire("VisualBlocks")})),e.addButton("visualblocks",{title:"Show blocks",cmd:"mceVisualBlocks",onPostRender:n}),e.addMenuItem("visualblocks",{text:"Show blocks",cmd:"mceVisualBlocks",onPostRender:n,selectable:!0,context:"view",prependToContext:!0}),e.on("init",(function(){e.settings.visualblocks_default_state&&e.execCommand("mceVisualBlocks",!1,null,{skip_focus:!0})})),e.on("remove",(function(){e.dom.removeClass(e.getBody(),"mce-visualblocks")})))}))}.call(this),function(){var e,t,n,r,i,o,a,s;e={},t=function(t){for(var n=e[t],i=n.deps,o=n.defn,a=i.length,s=new Array(a),l=0;l<a;++l)s[l]=r(i[l]);var c=o.apply(null,s);if(void 0===c)throw"module ["+t+"] returned undefined";n.instance=c},n=function(t,n,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;e[t]={deps:n,defn:r,instance:void 0}},r=function(n){var r=e[n];if(void 0===r)throw"module ["+n+"] was undefined";return void 0===r.instance&&t(n),r.instance},a=n,(s=function(e,t){a(e,[],(function(){return t}))})("1",tinymce.Env),s("2",tinymce.EditorManager),s("3",tinymce.ThemeManager),s("8",tinymce.util.Tools),s("9",tinymce.ui.Factory),s("a",tinymce.DOM),a("b",["8","9"],(function(e,t){var n="undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image",r=function(n,r,i){var o,a=[];if(r)return e.each(r.split(/[ ,]/),(function(e){var r,s=function(){var t=n.selection;e.settings.stateSelector&&t.selectorChanged(e.settings.stateSelector,(function(t){e.active(t)}),!0),e.settings.disabledStateSelector&&t.selectorChanged(e.settings.disabledStateSelector,(function(t){e.disabled(t)}))};"|"==e?o=null:t.has(e)?(e={type:e,size:i},a.push(e),o=null):(o||(o={type:"buttongroup",items:[]},a.push(o)),n.buttons[e]&&(r=e,"function"==typeof(e=n.buttons[r])&&(e=e()),e.type=e.type||"button",e.size=i,e=t.create(e),o.items.push(e),n.initialized?s():n.on("init",s)))})),{type:"toolbar",layout:"flow",items:a}},i=function(t,i){var o=[],a=t.settings,s=function(e){if(e)return o.push(r(t,e,i)),!0};if(e.isArray(a.toolbar)){if(0===a.toolbar.length)return;e.each(a.toolbar,(function(e,t){a["toolbar"+(t+1)]=e})),delete a.toolbar}for(var l=1;l<10&&s(a["toolbar"+l]);l++);if(o.length||!1===a.toolbar||s(a.toolbar||n),o.length)return{type:"panel",layout:"stack",classes:"toolbar-grp",ariaRoot:!0,ariaRemember:!0,items:o}};return{createToolbar:r,createToolbars:i}})),a("c",["8"],(function(e){var t={file:{title:"File",items:"newdocument"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall"},insert:{title:"Insert",items:"|"},view:{title:"View",items:"visualaid |"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript | formats | removeformat"},table:{title:"Table"},tools:{title:"Tools"}},n=function(e,t){var n;return"|"==t?{text:"|"}:n=e[t]},r=function(r,i,o){var a,s,l,c,u;if(u=e.makeMap((i.removed_menuitems||"").split(/[ ,]/)),i.menu?(s=i.menu[o],c=!0):s=t[o],s){a={text:s.title},l=[],e.each((s.items||"").split(/[ ,]/),(function(e){var t;n(r,e)&&!u[e]&&l.push(n(r,e))})),c||e.each(r,(function(e){e.context==o&&("before"==e.separator&&l.push({text:"|"}),e.prependToContext?l.unshift(e):l.push(e),"after"==e.separator&&l.push({text:"|"}))}));for(var d=0;d<l.length;d++)"|"==l[d].text&&(0!==d&&d!=l.length-1||l.splice(d,1));if(a.menu=l,!a.menu.length)return null}return a},i;return{createMenuButtons:function(e){var n,i=[],o=e.settings,a=[];if(o.menu)for(n in o.menu)a.push(n);else for(n in t)a.push(n);for(var s="string"==typeof o.menubar?o.menubar.split(/[ ,]/):a,l=0;l<s.length;l++){var c=s[l];(c=r(e.menuItems,e.settings,c))&&i.push(c)}return i}}})),s("j",tinymce.util.Delay),s("k",tinymce.geom.Rect),a("d",["a","8","j","b","9","k"],(function(e,t,n,r,i,o){var a=function(e){return{left:e.x,top:e.y,width:e.w,height:e.h,right:e.x+e.w,bottom:e.y+e.h}},s=function(e){t.each(e.contextToolbars,(function(e){e.panel&&e.panel.hide()}))},l=function(e,t){e.moveTo(t.left,t.top)},c=function(e,n,r){n=n?n.substr(0,2):"",t.each({t:"down",b:"up"},(function(t,i){e.classes.toggle("arrow-"+t,r(i,n.substr(0,1)))})),t.each({l:"left",r:"right"},(function(t,i){e.classes.toggle("arrow-"+t,r(i,n.substr(1,1)))}))},u=function(e,t,n,r,i,o){return o=a({x:t,y:n,w:o.w,h:o.h}),e&&(o=e({elementRect:a(r),contentAreaRect:a(i),panelRect:o})),o},d;return{addContextualToolbars:function(a){var d,f=a.settings,m=function(){return a.contextToolbars||[]},g=function(t){var n,r,i;return n=e.getPos(a.getContentAreaContainer()),r=a.dom.getRect(t),"BODY"===(i=a.dom.getRoot()).nodeName&&(r.x-=i.ownerDocument.documentElement.scrollLeft||i.scrollLeft,r.y-=i.ownerDocument.documentElement.scrollTop||i.scrollTop),r.x+=n.x,r.y+=n.y,r},p=function(t,n){var r,i,d,m,p,h,v,b,y=f.inline_toolbar_position_handler;if(!a.removed){if(!t||!t.toolbar.panel)return void s(a);v=["bc-tc","tc-bc","tl-bl","bl-tl","tr-br","br-tr"],p=t.toolbar.panel,n&&p.show(),d=g(t.element),i=e.getRect(p.getEl()),m=e.getRect(a.getContentAreaContainer()||a.getBody()),b=25,"inline"!==e.getStyle(t.element,"display",!0)&&(d.w=t.element.clientWidth,d.h=t.element.clientHeight),a.inline||(m.w=a.getDoc().documentElement.offsetWidth),a.selection.controlSelection.isResizable(t.element)&&d.w<b&&(d=o.inflate(d,0,8)),r=o.findBestRelativePosition(i,d,m,v),d=o.clamp(d,m),r?(h=o.relativePosition(i,d,r),l(p,u(y,h.x,h.y,d,m,i))):(m.h+=i.h,(d=o.intersect(m,d))?(r=o.findBestRelativePosition(i,d,m,["bc-tc","bl-tl","br-tr"]))?(h=o.relativePosition(i,d,r),l(p,u(y,h.x,h.y,d,m,i))):l(p,u(y,d.x,d.y,d,m,i)):p.hide()),c(p,r,(function(e,t){return e===t}))}},h=function(e){return function(){var t=function(){a.selection&&p(x(a.selection.getNode()),e)};n.requestAnimationFrame(t)}},v=function(){d||(d=a.selection.getScrollContainer()||a.getWin(),e.bind(d,"scroll",h(!0)),a.on("remove",(function(){e.unbind(d,"scroll")})))},b=function(e){var t;return e.toolbar.panel?(e.toolbar.panel.show(),void p(e)):(v(),t=i.create({type:"floatpanel",role:"dialog",classes:"tinymce tinymce-inline arrow",ariaLabel:"Inline toolbar",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!0,border:1,items:r.createToolbar(a,e.toolbar.items),oncancel:function(){a.focus()}}),e.toolbar.panel=t,t.renderTo(document.body).reflow(),void p(e))},y=function(){t.each(m(),(function(e){e.panel&&e.panel.hide()}))},x=function(e){var t,n,r,i=m();for(t=(r=a.$(e).parents().add(e)).length-1;t>=0;t--)for(n=i.length-1;n>=0;n--)if(i[n].predicate(r[t]))return{toolbar:i[n],element:r[t]};return null};a.on("click keyup setContent ObjectResized",(function(e){("setcontent"!==e.type||e.selection)&&n.setEditorTimeout(a,(function(){var e;(e=x(a.selection.getNode()))?(y(),b(e)):y()}))})),a.on("blur hide contextmenu",y),a.on("ObjectResizeStart",(function(){var e=x(a.selection.getNode());e&&e.toolbar.panel&&e.toolbar.panel.hide()})),a.on("ResizeEditor ResizeWindow",h(!0)),a.on("nodeChange",h(!1)),a.on("remove",(function(){t.each(m(),(function(e){e.panel&&e.panel.remove()})),a.contextToolbars={}})),a.shortcuts.add("ctrl+shift+e > ctrl+shift+p","",(function(){var e=x(a.selection.getNode());e&&e.toolbar.panel&&e.toolbar.panel.items()[0].focus()}))}}})),a("e",[],(function(){var e=function(e,t){return function(){var n=e.find(t)[0];n&&n.focus(!0)}},t;return{addKeys:function(t,n){t.shortcuts.add("Alt+F9","",e(n,"menubar")),t.shortcuts.add("Alt+F10,F10","",e(n,"toolbar")),t.shortcuts.add("Alt+F11","",e(n,"elementpath")),n.on("cancel",(function(){t.focus()}))}}})),a("f",["8","9","1"],(function(e,t,n){var r=function(e){return{element:function(){return e}}},i=function(e,t,n){var i=e.settings[n];i&&i(r(t.getEl("body")))},o=function(t,n,r){e.each(r,(function(e){var r=n.items().filter("#"+e.name)[0];r&&r.visible()&&e.name!==t&&(i(e,r,"onhide"),r.visible(!1))}))},a=function(e){e.items().each((function(e){e.active(!1)}))},s=function(t,n){return e.grep(t,(function(e){return e.name===n}))[0]},l=function(e,n,r){return function(l){var c=l.control,u=c.parents().filter("panel")[0],d=u.find("#"+n)[0],f=s(r,n);o(n,u,r),a(c.parent()),d&&d.visible()?(i(f,d,"onhide"),d.hide(),c.active(!1)):(d?(d.show(),i(f,d,"onshow")):(d=t.create({type:"container",name:n,layout:"stack",classes:"sidebar-panel",html:""}),u.prepend(d),i(f,d,"onrender"),i(f,d,"onshow")),c.active(!0)),e.fire("ResizeEditor")}},c=function(){return!n.ie||n.ie>=11},u,d;return{hasSidebar:function(e){return!(!c()||!e.sidebars)&&e.sidebars.length>0},createSidebar:function(t){var n;return{type:"panel",name:"sidebar",layout:"stack",classes:"sidebar",items:[{type:"toolbar",layout:"stack",classes:"sidebar-toolbar",items:e.map(t.sidebars,(function(e){var n=e.settings;return{type:"button",icon:n.icon,image:n.image,tooltip:n.tooltip,onclick:l(t,e.name,t.sidebars)}}))}]}}}})),a("g",[],(function(){var e;return{fireSkinLoaded:function(e){var t=function(){e._skinLoaded=!0,e.fire("SkinLoaded")};return function(){e.initialized?t():e.on("init",t)}}}})),a("6",["a"],(function(e){var t=function(e){return{width:e.clientWidth,height:e.clientHeight}},n=function(n,r,i){var o,a,s,l,c=n.settings;o=n.getContainer(),a=n.getContentAreaContainer().firstChild,s=t(o),l=t(a),null!==r&&(r=Math.max(c.min_width||100,r),r=Math.min(c.max_width||65535,r),e.setStyle(o,"width",r+(s.width-l.width)),e.setStyle(a,"width",r)),i=Math.max(c.min_height||100,i),i=Math.min(c.max_height||65535,i),e.setStyle(a,"height",i),n.fire("ResizeEditor")},r=function(e,t,r){var i=e.getContentAreaContainer();n(e,i.clientWidth+t,i.clientHeight+r)};return{resizeTo:n,resizeBy:r}})),a("4",["8","9","a","b","c","d","e","f","g","6"],(function(e,t,n,r,i,o,a,s,l,c){var u=function(e){return function(t){e.find("*").disabled("readonly"===t.mode)}},d=function(e){return{type:"panel",name:"iframe",layout:"stack",classes:"edit-area",border:e,html:""}},f=function(e){return{type:"panel",layout:"stack",classes:"edit-aria-container",border:"1 0 0 0",items:[d("0"),s.createSidebar(e)]}},m;return{render:function(e,m,g){var p,h,v,b=e.settings;return g.skinUiCss&&n.styleSheetLoader.load(g.skinUiCss,l.fireSkinLoaded(e)),p=m.panel=t.create({type:"panel",role:"application",classes:"tinymce",style:"visibility: hidden",layout:"stack",border:1,items:[!1===b.menubar?null:{type:"menubar",border:"0 0 1 0",items:i.createMenuButtons(e)},r.createToolbars(e,b.toolbar_items_size),s.hasSidebar(e)?f(e):d("1 0 0 0")]}),!1!==b.resize&&(h={type:"resizehandle",direction:b.resize,onResizeStart:function(){var t=e.getContentAreaContainer().firstChild;v={width:t.clientWidth,height:t.clientHeight}},onResize:function(t){"both"===b.resize?c.resizeTo(e,v.width+t.deltaX,v.height+t.deltaY):c.resizeTo(e,null,v.height+t.deltaY)}}),!1!==b.statusbar&&p.add({type:"panel",name:"statusbar",classes:"statusbar",layout:"flow",border:"1 0 0 0",ariaRoot:!0,items:[{type:"elementpath",editor:e},h]}),e.fire("BeforeRenderUI"),e.on("SwitchMode",u(p)),p.renderBefore(g.targetNode).reflow(),b.readonly&&e.setMode("readonly"),b.width&&n.setStyle(p.getEl(),"width",b.width),e.on("remove",(function(){p.remove(),p=null})),a.addKeys(e,p),o.addContextualToolbars(e),{iframeContainer:p.find("#iframe")[0].getEl(),editorContainer:p.getEl()}}}})),s("h",tinymce.ui.FloatPanel),a("5",["8","9","a","h","b","c","d","e","g"],(function(e,t,n,r,i,o,a,s,l){var c;return{render:function(e,c,u){var d,f,m=e.settings;m.fixed_toolbar_container&&(f=n.select(m.fixed_toolbar_container)[0]);var g=function(){if(d&&d.moveRel&&d.visible()&&!d._fixed){var t=e.selection.getScrollContainer(),r=e.getBody(),i=0,o=0;if(t){var a=n.getPos(r),s=n.getPos(t);i=Math.max(0,s.x-a.x),o=Math.max(0,s.y-a.y)}d.fixed(!1).moveRel(r,e.rtl?["tr-br","br-tr"]:["tl-bl","bl-tl","tr-br"]).moveBy(i,o)}},p=function(){d&&(d.show(),g(),n.addClass(e.getBody(),"mce-edit-focus"))},h=function(){d&&(d.hide(),r.hideAll(),n.removeClass(e.getBody(),"mce-edit-focus"))},v=function(){return d?void(d.visible()||p()):(d=c.panel=t.create({type:f?"panel":"floatpanel",role:"application",classes:"tinymce tinymce-inline",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!!f,border:1,items:[!1===m.menubar?null:{type:"menubar",border:"0 0 1 0",items:o.createMenuButtons(e)},i.createToolbars(e,m.toolbar_items_size)]}),e.fire("BeforeRenderUI"),d.renderTo(f||document.body).reflow(),s.addKeys(e,d),p(),a.addContextualToolbars(e),e.on("nodeChange",g),e.on("activate",p),e.on("deactivate",h),void e.nodeChanged())};return m.content_editable=!0,e.on("focus",(function(){u.skinUiCss?n.styleSheetLoader.load(u.skinUiCss,v,v):v()})),e.on("blur hide",h),e.on("remove",(function(){d&&(d.remove(),d=null)})),u.skinUiCss&&n.styleSheetLoader.load(u.skinUiCss,l.fireSkinLoaded(e)),{}}}})),s("i",tinymce.ui.Throbber),a("7",["i"],(function(e){var t;return{setup:function(t,n){var r;t.on("ProgressState",(function(t){r=r||new e(n.panel.getEl("body")),t.state?r.show(t.time):r.hide()}))}}})),a("0",["1","2","3","4","5","6","7"],(function(e,t,n,r,i,o,a){var s=function(n,o,s){var l=n.settings,c=!1!==l.skin&&(l.skin||"lightgray");if(c){var u=l.skin_url;u=u?n.documentBaseURI.toAbsolute(u):t.baseURL+"/skins/"+c,e.documentMode<=7?s.skinUiCss=u+"/skin.ie7.min.css":s.skinUiCss=u+"/skin.min.css",n.contentCSS.push(u+"/content"+(n.inline?".inline":"")+".min.css")}return a.setup(n,o),l.inline?i.render(n,o,s):r.render(n,o,s)};return n.add("modern",(function(e){return{renderUI:function(t){return s(e,this,t)},resizeTo:function(t,n){return o.resizeTo(e,t,n)},resizeBy:function(t,n){return o.resizeBy(e,t,n)}}})),function(){}})),r("0")()}.call(this),function(){var e,t,n,r,i,o,a,s;e={},t=function(t){for(var n=e[t],i=n.deps,o=n.defn,a=i.length,s=new Array(a),l=0;l<a;++l)s[l]=r(i[l]);var c=o.apply(null,s);if(void 0===c)throw"module ["+t+"] returned undefined";n.instance=c},n=function(t,n,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;e[t]={deps:n,defn:r,instance:void 0}},r=function(n){var r=e[n];if(void 0===r)throw"module ["+n+"] was undefined";return void 0===r.instance&&t(n),r.instance},a=n,(s=function(e,t){a(e,[],(function(){return t}))})("1",tinymce.ThemeManager),s("2",tinymce.util.Delay),s("c",tinymce.util.Tools),s("d",tinymce.ui.Factory),s("e",tinymce.DOM),a("j",[],(function(){var e=function(e){return function(t){return typeof t===e}},t=function(e){return Array.isArray(e)},n=function(e){return null===e},r=function(e){return function(r){return!n(r)&&!t(r)&&e(r)}};return{isString:e("string"),isNumber:e("number"),isBoolean:e("boolean"),isFunction:e("function"),isObject:r(e("object")),isNull:n,isArray:t}})),a("f",["c","d","j"],(function(e,t,n){var r=function(e,t){var n=function(e,t){return{selector:e,handler:t}},r=function(e){t.active(e)},i=function(e){t.disabled(e)};return t.settings.stateSelector?n(t.settings.stateSelector,r):t.settings.disabledStateSelector?n(t.settings.disabledStateSelector,i):null},i=function(e,t,n){return function(){var i=r(t,n);null!==i&&e.selection.selectorChanged(i.selector,i.handler)}},o=function(e){return n.isArray(e)?e:n.isString(e)?e.split(/[ ,]/):[]},a;return{create:function(n,r,a){var s,l=[];if(a)return e.each(o(a),(function(e){var r;"|"==e?s=null:t.has(e)?(e={type:e},l.push(e),s=null):n.buttons[e]&&(s||(s={type:"buttongroup",items:[]},l.push(s)),r=e,"function"==typeof(e=n.buttons[r])&&(e=e()),e.type=e.type||"button",(e=t.create(e)).on("postRender",i(n,r,e)),s.items.push(e))})),t.create({type:"toolbar",layout:"flow",name:r,items:l})}}})),s("o",tinymce.util.Promise),a("p",[],(function(){var e=0,t=function(){var e=function(){return Math.round(4294967295*Math.random()).toString(36)};return"s"+Date.now().toString(36)+e()+e()+e()},n;return{uuid:function(n){return n+e+++t()}}})),a("u",[],(function(){var e=function(e,t){function n(n){var i,o,a;o=t[n?"startContainer":"endContainer"],a=t[n?"startOffset":"endOffset"],1==o.nodeType&&(i=e.create("span",{"data-mce-type":"bookmark"}),o.hasChildNodes()?(a=Math.min(a,o.childNodes.length-1),n?o.insertBefore(i,o.childNodes[a]):e.insertAfter(i,o.childNodes[a])):o.appendChild(i),o=i,a=0),r[n?"startContainer":"endContainer"]=o,r[n?"startOffset":"endOffset"]=a}var r={};return n(!0),t.collapsed||n(),r},t=function(e,t){function n(n){function r(e){for(var t=e.parentNode.firstChild,n=0;t;){if(t==e)return n;1==t.nodeType&&"bookmark"==t.getAttribute("data-mce-type")||n++,t=t.nextSibling}return-1}var i,o,a;i=a=t[n?"startContainer":"endContainer"],o=t[n?"startOffset":"endOffset"],i&&(1==i.nodeType&&(o=r(i),i=i.parentNode,e.remove(a)),t[n?"startContainer":"endContainer"]=i,t[n?"startOffset":"endOffset"]=o)}n(!0),n();var r=e.createRng();return r.setStart(t.startContainer,t.startOffset),t.endContainer&&r.setEnd(t.endContainer,t.endOffset),r};return{create:e,resolve:t}})),s("v",tinymce.dom.TreeWalker),s("w",tinymce.dom.RangeUtils),a("q",["u","c","v","w"],(function(e,t,n,r){var i=function(e,t,r){var i,o,a=[];for(i=new n(t,e),o=t;o&&(1===o.nodeType&&a.push(o),o!==r);o=i.next());return a},o=function(n,r){var i,o,a;o=n.dom,a=n.selection,i=e.create(o,a.getRng()),t.each(r,(function(e){n.dom.remove(e,!0)})),a.setRng(e.resolve(o,i))},a=function(e){return"A"===e.nodeName&&e.hasAttribute("href")},s=function(e,t){var n=e.getParent(t,a);return n||t},l=function(e){var n,o,l,c,u,d,f;return u=e.selection,d=e.dom,f=u.getRng(),n=s(d,r.getNode(f.startContainer,f.startOffset)),o=r.getNode(f.endContainer,f.endOffset),l=e.getBody(),t.grep(i(l,n,o),a)},c;return{unlinkSelection:function(e){o(e,l(e))}}})),a("m",["p","q"],(function(e,t){var n=function(e,t){var n,r,i;for(i='<table data-mce-id="mce" style="width: 100%">',i+="<tbody>",r=0;r<t;r++){for(i+="<tr>",n=0;n<e;n++)i+="<td><br></td>";i+="</tr>"}return(i+="</tbody>")+"</table>"},r=function(e){var t;return e.dom.select("*[data-mce-id]")[0]},i=function(e,t,i){e.undoManager.transact((function(){var o,a;e.insertContent(n(t,i)),(o=r(e)).removeAttribute("data-mce-id"),a=e.dom.select("td,th",o),e.selection.setCursorLocation(a[0],0)}))},o,a=function(t,n,r){var i,o;o=(i=t.editorUpload.blobCache).create(e.uuid("mceu"),r,n),i.add(o),t.insertContent(t.dom.createHTML("img",{src:o.blobUri()}))},s=function(e){e.selection.collapse(!1)},l=function(e){e.focus(),t.unlinkSelection(e),s(e)},c=function(e,t,n){e.focus(),e.dom.setAttrib(t,"href",n),s(e)},u=function(e,t){e.execCommand("mceInsertLink",!1,{href:t}),s(e)},d=function(e,t){var n=e.dom.getParent(e.selection.getStart(),"a[href]");n?c(e,n,t):u(e,t)},f;return{insertTable:i,formatBlock:function(e,t){e.execCommand("FormatBlock",!1,t)},insertBlob:a,createLink:function(e,t){0===t.trim().length?l(e):d(e,t)},unlink:l}})),a("r",[],(function(){var e,t;return{isDomainLike:function(e){return/^www\.|\.(com|org|edu|gov|uk|net|ca|de|jp|fr|au|us|ru|ch|it|nl|se|no|es|mil)$/i.test(e.trim())},isAbsolute:function(e){return/^https?:\/\//.test(e.trim())}}})),a("g",["c","d","o","m","r"],(function(e,t,n,r,i){var o=function(e){e.find("textbox").eq(0).each((function(e){e.focus()}))},a=function(n,r){var i=t.create(e.extend({type:"form",layout:"flex",direction:"row",padding:5,name:n,spacing:3},r));return i.on("show",(function(){o(i)})),i},s=function(e,t){return t?e.show():e.hide()},l=function(e,t){return new n((function(n){e.windowManager.confirm("The URL you entered seems to be an external link. Do you want to add the required http:// prefix?",(function(e){var r;n(!0===e?"http://"+t:t)}))}))},c=function(e,t){return!i.isAbsolute(t)&&i.isDomainLike(t)?l(e,t):n.resolve(t)},u;return{createQuickLinkForm:function(e,t){var n={},i,o,l;return a("quicklink",{items:[{type:"button",name:"unlink",icon:"unlink",onclick:function(){e.focus(),r.unlink(e),t()},tooltip:"Remove link"},{type:"filepicker",name:"linkurl",placeholder:"Paste or type a link",filetype:"file",onchange:function(e){var t=e.meta;t&&t.attach&&(n={href:this.value(),attach:t.attach})}},{type:"button",icon:"checkmark",subtype:"primary",tooltip:"Ok",onclick:"submit"}],onshow:function(t){if(t.control===this){var n,r="";(n=e.dom.getParent(e.selection.getStart(),"a[href]"))&&(r=e.dom.getAttrib(n,"href")),this.fromJSON({linkurl:r}),s(this.find("#unlink"),n),this.find("#linkurl")[0].focus()}},onsubmit:function(i){c(e,i.data.linkurl).then((function(i){e.undoManager.transact((function(){i===n.href&&(n.attach(),n={}),r.createLink(e,i)})),t()}))}})}}})),s("s",tinymce.geom.Rect),a("t",[],(function(){var e,t;return{fromClientRect:function(e){return{x:e.left,y:e.top,w:e.width,h:e.height}},toClientRect:function(e){return{left:e.x,top:e.y,width:e.w,height:e.h,right:e.x+e.w,bottom:e.y+e.h}}}})),a("h",["e","s","t"],(function(e,t,n){var r=function(t){var n=e.getViewPort();return{x:t.x+n.x,y:t.y+n.y,w:t.w,h:t.h}},i=function(e){var t=e.getBoundingClientRect();return r({x:t.left,y:t.top,w:Math.max(e.clientWidth,e.offsetWidth),h:Math.max(e.clientHeight,e.offsetHeight)})},o,a,s,l;return{getElementRect:function(e,t){return i(t)},getPageAreaRect:function(e){return i(e.getElement().ownerDocument.body)},getContentAreaRect:function(e){return i(e.getContentAreaContainer()||e.getBody())},getSelectionRect:function(e){var t=e.selection.getBoundingClientRect();return t?r(n.fromClientRect(t)):null}}})),a("i",["s","t"],(function(e,t){var n=function(e,t){return{rect:e,position:t}},r=function(e,t){return{x:t.x,y:t.y,w:e.w,h:e.h}},i=function(t,i,o,a,s){var l,c,u;return l=e.findBestRelativePosition(s,o,a,t),o=e.clamp(o,a),l?(c=e.relativePosition(s,o,l),u=r(s,c),n(u,l)):(o=e.intersect(a,o))?(l=e.findBestRelativePosition(s,o,a,i))?(c=e.relativePosition(s,o,l),u=r(s,c),n(u,l)):(u=r(s,o),n(u,l)):null},o,a,s,l;return{calcInsert:function(e,t,n){return i(["cr-cl","cl-cr"],["bc-tc","bl-tl","br-tr"],e,t,n)},calc:function(e,t,n){return i(["tc-bc","bc-tc","tl-bl","bl-tl","tr-br","br-tr"],["bc-tc","bl-tl","br-tr"],e,t,n)},userConstrain:function(e,n,r,i){var o;return"function"==typeof e?(o=e({elementRect:t.toClientRect(n),contentAreaRect:t.toClientRect(r),panelRect:t.toClientRect(i)}),t.fromClientRect(o)):i},defaultHandler:function(e){return e.panelRect}}})),a("a",["j"],(function(e){var t=function(e,t){if(t(e))return!0;throw new Error("Default value doesn't match requested type.")},n=function(e){return function(n,r,i){var o=n.settings;return t(i,e),r in o&&e(o[r])?o[r]:i}},r=function(e,t){return e.split(t).filter((function(e){return e.length>0}))},i=function(t,n){var i=function(e){return"string"==typeof e?r(e,/[ ,]/):e},o=function(e,t){return!1===e?[]:t};return e.isArray(t)?t:e.isString(t)?i(t):e.isBoolean(t)?o(t,n):n},o=function(e){return function(n,r,o){var a=r in n.settings?n.settings[r]:o;return t(o,e),i(a,o)}};return{getStringOr:n(e.isString),getBoolOr:n(e.isBoolean),getNumberOr:n(e.isNumber),getHandlerOr:n(e.isFunction),getToolbarItemsOr:o(e.isArray)}})),a("3",["c","d","e","f","g","h","i","a"],(function(e,t,n,r,i,o,a,s){return function(){var l,c,u=["bold","italic","|","quicklink","h2","h3","blockquote"],d=["quickimage","quicktable"],f=function(t,n){return e.map(n,(function(e){return r.create(t,e.id,e.items)}))},m=function(e){return s.getToolbarItemsOr(e,"selection_toolbar",u)},g=function(e){return s.getToolbarItemsOr(e,"insert_toolbar",d)},p=function(e){return e.items().length>0},h=function(n,o){var a=f(n,o).concat([r.create(n,"text",m(n)),r.create(n,"insert",g(n)),i.createQuickLinkForm(n,T)]);return t.create({type:"floatpanel",role:"dialog",classes:"tinymce tinymce-inline arrow",ariaLabel:"Inline toolbar",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!0,border:1,items:e.grep(a,p),oncancel:function(){n.focus()}})},v=function(e){e&&e.show()},b=function(e,t){e.moveTo(t.x,t.y)},y=function(t,n){n=n?n.substr(0,2):"",e.each({t:"down",b:"up",c:"center"},(function(e,r){t.classes.toggle("arrow-"+e,r===n.substr(0,1))})),"cr"===n?(t.classes.toggle("arrow-left",!0),t.classes.toggle("arrow-right",!1)):"cl"===n?(t.classes.toggle("arrow-left",!0),t.classes.toggle("arrow-right",!0)):e.each({l:"left",r:"right"},(function(e,r){t.classes.toggle("arrow-"+e,r===n.substr(1,1))}))},x=function(e,t){var n=e.items().filter("#"+t);return n.length>0&&(n[0].show(),e.reflow(),!0)},w=function(e,t,r,i){var l,u,d,f;return f=s.getHandlerOr(r,"inline_toolbar_position_handler",a.defaultHandler),l=o.getContentAreaRect(r),u=n.getRect(e.getEl()),!!(d="insert"===t?a.calcInsert(i,l,u):a.calc(i,l,u))&&(u=d.rect,c=i,b(e,a.userConstrain(f,i,l,u)),y(e,d.position),!0)},C=function(e,t,n,r){return v(e),e.items().hide(),x(e,t)?void(!1===w(e,t,n,r)&&T(e)):void T(e)},k=function(){return l.items().filter("form:visible").length>0},N=function(e,t){if(l){if(l.items().hide(),!x(l,t))return void T(l);var r,i,u,d;v(l),l.items().hide(),x(l,t),d=s.getHandlerOr(e,"inline_toolbar_position_handler",a.defaultHandler),r=o.getContentAreaRect(e),i=n.getRect(l.getEl()),(u=a.calc(c,r,i))&&(i=u.rect,b(l,a.userConstrain(d,c,r,i)),y(l,u.position))}},S,_,T=function(){l&&l.hide()},E,R,A;return{show:function(e,t,n,r){l||((l=h(e,r)).renderTo(document.body).reflow().moveTo(n.x,n.y),e.nodeChanged()),C(l,t,e,n)},showForm:N,reposition:function(e,t,n){l&&w(l,t,e,n)},inForm:function(){return l&&l.visible()&&k()},hide:T,focus:function(){l&&l.find("toolbar:visible").eq(0).each((function(e){e.focus(!0)}))},remove:function(){l&&(l.remove(),l=null)}}}})),a("k",["o"],(function(e){var t;return{blobToBase64:function(t){return new e((function(e){var n=new FileReader;n.onloadend=function(){e(n.result.split(",")[1])},n.readAsDataURL(t)}))}}})),a("l",["o"],(function(e){var t;return{pickFile:function(){return new e((function(e){var t;(t=document.createElement("input")).type="file",t.style.position="fixed",t.style.left=0,t.style.top=0,t.style.opacity=.001,document.body.appendChild(t),t.onchange=function(t){e(Array.prototype.slice.call(t.target.files))},t.click(),t.parentNode.removeChild(t)}))}}})),a("4",["3","k","l","m"],(function(e,t,n,r){var i=function(e){for(var t=function(t){return function(){r.formatBlock(e,t)}},n=1;n<6;n++){var i="h"+n;e.addButton(i,{text:i.toUpperCase(),tooltip:"Heading "+n,stateSelector:i,onclick:t(i),onPostRender:function(){var e;this.getEl().firstChild.firstChild.style.fontWeight="bold"}})}},o;return{addToEditor:function(e,o){e.addButton("quicklink",{icon:"link",tooltip:"Insert/Edit link",stateSelector:"a[href]",onclick:function(){o.showForm(e,"quicklink")}}),e.addButton("quickimage",{icon:"image",tooltip:"Insert image",onclick:function(){n.pickFile().then((function(n){var i=n[0];t.blobToBase64(i).then((function(t){r.insertBlob(e,t,i)}))}))}}),e.addButton("quicktable",{icon:"table",tooltip:"Insert table",onclick:function(){o.hide(),r.insertTable(e,2,2)}}),i(e)}}})),s("n",tinymce.EditorManager),a("5",["n","e"],(function(e,t){var n=function(e,t){var n=function(){e._skinLoaded=!0,e.fire("SkinLoaded"),t()};e.initialized?n():e.on("init",n)},r=function(t){var n=e.baseURL+"/skins/";return t?n+t:n+"lightgray"},i=function(e,t){return e.documentBaseURI.toAbsolute(t)},o;return{load:function(e,o){var a=e.settings,s=a.skin_url?i(e,a.skin_url):r(a.skin),l=function(){n(e,o)};t.styleSheetLoader.load(s+"/skin.min.css",l),e.contentCSS.push(s+"/content.inline.min.css")}}})),a("8",[],(function(){var e,t;return{match:function(e,t){for(var n=0;n<t.length;n++){var r,i=(0,t[n])(e);if(i)return i}return null},result:function(e,t){return{id:e,rect:t}}}})),a("6",["8","h"],(function(e,t){var n,r;return{textSelection:function(n){return function(r){return r.selection.isCollapsed()?null:e.result(n,t.getSelectionRect(r))}},emptyTextBlock:function(n,r){return function(i){var o,a=i.schema.getTextBlockElements();for(o=0;o<n.length;o++)if("TABLE"===n[o].nodeName)return null;for(o=0;o<n.length;o++)if(n[o].nodeName in a)return i.dom.isEmpty(n[o])?e.result(r,t.getSelectionRect(i)):null;return null}}}})),a("7",["8","h"],(function(e,t){var n,r;return{element:function(n,r){return function(i){for(var o=0;o<r.length;o++)if(r[o].predicate(n))return e.result(r[o].id,t.getElementRect(i,n));return null}},parent:function(n,r){return function(i){for(var o=0;o<n.length;o++)for(var a=0;a<r.length;a++)if(r[a].predicate(n[o]))return e.result(r[a].id,t.getElementRect(i,n[o]));return null}}}})),a("9",[],(function(){var e=function(t){return t.reduce((function(t,n){return Array.isArray(n)?t.concat(e(n)):t.concat(n)}),[])};return{flatten:e}})),a("b",["c"],(function(e){var t=function(e,t){return{id:e,predicate:t}},n=function(n){return e.map(n,(function(e){return t(e.id,e.predicate)}))};return{create:t,fromContextToolbars:n}})),a("0",["1","2","3","4","5","6","7","8","9","a","b"],(function(e,t,n,r,i,o,a,s,l,c,u){var d=function(e){var t=e.selection.getNode(),n;return e.dom.getParents(t)},f=function(e,t,n,r){var i;return{predicate:function(n){return e.dom.is(n,t)},id:n,items:r}},m=function(e){var t=e.contextToolbars;return l.flatten([t||[],f(e,"img","image","alignleft aligncenter alignright")])},g=function(e,t){var n,r,i;return r=d(e),i=u.fromContextToolbars(t),(n=s.match(e,[a.element(r[0],i),o.textSelection("text"),o.emptyTextBlock(r,"insert"),a.parent(r,i)]))&&n.rect?n:null},p=function(e,t){var n=function(){var n=m(e),r=g(e,n);r?t.show(e,r.id,r.rect,n):t.hide()};return function(){e.removed||n()}},h=function(e,t){return function(){var n=m(e),r=g(e,n);r&&t.reposition(e,r.id,r.rect)}},v=function(e,t){return function(){e.inForm()||t()}},b=function(e,n){var r=t.throttle(p(e,n),0),i=t.throttle(v(n,p(e,n)),0);e.on("blur hide ObjectResizeStart",n.hide),e.on("click",r),e.on("nodeChange mouseup",i),e.on("ResizeEditor keyup",r),e.on("ResizeWindow",h(e,n)),e.on("remove",n.remove),e.shortcuts.add("Alt+F10","",n.focus)},y=function(e,t){e.shortcuts.remove("meta+k"),e.shortcuts.add("meta+k","",(function(){var n=m(e),r=r=s.match(e,[o.textSelection("quicklink")]);r&&t.show(e,r.id,r.rect,n)}))},x=function(e,t){return i.load(e,(function(){b(e,t),y(e,t)})),{}},w=function(e){throw new Error(e)};return e.add("inlite",(function(e){var t=new n,i;return r.addToEditor(e,t),{renderUI:function(){return e.inline?x(e,t):w("inlite theme only supports inline mode.")}}})),function(){}})),r("0")()}.call(this),Package._define("teamon:tinymce")}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,a=Package.meteor.meteorEnv,n=Package.ejson.EJSON,r=Package.underscore._,o,c;(function(){(o={obj:function(e){var t=document.getElementById(e);return t?n.parse(t.innerHTML):void 0},meta:function(e){return this.metas[e]},parseMetas:function(){for(var e=document.getElementsByTagName("meta"),t=0;t<e.length;t++)this.metas[e[t].getAttribute("id")]=e[t].getAttribute("content")},metas:{}}).parseMetas(),c={getObj:o.obj,getMeta:o.meta}}).call(this),Package._define("meteorhacks:inject-initial",{Injected:o,Inject:c})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,o=Package.mongo.Mongo,r=Package.tracker.Tracker,i=Package.tracker.Deps,c=Package.ejson.EJSON,l=Package.minimongo.LocalCollection,a=Package.minimongo.Minimongo,u=Package.modules.meteorInstall,s=Package.modules.meteorBabelHelpers,f=Package.promise.Promise,p=Package["ecmascript-runtime-client"].Symbol,d=Package["ecmascript-runtime-client"].Map,h=Package["ecmascript-runtime-client"].Set,m,k,v=u({node_modules:{meteor:{"matb33:collection-hooks":{"client.js":function(e,t,n){var o,r,i;n.export({CollectionHooks:function(){return i}}),n.link("meteor/meteor",{Meteor:function(e){o=e}},0),n.link("meteor/tracker",{Tracker:function(e){r=e}},1),n.link("./collection-hooks.js",{CollectionHooks:function(e){i=e}},2),n.link("./advices"),i.getUserId=function(){function e(){var e;return r.nonreactive((function(){e=o.userId&&o.userId()})),null==e&&(e=i.defaultUserId),e}return e}()},"advices.js":function(e,t,n){n.link("./insert.js"),n.link("./update.js"),n.link("./remove.js"),n.link("./upsert.js"),n.link("./find.js"),n.link("./findone.js"),n.link("./users-compat.js")},"collection-hooks.js":function(e,t,n){var o,r,i,c,l,a,u;n.link("@babel/runtime/helpers/objectWithoutProperties",{default:function(e){o=e}},0),n.link("@babel/runtime/helpers/objectSpread2",{default:function(e){r=e}},1),n.link("@babel/runtime/helpers/slicedToArray",{default:function(e){i=e}},2),n.export({CollectionHooks:function(){return f}}),n.link("meteor/meteor",{Meteor:function(e){c=e}},0),n.link("meteor/mongo",{Mongo:function(e){l=e}},1),n.link("meteor/ejson",{EJSON:function(e){a=e}},2),n.link("meteor/minimongo",{LocalCollection:function(e){u=e}},3);var s={},f={defaults:{before:{insert:{},update:{},remove:{},upsert:{},find:{},findOne:{},all:{}},after:{insert:{},update:{},remove:{},find:{},findOne:{},all:{}},all:{insert:{},update:{},remove:{},find:{},findOne:{},all:{}}},directEnv:new c.EnvironmentVariable,directOp:function(e){return this.directEnv.withValue(!0,e)},hookedOp:function(e){return this.directEnv.withValue(!1,e)}};f.extendCollectionInstance=function(){function e(e,t){["before","after"].forEach((function(t){Object.entries(s).forEach((function(n){var o=i(n,2),r=o[0],l;"upsert"===o[1]&&"after"===t||(c._ensure(e,t,r),c._ensure(e,"_hookAspects",r),e._hookAspects[r][t]=[],e[t][r]=function(n,o){var i=e._hookAspects[r][t].push({aspect:n,options:f.initOptions(o,t,r)});return{replace:function(n,o){e._hookAspects[r][t].splice(i-1,1,{aspect:n,options:f.initOptions(o,t,r)})},remove:function(){e._hookAspects[r][t].splice(i-1,1)}}})}))})),e.hookOptions=a.clone(f.defaults),Object.entries(s).forEach((function(n){var o=i(n,2),r=o[0],l=o[1],a=c.isClient||"upsert"===r?e:e._collection,u=a[r];c._ensure(e,"direct",r),e.direct[r]=function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return f.directOp((function(){return t.prototype[r].apply(e,o)}))},a[r]=function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return!0===f.directEnv.get()?u.apply(a,n):l.call(this,f.getUserId(),u,e,"upsert"===r?{insert:e._hookAspects.insert||{},update:e._hookAspects.update||{},upsert:e._hookAspects.upsert||{}}:e._hookAspects[r]||{},(function(t){return"function"==typeof e._transform?function(n){return e._transform(n||t)}:function(e){return e||t}}),n,!1)}}))}return e}(),f.defineAdvice=function(e,t){s[e]=t},f.getAdvice=function(e){return s[e]},f.initOptions=function(e,t,n){return f.extendOptions(f.defaults,e,t,n)},f.extendOptions=function(e,t,n,o){return r({},t,{},e.all.all,{},e[n].all,{},e.all[o],{},e[n][o])},f.getDocs=function(){function e(e,t,n){var r={transform:null,reactive:!1};if(n){n.multi||(r.limit=1);var i=n.multi,c=n.upsert,l=o(n,["multi","upsert"]);Object.assign(r,l)}return e.find(t,r)}return e}(),f.normalizeSelector=function(e){return"string"==typeof e||e&&e.constructor===l.ObjectID?{_id:e}:e},f.getFields=function(){function e(e){var t=[],n=["$addToSet","$bit","$currentDate","$inc","$max","$min","$pop","$pull","$pullAll","$push","$rename","$set","$unset"];return Object.entries(e).forEach((function(e){var o=i(e,2),r=o[0],c=o[1];n.includes(r)?Object.keys(c).forEach((function(e){-1!==e.indexOf(".")&&(e=e.substring(0,e.indexOf("."))),t.includes(e)||t.push(e)})):t.push(r)})),t}return e}(),f.reassignPrototype=function(){function e(e,t){var n="function"==typeof Object.setPrototypeOf;t=t||l.Collection,n?Object.setPrototypeOf(e,t.prototype):e.__proto__&&(e.__proto__=t.prototype)}return e}(),f.wrapCollection=function(){function e(e,t){t._CollectionConstructor||(t._CollectionConstructor=t.Collection),t._CollectionPrototype||(t._CollectionPrototype=new t.Collection(null));var n=e._NewCollectionContructor||t._CollectionConstructor,o=t._CollectionPrototype;e.Collection=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];var r=n.apply(this,t);return f.extendCollectionInstance(this,n),r},e._NewCollectionContructor=e.Collection,e.Collection.prototype=o,e.Collection.prototype.constructor=e.Collection;for(var r=0,i=Object.keys(n);r<i.length;r++){var c=i[r];e.Collection[c]=n[c]}e.Collection.apply=Function.prototype.apply}return e}(),f.modify=u._modify,void 0!==l?(f.wrapCollection(c,l),f.wrapCollection(l,l)):f.wrapCollection(c,c)},"find.js":function(e,t,n){var o;n.link("./collection-hooks",{CollectionHooks:function(e){o=e}},0),o.defineAdvice("find",(function(e,t,n,r,i,c,l){var a={context:this,_super:t,args:c},u=o.normalizeSelector(n._getFindSelector(c)),s=n._getFindOptions(c),f;if(!l&&(r.before.forEach((function(t){var n;!1===t.aspect.call(a,e,u,s)&&(f=!0)})),f))return n.find(void 0);var p=function(t){l||r.after.forEach((function(n){n.aspect.call(a,e,u,s,t)}))},d=t.call(this,u,s);return p(d),d}))},"findone.js":function(e,t,n){var o;n.link("./collection-hooks",{CollectionHooks:function(e){o=e}},0),o.defineAdvice("findOne",(function(e,t,n,r,i,c,l){var a={context:this,_super:t,args:c},u=o.normalizeSelector(n._getFindSelector(c)),s=n._getFindOptions(c),f;if(l||(r.before.forEach((function(t){var n;!1===t.aspect.call(a,e,u,s)&&(f=!0)})),!f)){var p=t.call(this,u,s);return d(p),p}function d(t){l||r.after.forEach((function(n){n.aspect.call(a,e,u,s,t)}))}}))},"insert.js":function(e,t,n){var o,r,i,c,l,a;n.link("@babel/runtime/helpers/typeof",{default:function(e){o=e}},0),n.link("@babel/runtime/helpers/objectSpread2",{default:function(e){r=e}},1),n.link("@babel/runtime/helpers/slicedToArray",{default:function(e){i=e}},2),n.link("meteor/ejson",{EJSON:function(e){c=e}},0),n.link("meteor/mongo",{Mongo:function(e){l=e}},1),n.link("./collection-hooks",{CollectionHooks:function(e){a=e}},2),a.defineAdvice("insert",(function(e,t,n,a,u,s,f){var p={context:this,_super:t,args:s},d=i(s,2),h=d[0],m=d[1],k="function"==typeof m,v,g;if(!f)try{if(a.before.forEach((function(t){var n;!1===t.aspect.call(r({transform:u(h)},p),e,h)&&(v=!0)})),v)return}catch(y){if(k)return m.call(this,y);throw y}var _=function(t,n){if(t&&("object"===o(t)&&t.ops&&(t=h._id._str?new l.ObjectID(h._id._str.toString()):t.ops&&t.ops[0]&&t.ops[0]._id),(h=c.clone(h))._id=t),!f){var i=r({transform:u(h),_id:t,err:n},p);a.after.forEach((function(t){t.aspect.call(i,e,h)}))}return t};if(k){var b=function(e,t){_(t&&t[0]&&t[0]._id||t,e);for(var n=arguments.length,o=new Array(n>2?n-2:0),r=2;r<n;r++)o[r-2]=arguments[r];return m.call.apply(m,[this,e,t].concat(o))};return t.call(this,h,b)}return g=t.call(this,h,m),_(g&&g[0]&&g[0]._id||g)}))},"remove.js":function(e,t,n){var o,r,i,c;n.link("@babel/runtime/helpers/objectSpread2",{default:function(e){o=e}},0),n.link("@babel/runtime/helpers/slicedToArray",{default:function(e){r=e}},1),n.link("meteor/ejson",{EJSON:function(e){i=e}},0),n.link("./collection-hooks",{CollectionHooks:function(e){c=e}},1);var l=function(e){return!Array.isArray(e)||!e.length};c.defineAdvice("remove",(function(e,t,n,a,u,s,f){var p={context:this,_super:t,args:s},d=r(s,2),h=d[0],m=d[1],k="function"==typeof m,v,g,_=[];if(!f)try{if(l(a.before)&&l(a.after)||(v=c.getDocs.call(this,n,h).fetch()),l(a.after)||v.forEach((function(e){return _.push(i.clone(e))})),a.before.forEach((function(t){v.forEach((function(n){var r;!1===t.aspect.call(o({transform:u(n)},p),e,n)&&(g=!0)}))})),g)return 0}catch(j){if(k)return m.call(this,j);throw j}function b(t){f||a.after.forEach((function(n){_.forEach((function(r){n.aspect.call(o({transform:u(r),err:t},p),e,r)}))}))}if(k){var y=function(e){b(e);for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return m.call.apply(m,[this,e].concat(n))};return t.call(this,h,y)}var C=t.call(this,h,m);return b(),C}))},"update.js":function(e,t,n){var o,r,i,c;n.link("@babel/runtime/helpers/objectSpread2",{default:function(e){o=e}},0),n.link("@babel/runtime/helpers/slicedToArray",{default:function(e){r=e}},1),n.link("meteor/ejson",{EJSON:function(e){i=e}},0),n.link("./collection-hooks",{CollectionHooks:function(e){c=e}},1);var l=function(e){return!Array.isArray(e)||!e.length};c.defineAdvice("update",(function(e,t,n,a,u,s,f){var p=this,d={context:this,_super:t,args:s},h=r(s,4),m=h[0],k=h[1],v=h[2],g=h[3];"function"==typeof v&&(g=v,v={});var _="function"==typeof g,b,y,C,j,O={};if(!f)try{if(l(a.before)&&l(a.after)||(C=c.getFields(k),b=c.getDocs.call(this,n,m,v).fetch(),y=b.map((function(e){return e._id}))),l(a.after)||(O.mutator=i.clone(k),O.options=i.clone(v),a.after.some((function(e){return!1!==e.options.fetchPrevious}))&&!1!==c.extendOptions(n.hookOptions,{},"after","update").fetchPrevious&&(O.docs={},b.forEach((function(e){O.docs[e._id]=i.clone(e)})))),a.before.forEach((function(t){b.forEach((function(n){var r;!1===t.aspect.call(o({transform:u(n)},d),e,n,C,k,v)&&(j=!0)}))})),j)return 0}catch(S){if(_)return g.call(this,S);throw S}var A=function(t,r){if(!f&&!l(a.after)){var i=c.getFields(k),s=c.getDocs.call(p,n,{_id:{$in:y}},v).fetch();a.after.forEach((function(n){s.forEach((function(c){n.aspect.call(o({transform:u(c),previous:O.docs&&O.docs[c._id],affected:t,err:r},d),e,c,i,O.mutator,O.options)}))}))}};if(_){var E=function(e,t){var n;A(t,e);for(var o=arguments.length,r=new Array(o>2?o-2:0),i=2;i<o;i++)r[i-2]=arguments[i];return(n=g).call.apply(n,[this,e,t].concat(r))};return t.call(this,m,k,v,E)}var P=t.call(this,m,k,v,g);return A(P),P}))},"upsert.js":function(e,t,n){var o,r,i,c;n.link("@babel/runtime/helpers/objectSpread2",{default:function(e){o=e}},0),n.link("@babel/runtime/helpers/slicedToArray",{default:function(e){r=e}},1),n.link("meteor/ejson",{EJSON:function(e){i=e}},0),n.link("./collection-hooks",{CollectionHooks:function(e){c=e}},1);var l=function(e){return!Array.isArray(e)||!e.length};c.defineAdvice("upsert",(function(e,t,n,a,u,s,f){var p=this;s[0]=c.normalizeSelector(n._getFindSelector(s));var d={context:this,_super:t,args:s},h=r(s,4),m=h[0],k=h[1],v=h[2],g=h[3];"function"==typeof v&&(g=v,v={});var _="function"==typeof g,b,y,C,j={};if(!f&&(l(a.upsert.before)&&l(a.update.after)||(b=c.getDocs.call(this,n,m,v).fetch(),y=b.map((function(e){return e._id}))),l(a.update.after)||a.update.after.some((function(e){return!1!==e.options.fetchPrevious}))&&!1!==c.extendOptions(n.hookOptions,{},"after","update").fetchPrevious&&(j.mutator=i.clone(k),j.options=i.clone(v),j.docs={},b.forEach((function(e){j.docs[e._id]=i.clone(e)}))),a.upsert.before.forEach((function(t){var n;!1===t.aspect.call(d,e,m,k,v)&&(C=!0)})),C))return{numberAffected:0};var O=function(t,r){if(!f&&!l(a.update.after)){var i=c.getFields(k),s=c.getDocs.call(p,n,{_id:{$in:y}},v).fetch();a.update.after.forEach((function(n){s.forEach((function(c){n.aspect.call(o({transform:u(c),previous:j.docs&&j.docs[c._id],affected:t,err:r},d),e,c,i,j.mutator,j.options)}))}))}},A=function(t,r){if(!f&&!l(a.insert.after)){var i=c.getDocs.call(p,n,{_id:t},m,{}).fetch()[0],s=o({transform:u(i),_id:t,err:r},d);a.insert.after.forEach((function(t){t.aspect.call(s,e,i)}))}};if(_){var E=function(e,t){return e||t&&t.insertedId?A(t.insertedId,e):O(t&&t.numberAffected,e),c.hookedOp((function(){return g.call(this,e,t)}))};return c.directOp((function(){return t.call(p,m,k,v,E)}))}var P=c.directOp((function(){return t.call(p,m,k,v,g)}));return P&&P.insertedId?A(P.insertedId):O(P&&P.numberAffected),P}))},"users-compat.js":function(e,t,n){var o,r,i;n.link("meteor/meteor",{Meteor:function(e){o=e}},0),n.link("meteor/mongo",{Mongo:function(e){r=e}},1),n.link("./collection-hooks",{CollectionHooks:function(e){i=e}},2),o.users&&(i.reassignPrototype(o.users),i.extendCollectionInstance(o.users,r.Collection))}}}}},{extensions:[".js",".json"]})("/node_modules/meteor/matb33:collection-hooks/client.js");Package._define("matb33:collection-hooks",v,{CollectionHooks:void 0})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,o=Package.meteor.meteorEnv,r=Package.modules.meteorInstall,n=Package.modules.meteorBabelHelpers,a=Package.promise.Promise,c=Package["ecmascript-runtime-client"].Symbol,s=Package["ecmascript-runtime-client"].Map,l=Package["ecmascript-runtime-client"].Set,m,i,p=r({node_modules:{meteor:{webapp:{"webapp_client.js":function(e,t,o){o.export({WebApp:function(){return r}});var r={_isCssLoaded:function(){return 0===document.styleSheets.length||Array.prototype.find.call(document.styleSheets,(function(e){return e.cssText&&!e.cssRules?!e.cssText.match(/meteor-css-not-found-error/):!Array.prototype.find.call(e.cssRules,(function(e){return".meteor-css-not-found-error"===e.selectorText}))}))}}}}}}},{extensions:[".js",".json"]})("/node_modules/meteor/webapp/webapp_client.js");Package._define("webapp",p,{WebApp:void 0})}();

!function(){var a=Package["ddp-client"].DDP,e;Package._define("livedata",{DDP:a,LivedataTest:void 0})}();

Package._define("hot-code-push");

!function(){var e=Package.meteor.Meteor,n=Package.meteor.global,a=Package.meteor.meteorEnv,r;(function(){var n=0,a=!1;r={hold:function(){if(!e.isCordova)return{release:function(){}};if(a)throw new Error("Can't show launch screen once it's hidden");n++;var r=!1,o;return{release:function(){e.isCordova&&(r||(r=!0,0===--n&&"undefined"!=typeof navigator&&navigator.splashscreen&&(a=!0,navigator.splashscreen.hide())))}}}}}).call(this),function(){var n=r.hold(),a=Package.templating&&Package.templating.Template;e.startup((function(){a?Package["iron:router"]?Package["iron:router"].Router.onAfterAction((function(){n.release()})):(a.body.onRendered((function(){n.release()})),setTimeout((function(){n.release()}),6e3)):n.release()}))}.call(this),Package._define("launch-screen",{LaunchScreen:r})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.tracker.Tracker,i=Package.tracker.Deps,o=Package.retry.Retry,a=Package["ddp-client"].DDP,s=Package.modules.meteorInstall,c=Package.modules.meteorBabelHelpers,u=Package.promise.Promise,l=Package["ecmascript-runtime-client"].Symbol,f=Package["ecmascript-runtime-client"].Map,d=Package["ecmascript-runtime-client"].Set,v,h,_=s({node_modules:{meteor:{autoupdate:{"autoupdate_client.js":function(t,n,r){var i;r.export({Autoupdate:function(){return c}}),r.link("./client_versions.js",{ClientVersions:function(e){i=e}},0);var a=e.isCordova?"web.cordova":e.isModern?"web.browser":"web.browser.legacy",s=((__meteor_runtime_config__.autoupdate||{}).versions||{})[a]||{version:"unknown",versionRefreshable:"unknown",versionNonRefreshable:"unknown",assets:[]},c={},l=c._clientVersions=new i;e.connection.registerStore("meteor_autoupdate_clientVersions",l.createStore()),c.newClientAvailable=function(){return l.newClientAvailable(a,["versionRefreshable","versionNonRefreshable"],s)};var f=!1,d=new o({minCount:0,baseTimeout:3e4}),v=0;c._retrySubscription=function(){e.subscribe("meteor_autoupdate_clientVersions",{onError:function(t){e._debug("autoupdate subscription failed",t),v++,d.retryLater(v,(function(){c._retrySubscription()}))},onReady:function(){var t=u.resolve();function n(e){t.then((function(){return i(e)}))}var r=l.watch(n);function i(t){if(t._id===a){if(t.versionNonRefreshable!==s.versionNonRefreshable)return r&&r(),void(Package.reload&&Package.reload.Reload._reload());if(t.versionRefreshable!==s.versionRefreshable){var n=function(t,n){var r;if(t.onload=function(){f=!0,r||(r=!0,n())},!f)var i=e.setInterval((function(){t.sheet&&(r||(r=!0,n()),e.clearInterval(i))}),50)},i=function(){c.length>0&&--u<1&&c.splice(0).forEach((function(e){e.parentNode.removeChild(e)}))};s.versionRefreshable=t.versionRefreshable;var o=t.assets||[],c=[];Array.prototype.forEach.call(document.getElementsByTagName("link"),(function(e){"__meteor-css__"===e.className&&c.push(e)}));var u=o.length;o.length>0?o.forEach((function(t){var r=document.createElement("link"),o;r.setAttribute("rel","stylesheet"),r.setAttribute("type","text/css"),r.setAttribute("class","__meteor-css__"),r.setAttribute("href",t.url),n(r,(function(){e.setTimeout(i,200)})),document.getElementsByTagName("head").item(0).appendChild(r)})):i()}}}}})},c._retrySubscription()},"client_versions.js":function(e,t,n){var r,i;n.link("@babel/runtime/helpers/objectSpread2",{default:function(e){r=e}},0),n.export({ClientVersions:function(){return o}}),n.link("meteor/tracker",{Tracker:function(e){i=e}},0);var o=function(){function e(){this._versions=new f,this._watchCallbacks=new d}var t=e.prototype;return t.createStore=function(){function e(){var e=this;return{update:function(t){var n=t.id,r=t.msg,i=t.fields;"added"!==r&&"changed"!==r||e.set(n,i)}}}return e}(),t.hasVersions=function(){function e(){return this._versions.size>0}return e}(),t.get=function(){function e(e){return this._versions.get(e)}return e}(),t.set=function(){function e(e,t){var n=this._versions.get(e),i=!1;n?Object.assign(n,t):(n=r({_id:e},t),i=!0,this._versions.set(e,n)),this._watchCallbacks.forEach((function(e){var t=e.fn,r=e.filter;r&&r!==n._id||t(n,i)}))}return e}(),t.watch=function(){function e(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.skipInitial,i=n.filter;if(!r){var o=u.resolve();this._versions.forEach((function(t){i&&i!==t._id||o.then((function(){return e(t,!0)}))}))}var a={fn:e,filter:i};return this._watchCallbacks.add(a),function(){return t._watchCallbacks.delete(a)}}return e}(),t.newClientAvailable=function(){function e(e,t,n){function r(r){return r._id===e&&t.some((function(e){return r[e]!==n[e]}))}var o=new i.Dependency,a=this.get(e);o.depend();var s=this.watch((function(e){r(e)&&(o.changed(),s())}),{skipInitial:!0});return!!a&&r(a)}return e}(),e}()}}}}},{extensions:[".js",".json"]})("/node_modules/meteor/autoupdate/autoupdate_client.js");Package._define("autoupdate",_,{Autoupdate:void 0})}();

Mongo=Package.mongo.Mongo,ReactiveVar=Package["reactive-var"].ReactiveVar,Tracker=Package.tracker.Tracker,Deps=Package.tracker.Deps,PersistentSession=Package["cultofcoders:persistent-session"].PersistentSession,Router=Package["iron:router"].Router,RouteController=Package["iron:router"].RouteController,$=Package.jquery.$,jQuery=Package.jquery.jQuery,moment=Package["momentjs:moment"].moment,Session=Package.session.Session,Spacebars=Package.spacebars.Spacebars,TAPi18next=Package["tap:i18n"].TAPi18next,TAPi18n=Package["tap:i18n"].TAPi18n,_=Package.underscore._,Roles=Package["alanning:roles"].Roles,check=Package.check.check,Match=Package.check.Match,T9n=Package["softwarerero:accounts-t9n"].T9n,Cookie=Package["chuangbo:cookie"].Cookie,Uploader=Package["tomi:upload-jquery"].Uploader,livestamp=Package["copleykj:livestamp"].livestamp,Autolinker=Package["konecty:autolinker"].Autolinker,gm=Package["cfs:graphicsmagick"].gm,Random=Package.random.Random,Injected=Package["meteorhacks:inject-initial"].Injected,Inject=Package["meteorhacks:inject-initial"].Inject,CollectionHooks=Package["matb33:collection-hooks"].CollectionHooks,Meteor=Package.meteor.Meteor,global=Package.meteor.global,meteorEnv=Package.meteor.meteorEnv,WebApp=Package.webapp.WebApp,DDP=Package["ddp-client"].DDP,LaunchScreen=Package["launch-screen"].LaunchScreen,Blaze=Package.ui.Blaze,UI=Package.ui.UI,Handlebars=Package.ui.Handlebars,Template=Package["templating-runtime"].Template,meteorInstall=Package.modules.meteorInstall,meteorBabelHelpers=Package.modules.meteorBabelHelpers,Promise=Package.promise.Promise,Accounts=Package["accounts-base"].Accounts,Iron=Package["iron:core"].Iron,Autoupdate=Package.autoupdate.Autoupdate,Reload=Package.reload.Reload,HTML=Package.htmljs.HTML,Symbol=Package["ecmascript-runtime-client"].Symbol,Map=Package["ecmascript-runtime-client"].Map,Set=Package["ecmascript-runtime-client"].Set;

var require=meteorInstall({imports:{ui:{space:{home:{"home.html":function(e,t,s){s.link("./template.home.js",{"*":"*+"})},"template.home.js":function(){Template.__checkName("home"),Template.home=new Template("Template.home",(function(){var e=this;return[Blaze.If((function(){return Spacebars.call(e.lookup("ownSpace"))}),(function(){return["\n\t\t",Blaze.If((function(){return Spacebars.call(e.lookup("homePostsEmpty"))}),(function(){return["\n\t\t",HTML.DIV({class:"float-right"},"\n\t\t\t",HTML.A({href:"#",class:"home--submit"},"\n\t\t\t\t",HTML.I({class:"fas fa-plus"})," ",Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"home--submit-button")})),"\n\t\t\t"),"\n\t\t"),"\n\t\t"]})),"\n\t"]})),"\n\t",Blaze.Unless((function(){return Spacebars.call(Spacebars.dot(e.lookup("space"),"permissions","public"))}),(function(){return["\n\t\t",Blaze.If((function(){return Spacebars.call(e.lookup("ownSpace"))}),(function(){return["\n\t\t\t",Blaze.If((function(){return Spacebars.call(e.lookup("codePanel"))}),(function(){return["\n\t\t\t\t",HTML.DIV({class:"alert alert-warning alert-dismissible fade show",role:"alert"},Blaze.View("lookup:_",(function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("_"),"home--space-code-message"))}))," ",HTML.SPAN({style:"font-size:1.1em",class:"badge badge-secondary"},Blaze.View("lookup:space.spaceCode",(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("space"),"spaceCode"))}))),"\n\t\t\t  \t\t",HTML.BUTTON({type:"button",class:"close home--hide-code-panel"},"\n\t\t\t    \t\t",HTML.SPAN({"aria-hidden":"true"},HTML.CharRef({html:"&times;",str:""})),"\n\t\t\t  \t\t"),"\n\t\t\t\t"),"\n\t\t\t"]})),"\n\t\t"]})),"\n\t"]})),"\n\t",Blaze.If((function(){return Spacebars.call(e.lookup("noFilter"))}),(function(){return["\n\t\t",Blaze.Each((function(){return Spacebars.call(e.lookup("homePosts"))}),(function(){return["\n\t\t\t",Spacebars.include(e.lookupTemplate("homePost")),"\n\t\t"]})),"\n\t"]})),"\n\t",Spacebars.include(e.lookupTemplate("homePostSubmit")),"\n\t",Spacebars.include(e.lookupTemplate("homePostEdit")),"\n\t",Spacebars.include(e.lookupTemplate("homePostDelete")),"\n\t",Blaze.If((function(){return Spacebars.call(e.lookup("liveFeedAddPost"))}),(function(){return["\n\t\t",Spacebars.include(e.lookupTemplate("liveFeedPostSubmit")),"\n\t"]})),"\n\t\t",Blaze.If((function(){return Spacebars.call(e.lookup("newMessages"))}),(function(){return["\n\t\t\t",HTML.DIV({class:"text-center mb-2"},"\n\t\t\t\t",HTML.BUTTON({type:"button",class:"btn btn-outline-primary live-feed--refresh"},Blaze.View("lookup:newMessages",(function(){return Spacebars.mustache(e.lookup("newMessages"))}))," ",Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"live-feed--notification-panel")}))),"\n\t\t\t"),"\n\t\t"]})),"\n\t",Blaze.Each((function(){return Spacebars.call(e.lookup("liveFeedPosts"))}),(function(){return["\n\t\t",Spacebars.include(e.lookupTemplate("liveFeedPost")),"\n\t"]})),"\n\t",Blaze.If((function(){return Spacebars.call(e.lookup("loadMore"))}),(function(){return["\n\t\t",HTML.DIV({class:"text-center mb-2"},"\n\t\t\t",HTML.BUTTON({type:"button",class:"btn btn-primary live-feed--load-more"},HTML.I({class:"fas fa-arrow-circle-down"})," ",Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"live-feed--load-more")}))),"\n\t\t"),"\n\t"]})),"\n\t",Spacebars.include(e.lookupTemplate("liveFeedPostEdit")),"\n\t",Spacebars.include(e.lookupTemplate("liveFeedPostDelete")),"\n\t",Spacebars.include(e.lookupTemplate("liveFeedCategorySubmit")),"\n\t",Spacebars.include(e.lookupTemplate("liveFeedCategoryEdit"))]}))},"home_post.html":function(e,t,s){s.link("./template.home_post.js",{"*":"*+"})},"template.home_post.js":function(){Template.__checkName("homePost"),Template.homePost=new Template("Template.homePost",(function(){var e=this;return HTML.DIV({class:"home-post alert alert-info"},"\n\t\t\t",HTML.DIV({class:"d-flex"},"\n\t\t\t\t",HTML.B(Blaze.View("lookup:title",(function(){return Spacebars.mustache(e.lookup("title"))}))),"\n\t\t\t\t",Blaze.If((function(){return Spacebars.call(e.lookup("ownSpace"))}),(function(){return["\n\t\t\t\t\t",HTML.SPAN({class:"align-baseline ml-auto",id:"dropdownMenuLink","data-toggle":"dropdown"},HTML.I({class:"fa fa-ellipsis-v fa-fw btn-icon align-baseline"})),"\n\t\t\t\t\t",HTML.DIV({class:"dropdown-menu","aria-labelledby":"dropdownMenuLink"},"\n\t\t\t\t\t\t",HTML.A({class:"dropdown-item home-post--edit",href:"#"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"post--edit")}))),"\n\t\t\t\t\t\t",HTML.A({class:"dropdown-item text-danger home-post--delete",href:"#"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"post--delete")}))),"\n\t\t\t\t\t"),"\n\t\t\t\t"]})),"\t\n\t\t\t"),"\n\t\t",Blaze.View("lookup:body",(function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("body")))})),"\n\t")}))},"home_post_delete.html":function(e,t,s){s.link("./template.home_post_delete.js",{"*":"*+"})},"template.home_post_delete.js":function(){Template.__checkName("homePostDelete"),Template.homePostDelete=new Template("Template.homePostDelete",(function(){var e=this;return HTML.DIV({class:"modal fade",id:"homePostDelete",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},"\n\t\t",HTML.DIV({class:"modal-dialog",role:"document"},"\n\t\t\t",HTML.DIV({class:"modal-content"},"\n\t\t\t\t",HTML.DIV({class:"modal-header"},"\n\t\t\t\t\t",HTML.H5({class:"modal-title",id:"exampleModalLabel"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"home-post-delete--title")}))),"\n\t\t\t\t\t",HTML.Raw('<button type="button" class="close" data-dismiss="modal" aria-label="Close">\n\t\t\t\t\t\t<span aria-hidden="true">&times;</span>\n\t\t\t\t\t</button>'),"\n\t\t\t\t"),"\n\t\t\t\t",HTML.DIV({class:"modal-body"},"\n\t\t\t\t\t",Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"home-post-delete--confirm")})),"\n\t\t\t\t"),"\n\t\t\t\t",HTML.DIV({class:"modal-footer"},"\n\t\t\t\t\t",HTML.BUTTON({type:"button",class:"btn btn-secondary","data-dismiss":"modal"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"modal--close")}))),"\n\t\t\t\t\t",HTML.BUTTON({type:"button",class:"btn btn-danger home-post-delete--confirm"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"modal--delete")}))),"\n\t\t\t\t"),"\n\t\t\t"),"\n\t\t"),"\n\t")}))},"home_post_edit.html":function(e,t,s){s.link("./template.home_post_edit.js",{"*":"*+"})},"template.home_post_edit.js":function(){Template.__checkName("homePostEdit"),Template.homePostEdit=new Template("Template.homePostEdit",(function(){var e=this;return HTML.DIV({class:"modal fade",id:"homePostEdit",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},"\n  ",HTML.DIV({class:"modal-dialog",role:"document"},"\n    ",HTML.DIV({class:"modal-content"},"\n      ",HTML.DIV({class:"modal-header"},"\n        ",HTML.H5({class:"modal-title",id:"exampleModalLabel"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"home-post-edit--title")}))),"\n        ",HTML.Raw('<button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>'),"\n      "),"\n      ",HTML.DIV({class:"modal-body"},"\n      \t",HTML.FORM({name:"home-post-edit--form",id:"home-post-edit--form"},"\n\n       \t",HTML.DIV({class:"form-group"},"\n       \t\t    ",HTML.INPUT({type:"text",class:"form-control",name:"title",id:"title","aria-describedby":"title",placeholder:function(){return Spacebars.mustache(e.lookup("_"),"home-post-submit--placeholder")},value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("post"),"title"))}})),"\n       \t\t           \t",HTML.DIV({class:"form-group"},"\n\n\t\t\t\t",HTML.TEXTAREA({name:"body",id:"body-edit-tinymce",class:"form-control home-post-edit--textarea",placeholder:"","aria-label":"","aria-describedby":"basic-addon2",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("post"),"body"))}}),"\n\t\t\t\t"),"\n\t\t\t"),"\n      "),"\n      ",HTML.DIV({class:"modal-footer"},"\n        ",HTML.BUTTON({type:"button",class:"btn btn-secondary","data-dismiss":"modal"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"modal--close")}))),"\n        ",HTML.BUTTON({type:"button",class:"btn btn-primary home-post-edit--button-submit"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"modal--save")}))),"\n      "),"\n    "),"\n  "),"\n")}))},"home_post_submit.html":function(e,t,s){s.link("./template.home_post_submit.js",{"*":"*+"})},"template.home_post_submit.js":function(){Template.__checkName("homePostSubmit"),Template.homePostSubmit=new Template("Template.homePostSubmit",(function(){var e=this;return HTML.DIV({class:"modal fade",id:"homePostSubmit",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},"\n  ",HTML.DIV({class:"modal-dialog",role:"document"},"\n    ",HTML.DIV({class:"modal-content"},"\n      ",HTML.DIV({class:"modal-header"},"\n        ",HTML.H5({class:"modal-title",id:"exampleModalLabel"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"home-post-submit--title")}))),"\n        ",HTML.Raw('<button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>'),"\n      "),"\n      ",HTML.DIV({class:"modal-body"},"\n      \t",HTML.FORM({name:"home-post-submit--form",id:"home-post-submit--form"},"\n\n       \t",HTML.DIV({class:"form-group"},"\n       \t\t    ",HTML.INPUT({type:"text",class:"form-control",name:"title",id:"title","aria-describedby":"title",placeholder:function(){return Spacebars.mustache(e.lookup("_"),"home-post-submit--placeholder")}})),"\n       \t\t           \t",HTML.DIV({class:"form-group"},"\n\n\t\t\t\t",HTML.TEXTAREA({name:"body",id:"body-submit-tinymce",class:"form-control home-post-submit--textarea",placeholder:"","aria-label":"","aria-describedby":"basic-addon2"}),"\n\t\t\t\t"),"\n\t\t\t"),"\n      "),"\n      ",HTML.DIV({class:"modal-footer"},"\n        ",HTML.BUTTON({type:"button",class:"btn btn-secondary","data-dismiss":"modal"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"modal--close")}))),"\n        ",HTML.BUTTON({type:"button",class:"btn btn-primary home-post-submit--button-submit"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"modal--submit")}))),"\n      "),"\n    "),"\n  "),"\n")}))},"home.js":function(e,t,s){var n,a,o,i;s.link("meteor/templating",{Template:function(e){n=e}},0),s.link("../../../api/spaces.js",{Spaces:function(e){a=e}},1),s.link("../../../api/authors.js",{Authors:function(e){o=e}},2),s.link("../../../api/posts.js",{Posts:function(e){i=e}},3),s.link("../live_feed/live_feed_post_submit.js"),s.link("../live_feed/live_feed_post_edit.js"),s.link("../live_feed/live_feed_post_delete.js"),s.link("../live_feed/live_feed_category_submit.js"),s.link("../live_feed/live_feed_category_edit.js"),s.link("../live_feed/live_feed_delete_comment.js"),s.link("../live_feed/live_feed_post.js"),s.link("../../misc/file_upload.js"),s.link("./home_post.js"),s.link("./home.html"),n.home.onRendered((function(){$(".modal").on("shown.bs.modal",(function(e){$(this).find("[autofocus]").focus()})),liveFeedResetFilters(),Session.set("postsServerNonReactive",LiveFeedCounts.findOne().count),liveFeedResetPostInterval(),this.autorun((function(){var e=Session.get("postsToSkip"),t=Session.get("postsLimit"),s={spaceId:Session.get("spaceId"),type:"liveFeed"};""!=Session.get("author")?s={spaceId:Session.get("spaceId"),type:"liveFeed",author:Session.get("author")}:""!=Session.get("liveFeedCategory")&&(s={spaceId:Session.get("spaceId"),type:"liveFeed",category:Session.get("liveFeedCategory")}),subscription=Meteor.subscribe("posts",s,e,t)}))})),n.home.events({"click .home--submit":function(e){e.preventDefault(),$("#homePostSubmit").modal("show"),tinymce.init({selector:"textarea#body-submit-tinymce",skin_url:"/packages/teamon_tinymce/skins/lightgray",paste_data_images:!0}),$("#homePostSubmit").on("show.bs.modal",(function(e){tinymce.init({selector:"textarea#body-submit-tinymce",skin_url:"/packages/teamon_tinymce/skins/lightgray",paste_data_images:!0})})),$("#homePostSubmit").on("hide.bs.modal",(function(e){tinymce.remove("textarea#body-submit-tinymce")}))},"click .home--hide-code-panel":function(e){e.preventDefault(),a.update({_id:this.space._id},{$set:{codePanel:!1}})},"click .live-feed--refresh":function(e){if(e.preventDefault(),""!==Session.get("author")){var t=Session.get("author");Session.set("postsServerNonReactive",o.findOne({name:t}).nRefs)}else if(""!==Session.get("liveFeedCategory")){var s=Session.get("liveFeedCategory");Session.set("postsServerNonReactive",Categories.findOne({name:s}).nRefs)}else Session.set("postsServerNonReactive",LiveFeedCounts.findOne().count);liveFeedResetPostsServerNonReactive()},"click .live-feed--load-more":function(e){e.preventDefault(),Session.get("postsToSkip")<=10?(Session.set("postsLimit",Session.get("postsLimit")+Session.get("postsToSkip")),Session.set("postsToSkip",0)):(Session.set("postsLimit",Session.get("postsLimit")+10),Session.set("postsToSkip",Session.get("postsToSkip")-10))}}),n.home.helpers({homePosts:function(){return i.find({type:"home",spaceId:Session.get("spaceId")},{sort:{order:1}})},homePostsEmpty:function(){return 0==i.find({type:"home",spaceId:Session.get("spaceId")},{sort:{order:1}}).count()},codePanel:function(){return this.space.codePanel},liveFeedAddPost:function(){return n.parentData(1).space.permissions.liveFeedAddPost||n.parentData(1).space.userId===Meteor.userId()||!0===Roles.userIsInRole(Meteor.userId(),["admin"])},liveFeedPosts:function(){return i.find({type:"liveFeed",spaceId:Session.get("spaceId")},{sort:{submitted:-1}})},newMessages:function(){var e=Session.get("postsServerNonReactive"),t;if(""!==Session.get("author")){var s=Session.get("author");o.findOne({name:s})&&(t=o.findOne({name:s}).nRefs)}else if(""!==Session.get("liveFeedCategory")){var n=Session.get("liveFeedCategory");Categories.findOne({name:n})&&(t=Categories.findOne({name:n}).nRefs)}else t=LiveFeedCounts.findOne().count;return e<t&&(0!=e?t-e:void Session.set("postsServerNonReactive",t))},loadMore:function(){var e=0;if(""!==Session.get("author")){var t=Session.get("author");o.findOne({name:t})&&(e=o.findOne({name:t}).nRefs)}else if(""!==Session.get("liveFeedCategory")){var s=Session.get("liveFeedCategory");Categories.findOne({name:s})&&(e=Categories.findOne({name:s}).nRefs)}else e=LiveFeedCounts.findOne().count;var n=e-Session.get("postsServerNonReactive");return 0==n&&e>Session.get("postsLimit")||(n>0?e-n>Session.get("postsLimit"):void 0)},noFilter:function(){return""==Session.get("liveFeedCategory")&&""==Session.get("author")}}),liveFeedResetPostInterval=function(){Session.get("postsServerNonReactive")>=10?(Session.set("postsToSkip",Session.get("postsServerNonReactive")-10),Session.set("postsLimit",10)):Session.get("postsServerNonReactive")>=1&&Session.get("postsServerNonReactive")<10?(Session.set("postsToSkip",0),Session.set("postsLimit",Session.get("postsServerNonReactive"))):(Session.set("postsToSkip",0),Session.set("postsLimit",1))},liveFeedResetPostsServerNonReactive=function(){if(""!==Session.get("author")){var e=Session.get("author");Session.set("postsServerNonReactive",o.findOne({name:e}).nRefs)}else if(""!==Session.get("liveFeedCategory")){var t=Session.get("liveFeedCategory");Session.set("postsServerNonReactive",Categories.findOne({name:t}).nRefs)}else Session.set("postsServerNonReactive",LiveFeedCounts.findOne().count);liveFeedResetPostInterval()},liveFeedResetFilters=function(){Session.set("author",""),Session.set("liveFeedCategory","")}},"home_post.js":function(e,t,s){var n,a;s.link("meteor/templating",{Template:function(e){n=e}},0),s.link("../../../api/posts.js",{Posts:function(e){a=e}},1),s.link("./home_post.html"),n.homePost.events({"click .home-post--order-up":function(e){e.preventDefault();var t=this;if(this.order>0){var s=a.findOne({type:"home",order:this.order-1});a.update({_id:s._id},{$set:{order:t.order}},(function(e){e||a.update({_id:t._id},{$set:{order:t.order-1}})}))}},"click .home-post--order-down":function(e){e.preventDefault();var t=a.find({type:"home"},{sort:{order:-1},limit:1}).fetch();if(this.order<t[0].order){var s=this,n=a.findOne({type:"home",order:this.order+1});a.update({_id:n._id},{$set:{order:s.order}},(function(e){e||a.update({_id:s._id},{$set:{order:s.order+1}})}))}},"click .home-post--edit":function(e){e.preventDefault();var t=this._id;Session.set("postToEdit",t),Session.set("fileId",!1),a.findOne(t).fileId&&(Session.set("fileId",a.findOne(t).fileId),Session.set("fileExt",a.findOne(t).fileExt)),$("#homePostEdit").modal("show"),$("#homePostEdit").on("shown.bs.modal",(function(e){tinymce.init({selector:"textarea#body-edit-tinymce",skin_url:"/packages/teamon_tinymce/skins/lightgray",paste_data_images:!0})})),$("#homePostEdit").on("hidden.bs.modal",(function(e){tinymce.remove("textarea#body-edit-tinymce")}))},"click .home-post--delete":function(e){e.preventDefault();var t=this._id;Session.set("postToDelete",t),$("#homePostDelete").modal("show")}})},"home_post_delete.js":function(e,t,s){var n,a;s.link("meteor/templating",{Template:function(e){n=e}},0),s.link("../../../api/posts.js",{Posts:function(e){a=e}},1),s.link("./home_post_delete.html"),n.homePostDelete.events({"click .home-post-delete--confirm":function(e){e.preventDefault();var t=Session.get("postToDelete"),s=a.findOne(t);a.remove(t,(function(e){e?alert(TAPi18n.__("error-message")+e.message):$("#homePostDelete").modal("hide")}))}})},"home_post_edit.js":function(e,t,s){var n,a;s.link("meteor/templating",{Template:function(e){n=e}},0),s.link("../../../api/posts.js",{Posts:function(e){a=e}},1),s.link("./home_post_edit.html"),n.homePostEdit.events({"submit form":function(e,t){e.preventDefault();var s=Session.get("postToEdit"),n=a.findOne(s),o={},i=$(e.target).find("[name=title]").val();i!=n.title&&_.extend(o,{title:i});var r=tinymce.activeEditor.getContent();r!=n.body&&_.extend(o,{body:r}),a.update(s,{$set:o},(function(e){e?alert(TAPi18n.__("error-message")+e.message):$("#homePostEdit").modal("hide")}))},"click .home-post-edit--button-submit":function(e){e.preventDefault(),$("#home-post-edit--form").submit()}}),n.homePostEdit.helpers({post:function(){var e=Session.get("postToEdit");return a.findOne(e)}})},"home_post_submit.js":function(e,t,s){var n;s.link("meteor/templating",{Template:function(e){n=e}},0),s.link("./home_post_submit.html"),n.homePostSubmit.onCreated((function(){toastr.options={positionClass:"toast-bottom-center"}})),n.homePostSubmit.events({"submit form":function(e,t){e.preventDefault();var s=$(e.target).find("[name=title]").val(),n=tinymce.activeEditor.getContent(),a=t.data.space._id;Meteor.call("homePostInsert",{body:n,spaceId:a,title:s,type:"home"},(function(t,s){t?alert(TAPi18n.__("error-message")+t.message):(tinymce.activeEditor.setContent(""),$(e.target).find("[name=title]").val(""),$("#homePostSubmit").modal("hide"),toastr.success("",TAPi18n.__("home-post-submit--confirm-toast")))}))},"click .home-post-submit--button-submit":function(e){e.preventDefault(),$("#home-post-submit--form").submit()}})}},live_feed:{"live_feed_category_edit.html":function(e,t,s){s.link("./template.live_feed_category_edit.js",{"*":"*+"})},"template.live_feed_category_edit.js":function(){Template.__checkName("liveFeedCategoryEdit"),Template.liveFeedCategoryEdit=new Template("Template.liveFeedCategoryEdit",(function(){var e=this;return HTML.DIV({class:"modal fade",id:"liveFeedCategoryEdit",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},"\n\t\t",HTML.DIV({class:"modal-dialog",role:"document"},"\n\t\t\t",HTML.DIV({class:"modal-content"},"\n\t\t\t\t",HTML.DIV({class:"modal-header"},"\n\t\t\t\t\t",HTML.H5({class:"modal-title",id:"exampleModalLabel"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"live-feed-category-edit--title")}))),"\n\t\t\t\t\t",HTML.Raw('<button type="button" class="close" data-dismiss="modal" aria-label="Close">\n\t\t\t\t\t\t<span aria-hidden="true">&times;</span>\n\t\t\t\t\t</button>'),"\n\t\t\t\t"),"\n\t\t\t\t",HTML.DIV({class:"modal-body"},"\n\t\t\t\t\t",HTML.FORM({name:"live-feed-category-edit--form",class:"live-feed-category-edit--form",id:"live-feed-category-edit--form"},"\n\t\t\t\t\t\t",HTML.DIV({class:"form-group"},"\n\t\t\t\t\t\t\t",HTML.INPUT({type:"text",class:"form-control",name:"editCategoryName",id:"editCategoryName","aria-describedby":"editCategoryName",placeholder:"Category name",value:function(){return Spacebars.mustache(e.lookup("categoryName"))}}),"\n\t\t\t\t\t\t\t",HTML.DIV({class:"text-secondary"},Blaze.View("lookup:numChars",(function(){return Spacebars.mustache(e.lookup("numChars"))})),"/20"),"\n\t\t\t\t\t\t"),"\n\t\t\t\t\t"),"\n\t\t\t\t"),"\n\t\t\t\t",HTML.DIV({class:"modal-footer"},"\n\t\t\t\t\t",HTML.BUTTON({type:"button",class:"btn btn-secondary","data-dismiss":"modal"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"modal--close")}))),"\n\t\t\t\t\t",HTML.BUTTON({type:"button",class:"btn btn-danger live-feed-category-edit--button-delete"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"modal--delete")}))),"\n\t\t\t\t\t",HTML.BUTTON({type:"button",class:"btn btn-primary live-feed-category-edit--button-submit"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"modal--save")}))),"\n\t\t\t\t"),"\n\t\t\t"),"\n\t\t"),"\n\t")}))},"live_feed_category_submit.html":function(e,t,s){s.link("./template.live_feed_category_submit.js",{"*":"*+"})},"template.live_feed_category_submit.js":function(){Template.__checkName("liveFeedCategorySubmit"),Template.liveFeedCategorySubmit=new Template("Template.liveFeedCategorySubmit",(function(){var e=this;return HTML.DIV({class:"modal fade",id:"liveFeedCategorySubmit",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},"\n\t\t",HTML.DIV({class:"modal-dialog",role:"document"},"\n\t\t\t",HTML.DIV({class:"modal-content"},"\n\t\t\t\t",HTML.DIV({class:"modal-header"},"\n\t\t\t\t\t",HTML.H5({class:"modal-title",id:"exampleModalLabel"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"live-feed-category-submit--title")}))),"\n\t\t\t\t\t",HTML.Raw('<button type="button" class="close" data-dismiss="modal" aria-label="Close">\n\t\t\t\t\t\t<span aria-hidden="true">&times;</span>\n\t\t\t\t\t</button>'),"\n\t\t\t\t"),"\n\t\t\t\t",HTML.DIV({class:"modal-body"},"\n\t\t\t\t\t",HTML.FORM({name:"live-feed-category-submit--form",class:"live-feed-category-submit--form",id:"live-feed-category-submit--form"},"\n\t\t\t\t\t\t",HTML.DIV({class:"form-group"},"\n\t\t\t\t\t\t\t",HTML.INPUT({type:"text",class:"form-control",name:"categoryName",id:"categoryName","aria-describedby":"categoryName",placeholder:function(){return Spacebars.mustache(e.lookup("_"),"live-feed-category-submit--placeholder")},autofocus:""}),"\n\t\t\t\t\t\t\t",HTML.DIV({class:"text-secondary"},Blaze.View("lookup:numChars",(function(){return Spacebars.mustache(e.lookup("numChars"))})),"/20"),"\n\t\t\t\t\t\t"),"\n\t\t\t\t\t"),"\n\t\t\t\t"),"\n\t\t\t\t",HTML.DIV({class:"modal-footer"},"\n\t\t\t\t\t",HTML.BUTTON({type:"button",class:"btn btn-secondary","data-dismiss":"modal"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"modal--close")}))),"\n\t\t\t\t\t",HTML.BUTTON({type:"button",class:"btn btn-primary live-feed-category-submit--button-submit"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"modal--submit")}))),"\n\t\t\t\t"),"\n\t\t\t"),"\n\t\t"),"\n\t")}))},"live_feed_delete_comment.html":function(e,t,s){s.link("./template.live_feed_delete_comment.js",{"*":"*+"})},"template.live_feed_delete_comment.js":function(){Template.__checkName("liveFeedDeleteComment"),Template.liveFeedDeleteComment=new Template("Template.liveFeedDeleteComment",(function(){var e=this;return HTML.DIV({class:"modal fade",id:function(){return["live-feed-post--delete-comment-",Spacebars.mustache(Spacebars.dot(e.lookup("."),"id"))]},tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},"\n  ",HTML.DIV({class:"modal-dialog",role:"document"},"\n    ",HTML.DIV({class:"modal-content"},"\n      ",HTML.DIV({class:"modal-header"},"\n        ",HTML.H5({class:"modal-title",id:"exampleModalLabel"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"live-feed-delete-comment--title")}))),"\n        ",HTML.Raw('<button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>'),"\n      "),"\n      ",HTML.DIV({class:"modal-body"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"live-feed-delete-comment--subtitle")}))),"\n      ",HTML.DIV({class:"modal-footer"},"\n        ",HTML.BUTTON({type:"button",class:"btn btn-secondary","data-dismiss":"modal"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"modal--close")}))),"\n        ",HTML.BUTTON({type:"button",class:"btn btn-danger live-feed--delete-comment--confirm"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"modal--delete")}))),"\n      "),"\n    "),"\n  "),"\n")}))},"live_feed_post.html":function(e,t,s){s.link("./template.live_feed_post.js",{"*":"*+"})},"template.live_feed_post.js":function(){Template.__checkName("liveFeedPost"),Template.liveFeedPost=new Template("Template.liveFeedPost",(function(){var e=this;return HTML.DIV({class:"card rounded-0 mb-4",style:"border-radius: 0.25rem 0.25rem 0 0 !important;"},"\n\t\t",Blaze.If((function(){return Spacebars.call(Spacebars.dot(e.lookup("."),"fileId"))}),(function(){return["\n\t\t\t",Blaze.If((function(){return Spacebars.call(e.lookup("image"))}),(function(){return["\n\t\t\t\t",HTML.DIV({class:"life-feed-post--image-wrapper"},"\n\t\t\t\t\t",HTML.A({class:"life-feed-post--image-link",href:function(){return["/upload",Spacebars.mustache(e.lookup("filePath"))]},target:"_blank"},"\n\t\t\t\t\t\t",HTML.IMG({class:"card-img-top",src:function(){return["/upload",Spacebars.mustache(e.lookup("filePath"))]},alt:"Card image cap"}),"\n\t\t\t\t\t"),"\n\t\t\t\t"),"\n\t\t\t"]})),"\n\t\t"]})),"\n\t\t",HTML.DIV({class:"card-body"},"\n\t\t\t",Blaze.If((function(){return Spacebars.call(e.lookup("ownPost"))}),(function(){return["\n\t\t\t\t",HTML.I({class:"fa fa-ellipsis-v fa-fw float-right btn-icon",id:"dropdownMenuLink","data-toggle":"dropdown"})," \n\t\t\t\t",HTML.DIV({class:"dropdown-menu","aria-labelledby":"dropdownMenuLink"},"\n\t\t\t\t\t",HTML.A({class:"dropdown-item live-feed-post--edit",href:"#"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"post--edit")}))),"\n\t\t\t\t\t",HTML.A({class:"dropdown-item text-danger live-feed-post--delete",href:"#"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"post--delete")}))),"\n\t\t\t\t"),"\n\t\t\t"]})),"\n\t\t\t",HTML.H6({class:"card-title"},Blaze.View("lookup:author",(function(){return Spacebars.mustache(e.lookup("author"))})),HTML.SMALL({class:"text-muted ml-1"}," ",Blaze.View("lookup:livestamp",(function(){return Spacebars.mustache(e.lookup("livestamp"),e.lookup("submitted"))})))),"\n\t\t\t",HTML.P({class:"card-text"},Spacebars.include(e.lookupTemplate("autolink"),(function(){return Blaze.View("lookup:body",(function(){return Spacebars.mustache(e.lookup("body"))}))}))),"\n\t\t\t",Blaze.If((function(){return Spacebars.call(Spacebars.dot(e.lookup("."),"fileId"))}),(function(){return["\n\t\t\t\t",Blaze.Unless((function(){return Spacebars.call(e.lookup("image"))}),(function(){return["\n\t\t\t\t\t",HTML.DIV({class:"mt-3"},"\n\t\t\t\t\t\t",HTML.I({class:"fas fa-paperclip"}),"\n\t\t\t\t\t\t",HTML.A({class:"",href:function(){return["/upload",Spacebars.mustache(e.lookup("filePath"))]},target:"_blank"},Blaze.View("lookup:..fileName",(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"fileName"))})),".",Blaze.View("lookup:..fileExt",(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"fileExt"))}))),"\n\t\t\t\t\t"),"\n\t\t\t\t"]})),"\n\t\t\t"]})),"\n\t\t\t",Blaze.If((function(){return Spacebars.call(e.lookup("category"))}),(function(){return["\n\t\t\t\t",HTML.DIV({class:"small text-secondary float-right ml-3"},HTML.I({class:"fas fa-tag"})," ",Blaze.View("lookup:category",(function(){return Spacebars.mustache(e.lookup("category"))}))),"\n\t\t\t"]})),"\n\t\t\t",Blaze.If((function(){return Spacebars.call(e.lookup("latitude"))}),(function(){return["\n\t\t\t",HTML.DIV({class:"small text-secondary float-right"},"\n\t\t\t\t",HTML.I({class:"fa fa-map-marker-alt"})," ",Blaze.View("lookup:locality",(function(){return Spacebars.mustache(e.lookup("locality"))})),"\n",HTML.Comment(' \t\t\t\t<a href="#" class="live-feed-post-2-open-mini-map" data-latitude="44"><i class="fa fa-map-marker-alt"></i> {{locality}}</a>\n '),"\t\t\t"),"\n\t\t\t"]})),"\n\t\t\t",Blaze.If((function(){return Spacebars.call(e.lookup("likeAlready"))}),(function(){return["\n\t\t\t\t",HTML.A({href:"#",class:"btn-link-grey live-feed-post--remove-like text-primary"},HTML.I({class:"fas fa-thumbs-up"})),"\n\t\t\t\t",Blaze.If((function(){return Spacebars.call(e.lookup("othersLikes"))}),(function(){return["\n\t\t\t\t\t",HTML.SPAN({class:"small"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"live-feed-post--nb-likes-with-me",e.lookup("likesWithoutMe"))}))),"\n\t\t\t\t"]}),(function(){return["\n\t\t\t\t\t",HTML.SPAN({class:"small"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"live-feed-post--like")}))),"\n\t\t\t\t"]})),"\n\t\t\t"]}),(function(){return["\n\t\t\t\t",HTML.A({href:"#",class:"btn-link-grey live-feed-post--add-like"},HTML.I({class:"far fa-thumbs-up"})),"\n\t\t\t\t",Blaze.If((function(){return Spacebars.call(e.lookup("likes"))}),(function(){return["\n\t\t\t\t\t",HTML.SPAN({class:"small"},Blaze.View("lookup:likes",(function(){return Spacebars.mustache(e.lookup("likes"))}))," ",Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"live-feed-post--nb-likes")}))),"\n\t\t\t\t"]})),"\n\t\t\t"]})),"\n\t\t"),"\n\t",HTML.DIV({class:"rounded-bottom p-2 small",style:"background:#f2f9ff"},"\n\t\t",Blaze.Each((function(){return Spacebars.call(e.lookup("comments"))}),(function(){return["\n\t\t\t",HTML.DIV({class:"border-bottom mb-2 p-1"},"\n\t\t\t\t",Blaze.If((function(){return Spacebars.call(e.lookup("ownComment"))}),(function(){return["\n\t\t\t\t\t",HTML.A({href:"#",class:"float-right text-secondary","data-toggle":"modal","data-target":function(){return["#live-feed-post--delete-comment-",Spacebars.mustache(Spacebars.dot(e.lookup("."),"id"))]}},"x"),"\n\t\t\t\t\t",Spacebars.include(e.lookupTemplate("liveFeedDeleteComment")),"\n\t\t\t\t"]})),"\n\t\t\t\t",HTML.DIV({class:"small"},Blaze.View("lookup:..author",(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"author"))})),"  ",Blaze.View("lookup:livestamp",(function(){return Spacebars.mustache(e.lookup("livestamp"),Spacebars.dot(e.lookup("."),"submitted"))}))),"\n\t\t\t\t",HTML.DIV({class:"mt-1"},Spacebars.include(e.lookupTemplate("autolink"),(function(){return Blaze.View("lookup:..text",(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"text"))}))}))),"\n\t\t\t\t",Blaze.If((function(){return Spacebars.call(e.lookup("likeAlreadyComment"))}),(function(){return["\n\t\t\t\t\t",HTML.DIV({class:"mt-2 small"},"\n\t\t\t\t\t\t",HTML.A({href:"#",class:"live-feed-post--comment-remove-like text-primary","data-postid":function(){return Spacebars.mustache(Spacebars.dot(e.lookup(".."),"_id"))}},HTML.I({class:"fas fa-thumbs-up","data-postid":function(){return Spacebars.mustache(Spacebars.dot(e.lookup(".."),"_id"))}})),"\n\t\t\t\t\t\t",Blaze.If((function(){return Spacebars.call(e.lookup("othersLikesComment"))}),(function(){return["\n\t\t\t\t\t\t\t",HTML.SPAN(Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"live-feed-post--nb-likes-with-me",e.lookup("likesWithoutMeComment"))}))),"\n\t\t\t\t\t\t"]}),(function(){return["\n\t\t\t\t\t\t\t",HTML.SPAN(Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"live-feed-post--like")}))),"\n\t\t\t\t\t\t"]})),"\n\t\t\t\t\t"),"\n\t\t\t\t"]}),(function(){return["\n\t\t\t\t\t",HTML.DIV({class:"mt-2 small"},"\n\t\t\t\t\t\t",HTML.A({href:"#",class:"live-feed-post--comment-add-like","data-postid":function(){return Spacebars.mustache(Spacebars.dot(e.lookup(".."),"_id"))}},HTML.I({class:"far fa-thumbs-up","data-postid":function(){return Spacebars.mustache(Spacebars.dot(e.lookup(".."),"_id"))}})),"\n\t\t\t\t\t\t",Blaze.If((function(){return Spacebars.call(e.lookup("likesComment"))}),(function(){return["\n\t\t\t\t\t\t\t",HTML.SPAN(Blaze.View("lookup:likesComment",(function(){return Spacebars.mustache(e.lookup("likesComment"))}))),"\n\t\t\t\t\t\t"]})),"\n\t\t\t\t\t"),"\n\t\t\t\t"]})),"\n\t\t\t"),"\n\t\t"]})),"\n\t\t",HTML.DIV({class:"form-group mb-0"},"\n\t\t\t",HTML.TEXTAREA({class:"form-control live-feed-post--add-comment-textarea",id:"comment",rows:"1",placeholder:function(){return Spacebars.mustache(e.lookup("_"),"live-feed-post--add-comment")}}),"\n\t\t"),"\n\t"),"\t")}))},"live_feed_post_delete.html":function(e,t,s){s.link("./template.live_feed_post_delete.js",{"*":"*+"})},"template.live_feed_post_delete.js":function(){Template.__checkName("liveFeedPostDelete"),Template.liveFeedPostDelete=new Template("Template.liveFeedPostDelete",(function(){var e=this;return HTML.DIV({class:"modal fade",id:"liveFeedPostDelete",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},"\n\t\t",HTML.DIV({class:"modal-dialog",role:"document"},"\n\t\t\t",HTML.DIV({class:"modal-content"},"\n\t\t\t\t",HTML.DIV({class:"modal-header"},"\n\t\t\t\t\t",HTML.H5({class:"modal-title",id:"exampleModalLabel"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"live-feed-post-delete--title")}))),"\n\t\t\t\t\t",HTML.Raw('<button type="button" class="close" data-dismiss="modal" aria-label="Close">\n\t\t\t\t\t\t<span aria-hidden="true">&times;</span>\n\t\t\t\t\t</button>'),"\n\t\t\t\t"),"\n\t\t\t\t",HTML.DIV({class:"modal-body"},"\n\t\t\t\t\t",Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"live-feed-post-delete--delete-confirm")})),"\n\t\t\t\t"),"\n\t\t\t\t",HTML.DIV({class:"modal-footer"},"\n\t\t\t\t\t",HTML.BUTTON({type:"button",class:"btn btn-secondary","data-dismiss":"modal"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"modal--close")}))),"\n\t\t\t\t\t",HTML.BUTTON({type:"button",class:"btn btn-danger live-feed-post-delete--confirm"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"modal--delete")}))),"\n\t\t\t\t"),"\n\t\t\t"),"\n\t\t"),"\n\t")}))},"live_feed_post_edit.html":function(e,t,s){s.link("./template.live_feed_post_edit.js",{"*":"*+"})},"template.live_feed_post_edit.js":function(){Template.__checkName("liveFeedPostEdit"),Template.liveFeedPostEdit=new Template("Template.liveFeedPostEdit",(function(){var e=this;return HTML.DIV({class:"modal fade",id:"liveFeedPostEdit",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},"\n\t\t",HTML.DIV({class:"modal-dialog",role:"document"},"\n\t\t\t",HTML.DIV({class:"modal-content"},"\n\t\t\t \t",HTML.DIV({class:"modal-header"},"\n\t\t\t\t\t",HTML.H5({class:"modal-title",id:"exampleModalLabel"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"live-feed-post-edit--title")}))),"\n\t\t\t\t\t",HTML.Raw('<button type="button" class="close" data-dismiss="modal" aria-label="Close">\n\t\t\t\t \t\t<span aria-hidden="true">&times;</span>\n\t\t\t\t\t</button>'),"\n\t\t\t  \t"),"\n\t\t\t",HTML.DIV({class:"modal-body"},"\n\t\t\t\t",Blaze.If((function(){return Spacebars.call(e.lookup("fileUploaded"))}),(function(){return["\n\t\t\t\t\t",Blaze.If((function(){return Spacebars.call(e.lookup("image"))}),(function(){return["\n\t\t\t\t\t\t",HTML.DIV({class:"mt-2 mb-4 text-center"},"\n\t\t\t\t\t\t\t",HTML.IMG({class:"card-img-top",src:function(){return["/upload",Spacebars.mustache(e.lookup("filePath"))]},alt:""}),"\n\t\t\t\t\t\t\t",HTML.A({href:"#",class:"post-submit--button-delete-image"},HTML.I({class:"fa fa-trash","aria-hidden":"true"})," ",Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"post-submit--delete-image")}))),"\n\t\t\t\t\t\t"),"\n\t\t\t\t\t"]})),"\n\t\t\t\t"]})),"\n\t\t\t\t",HTML.FORM({name:"live-feed-post-edit--form",id:"live-feed-post-edit--form"},"\n\t\t\t\t\t",HTML.DIV({class:"form-group"},"\n\t\t\t\t\t\t",HTML.TEXTAREA({name:"body",id:"body",class:"form-control live-feed-post-edit--textarea",placeholder:"","aria-label":"","aria-describedby":"basic-addon2",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("post"),"body"))}}),"\n\t\t\t\t\t"),"\n\t\t\t      ",HTML.DIV({class:"input-group mb-3"},"\n\t\t\t        ",HTML.Raw('<div class="input-group-prepend">\n\t\t\t          <label class="input-group-text" for="inputGroupSelect01"><i class="fas fa-tag"></i></label>\n\t\t\t        </div>'),"\n\t\t\t        ",HTML.SELECT({class:"custom-select",name:"categorySelect",id:"categorySelect"},"\n\t\t\t          ",HTML.OPTION({val:"",disabled:"",selected:""},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"post-submit--select-category")}))),"\n\t\t\t          ",HTML.OPTION({val:""},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"post-submit--no-category")}))),"\n\t\t\t          ",Blaze.Each((function(){return Spacebars.call(e.lookup("categories"))}),(function(){return["\n\t\t\t            ",HTML.OPTION({selected:function(){return Spacebars.mustache(e.lookup("selectedCategory"))},name:function(){return Spacebars.mustache(e.lookup("name"))}},Blaze.View("lookup:name",(function(){return Spacebars.mustache(e.lookup("name"))}))),"\n\t\t\t          "]})),"\n\t\t\t          "),"\n\t\t\t        "),"\n\t\t\t\t"),"\n\t\t\t\t",Blaze.Unless((function(){return Spacebars.call(e.lookup("fileUploaded"))}),(function(){return["\n          \t\t\t",Blaze._TemplateWith((function(){return{formData:Spacebars.call(e.lookup("formData")),autoStart:Spacebars.call(!0)}}),(function(){return Spacebars.include(e.lookupTemplate("fileUpload"))})),"\n\t\t\t\t"]})),"\n\t\t\t\t",Blaze.If((function(){return Spacebars.call(e.lookup("fileUploaded"))}),(function(){return["\n\t\t\t\t\t",Blaze.Unless((function(){return Spacebars.call(e.lookup("image"))}),(function(){return["\n\t\t\t\t\t\t",HTML.DIV({class:"p-2"},"\n\t\t\t\t\t\t\t",HTML.I({class:"fa fa-file-o","aria-hidden":"true"})," ",Blaze.View("lookup:fileUploaded.fileName",(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("fileUploaded"),"fileName"))})),".",Blaze.View("lookup:fileUploaded.fileExt",(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("fileUploaded"),"fileExt"))})),"\n\t\t\t\t\t\t\t",HTML.A({href:"#",class:"post-submit--button-delete-file"},"\n\t\t\t\t\t\t\t\t",HTML.I({class:"fa fa-trash","aria-hidden":"true"}),"\n\t\t\t\t\t\t\t"),"\n\t\t\t\t\t\t"),"\n\t\t\t\t\t"]})),"\n\t\t\t\t"]})),"\n\t\t\t  \t"),"\n\t\t\t  \t",HTML.DIV({class:"modal-footer"},"\n\t\t\t\t\t",HTML.BUTTON({type:"button",class:"btn btn-secondary","data-dismiss":"modal"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"modal--close")}))),"\n\t\t\t\t\t",HTML.BUTTON({type:"button",class:"btn btn-primary live-feed-post-edit--submit"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"modal--save")}))),"\n\t\t\t  \t"),"\n\t\t\t"),"\n\t  \t"),"\n\t")}))},"live_feed_post_submit.html":function(e,t,s){s.link("./template.live_feed_post_submit.js",{"*":"*+"})},"template.live_feed_post_submit.js":function(){Template.__checkName("liveFeedPostSubmit"),Template.liveFeedPostSubmit=new Template("Template.liveFeedPostSubmit",(function(){var e=this;return HTML.DIV({class:"live-feed-post-submit mb-4 mt-4"},"\n\t\t",HTML.DIV("\n\t\t\t",HTML.FORM({name:"live-feed-post-submit--form",id:"live-feed-post-submit--form"},"\n\t\t\t\t",Blaze.If((function(){return Spacebars.call(e.lookup("fileUploaded"))}),(function(){return["\n\t\t\t\t\t",Blaze.Unless((function(){return Spacebars.call(Spacebars.dot(e.lookup("fileUploaded"),"error"))}),(function(){return["\n\t\t\t\t\t\t",Blaze.If((function(){return Spacebars.call(e.lookup("image"))}),(function(){return["\n\t\t\t\t\t\t\t",HTML.DIV({class:"mt-2 mb-4 text-center"},"\n\t\t\t\t\t\t\t\t",HTML.IMG({class:"card-img-top",src:function(){return["/upload",Spacebars.mustache(e.lookup("filePath"))]},alt:""}),HTML.BR(),"\n\t\t\t \t\t\t\t\t",HTML.A({href:"#",class:"post-submit--button-delete-image"},HTML.I({class:"fa fa-trash","aria-hidden":"true"})," ",Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"post-submit--delete-image")}))),"\n\t\t\t \t\t\t\t"),"\n\t\t \t\t\t\t"]})),"\n\t\t \t\t\t"]})),"\n\t\t\t\t"]})),"\n\t\t\t\t",HTML.DIV({class:"row mb-2"},"\n\t\t\t\t\t",HTML.DIV({class:"col-10"},"\n\t\t\t\t\t\t",HTML.TEXTAREA({rows:"1",name:"body",id:"body",class:"form-control post-submit--textarea",placeholder:function(){return Spacebars.mustache(e.lookup("_"),"post-submit--body-placeholder")},"aria-label":function(){return Spacebars.mustache(e.lookup("_"),"post-submit--body-placeholder")}}),"\n\t\t\t\t\t"),"\n\t\t\t\t\t",HTML.DIV({class:"col-2 d-none d-lg-inline-block  mb-0",style:"margin-left:-15px;"},"\n\t\t\t\t\t\t",HTML.BUTTON({class:"btn btn-outline-primary live-feed-post-submit--button-submit",style:"",type:"button"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"modal--submit")}))),"\n\t\t\t\t\t"),"\t\n\t\t\t\t\t",HTML.Raw('<div class="col-2 text-left d-lg-none" style="margin-left:-15px;">\n\t\t\t\t\t\t<button class="btn btn-outline-primary live-feed-post-submit--button-submit" style="" type="button"><i class="fas fa-paper-plane"></i></button>\n\t\t\t\t\t</div>'),"\t\n\t\t\t\t"),"\n\t\t\t\t",HTML.DIV({class:"row"},"\n\t\t\t\t\t",HTML.DIV({class:"col-4 col-lg-5"},"\t\t\t  \n\t\t\t\t\t\t",Blaze.Unless((function(){return Spacebars.call(e.lookup("fileUploaded"))}),(function(){return["\n\t\t          \t\t\t",Blaze._TemplateWith((function(){return{formData:Spacebars.call(e.lookup("formData")),autoStart:Spacebars.call(!0)}}),(function(){return Spacebars.include(e.lookupTemplate("fileUpload"))})),"\n\t\t\t\t\t\t"]})),"\n\t\t\t\t\t"),"\n\t\t\t\t\t",HTML.DIV({class:"col-8 col-lg-5"},"\n\t\t\t\t\t\t",HTML.DIV({class:"input-group",style:""},"\n\t\t\t\t\t\t\t",HTML.Raw('<div class="input-group-prepend">\n\t\t\t\t\t\t    \t<label class="input-group-text" for="inputGroupSelect01" style="background:none !important;"><i class="fas fa-tag"></i></label>\n\t\t\t\t\t\t  \t</div>'),"\n\t\t\t\t\t\t\t",HTML.SELECT({class:"custom-select",style:"height:30px;font-size:0.75em;",name:"categorySelect",id:"categorySelect"},"\n\t\t\t    \t\t\t\t",HTML.OPTION({val:"",disabled:"",selected:""},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"post-submit--select-category")}))),"\n\t\t\t    \t      \t\t",HTML.OPTION({val:""},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"post-submit--no-category")}))),"\n\t\t\t    \t\t\t\t",Blaze.Each((function(){return Spacebars.call(e.lookup("categories"))}),(function(){return["\n\t\t\t      \t\t\t\t\t",HTML.OPTION(HTML.Attrs((function(){return Spacebars.attrMustache(e.lookup("selectedOption"),e.lookup("name"))})),Blaze.View("lookup:name",(function(){return Spacebars.mustache(e.lookup("name"))}))),"\n\t\t\t      \t\t\t\t"]})),"\n\t\t\t      \t\t\t\t",Blaze.If((function(){return Spacebars.call(e.lookup("liveFeedAddCategory"))}),(function(){return["\n\t\t\t      \t\t\t\t\t",HTML.OPTION({style:"color:red",value:"add-category"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"live-feed-post-submit--add-category")}))),"\n\t\t\t      \t\t\t\t"]})),"\n\t\t\t\t\t\t\t"),"\n\t\t\t\t\t\t"),"\t\n\t\t\t\t\t"),"\n\t\t  \t\t\t",HTML.DIV({class:"form-group d-none d-lg-none float-right mb-0"},"\n\t\t\t\t\t\t",HTML.BUTTON({class:"btn btn-outline-secondary bg-primary text-white border-0 live-feed-post-submit--button-submit",type:"button"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"modal--submit")}))),"\n\t\t\t\t\t"),"\t\n\t\t\t\t"),"\n\t\t\t\t",Blaze.If((function(){return Spacebars.call(e.lookup("fileUploaded"))}),(function(){return["\n\t\t\t\t\t",Blaze.If((function(){return Spacebars.call(Spacebars.dot(e.lookup("fileUploaded"),"error"))}),(function(){return["\n          \t\t\t\t",HTML.DIV({class:""},HTML.SPAN({class:"text-danger"},Blaze.View("lookup:fileUploaded.error",(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("fileUploaded"),"error"))})))," (",HTML.A({href:"#",class:"live-feed-post-submit--retry"},"retry"),")"),"\n          \t\t\t"]}),(function(){return["\n\t\t\t\t\t\t",Blaze.Unless((function(){return Spacebars.call(e.lookup("image"))}),(function(){return["\n\t\t\t\t\t\t\t",HTML.DIV({class:"p-2"},"\n\t\t\t\t\t\t\t\t",HTML.I({class:"fa fa-file-o","aria-hidden":"true"})," ",Blaze.View("lookup:fileUploaded.fileName",(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("fileUploaded"),"fileName"))})),".",Blaze.View("lookup:fileUploaded.fileExt",(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("fileUploaded"),"fileExt"))})),"\n\t\t\t\t\t\t\t\t",HTML.A({href:"#",class:"post-submit--button-delete-file"},"\n\t\t\t\t\t\t\t\t\t",HTML.I({class:"fa fa-trash","aria-hidden":"true"}),"\n\t\t\t\t\t\t\t\t"),"\n\t\t\t\t\t\t\t"),"\n\t\t\t\t\t\t"]})),"\n\t\t\t\t\t"]})),"\n\t\t\t\t"]})),"\n\t\t\t"),"\n\t\t"),"\n\t")}))},"live_feed_category_edit.js":function(e,t,s){var n;s.link("meteor/templating",{Template:function(e){n=e}},0),s.link("./live_feed_category_edit.html"),n.liveFeedCategoryEdit.onRendered((function(){$(".live-feed-category-edit--form").validate({rules:{editCategoryName:{required:!0,minlength:1,maxlength:20}}}),Session.set("numChars",$("#editCategoryName").val().length)})),n.liveFeedCategoryEdit.events({"submit form":function(e,t){e.preventDefault();var s=t.data.space._id,n=Session.get("liveFeedCategoryToEdit"),a="liveFeed",o=$(e.target).find("[name=editCategoryName]").val();n!=o?(Meteor.call("categoryEdit",s,"liveFeed",n,o,(function(e){e?alert(TAPi18n.__("error-message")+e.message):($("#liveFeedCategoryEdit").modal("hide"),Session.set("liveFeedCategoryToEdit",null))})),$("#editCategoryName").val(""),Session.set("numChars",0)):($("#liveFeedCategoryEdit").modal("hide"),Session.set("liveFeedCategoryToEdit",null))},"click .live-feed-category-edit--button-submit":function(e){e.preventDefault(),$("#live-feed-category-edit--form").submit()},"click .live-feed-category-edit--button-delete":function(e,t){e.preventDefault();var s=t.data.space._id,n=Session.get("liveFeedCategoryToEdit"),a="liveFeed";Meteor.call("categoryDelete","liveFeed",n,s,(function(e){e?alert(TAPi18n.__("error-message")+e.message):($("#liveFeedCategoryEdit").modal("hide"),Session.set("liveFeedCategoryToEdit",null))}))},"input #editCategoryName":function(){Session.set("numChars",$("#editCategoryName").val().length)}}),n.liveFeedCategoryEdit.helpers({categoryName:function(){var e;return Session.get("liveFeedCategoryToEdit")},numChars:function(e){return Session.get("numChars")}})},"live_feed_category_submit.js":function(e,t,s){var n,a;s.link("meteor/templating",{Template:function(e){n=e}},0),s.link("../../../api/categories.js",{Categories:function(e){a=e}},1),s.link("./live_feed_category_submit.html"),n.liveFeedPostSubmit.onRendered((function(){$(".live-feed-category-submit--form").validate({rules:{categoryName:{required:!0,minlength:1,maxlength:20}}}),Session.set("numChars",0)})),n.liveFeedCategorySubmit.events({"submit form":function(e,t){e.preventDefault();var s=t.data.space._id,n="liveFeed",o=$("#categoryName").val().trim();Meteor.call("categoryInsert","liveFeed",o,s,(function(e){e?alert(TAPi18n.__("error-message")+e.message):($("#liveFeedCategorySubmit").modal("hide"),$("[name=categorySelect]").val(o),liveFeedResetFilters(),Session.set("liveFeedCategory",o),Session.set("postsServerNonReactive",a.findOne({name:o,type:"liveFeed"}).nRefs),liveFeedResetPostInterval())})),$("#categoryName").val(""),Session.set("numChars",0)},"click .live-feed-category-submit--button-submit":function(e){e.preventDefault(),$("#live-feed-category-submit--form").submit()},"input #categoryName":function(){Session.set("numChars",$("#categoryName").val().length)}}),n.liveFeedCategorySubmit.helpers({numChars:function(e){return Session.get("numChars")}})},"live_feed_delete_comment.js":function(e,t,s){var n;s.link("meteor/templating",{Template:function(e){n=e}},0),s.link("./live_feed_delete_comment.html"),n.liveFeedDeleteComment.events({"click .live-feed--delete-comment--confirm":function(e){e.preventDefault();var t=n.parentData(1)._id,s=this.id;Posts.update(t,{$pull:{comments:{id:s}}},(function(e){e?alert(TAPi18n.__("error-message")+e.message):$("#liveFeedDeleteComment-"+s).modal("hide")}))}})},"live_feed_post.js":function(e,t,s){var n,a;s.link("meteor/templating",{Template:function(e){n=e}},0),s.link("../../../api/posts.js",{Posts:function(e){a=e}},1),s.link("./live_feed_post.html"),n.liveFeedPost.onCreated((function(){imageExtensions=["jpg","jpeg","png","gif"]})),n.liveFeedPost.onRendered((function(){$(".live-feed-post--add-comment-textarea").autosize(),$("#liveFeedPostEdit").on("hide.bs.modal",(function(e){Session.set("fileId",!1),Session.set("fileName",!1),Session.set("fileExt",!1),Session.set("filePath",!1)})),$(".life-feed-post--image-wrapper").imagesLoaded((function(){$(".life-feed-post--image-link").magnificPopup({type:"image",closeOnContentClick:!0,closeOnBgClick:!0})}))})),n.liveFeedPost.events({"click .live-feed-post--edit":function(e){e.preventDefault();var t=this._id;Session.set("postToEdit",t),a.findOne(t).fileId&&(Session.set("fileId",a.findOne(t).fileId),Session.set("fileName",a.findOne(t).fileName),Session.set("fileExt",a.findOne(t).fileExt),Session.set("filePath",a.findOne(t).filePath)),$("#liveFeedPostEdit").modal({show:!0,backdrop:"static"})},"click .live-feed-post--delete":function(e){e.preventDefault();var t=this._id;Session.set("postToDelete",t),$("#liveFeedPostDelete").modal("show")},"keypress .live-feed-post--add-comment-textarea":function(e,t){if(13===e.which){e.preventDefault();var s=this._id,o=$(e.target).val(),i=Session.get(n.parentData(1).space._id).author;""!=o&&(a.update(s,{$push:{comments:{id:Random.id(),author:i,submitted:Date.now(),text:o}}}),$(e.target).val(""))}},"click .live-feed-post--add-like":function(e){e.preventDefault();var t=this._id,s=Session.get(n.parentData(1).space._id).author;a.update(t,{$push:{likes:s}})},"click .live-feed-post--remove-like":function(e){e.preventDefault();var t=this._id,s=Session.get(n.parentData(1).space._id).author;a.update(t,{$pull:{likes:s}})},"click .live-feed-post--comment-add-like":function(e){e.preventDefault();var t=$(e.target).data("postid"),s=this.id,a=Session.get(n.parentData(1).space._id).author;console.log("currentPostId : "+t),console.log("currentCommentId : "+s),console.log("author : "+a),Meteor.call("addLikeComment",{currentPostId:t,currentCommentId:s,author:a,author:a})},"click .live-feed-post--comment-remove-like":function(e){e.preventDefault();var t=$(e.target).data("postid"),s=this.id,a=Session.get(n.parentData(1).space._id).author;Meteor.call("removeLikeComment",{currentPostId:t,currentCommentId:s,author:a,author:a})}}),n.liveFeedPost.helpers({ownPost:function(){return Session.get(n.parentData().space._id).author===this.author||n.parentData().space.userId===Meteor.userId()||!0===Roles.userIsInRole(Meteor.userId(),["admin"])},ownComment:function(){return Session.get(n.parentData(2).space._id).author===this.author||n.parentData(2).space.userId===Meteor.userId()||!0===Roles.userIsInRole(Meteor.userId(),["admin"])},image:function(){if(this.fileId&&-1!=$.inArray(this.fileExt,imageExtensions))return this.fileId},filePath:function(){return encodeURI(this.filePath)},likes:function(){if(this.likes)return this.likes.length},likesWithoutMe:function(){if(this.likes)return this.likes.length-1},likeAlready:function(){var e=Session.get(n.parentData(1).space._id).author;if(-1!=$.inArray(e,this.likes))return!0},othersLikes:function(){if(this.likes&&this.likes.length>1)return!0},likesComment:function(){if(this.likes)return this.likes.length},likeAlreadyComment:function(){var e=Session.get(n.parentData(2).space._id).author;if(console.log("likes : "+this.likes),-1!=$.inArray(e,this.likes))return!0},othersLikesComment:function(){if(this.likes&&this.likes.length>1)return!0},likesWithoutMeComment:function(){if(this.likes)return this.likes.length-1}})},"live_feed_post_delete.js":function(e,t,s){var n,a;s.link("meteor/templating",{Template:function(e){n=e}},0),s.link("../../../api/posts.js",{Posts:function(e){a=e}},1),s.link("./live_feed_post_delete.html"),n.liveFeedPostDelete.events({"click .live-feed-post-delete--confirm":function(e){e.preventDefault();var t=Session.get("postToDelete"),s=a.findOne(t);a.remove(t,(function(e){e?alert(TAPi18n.__("error-message")+e.message):(liveFeedResetPostsServerNonReactive(),$("#liveFeedPostDelete").modal("hide"))}))}})},"live_feed_post_edit.js":function(e,t,s){var n,a,o,i;s.link("meteor/templating",{Template:function(e){n=e}},0),s.link("../../../api/posts.js",{Posts:function(e){a=e}},1),s.link("../../../api/files.js",{Files:function(e){o=e}},2),s.link("../../../api/categories.js",{Categories:function(e){i=e}},3),s.link("./live_feed_post_edit.html"),n.liveFeedPostEdit.onCreated((function(){Session.get("fileId")&&delete Session.keys.fileId,Session.get("fileExt")&&delete Session.keys.fileExt,imageExtensions=["jpg","jpeg","png","gif"]})),n.liveFeedPostEdit.onRendered((function(){Uploader.finished=function(e,t){Session.set("fileId",t.fileId),Session.set("fileName",t.fileName),Session.set("fileExt",t.fileExt),Session.set("filePath",t.path)},Deps.autorun((function(){Session.get("fileId")&&Meteor.subscribe("file",Session.get("fileId"))}))})),n.liveFeedPostEdit.events({"submit #live-feed-post-edit--form":function(e){e.preventDefault();var t=Session.get("postToEdit"),s=a.findOne(t),n={},o=$(e.target).find("[name=body]").val();o!=s.body&&_.extend(n,{body:o});var r=$(e.target).find("[name=categorySelect]").val(),l="liveFeed";if(r!=s.category){_.extend(n,{category:r});var c=i.findOne({spaceId:s.spaceId,type:"liveFeed",name:s.category});c&&i.update(c._id,{$inc:{nRefs:-1}});var u=i.findOne({spaceId:s.spaceId,type:"liveFeed",name:r});u&&i.update(u._id,{$inc:{nRefs:1}})}var d=Session.get("fileId"),p=Session.get("fileName"),m=Session.get("fileExt"),f=Session.get("filePath");""!=d&&0!=d||(d=!1,m=!1),_.extend(n,{fileId:d,fileName:p,fileExt:m,filePath:f}),a.update(t,{$set:n},(function(e){e?alert(TAPi18n.__("error-message")+e.message):(liveFeedResetPostsServerNonReactive(),$("#liveFeedPostEdit").modal("hide"))}))},"click .live-feed-post-edit--submit":function(e){e.preventDefault(),$("#live-feed-post-edit--form").submit(),Session.get("fileId")&&(delete Session.keys.fileId,Session.set("fileId",!1)),Session.get("fileExt")&&(delete Session.keys.fileExt,Session.set("fileExt",!1))},"click .post-submit--button-delete-image":function(e){e.preventDefault(),confirm(TAPi18n.__("post-submit--confirm-delete-file"))&&(a.update(n.currentData()._id,{$unset:{fileId:""}}),Session.set("fileId",!1))},"click .live-feed-post-edit--retry":function(e){e.preventDefault(),Session.set("fileId",null),Session.set("fileName",null),Session.set("fileExt",null),Session.set("filePath",null),$(".live-feed-post-edit--submit").prop("disabled",!1)},"click .post-submit--button-delete-file":function(e){e.preventDefault(),confirm(TAPi18n.__("post-submit--confirm-delete-file"))&&Session.set("fileId",!1)}}),n.liveFeedPostEdit.helpers({post:function(){var e=Session.get("postToEdit");return a.findOne(e)},fileUploaded:function(){if(Session.get("fileId")){var e=Session.get("fileId"),t=o.findOne({_id:e});return t&&!t.error&&$(".live-feed-post-edit--submit").prop("disabled",!1),t}return!1},filePath:function(){return encodeURI(Session.get("filePath"))},file:function(){if(Session.get("fileExt")&&-1==$.inArray(Session.get("fileExt"),imageExtensions))return!0},image:function(){if(Session.get("fileExt")&&-1!=$.inArray(Session.get("fileExt"),imageExtensions))return Session.get("fileId")},space:function(){var e=Session.get("postToEdit"),t=a.findOne(e),s;return Spaces.findOne(t.spaceId)},categories:function(){var e=Session.get("postToEdit"),t=a.findOne(e);if(t)return i.find({spaceId:t.spaceId,type:"liveFeed"},{sort:{name:1}})},selectedCategory:function(){var e=Session.get("postToEdit"),t=a.findOne(e),s,n;return this.name===t.category},formData:function(){return{spaceId:this.space._id,type:"liveFeed"}}})},"live_feed_post_submit.js":function(e,t,s){var n,a,o;s.link("meteor/templating",{Template:function(e){n=e}},0),s.link("../../../api/categories.js",{Categories:function(e){a=e}},1),s.link("../../../api/files.js",{Files:function(e){o=e}},2),s.link("./live_feed_post_submit.html"),n.liveFeedPostSubmit.onCreated((function(){Session.get("fileId")&&delete Session.keys.fileId,Session.get("fileExt")&&delete Session.keys.fileExt,imageExtensions=["jpg","jpeg","png","gif"]})),n.liveFeedPostSubmit.onRendered((function(){$(".post-submit--textarea").autosize(),Deps.autorun((function(){Session.get("fileId")&&Meteor.subscribe("file",Session.get("fileId"))})),Uploader.finished=function(e,t,s){Session.set("fileId",t.fileId),Session.set("fileName",t.fileName),Session.set("fileExt",t.fileExt),Session.set("filePath",t.path)},n.parentData(2)&&(Session.get(n.parentData(2).space._id)||Session.set(n.parentData(2).space._id,{author:"Invit"}))})),n.liveFeedPostSubmit.events({"submit #live-feed-post-submit--form":function(e,t){e.preventDefault();var s=Session.get(this.space._id).author,n=$(e.target).find("[name=body]").val(),a=t.data.space._id,o=Session.get("fileId"),i=Session.get("fileName"),r=Session.get("fileExt"),l=Session.get("filePath"),c=$(e.target).find("[name=categorySelect]").val();Meteor.call("postInsert",{author:s,body:n,spaceId:a,type:"liveFeed",fileId:o,fileName:i,fileExt:r,filePath:l,category:c},(function(t,s){t?alert(TAPi18n.__("error-message")+t.message):($(e.target).find("[name=body]").val(""),""==Session.get("liveFeedCategory")&&$(e.target).find("[name=categorySelect]").val(TAPi18n.__("post-submit--no-category")),Session.set("fileId",null),Session.set("fileName",null),Session.set("fileExt",null),Session.set("filePath",null),delete Session.keys.fileId,delete Session.keys.fileName,delete Session.keys.fileExt,delete Session.keys.filePath,liveFeedResetPostsServerNonReactive())}))},"click .live-feed-post-submit--button-submit":function(e){e.preventDefault(),$("#live-feed-post-submit--form").submit()},"click .post-submit--button-delete-image":function(e){e.preventDefault(),confirm(TAPi18n.__("post-submit--confirm-delete-image"))&&Session.set("fileId",!1)},"click .post-submit--button-delete-file":function(e){e.preventDefault(),confirm(TAPi18n.__("post-submit--confirm-delete-file"))&&Session.set("fileId",!1)},"click .live-feed-post-submit--retry":function(e){e.preventDefault(),Session.set("fileId",null),Session.set("fileName",null),Session.set("fileExt",null),Session.set("filePath",null),$(".live-feed-post-submit--button-submit").prop("disabled",!1)},"change #categorySelect":function(e){"add-category"==$(e.target).val()&&$("#liveFeedCategorySubmit").modal("show")}}),n.liveFeedPostSubmit.helpers({fileUploaded:function(){if(Session.get("fileId")){var e=Session.get("fileId"),t=o.findOne({_id:e});return t&&!t.error&&$(".live-feed-post-submit--button-submit").prop("disabled",!1),t}return!1},file:function(){if(Session.get("fileExt")&&-1==$.inArray(Session.get("fileExt"),imageExtensions))return!0},filePath:function(){return encodeURI(Session.get("filePath"))},image:function(){if(Session.get("fileExt")&&-1!=$.inArray(Session.get("fileExt"),imageExtensions))return Session.get("fileId")},categories:function(){return a.find({spaceId:this.space._id,type:"liveFeed"},{sort:{name:1}})},selectedOption:function(e){if(Session.get("liveFeedCategory")==e)return"selected"},liveFeedAddCategory:function(e){return!(!this.space.permissions.liveFeedAddCategory&&!Roles.userIsInRole(Meteor.userId(),["admin"])&&Meteor.userId()!=this.space.userId)},formData:function(){return{spaceId:this.space._id,type:"liveFeed"}}})}},resources:{"resources.html":function(e,t,s){s.link("./template.resources.js",{"*":"*+"})},"template.resources.js":function(){Template.__checkName("resources"),Template.resources=new Template("Template.resources",(function(){var e=this;return[Blaze.If((function(){return Spacebars.call(e.lookup("currentUser"))}),(function(){return["\n\t\t",HTML.DIV({class:"float-right"},"\n\t\t\t",HTML.A({href:"#",class:"","data-toggle":"modal","data-target":"#resourcesPostSubmit"},"\n\t\t\t\t",HTML.I({class:"fas fa-plus"})," ",Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"resources--submit-button")})),"\n\t\t\t"),"\n\t\t"),"\n\t"]}),(function(){return["\n\t\t",Blaze.If((function(){return Spacebars.call(e.lookup("userCanAddResource"))}),(function(){return["\n\t\t\t",HTML.DIV({class:"float-right"},"\n\t\t\t\t",HTML.A({href:"#",class:"","data-toggle":"modal","data-target":"#resourcesPostSubmit"},"\n\t\t\t\t\t",HTML.I({class:"fas fa-plus"})," ",Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"resources--submit-button")})),"\n\t\t\t\t"),"\n\t\t\t"),"\n\t\t"]})),"\n\t"]})),"\n\t",HTML.H5({class:"mb-4"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"resources--title")}))),"\n\n",HTML.TABLE({class:"table table-striped"},"\n  ",HTML.THEAD("\n    ",HTML.TR("\n      ",HTML.TH({scope:"col"},"Name"),"\n      ",HTML.TH({scope:"col"},"Description"),"\n      ",HTML.Comment(' <th scope="col">Category</th> '),"\n      ",HTML.Comment(' <th scope="col">Added</th> '),"\n      ",Blaze.If((function(){return Spacebars.call(e.lookup("currentUser"))}),(function(){return["\n            ",HTML.TH({scope:"col"},"Actions"),"\n       "]})),"\n    "),"\n  "),"\n  ",HTML.TBODY("\t\n  \t",Blaze.Each((function(){return Spacebars.call(e.lookup("resourcesPosts"))}),(function(){return["\n\t\t",Spacebars.include(e.lookupTemplate("resourcesPost")),"\n\t"]})),"\n\n  "),"\n"),"\n\n\n\n\n\n\t",Spacebars.include(e.lookupTemplate("resourcesPostSubmit")),"\n\t",Spacebars.include(e.lookupTemplate("resourcesPostEdit")),"\n\t",Spacebars.include(e.lookupTemplate("resourcesPostDelete")),"\n\t",Spacebars.include(e.lookupTemplate("resourcesCategorySubmit")),"\n\t",Spacebars.include(e.lookupTemplate("resourcesCategoryEdit"))]}))},"resources_category_edit.html":function(e,t,s){s.link("./template.resources_category_edit.js",{"*":"*+"})},"template.resources_category_edit.js":function(){Template.__checkName("resourcesCategoryEdit"),Template.resourcesCategoryEdit=new Template("Template.resourcesCategoryEdit",(function(){var e=this;return HTML.DIV({class:"modal fade",id:"resourcesCategoryEdit",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},"\n\t\t",HTML.DIV({class:"modal-dialog",role:"document"},"\n\t\t\t",HTML.DIV({class:"modal-content"},"\n\t\t\t\t",HTML.DIV({class:"modal-header"},"\n\t\t\t\t\t",HTML.H5({class:"modal-title",id:"exampleModalLabel"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"resources-category-edit--title")}))),"\n\t\t\t\t\t",HTML.Raw('<button type="button" class="close" data-dismiss="modal" aria-label="Close">\n\t\t\t\t\t\t<span aria-hidden="true">&times;</span>\n\t\t\t\t\t</button>'),"\n\t\t\t\t"),"\n\t\t\t\t",HTML.DIV({class:"modal-body"},"\n\t\t\t\t\t",HTML.FORM({name:"resources-category-edit--form",class:"resources-category-edit--form",id:"resources-category-edit--form"},"\n\t\t\t\t\t\t",HTML.DIV({class:"form-group"},"\n\t\t\t\t\t\t\t",HTML.INPUT({type:"text",class:"form-control",name:"editCategoryName",id:"editCategoryName","aria-describedby":"editCategoryName",placeholder:"Category name",value:function(){return Spacebars.mustache(e.lookup("categoryName"))}}),"\n\t\t\t\t\t\t\t",HTML.DIV({class:"text-secondary"},Blaze.View("lookup:numChars",(function(){return Spacebars.mustache(e.lookup("numChars"))})),"/20"),"\n\t\t\t\t\t\t"),"\n\t\t\t\t\t"),"\n\t\t\t\t"),"\n\t\t\t\t",HTML.DIV({class:"modal-footer"},"\n\t\t\t\t\t",HTML.BUTTON({type:"button",class:"btn btn-secondary","data-dismiss":"modal"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"modal--close")}))),"\n\t\t\t\t\t",HTML.BUTTON({type:"button",class:"btn btn-danger resources-category-edit--button-delete"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"modal--delete")}))),"\n\t\t\t\t\t",HTML.BUTTON({type:"button",class:"btn btn-primary resources-category-edit--button-submit"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"modal--save")}))),"\n\t\t\t\t"),"\n\t\t\t"),"\n\t\t"),"\n\t")}))},"resources_category_submit.html":function(e,t,s){s.link("./template.resources_category_submit.js",{"*":"*+"})},"template.resources_category_submit.js":function(){Template.__checkName("resourcesCategorySubmit"),Template.resourcesCategorySubmit=new Template("Template.resourcesCategorySubmit",(function(){var e=this;return HTML.DIV({class:"modal fade",id:"resourcesCategorySubmit",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},"\n\t\t",HTML.DIV({class:"modal-dialog",role:"document"},"\n\t\t\t",HTML.DIV({class:"modal-content"},"\n\t\t\t\t",HTML.DIV({class:"modal-header"},"\n\t\t\t\t\t",HTML.H5({class:"modal-title",id:"exampleModalLabel"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"resources-category-submit--title")}))),"\n\t\t\t\t\t",HTML.Raw('<button type="button" class="close" data-dismiss="modal" aria-label="Close">\n\t\t\t\t\t\t<span aria-hidden="true">&times;</span>\n\t\t\t\t\t</button>'),"\n\t\t\t\t"),"\n\t\t\t\t",HTML.DIV({class:"modal-body"},"\n\t\t\t\t\t",HTML.FORM({name:"resources-category-submit--form",class:"resources-category-submit--form",id:"resources-category-submit--form"},"\n\t\t\t\t\t\t",HTML.DIV({class:"form-group"},"\n\t\t\t\t\t\t\t",HTML.INPUT({type:"text",class:"form-control",name:"categoryName",id:"categoryName","aria-describedby":"categoryName",placeholder:function(){return Spacebars.mustache(e.lookup("_"),"resources-category-submit--placeholder")},autofocus:""}),"\n\t\t\t\t\t\t\t",HTML.DIV({class:"text-secondary"},Blaze.View("lookup:numChars",(function(){return Spacebars.mustache(e.lookup("numChars"))})),"/20"),"\n\t\t\t\t\t\t"),"\n\t\t\t\t\t"),"\n\t\t\t\t"),"\n\t\t\t\t",HTML.DIV({class:"modal-footer"},"\n\t\t\t\t\t",HTML.BUTTON({type:"button",class:"btn btn-secondary","data-dismiss":"modal"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"modal--close")}))),"\n\t\t\t\t\t",HTML.BUTTON({type:"button",class:"btn btn-primary resources-category-submit--button-submit"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"modal--submit")}))),"\n\t\t\t\t"),"\n\t\t\t"),"\n\t\t"),"\n\t")}))},"resources_post.html":function(e,t,s){s.link("./template.resources_post.js",{"*":"*+"})},"template.resources_post.js":function(){Template.__checkName("resourcesPost"),Template.resourcesPost=new Template("Template.resourcesPost",(function(){var e=this;return HTML.TR("\n      ",HTML.TH({scope:"row"},HTML.A({class:"",href:function(){return["/upload",Spacebars.mustache(e.lookup("filePath"))]},target:"_blank"},Blaze.View("lookup:..fileName",(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"fileName"))})),".",Blaze.View("lookup:..fileExt",(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"fileExt"))})))),"\n      ",HTML.TD(Blaze.View("lookup:body",(function(){return Spacebars.mustache(e.lookup("body"))}))),HTML.Raw('\n      \n\x3c!--             <td>\t\t\t{{#if category}}\n\t\t\t\t<div class="small text-secondary mt-2 text-right"><i class="fas fa-tag"></i> {{category}}</div>\n\t\t\t{{/if}}</td> --\x3e\n\n\x3c!--       <td>{{livestamp submitted}}</td> --\x3e\n      '),Blaze.If((function(){return Spacebars.call(e.lookup("currentUser"))}),(function(){return["\n      ",HTML.TD("\n\t\t\t\t",HTML.SPAN({class:"align-baseline ml-auto",id:"dropdownMenuLink","data-toggle":"dropdown"},HTML.I({class:"fa fa-ellipsis-v fa-fw align-baseline btn-icon"}),"\n\t\t\t\t"),"\n\t\t\t\t",HTML.DIV({class:"dropdown-menu","aria-labelledby":"dropdownMenuLink"},"\n\t\t\t\t\t",HTML.A({class:"dropdown-item resources-post--edit",href:"#"},"Edit"),"\n\t\t\t\t\t",HTML.A({class:"dropdown-item text-danger resources-post--delete",href:"#"},"Delete"),"\n\t\t\t\t"),"\n\t\t\t")]})),"\n    ")}))},"resources_post_delete.html":function(e,t,s){s.link("./template.resources_post_delete.js",{"*":"*+"})},"template.resources_post_delete.js":function(){Template.__checkName("resourcesPostDelete"),Template.resourcesPostDelete=new Template("Template.resourcesPostDelete",(function(){var e=this;return HTML.DIV({class:"modal fade",id:"resourcesPostDelete",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},"\n\t\t",HTML.DIV({class:"modal-dialog",role:"document"},"\n\t\t\t",HTML.DIV({class:"modal-content"},"\n\t\t\t\t",HTML.Raw('<div class="modal-header">\n\t\t\t\t\t<h5 class="modal-title" id="exampleModalLabel">Delete this resource</h5>\n\t\t\t\t\t<button type="button" class="close" data-dismiss="modal" aria-label="Close">\n\t\t\t\t\t\t<span aria-hidden="true">&times;</span>\n\t\t\t\t\t</button>\n\t\t\t\t</div>'),"\n\t\t\t\t",HTML.Raw('<div class="modal-body">\n\t\t\t\t\tDo you want to delete this resource ?\n\t\t\t\t</div>'),"\n\t\t\t\t",HTML.DIV({class:"modal-footer"},"\n\t\t\t\t\t",HTML.BUTTON({type:"button",class:"btn btn-secondary","data-dismiss":"modal"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"modal--close")}))),"\n\t\t\t\t\t",HTML.BUTTON({type:"button",class:"btn btn-danger resources-post-delete--confirm"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"modal--delete")}))),"\n\t\t\t\t"),"\n\t\t\t"),"\n\t\t"),"\n\t")}))},"resources_post_edit.html":function(e,t,s){s.link("./template.resources_post_edit.js",{"*":"*+"})},"template.resources_post_edit.js":function(){Template.__checkName("resourcesPostEdit"),Template.resourcesPostEdit=new Template("Template.resourcesPostEdit",(function(){var e=this;return HTML.DIV({class:"modal fade",id:"resourcesPostEdit",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},"\n  ",HTML.DIV({class:"modal-dialog",role:"document"},"\n    ",HTML.DIV({class:"modal-content"},"\n      ",HTML.DIV({class:"modal-header"},"\n        ",HTML.H5({class:"modal-title",id:"exampleModalLabel"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"resources-post-edit--title")}))),"\n        ",HTML.Raw('<button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>'),"\n      "),"\n      ",HTML.DIV({class:"modal-body"},"\n      \t",HTML.FORM({name:"resources-post-edit--form",id:"resources-post-edit--form"},"\n",HTML.Raw('\x3c!--       \t\t      <div class="form-group">\n       \t\t    <input type="text" class="form-control" name="title" id="title" aria-describedby="title" placeholder="Title of the resource" value="{{post.title}}"></div> --\x3e'),"\n       \t\t",HTML.DIV({class:"form-group"},"\n\t\t\t\t",HTML.TEXTAREA({name:"body",id:"body",class:"form-control resources-post-edit--textarea",placeholder:"","aria-label":"","aria-describedby":"basic-addon2",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("post"),"body"))}}),"\n\t\t\t"),"\n        ",HTML.DIV({class:"input-group mb-3"},"\n          ",HTML.Raw('<div class="input-group-prepend">\n            <label class="input-group-text" for="inputGroupSelect01"><i class="fas fa-tag"></i></label>\n          </div>'),"\n          ",HTML.SELECT({class:"custom-select",name:"categorySelect",id:"categorySelect"},"\n            ",HTML.OPTION({val:"",disabled:"",selected:""},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"post-submit--select-category")}))),"\n            ",HTML.OPTION({val:""},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"post-submit--no-category")}))),"\n            ",Blaze.Each((function(){return Spacebars.call(e.lookup("categories"))}),(function(){return["\n              ",HTML.OPTION({selected:function(){return Spacebars.mustache(e.lookup("selectedCategory"))},name:function(){return Spacebars.mustache(e.lookup("name"))}},Blaze.View("lookup:name",(function(){return Spacebars.mustache(e.lookup("name"))}))),"\n            "]})),"\n            "),"\n          "),"\n\t\t\t"),"\n\t\t\t",Blaze.Unless((function(){return Spacebars.call(e.lookup("fileUploaded"))}),(function(){return["\n\t\t\t\t\t",Blaze._TemplateWith((function(){return{formData:Spacebars.call(e.lookup("formData")),autoStart:Spacebars.call(!0)}}),(function(){return Spacebars.include(e.lookupTemplate("fileUpload"))})),"\n\t\t\t\t"]})),"\n\t\t\t\t",Blaze.If((function(){return Spacebars.call(e.lookup("fileUploaded"))}),(function(){return["\n          ",Blaze.If((function(){return Spacebars.call(Spacebars.dot(e.lookup("fileUploaded"),"error"))}),(function(){return["\n            ",HTML.DIV({class:""},HTML.SPAN({class:"text-danger"},Blaze.View("lookup:fileUploaded.error",(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("fileUploaded"),"error"))})))," (",HTML.A({href:"#",class:"resources-post-edit--retry"},"retry"),")"),"\n          "]}),(function(){return["\n  \t\t\t\t\t",HTML.DIV({class:"p-2"},"\n  \t\t\t\t\t\t",HTML.I({class:"fa fa-file-o","aria-hidden":"true"})," ",Blaze.View("lookup:fileUploaded.fileName",(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("fileUploaded"),"fileName"))})),".",Blaze.View("lookup:fileUploaded.fileExt",(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("fileUploaded"),"fileExt"))})),"\n  \t\t\t\t\t\t",HTML.A({href:"#",class:"post-edit--button-delete-file"},"\n  \t\t\t\t\t\t\t",HTML.I({class:"fa fa-trash","aria-hidden":"true"}),"\n  \t\t\t\t\t\t"),"\n  \t\t\t\t\t"),"\n          "]})),"\n\t\t\t\t"]})),"\n      "),"\n      ",HTML.DIV({class:"modal-footer"},"\n        ",HTML.BUTTON({type:"button",class:"btn btn-secondary","data-dismiss":"modal"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"modal--close")}))),"\n        ",HTML.BUTTON({type:"button",class:"btn btn-primary resources-post-edit--submit"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"modal--save")}))),"\n      "),"\n    "),"\n  "),"\n")}))},"resources_post_submit.html":function(e,t,s){s.link("./template.resources_post_submit.js",{"*":"*+"})},"template.resources_post_submit.js":function(){Template.__checkName("resourcesPostSubmit"),Template.resourcesPostSubmit=new Template("Template.resourcesPostSubmit",(function(){var e=this;return HTML.DIV({class:"modal fade",id:"resourcesPostSubmit",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},"\n\t",HTML.DIV({class:"modal-dialog",role:"document"},"\n\t\t",HTML.DIV({class:"modal-content"},"\n\t\t\t",HTML.DIV({class:"modal-header"},"\n\t\t\t\t",HTML.H5({class:"modal-title",id:"exampleModalLabel"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"resources-post-submit--title")}))),"\n\t\t\t\t",HTML.Raw('<button type="button" class="close" data-dismiss="modal" aria-label="Close">\n\t\t\t\t\t<span aria-hidden="true">&times;</span>\n\t\t\t\t</button>'),"\n\t\t\t"),"\n\t\t\t",HTML.DIV({class:"modal-body"},"\n\t\t\t\t",HTML.FORM({name:"resources-post-submit--form",id:"resources-post-submit--form"},"\n",HTML.Raw('\x3c!-- \t\t\t\t\t <div class="form-group">\n\t\t\t\t\t\t<input type="text" class="form-control" name="title" id="title" aria-describedby="title" placeholder="{{_ \'resources-post-submit-2-title-placeholder\'}}">\n\t\t\t\t\t</div> --\x3e'),"\n\t\t\t\t\t",HTML.DIV({class:"form-group"},"\n\t\t\t\t\t\t",HTML.TEXTAREA({name:"body",id:"body",class:"form-control resources-post-submit--textarea",placeholder:function(){return Spacebars.mustache(e.lookup("_"),"resources-post-submit--description-placeholder")},"aria-label":"","aria-describedby":"basic-addon2"}),"\n\t\t\t\t\t"),"\n\t\t\t\t\t",HTML.DIV({class:"input-group mb-3"},"\n\t\t\t\t\t  ",HTML.Raw('<div class="input-group-prepend">\n\t\t\t\t\t    <label class="input-group-text" for="inputGroupSelect01"><i class="fas fa-tag"></i></label>\n\t\t\t\t\t  </div>'),"\n\t\t\t\t\t  ",HTML.SELECT({class:"custom-select",name:"categorySelect",id:"categorySelect"},"\n\t    \t\t\t\t\t",HTML.OPTION({val:"",disabled:"",selected:""},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"post-submit--select-category")}))),"\n\t    \t      \t\t\t",HTML.OPTION({val:""},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"post-submit--no-category")}))),"\n\t    \t\t\t\t\t",Blaze.Each((function(){return Spacebars.call(e.lookup("categories"))}),(function(){return["\n\t      \t\t\t\t\t\t",HTML.OPTION(HTML.Attrs((function(){return Spacebars.attrMustache(e.lookup("selectedOption"),e.lookup("name"))})),Blaze.View("lookup:name",(function(){return Spacebars.mustache(e.lookup("name"))}))),"\n\t      \t\t\t\t\t"]})),"\n\t\t\t\t\t  "),"\n\t\t\t\t\t"),"\t\n\t\t\t\t"),"\n\t\t\t",Blaze.Unless((function(){return Spacebars.call(e.lookup("fileUploaded"))}),(function(){return["\n\t\t\t\t\t",Blaze._TemplateWith((function(){return{formData:Spacebars.call(e.lookup("formData")),autoStart:Spacebars.call(!0)}}),(function(){return Spacebars.include(e.lookupTemplate("fileUpload"))})),"\n\t\t\t\t"]})),"\n\t\t\t\t",Blaze.If((function(){return Spacebars.call(e.lookup("fileUploaded"))}),(function(){return["\n\t\t\t\t\t",Blaze.If((function(){return Spacebars.call(Spacebars.dot(e.lookup("fileUploaded"),"error"))}),(function(){return["\n\t\t\t\t\t\t",HTML.DIV({class:""},HTML.SPAN({class:"text-danger"},Blaze.View("lookup:fileUploaded.error",(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("fileUploaded"),"error"))})))," (",HTML.A({href:"#",class:"resources-post-submit--retry"},"retry"),")"),"\n\t\t\t\t\t"]}),(function(){return["\n\t\t\t\t\t\t",HTML.DIV({class:"p-2"},"\n\t\t\t\t\t\t\t",HTML.I({class:"fa fa-file-o","aria-hidden":"true"})," ",Blaze.View("lookup:fileUploaded.fileName",(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("fileUploaded"),"fileName"))})),".",Blaze.View("lookup:fileUploaded.fileExt",(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("fileUploaded"),"fileExt"))})),"\n\t\t\t\t\t\t\t",HTML.A({href:"#",class:"post-submit--button-delete-file"},"\n\t\t\t\t\t\t\t\t",HTML.I({class:"fa fa-trash","aria-hidden":"true"}),"\n\t\t\t\t\t\t\t"),"\n\t\t\t\t\t\t"),"\n\t\t\t\t\t"]})),"\n\t\t\t\t"]})),"\n\t\t\t"),"\n\t\t\t",HTML.DIV({class:"modal-footer"},"\n\t\t\t\t",HTML.BUTTON({type:"button",class:"btn btn-secondary","data-dismiss":"modal"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"modal--close")}))),"\n\t\t\t\t",HTML.BUTTON({type:"button",class:"btn btn-primary resources-post-submit--button-submit",disabled:""},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"modal--submit")}))),"\n\t\t\t"),"\n\t\t"),"\n\t"),"\n")}))},"resources.js":function(e,t,s){var n,a;s.link("meteor/templating",{Template:function(e){n=e}},0),s.link("../../../api/posts.js",{Posts:function(e){a=e}},1),s.link("./resources.html"),s.link("./resources_category_edit.js"),s.link("./resources_category_submit.js"),s.link("./resources_post.js"),s.link("./resources_post_delete.js"),s.link("./resources_post_edit.js"),s.link("./resources_post_submit.js"),n.resources.onRendered((function(){$(".modal").on("shown.bs.modal",(function(e){$(this).find("[autofocus]").focus()})),resourcesResetFilters(),this.autorun((function(){var e={spaceId:Session.get("spaceId"),type:"resource"};""!=Session.get("resourcesCategory")&&(e={spaceId:Session.get("spaceId"),type:"resource",category:Session.get("resourcesCategory")}),subscription=Meteor.subscribe("posts",e)}))})),n.resources.helpers({resourcesPosts:function(){return a.find({spaceId:Session.get("spaceId"),type:"resource"},{sort:{submitted:1}})},userCanAddResource:function(){return console.log("space can user : "+this.space.permissions.addResource),this.space.permissions.addResource}}),resourcesResetFilters=function(){Session.set("resourcesCategory","")}},"resources_category_edit.js":function(e,t,s){var n,a;s.link("meteor/templating",{Template:function(e){n=e}},0),s.link("../../../api/categories.js",{Categories:function(e){a=e}},1),s.link("./resources_category_edit.html"),n.resourcesCategoryEdit.onRendered((function(){$(".resources-category-edit--form").validate({rules:{editCategoryName:{required:!0,minlength:1,maxlength:20}}}),Session.set("numChars",$("#editCategoryName").val().length)})),n.resourcesCategoryEdit.events({"submit form":function(e,t){e.preventDefault();var s=t.data.space._id,n=Session.get("resourcesCategoryToEdit"),a="resource",o=$(e.target).find("[name=editCategoryName]").val();n!=o?(Meteor.call("categoryEdit",s,"resource",n,o,(function(e){e?alert(TAPi18n.__("error-message")+e.message):($("#resourcesCategoryEdit").modal("hide"),Session.set("resourcesCategoryToEdit",null))})),$("#editCategoryName").val(""),Session.set("numChars",0)):($("#resourcesCategoryEdit").modal("hide"),Session.set("resourcesCategoryToEdit",null))},"click .resources-category-edit--button-submit":function(e){e.preventDefault(),$("#resources-category-edit--form").submit()},"click .resources-category-edit--button-delete":function(e,t){e.preventDefault();var s=t.data.space._id,n=Session.get("resourcesCategoryToEdit"),a="resource";Meteor.call("categoryDelete","resource",n,s,(function(e){e?alert(TAPi18n.__("error-message")+e.message):($("#resourcesCategoryEdit").modal("hide"),Session.set("resourcesCategoryToEdit",null))}))},"input #editCategoryName":function(){Session.set("numChars",$("#editCategoryName").val().length)}}),n.resourcesCategoryEdit.helpers({categoryName:function(){var e;return Session.get("resourcesCategoryToEdit")},numChars:function(e){return Session.get("numChars")}})},"resources_category_submit.js":function(e,t,s){var n;s.link("meteor/templating",{Template:function(e){n=e}},0),s.link("./resources_category_submit.html"),n.resourcesCategorySubmit.onRendered((function(){$(".resources-category-submit--form").validate({rules:{categoryName:{required:!0,minlength:1,maxlength:20}}}),Session.set("numChars",0)})),n.resourcesCategorySubmit.events({"submit form":function(e,t){e.preventDefault();var s=t.data.space._id,n="resource",a=$("#categoryName").val().trim();Meteor.call("categoryInsert","resource",a,s,(function(e){e?alert(TAPi18n.__("error-message")+e.message):($("#resourcesCategorySubmit").modal("hide"),$("[name=categorySelect]").val(a),resourcesResetFilters(),Session.set("resourcesCategory",a))})),$("#categoryName").val(""),Session.set("numChars",0)},"click .resources-category-submit--button-submit":function(e){e.preventDefault(),$("#resources-category-submit--form").submit()},"input #categoryName":function(){Session.set("numChars",$("#categoryName").val().length)}}),n.resourcesCategorySubmit.helpers({numChars:function(e){return Session.get("numChars")}})},"resources_post.js":function(e,t,s){var n,a;s.link("meteor/templating",{Template:function(e){n=e}},0),s.link("../../../api/posts.js",{Posts:function(e){a=e}},1),s.link("./resources_post.html"),n.resourcesPost.onCreated((function(){imageExtensions=["jpg","jpeg","png","gif"]})),n.resourcesPost.onRendered((function(){$("#resourcesPostEdit").on("hide.bs.modal",(function(e){Session.set("fileId",!1),Session.set("fileName",!1),Session.set("fileExt",!1),Session.set("filePath",!1)}))})),n.resourcesPost.events({"click .resources-post--edit":function(e){e.preventDefault();var t=this._id;Session.set("postToEdit",t),a.findOne(t).fileId&&(Session.set("fileId",a.findOne(t).fileId),Session.set("fileName",a.findOne(t).fileName),Session.set("fileExt",a.findOne(t).fileExt),Session.set("filePath",a.findOne(t).filePath)),$("#resourcesPostEdit").modal({show:!0,backdrop:"static"})},"click .resources-post--delete":function(e){e.preventDefault();var t=this._id;Session.set("postToDelete",t),$("#resourcesPostDelete").modal("show")}}),n.resourcesPost.helpers({image:function(){if(this.fileId&&-1!=$.inArray(this.fileExt,imageExtensions))return this.fileId},filePath:function(){return encodeURI(this.filePath)}})},"resources_post_delete.js":function(e,t,s){var n,a;s.link("meteor/templating",{Template:function(e){n=e}},0),s.link("../../../api/posts.js",{Posts:function(e){a=e}},1),s.link("./resources_post_delete.html"),n.resourcesPostDelete.events({"click .resources-post-delete--confirm":function(e){e.preventDefault();var t=Session.get("postToDelete"),s=a.findOne(t);a.remove(t,(function(e){e?alert(TAPi18n.__("error-message")+e.message):$("#resourcesPostDelete").modal("hide")}))}})},"resources_post_edit.js":function(e,t,s){var n,a,o,i;s.link("meteor/templating",{Template:function(e){n=e}},0),s.link("../../../api/posts.js",{Posts:function(e){a=e}},1),s.link("../../../api/files.js",{Files:function(e){o=e}},2),s.link("../../../api/categories.js",{Categories:function(e){i=e}},3),s.link("./resources_post_edit.html"),n.resourcesPostEdit.onCreated((function(){Session.get("fileId")&&delete Session.keys.fileId,Session.get("fileExt")&&delete Session.keys.fileExt,imageExtensions=["jpg","jpeg","png","gif"]})),n.resourcesPostEdit.onRendered((function(){Uploader.finished=function(e,t){var s=t.name.substr(0,t.name.lastIndexOf("."))||t.name,n=t.name.substr(t.name.lastIndexOf(".")+1).toLowerCase();Session.set("fileId",t.fileId),Session.set("fileName",t.fileName),Session.set("fileExt",t.fileExt),Session.set("filePath",t.path)},Deps.autorun((function(){Session.get("fileId")&&Meteor.subscribe("allFiles")}))})),n.resourcesPostEdit.events({"submit #resources-post-edit--form":function(e){e.preventDefault();var t=Session.get("postToEdit"),s=a.findOne(t),n={},o=$(e.target).find("[name=title]").val();o!=s.title&&_.extend(n,{title:o});var r=$(e.target).find("[name=body]").val();r!=s.body&&_.extend(n,{body:r});var l=$(e.target).find("[name=categorySelect]").val(),c="resource";if(l!=s.category){_.extend(n,{category:l});var u=i.findOne({spaceId:s.spaceId,type:"resource",name:s.category});u&&i.update(u._id,{$inc:{nRefs:-1}});var d=i.findOne({spaceId:s.spaceId,type:"resource",name:l});d&&i.update(d._id,{$inc:{nRefs:1}})}var p=Session.get("fileId"),m=Session.get("fileName"),f=Session.get("fileExt"),h=Session.get("filePath");""!=p&&0!=p||(p=!1,f=!1),_.extend(n,{fileId:p,fileName:m,fileExt:f,filePath:h}),a.update(t,{$set:n},(function(e){e?alert(TAPi18n.__("error-message")+e.message):$("#resourcesPostEdit").modal("hide")}))},"click .resources-post-edit--retry":function(e){e.preventDefault(),Session.set("fileId",null),Session.set("fileName",null),Session.set("fileExt",null),Session.set("filePath",null),$(".resources-post-edit--submit").prop("disabled",!1)},"click .resources-post-edit--submit":function(e){e.preventDefault(),$("#resources-post-edit--form").submit(),Session.get("fileId")&&(delete Session.keys.fileId,Session.set("fileId",!1)),Session.get("fileExt")&&(delete Session.keys.fileExt,Session.set("fileExt",!1))},"click .post-edit--button-delete-file":function(e){if(e.preventDefault(),confirm(TAPi18n.__("post-submit--confirm-delete-file"))){var t=Session.get("fileId");a.update(n.currentData()._id,{$unset:{fileId:""}}),Session.set("fileId",!1);var s=o.findOne({_id:t});t&&(o.remove(s._id),Meteor.call("deleteFile",s))}$(".resources-post-edit--submit").prop("disabled",!0)}}),n.resourcesPostEdit.helpers({post:function(){var e=Session.get("postToEdit");return a.findOne(e)},fileUploaded:function(){if(Session.get("fileId")){var e=Session.get("fileId"),t=o.findOne({_id:e});return t&&!t.error&&$(".resources-post-edit--submit").prop("disabled",!1),t}return!1},file:function(){if(Session.get("fileExt")&&-1==$.inArray(Session.get("fileExt"),imageExtensions))return!0},image:function(){if(Session.get("fileExt")&&-1!=$.inArray(Session.get("fileExt"),imageExtensions))return Session.get("fileId")},space:function(){var e=Session.get("postToEdit"),t=a.findOne(e),s;return Spaces.findOne(t.spaceId)},categories:function(){var e=Session.get("postToEdit"),t=a.findOne(e);if(t)return i.find({spaceId:t.spaceId,type:"resource"},{sort:{name:1}})},selectedCategory:function(){var e=Session.get("postToEdit"),t=a.findOne(e),s,n;return this.name===t.category},formData:function(){return{spaceId:this.space._id,type:"resource"}}})},"resources_post_submit.js":function(e,t,s){var n,a,o;s.link("meteor/templating",{Template:function(e){n=e}},0),s.link("../../../api/categories.js",{Categories:function(e){a=e}},1),s.link("../../../api/files.js",{Files:function(e){o=e}},2),s.link("./resources_post_submit.html"),n.resourcesPostSubmit.onCreated((function(){Session.get("fileId")&&delete Session.keys.fileId,Session.get("fileExt")&&delete Session.keys.fileExt,imageExtensions=["jpg","jpeg","png","gif"],toastr.options={positionClass:"toast-bottom-center"}})),n.resourcesPostSubmit.onRendered((function(){$(".resources-post-submit--textarea").autosize(),Deps.autorun((function(){Session.get("fileId")&&Meteor.subscribe("file",Session.get("fileId"))})),Uploader.finished=function(e,t,s){Session.set("fileId",t.fileId),Session.set("fileName",t.fileName),Session.set("fileExt",t.fileExt),Session.set("filePath",t.path)},n.parentData(2)&&(Session.get(n.parentData(2).space._id)||Session.set(n.parentData(2).space._id,{author:"Invit"}))})),n.resourcesPostSubmit.events({"submit #resources-post-submit--form":function(e,t){e.preventDefault();var s=null;s=Meteor.user()?Meteor.user().profile.name:"guest";var n=$(e.target).find("[name=body]").val(),a=$(e.target).find("[name=title]").val(),o=t.data.space._id,i=Session.get("fileId"),r=Session.get("fileName"),l=Session.get("fileExt"),c=Session.get("filePath"),u=$(e.target).find("[name=categorySelect]").val();Meteor.call("postInsert",{author:s,body:n,title:a,spaceId:o,type:"resource",fileId:i,fileName:r,fileExt:l,filePath:c,category:u},(function(t,s){t?alert(TAPi18n.__("error-message")+t.message):($(e.target).find("[name=body]").val(""),$(e.target).find("[name=title]").val(""),$(e.target).find("[name=categorySelect]").val(""),Session.set("fileId",null),Session.set("fileName",null),Session.set("fileExt",null),Session.set("filePath",null),delete Session.keys.fileId,delete Session.keys.fileName,delete Session.keys.fileExt,delete Session.keys.filePath,$("#resourcesPostSubmit").modal("hide"),toastr.success("",TAPi18n.__("resources-post-submit--confirm-toast")))}))},"click .resources-post-submit--retry":function(e){e.preventDefault(),Session.set("fileId",null),Session.set("fileName",null),Session.set("fileExt",null),Session.set("filePath",null),$(".resources-post-submit--button-submit").prop("disabled",!1)},"click .resources-post-submit--button-submit":function(e){e.preventDefault(),$("#resources-post-submit--form").submit()},"click .post-submit--button-delete-image":function(e){e.preventDefault(),confirm(TAPi18n.__("post-submit--confirm-delete-image"))&&Session.set("fileId",!1),$(".resources-post-submit--button-submit").prop("disabled",!0)},"click .post-submit--button-delete-file":function(e){if(e.preventDefault(),confirm(TAPi18n.__("post-submit--confirm-delete-file"))){var t=Session.get("fileId");Session.set("fileId",!1);var s=o.findOne({_id:t});t&&(o.remove(s._id),Meteor.call("deleteFile",s))}$(".resources-post-submit--submit").prop("disabled",!0)}}),n.resourcesPostSubmit.helpers({fileUploaded:function(){if(Session.get("fileId")){var e=Session.get("fileId"),t=o.findOne({_id:e});return t&&!t.error&&$(".resources-post-submit--button-submit").prop("disabled",!1),t}return!1},file:function(){if(Session.get("fileExt")&&-1==$.inArray(Session.get("fileExt"),imageExtensions))return!0},image:function(){if(Session.get("fileExt")&&-1!=$.inArray(Session.get("fileExt"),imageExtensions))return Session.get("fileId")},categories:function(){return a.find({spaceId:this.space._id},{sort:{name:1}})},formData:function(){return{spaceId:this.space._id,type:"resource"}},categories:function(){return a.find({spaceId:this.space._id,type:"resource"},{sort:{name:1}})},selectedOption:function(e){if(Session.get("resourcesCategory")==e)return"selected"}})}},settings:{"permissions_settings.html":function(e,t,s){s.link("./template.permissions_settings.js",{"*":"*+"})},"template.permissions_settings.js":function(){Template.__checkName("permissionsSettings"),Template.permissionsSettings=new Template("Template.permissionsSettings",(function(){var e=this;return[HTML.Raw('<h6 class="mb-3 mt-4">Permissions</h6>\n\t'),HTML.DIV({class:"list-group w-100"},"\n  \t\t",HTML.A({href:"#",class:"list-group-item list-group-item-action d-flex permissions-settings--addResource"},HTML.SPAN(Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"space-edit--permissions-add-resource")}))),HTML.SPAN({class:"ml-auto"},Blaze.If((function(){return Spacebars.call(Spacebars.dot(e.lookup("space"),"permissions","addResource"))}),(function(){return HTML.I({class:"far fa-check-square"})}),(function(){return HTML.I({class:"far fa-square"})})))),"\n  \t")]}))},"settings.html":function(e,t,s){s.link("./template.settings.js",{"*":"*+"})},"template.settings.js":function(){Template.__checkName("settings"),Template.settings=new Template("Template.settings",(function(){var e=this;return[Spacebars.include(e.lookupTemplate("backHeader")),"\n\t",HTML.DIV({class:"container h-100"},"\n\t\t",HTML.DIV({class:"row justify-content-center min-h-100"},"\n    \t\t",HTML.DIV({class:"col-sm-12 col-lg-8 min-h-100 pt-4 pl-4 pr-4 pb-4"},"\n                ",HTML.H3({class:"mb-4"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"space-edit--page-title")}))),"\n    \t\t\t",Spacebars.include(e.lookupTemplate("permissionsSettings")),"\n    \t\t"),"\n  \t\t"),"\n\t")]}))},"permissions_settings.js":function(e,t,s){var n,a;s.link("meteor/templating",{Template:function(e){n=e}},0),s.link("../../../api/spaces.js",{Spaces:function(e){a=e}},1),s.link("./permissions_settings.html"),s.link("../../headers/back_header.js"),n.permissionsSettings.events({"click .permissions-settings--addResource":function(e){e.preventDefault(),this.space.permissions&&this.space.permissions.addResource?a.update(this.space._id,{$set:{"permissions.addResource":!1}},(function(e){e&&alert(TAPi18n.__("error-message")+e.message)})):a.update(this.space._id,{$set:{"permissions.addResource":!0}},(function(e){e&&alert(TAPi18n.__("error-message")+e.message)}))}})},"settings.js":function(e,t,s){var n;s.link("meteor/templating",{Template:function(e){n=e}},0),s.link("./settings.html"),s.link("./permissions_settings.js"),s.link("../../headers/back_header.js"),n.settings.onCreated((function(){viewport=document.querySelector("meta[name=viewport]"),viewport.setAttribute("content","width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=4"),Session.set("spaceId",this.data.space._id),Session.set("postToEdit",!1),Session.set("postToDelete",!1),Session.set("menuItem","1"),this.autorun((function(){switch(Session.get("menuItem")){case"1":subscription=Meteor.subscribe("posts",{spaceId:Session.get("spaceId"),type:"home"});break;case"2":break;case"3":subscription=Meteor.subscribe("posts",{spaceId:Session.get("spaceId"),type:"lesson"});break;case"4":subscription=Meteor.subscribe("posts",{spaceId:Session.get("spaceId"),type:"resource"})}}))})),n.settings.onRendered((function(){$("body").tooltip({selector:"[data-toggle=tooltip]",trigger:"hover"})})),n.settings.helpers({menuItem:function(e){return Session.get("menuItem")==e}})}},"space.html":function(e,t,s){s.link("./template.space.js",{"*":"*+"})},"template.space.js":function(){Template.__checkName("space"),Template.space=new Template("Template.space",(function(){var e=this;return[HTML.DIV({class:"wrapper h-100"},"\n        ",HTML.NAV({id:"sidebar",class:"align-middle"},Spacebars.include(this.lookupTemplate("spaceSidebar"))),"\n        ",Spacebars.include(this.lookupTemplate("spaceHeader")),"    \n        ",HTML.DIV({class:"content container h-100",style:"margin-top:-52px;padding-top:52px;"},"\n        \t",HTML.DIV({class:"row justify-content-center min-h-100"},"\n                ",HTML.DIV({class:"d-none d-sm-none d-lg-block col-3 mt-4 sidebar-sticky"},"\n        \t\t  ",Spacebars.include(this.lookupTemplate("spaceSidebar")),"\n                "),"\n            \t",HTML.DIV({class:"col-sm-12 col-lg-8 min-h-100 pt-4 pl--lg-4 pr-lg-4"},"\n            \t   ",Spacebars.include(this.lookupTemplate("resources")),"\n            \t"),"\n          \t"),"\n        "),"\n     "),HTML.Raw('\n    <div class="overlay"></div>')]}))},"space_sidebar.html":function(e,t,s){s.link("./template.space_sidebar.js",{"*":"*+"})},"template.space_sidebar.js":function(){Template.__checkName("spaceSidebar"),Template.spaceSidebar=new Template("Template.spaceSidebar",(function(){var e=this;return[HTML.DIV({class:"bg-beekee pt-5 d-lg-none"},"\n\t\t",HTML.Raw('<img style="height: 80px;" class="pl-2 pb-2 mt-3" alt="logo" src="/img/logo_white.svg">'),"\n\t\t",HTML.DIV({class:"pl-2 pb-2 small"},Blaze.View("lookup:space.title",(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("space"),"title"))}))),"\n\t"),"\n\t",HTML.UL({class:"sidebar nav flex-column align-items-start justify-content-between"},"\n\t\t\t",HTML.LI({class:function(){return["nav-item sidebar-item ",Spacebars.mustache(e.lookup("selectedMenuItemBg"),4)," mt-2"]}},"\n\t\t\t\t",HTML.A({class:function(){return["nav-link text-nowrap menu-item filter-resources-all ",Spacebars.mustache(e.lookup("selectedMenuItemTxt"),4)," pl-3 pl-lg-0 py-3 py-lg-2"]},"data-id":"4",href:"#"},"\n\t\t\t\t\t",HTML.Raw('<i class="far fa-copy fa-fw"></i>')," \n\t\t\t\t\t",HTML.Raw('<span class="pl-1">All</span>'),"\n\t\t\t\t"),"\n\t\t\t"),"\n\t\t\t\t\t",HTML.DIV({class:"sidebar--submenu"},"\n\t\t\t",HTML.A({class:"pl-2 mt-2 d-block mb-1 space-sidebar--menu-collapse","data-toggle":"collapse","aria-expanded":"true",href:".categories-list"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"space-sidebar--categories")}))," ",HTML.Raw('<i class="fa ml-1" aria-hidden="true"></i>')),"\n\t\t\t\t",HTML.DIV({class:"collapse categories-list show w-100"},"\n\t\t\t\t\t",Blaze.Each((function(){return Spacebars.call(e.lookup("resourcesCategories"))}),(function(){return["\n\t\t\t\t\t\t",HTML.LI({class:"align-middle nav-item sidebar-item w-100"},"\n\t\t\t\t\t\t\t",HTML.A({class:function(){return["align-bottom nav-link space-sidebar--filter-resources-category text-nowrap text-dark filter-resources-category ",Spacebars.mustache(e.lookup("selectedResourcesCategory"))," pl-2 py-2 py-lg-1"]},"data-category":function(){return Spacebars.mustache(e.lookup("name"))},href:"#"},HTML.SPAN({class:"align-bottom pl-1","data-category":function(){return Spacebars.mustache(e.lookup("name"))}},Blaze.View("lookup:name",(function(){return Spacebars.mustache(e.lookup("name"))}))),"\n\t\t\t\t\t\t\t\t",HTML.SPAN({class:"align-baseline text-secondary small ml-1","data-category":function(){return Spacebars.mustache(e.lookup("name"))}},Blaze.View("lookup:nRefs",(function(){return Spacebars.mustache(e.lookup("nRefs"))}))),"\n\t\t\t\t\t\t\t\t",Blaze.If((function(){return Spacebars.call(e.lookup("currentUser"))}),(function(){return["\n\t\t\t\t\t\t\t\t\t",HTML.A({class:"align-middle space-sidebar--resources-category-edit ml-2","data-category":function(){return Spacebars.mustache(e.lookup("name"))}},"\n\t\t\t\t\t\t\t\t\t\t",HTML.I({class:"align-middle fas fa-pencil-alt","data-category":function(){return Spacebars.mustache(e.lookup("name"))}}),"\n\t\t\t\t\t\t\t\t\t"),"\n\t\t\t\t\t\t\t\t"]})),"\n\t\t\t\t\t\t\t"),"\n\t\t\t\t\t\t"),"\n\t\t\t\t\t"]})),"\n\t\t\t\t\t",HTML.DIV({class:"pl-2 ml-2 mt-1"},"\n\t\t\t\t\t\t",Blaze.If((function(){return Spacebars.call(e.lookup("currentUser"))}),(function(){return["\n\t\t\t\t\t\t\t",HTML.A({href:"#",class:"small pt-1 pl-1 sidebar--add","data-toggle":"modal","data-target":"#resourcesCategorySubmit"},"\n\t\t\t\t\t\t\t\t",HTML.SPAN({class:""},HTML.I({class:"fas fa-plus"})," ",Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"space-sidebar--add-category")}))),"\n\t\t\t\t\t\t\t"),"\n\t\t\t\t\t\t"]})),"\n\t\t\t\t\t"),"\n\t\t\t\t"),"\n\t\t\t"),"\n\t"),HTML.Raw('\n\t<div class="space-sidebar--credits pl-3 pl-lg-0">\n\t\t\x3c!-- <a href="http://www.beekee.ch">{{_ \'space-sidebar-2-about-us\'}}</a> --\x3e\n\t</div>\n\n\x3c!-- \t<select id="langSelect" class="mt-1 custom-select custom-select-sm border-0 ml-3 ml-lg-0 pl-2 pl-lg-0 mb-2" style="width:auto; background-color: #fafafa;">\n\t\t<option value="en" {{langIsSelected \'en\'}}>English</option>\n\t\t<option value="fr-FR" {{langIsSelected \'fr-FR\'}}>Franais</option>\n\t</select> --\x3e')]}))},"space_submit.html":function(e,t,s){s.link("./template.space_submit.js",{"*":"*+"})},"template.space_submit.js":function(){Template.__checkName("spaceSubmit"),Template.spaceSubmit=new Template("Template.spaceSubmit",(function(){var e=this;return HTML.DIV({class:"modal fade",id:"spaceSubmit",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},"\n  ",HTML.DIV({class:"modal-dialog",role:"document"},"\n    ",HTML.DIV({class:"modal-content"},"\n      ",HTML.DIV({class:"modal-header"},"\n        ",HTML.H5({class:"modal-title",id:"exampleModalLabel"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"space-submit--create-space")}))),"\n        ",HTML.Raw('<button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>'),"\n      "),"\n      ",HTML.DIV({class:"modal-body"},"\n      \t",HTML.FORM({name:"space-submit--form",class:"space-submit--form",id:"space-submit--form"},"\n\n       \t",HTML.DIV({class:"form-group"},"\n       \t\t    ",HTML.INPUT({type:"text",class:"form-control",name:"spaceName",id:"spaceName","aria-describedby":"spaceName",placeholder:function(){return Spacebars.mustache(e.lookup("_"),"space-submit--create-space-placeholer")},autofocus:""}),"\n              ",HTML.DIV({class:"text-secondary"},Blaze.View("lookup:numChars",(function(){return Spacebars.mustache(e.lookup("numChars"))})),"/20"),"\n        "),"\n\t\t\t"),"\n      "),"\n      ",HTML.DIV({class:"modal-footer"},"\n        ",HTML.BUTTON({type:"button",class:"btn btn-secondary","data-dismiss":"modal"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"modal--close")}))),"\n        ",HTML.BUTTON({type:"button",class:"btn btn-primary space-submit--button-submit"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"modal--submit")}))),"\n      "),"\n    "),"\n  "),"\n")}))},"space_users.html":function(e,t,s){s.link("./template.space_users.js",{"*":"*+"})},"template.space_users.js":function(){Template.__checkName("spaceUsers"),Template.spaceUsers=new Template("Template.spaceUsers",(function(){var e=this;return[Spacebars.include(e.lookupTemplate("usersHeader")),"\n\t",HTML.DIV({class:"container pt-4"},"\n\t\t",HTML.DIV({class:"row justify-content-center"},"\n\t\t\t",HTML.DIV({class:"col-12 col-lg-6"},"\n\t\t\t\t",HTML.DIV({class:"card text-center"},"\n\t\t\t\t\t",HTML.DIV({class:"card-body"},"\n\t\t\t\t\t\t",HTML.H4(Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"space-users--page-title")}))),"\n\t\t\t\t\t\t",HTML.P({class:"text-secondary"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"space-users--page-description")}))),"\n\t\t\t\t\t\t",HTML.FORM({id:"space-users--form",class:"space-users--form",name:"space-users--form"},"\n\t \t\t\t\t\t\t",HTML.DIV({class:"form-group"},"\n\t    \t\t\t\t\t\t",HTML.INPUT({type:"text",class:"form-control",name:"userName",id:"userName","aria-describedby":"userName",placeholder:function(){return Spacebars.mustache(e.lookup("_"),"space-users--input-choose-author-placeholder")}}),"\n\t    \t\t\t\t\t\t",HTML.DIV({class:"text-secondary"},Blaze.View("lookup:numChars",(function(){return Spacebars.mustache(e.lookup("numChars"))})),"/15"),"\n\t  \t\t\t\t\t\t"),"\n\t  \t\t\t\t\t\t",HTML.DIV({class:"text-right"},"\n\t  \t    \t    \t\t\t",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"space",Spacebars.kw({_id:Spacebars.dot(e.lookup("."),"space","_id")}))},role:"button",class:"btn btn-secondary"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"modal--cancel")}))),"\n\t  \t    \t  \t\t\t\t",HTML.A({href:"#",role:"button",class:"btn btn-primary space-users--button-submit-author"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"modal--submit")}))),"\n\t\t\t\t\t\t\t"),"\n\t\t\t\t\t\t"),"\n\t\t\t\t\t"),"\n\t\t\t\t"),"\n\t\t\t"),"\n\t\t"),"\n\t")]}))},"space_users_first_connection.html":function(e,t,s){s.link("./template.space_users_first_connection.js",{"*":"*+"})},"template.space_users_first_connection.js":function(){Template.__checkName("spaceUsersFirstConnection"),Template.spaceUsersFirstConnection=new Template("Template.spaceUsersFirstConnection",(function(){var e=this;return[Spacebars.include(e.lookupTemplate("usersHeader")),"\n\t",HTML.DIV({class:"container pt-4"},"\n\t\t",HTML.DIV({class:"row justify-content-center"},"\n\t\t\t",HTML.DIV({class:"col-12 col-lg-6"},"\n\t\t\t\t",HTML.DIV({class:"card text-center"},"\n\t\t\t\t\t",HTML.DIV({class:"card-body"},"\n\t\t\t\t\t\t",HTML.H4(Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"space-users-first-connection--page-title")}))),"\n\t\t\t\t\t\t",HTML.P({class:"text-secondary"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"space-users--page-description")}))),"\n\t\t\t\t\t\t",HTML.FORM({id:"space-users--form",name:"space-users--form"},"\n\t \t\t\t\t\t\t",HTML.DIV({class:"form-group"},"\n\t    \t\t\t\t\t\t",HTML.INPUT({type:"text",class:"form-control",id:"space-users-first-connection--author-name","aria-describedby":"emailHelp",placeholder:function(){return Spacebars.mustache(e.lookup("_"),"space-users--input-choose-author-placeholder")}}),"\n\t  \t\t\t\t\t\t"),"\n\t  \t\t\t\t\t\t",HTML.DIV({class:"text-right"},"\n\t  \t    \t    \t\t\t",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"indexStudent")},role:"button",class:"btn btn-secondary"},"Cancel"),"\n\t  \t    \t  \t\t\t\t",HTML.Raw('<a href="#" role="button" class="btn btn-primary space-users--button-submit-author">Submit</a>'),"\n\t\t\t\t\t\t\t"),"\n\t\t\t\t\t\t"),"\n\t\t\t\t\t"),"\n\t\t\t\t"),"\n\t\t\t"),"\n\t\t"),"\n\t")]}))},"space.js":function(e,t,s){var n,a,o,i;s.link("meteor/templating",{Template:function(e){n=e}},0),s.link("../../api/spaces.js",{Spaces:function(e){a=e}},1),s.link("../../api/categories.js",{Categories:function(e){o=e}},2),s.link("../../api/authors.js",{Authors:function(e){i=e}},3),s.link("./space.html"),s.link("./space_sidebar.js"),s.link("./home/home.js"),s.link("./home/home_post_submit.js"),s.link("./home/home_post_edit.js"),s.link("./home/home_post_delete.js"),s.link("../headers/space_header.js"),n.space.onCreated((function(){var e=null,t;Session.get("lang")?e=Session.get("lang"):(e=function(){return console.log(navigator.languages[0]),navigator.languages&&navigator.languages[0]||navigator.language||navigator.browserLanguage||navigator.userLanguage||"en-US"}(),Session.set("lang",e));if(Deps.autorun((function(){if(moment.locale(Session.get("lang")),void 0!==Cookie.get("spacesVisited")){var e=JSON.parse(Cookie.get("spacesVisited"));Meteor.subscribe("spacesVisited",e)}})),viewport=document.querySelector("meta[name=viewport]"),viewport.setAttribute("content","width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=4"),Session.set("spaceId",this.data.space._id),Session.set("postToEdit",!1),Session.set("postToDelete",!1),Session.set("menuItem","4"),this.autorun((function(){switch(Session.get("menuItem")){case"1":subscription=Meteor.subscribe("posts",{spaceId:Session.get("spaceId"),type:"home"});break;case"2":break;case"3":subscription=Meteor.subscribe("posts",{spaceId:Session.get("spaceId"),type:"lesson"})}})),Meteor.user()){var s=Meteor.user().profile.name;if(i.findOne({name:s}))return;Meteor.call("authorInsert",s,this.data.space._id,(function(e){e&&alert(TAPi18n.__("error-message")+e.message)}))}})),n.space.onRendered((function(){$("body").tooltip({selector:"[data-toggle=tooltip]",trigger:"hover"}),document.title="Beekee - "+this.data.space.title})),n.space.events({"click .overlay":function(e){$("#sidebar").removeClass("active"),$(".overlay").removeClass("active")},"click #dismiss":function(e){$("#sidebar").removeClass("active"),$(".overlay").removeClass("active")},"click #sidebarCollapse":function(e){$("#sidebar").addClass("active"),$(".overlay").addClass("active"),$(".collapse.in").toggleClass("in")}}),n.space.helpers({menuItem:function(e){return Session.get("menuItem")==e}})},"space_sidebar.js":function(e,t,s){var n,a,o;s.link("meteor/templating",{Template:function(e){n=e}},0),s.link("../../api/categories.js",{Categories:function(e){a=e}},1),s.link("../../api/authors.js",{Authors:function(e){o=e}},2),s.link("./space_sidebar.html"),n.spaceSidebar.events({"change #langSelect":function(e){var t=$(e.target).val();Session.setPersistent("lang",t)},"click .menu-item":function(e){e.preventDefault();var t=$(e.currentTarget).attr("data-id");Session.set("menuItem",t),"1"!=t&&"2"!=t&&"4"!=t&&($("#sidebar").removeClass("active"),$(".overlay").removeClass("active"),$(".collapse.in").removeClass("in"))},"click .space-sidebar--live-feed-category-edit":function(e){e.preventDefault();var t=$(e.target).data("category");Session.set("numChars",t.length),Session.set("liveFeedCategoryToEdit",t),$("#liveFeedCategoryEdit").modal("show")},"click .space-sidebar--resources-category-edit":function(e){e.preventDefault();var t=$(e.target).data("category");Session.set("numChars",t.length),Session.set("resourcesCategoryToEdit",t),$("#resourcesCategoryEdit").modal("show")},"click .filter-live-feed-all":function(e){e.preventDefault(),liveFeedResetFilters(),Session.set("postsServerNonReactive",LiveFeedCounts.findOne().count),liveFeedResetPostInterval()},"click .filter-resources-all":function(e){e.preventDefault(),resourcesResetFilters()},"click .filter-live-feed-category":function(e){e.preventDefault(),e.stopPropagation();var t=$(e.target).data("category");liveFeedResetFilters(),Session.set("liveFeedCategory",t),Session.set("postsServerNonReactive",a.findOne({name:t}).nRefs),liveFeedResetPostInterval(),$("#sidebar").removeClass("active"),$(".overlay").removeClass("active"),$(".collapse.in").removeClass("in")},"click .filter-resources-category":function(e){e.preventDefault(),e.stopPropagation();var t=$(e.target).data("category");resourcesResetFilters(),Session.set("resourcesCategory",t),$("#sidebar").removeClass("active"),$(".overlay").removeClass("active"),$(".collapse.in").removeClass("in")},"click .filter-author":function(e){e.preventDefault(),e.stopPropagation();var t=$(e.target).data("author");liveFeedResetFilters(),Session.set("author",t),Session.set("postsServerNonReactive",o.findOne({name:t}).nRefs),liveFeedResetPostInterval(),$("#sidebar").removeClass("active"),$(".overlay").removeClass("active"),$(".collapse.in").removeClass("in")}}),n.spaceSidebar.helpers({langIsSelected:function(e){if(Session.get("lang")==e)return"selected"},selectedMenuItem:function(e){return e==Session.get("menuItem")},selectedMenuItemBg:function(e){if(e==Session.get("menuItem"))return"menu-item--selected"},selectedMenuItemTxt:function(e){return e==Session.get("menuItem")?"font-weight-bold selected":"font-weight-light"},selectedLiveFeedCategory:function(){return this.name==Session.get("liveFeedCategory")?"menu-item--selected selected":""},selectedResourcesCategory:function(){return this.name==Session.get("resourcesCategory")?"menu-item--selected selected":""},selectedAuthor:function(){return this.name==Session.get("author")?"menu-item--selected selected":""},liveFeedCount:function(){var e=LiveFeedCounts.findOne();return e&&e.count},liveFeedCategories:function(){return a.find({type:"liveFeed"},{sort:{name:1}})},resourcesCategories:function(){return a.find({type:"resource"},{sort:{name:1}})},authors:function(){return o.find({},{sort:{name:1}})},liveFeed:function(){return this.space.liveFeed},lessons:function(){return this.space.lessons},resources:function(){return this.space.resources},ownSpace:function(){return!(Meteor.userId()!=n.parentData(1).space.userId&&!Roles.userIsInRole(Meteor.userId(),["admin"]))},liveFeedAddCategory:function(){return!(!this.space.permissions.liveFeedAddCategory&&!Roles.userIsInRole(Meteor.userId(),["admin"])&&Meteor.userId()!=this.space.userId)}})},"space_submit.js":function(e,t,s){var n,a;s.link("meteor/templating",{Template:function(e){n=e}},0),s.link("../../api/spaces.js",{Spaces:function(e){a=e}},1),s.link("./space_submit.html"),n.spaceSubmit.onRendered((function(){$(".space-submit--form").validate({rules:{spaceName:{required:!0,minlength:3,maxlength:35}}}),Session.set("numChars",0)})),n.spaceSubmit.events({"submit form":function(e,t){e.preventDefault();var s={title:$("#spaceName").val().trim(),lang:Session.get("lang")};Meteor.call("spaceInsert",s,(function(e,t){e?alert(TAPi18n.__("error-message")+e.message):$("#spaceSubmit").modal("hide")})),$("#spaceName").val("")},"click .space-submit--button-submit":function(e){e.preventDefault(),$("#space-submit--form").submit()},"input #spaceName":function(){Session.set("numChars",$("#spaceName").val().length)}}),n.spaceSubmit.helpers({numChars:function(e){return Session.get("numChars")}})},"space_users.js":function(e,t,s){var n,a;s.link("meteor/templating",{Template:function(e){n=e}},0),s.link("../../api/authors.js",{Authors:function(e){a=e}},1),s.link("./space_users.html"),n.spaceUsers.onRendered((function(){$(".space-users--form").validate({rules:{userName:{required:!0,minlength:1,maxlength:15}}}),Session.set("numChars",0)})),n.spaceUsers.events({"submit form":function(e,t){e.preventDefault();var s=$("#userName").val().trim();if(""!=s)if(a.findOne({name:s})){if(!confirm(TAPi18n.__("space-users--user-exist",s)))return;Session.setPersistent(t.data.space._id,{author:s}),Router.go("space",{_id:t.data.space._id})}else Meteor.call("authorInsert",s,t.data.space._id,(function(e){e?alert(TAPi18n.__("error-message")+e.message):(Session.setPersistent(t.data.space._id,{author:s,favorites:[]}),Router.go("space",{_id:t.data.space._id}))}))},"click .space-users--button-submit-author":function(e,t){e.preventDefault(),$("#space-users--form").submit()},"input #userName":function(){Session.set("numChars",$("#userName").val().length)}}),n.spaceUsers.helpers({numChars:function(e){return Session.get("numChars")}})},"space_users_first_connection.js":function(e,t,s){var n,a;s.link("meteor/templating",{Template:function(e){n=e}},0),s.link("../../api/authors.js",{Authors:function(e){a=e}},1),s.link("./space_users_first_connection.html"),s.link("../headers/users_header.html"),n.spaceUsersFirstConnection.onRendered((function(){$("#space-users-first-connection--author-name").focus()})),n.spaceUsersFirstConnection.events({"submit form":function(e,t){e.preventDefault();var s=$("#space-users-first-connection--author-name").val().trim();if(""!=s)if(a.findOne({name:s})){if(!confirm(TAPi18n.__("space-users--user-exist",s)))return;Session.setPersistent(t.data.space._id,{author:s}),Router.go("space",{_id:t.data.space._id})}else Meteor.call("authorInsert",s,t.data.space._id,(function(e){e?alert(TAPi18n.__("error-message")+e.message):(Session.setPersistent(t.data.space._id,{author:s,favorites:[]}),Router.go("space",{_id:t.data.space._id}))}))},"click .space-users--button-submit-author":function(e,t){e.preventDefault(),$("#space-users--form").submit()}})}},account:{"login.html":function(e,t,s){s.link("./template.login.js",{"*":"*+"})},"template.login.js":function(){Template.__checkName("login"),Template.login=new Template("Template.login",(function(){var e=this;return[Spacebars.include(e.lookupTemplate("loginHeader")),"\n\t",HTML.DIV({class:"container"},"\n  \t\t",HTML.DIV({class:"row justify-content-center mt-5"},"\n  \t\t\t",HTML.DIV({class:"col-12 col-lg-5"},"\n  \t\t\t\t",HTML.H4({class:"text-center mb-4"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"login--page-title")}))),"\n\t\t\t\t",HTML.DIV({class:"card text-center"},"\n\t\t\t\t\t",HTML.DIV({class:"card-body"},"\n\t\t\t\t\t\t",HTML.FORM({id:"login--form",name:"login--form"},"\n\t \t\t\t\t\t\t",HTML.DIV({class:"form-group"},"\n\t    \t\t\t\t\t\t",HTML.INPUT({type:"text",name:"email",class:"form-control",id:"email","aria-describedby":"emailHelp",placeholder:function(){return Spacebars.mustache(e.lookup("_"),"login--mail")},autofocus:""}),"\n\t  \t\t\t\t\t\t"),"\n\t  \t\t\t\t\t\t",HTML.DIV({class:"form-group"},"\n\t  \t\t\t\t\t\t\t",HTML.INPUT({type:"password",name:"password",class:"form-control",id:"password",value:"",placeholder:function(){return Spacebars.mustache(e.lookup("_"),"login--password")}}),"\n\t  \t\t\t\t\t\t"),"\n\t\t\t\t\t\t\t",Blaze.If((function(){return Spacebars.call(e.lookup("errorMessage"))}),(function(){return["\n\t\t\t\t\t\t\t\t",HTML.DIV({class:"alert alert-danger",role:"alert"},"\n\t\t\t\t\t\t\t\t\t",Blaze.View("lookup:t9n",(function(){return Spacebars.mustache(e.lookup("t9n"),e.lookup("errorMessage"))})),"\n\t\t\t\t\t\t\t\t"),"\n\t\t\t\t\t\t\t\t",Blaze.Unless((function(){return Spacebars.call(e.lookup("isBox"))}),(function(){return["\n\t\t\t\t\t\t\t\t\t",Blaze.If((function(){return Spacebars.call(e.lookup("passwordRecovery"))}),(function(){return["\n\t\t\t\t\t\t\t\t\t\t",HTML.BR(),HTML.A({href:"#",class:"login--send-mail-forgot-password"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"login--send-mail-forgot-password-link")}))),"\n\t\t\t\t\t\t\t\t\t"]})),"\n\t\t\t\t\t\t\t\t"]})),"\n\t\t\t\t\t\t\t"]}))," \n\t  \t    \t  \t\t\t",HTML.BUTTON({type:"button",class:"btn btn-primary w-100 login--button-submit"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"login--button-submit")}))),"\n\t\t\t\t\t\t"),"\n\t\t\t\t\t"),"\n\t\t\t\t"),"\n\t\t\t"),"\n  \t\t"),"\n  \t\t",HTML.DIV({class:"row justify-content-center mt-5 text-center"},"\n  \t\t\t",HTML.DIV({class:"col-12 col-lg-6 text-center"},"\n  \t\t\t\t",HTML.H6(Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"login--register")}))),"\n\t\t\t\t\t",Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"login--register-contact-admin")})),"\t\n\t\t\t"),"\n\t\t"),"\n\t")]}))},"register.html":function(e,t,s){s.link("./template.register.js",{"*":"*+"})},"template.register.js":function(){Template.__checkName("register"),Template.register=new Template("Template.register",(function(){var e=this;return[Spacebars.include(e.lookupTemplate("backHeader")),"\n    ",HTML.DIV({class:"container"},"\n        ",HTML.DIV({class:"row justify-content-center mt-5"},"\n            ",HTML.DIV({class:"col-12 col-lg-5"},"\n                ",HTML.H4({class:"text-center mb-4"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"register--page-title")}))),"\n                ",HTML.DIV({class:"card text-center"},"\n                    ",HTML.DIV({class:"card-body"},"\n                        ",HTML.FORM({id:"register--form",class:"register--form",name:"register--form"},"\n                            ",HTML.DIV({class:"form-group"},"\n                                ",HTML.INPUT({type:"email",name:"email",class:"form-control",id:"email","aria-describedby":"emailHelp",placeholder:function(){return Spacebars.mustache(e.lookup("_"),"register--mail")},autofocus:""}),"\n                                ",HTML.Raw('<small id="passwordHelp" class="form-text text-muted">We\'ll never share your email with anyone else.</small>'),"\n                            "),"\n                            ",HTML.DIV({class:"form-group"},"\n                                ",HTML.INPUT({type:"text",name:"name",class:"form-control",id:"name","aria-describedby":"nameHelp",placeholder:function(){return Spacebars.mustache(e.lookup("_"),"register--name")}}),"\n                            "),"\n                            ",HTML.DIV({class:"form-group"},"\n                                ",HTML.INPUT({type:"password",name:"password",class:"form-control",id:"password",value:"",placeholder:function(){return Spacebars.mustache(e.lookup("_"),"register--password")}}),"\n                                ",HTML.Raw('<small id="passwordHelp" class="form-text text-muted">Please choose a password with at least 5 characters.</small>'),"\n                            "),"\n                            ",HTML.DIV({class:"form-group"},"\n                                ",HTML.INPUT({type:"password",name:"password_confirm",class:"form-control password_confirm",id:"password_confirm",value:"",placeholder:function(){return Spacebars.mustache(e.lookup("_"),"register--password-confirm")}}),"\n                            "),"\n                            ",Blaze.If((function(){return Spacebars.call(e.lookup("errorMessage"))}),(function(){return["\n                                ",HTML.DIV({class:"alert alert-danger",role:"alert"},"\n                                    ",Blaze.View("lookup:t9n",(function(){return Spacebars.mustache(e.lookup("t9n"),e.lookup("errorMessage"))})),"\n                                "),"\n                            "]}))," \n                            ",HTML.BUTTON({type:"button",class:"btn btn-primary w-100 register--button-submit"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"register--button-submit")}))),"\n                        "),"\n                    "),"\n                "),"\n            "),"\n        "),"\n    ")]}))},"reset-password.html":function(e,t,s){s.link("./template.reset-password.js",{"*":"*+"})},"template.reset-password.js":function(){Template.__checkName("resetPassword"),Template.resetPassword=new Template("Template.resetPassword",(function(){var e=this;return HTML.DIV({class:"reset-password"},"\n        ",HTML.DIV({class:"container"},"\n            ",HTML.DIV({class:"row justify-content-center"},"\n                ",HTML.DIV({class:"col-sm-12 col-lg-8 pt-4 pl-4 pr-4 pb-3 text-center"},"\n                    ",HTML.H1({class:"mb-5"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"reset-password--page-title")}))),"\n                    ",HTML.DIV({class:"text-justify"},"\n                       ",HTML.FORM({id:"login--form",class:"login--form"},"        \n                            ",HTML.DIV({class:"login--wrapper"},"\n                                ",HTML.LABEL(HTML.B(Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"reset-password--new-password")})))),HTML.Raw("<br>"),"\n                                ",HTML.Raw('<input type="password" name="" class="form-control" id="password" value="">'),HTML.Raw("<br>"),"\n                            ")," \n                            ",HTML.DIV({class:"login--button-wrapper"},"\n                                ",HTML.BUTTON({type:"button",class:"btn btn-primary w-100 reset-password--button-submit"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"reset-password--button-submit")}))),"\n                            "),"   \n                        "),"                 \n                    "),"\n                "),"\n            "),"\n        "),"\n    ")}))},"user_settings.html":function(e,t,s){s.link("./template.user_settings.js",{"*":"*+"})},"template.user_settings.js":function(){Template.__checkName("userSettings"),Template.userSettings=new Template("Template.userSettings",(function(){var e=this;return[Spacebars.include(e.lookupTemplate("backHeader")),"\n\t",HTML.DIV({class:"container h-100"},"\n\t\t",HTML.DIV({class:"row justify-content-center min-h-100"},"\n    \t\t",HTML.DIV({class:"col-sm-12 col-lg-8 min-h-100 pt-4 pl-4 pr-4"},"\n                ",HTML.H5({class:"text-center mb-5"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"user-settings--page-title")}))),"\n                ",HTML.DIV({class:"list-group w-100"},"\n                \t",HTML.A({href:"#",class:"list-group-item list-group-item-action d-flex user-settings--change-password"},HTML.SPAN(Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"user-settings--change-password")}))),HTML.Raw('<span class="ml-auto"></span>')),"\n  \t\t\t\t\t",HTML.A({href:"#",class:"list-group-item list-group-item-action list-group-item-danger d-flex user-settings--logout"},HTML.SPAN(Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"user-settings--logout")}))),HTML.Raw('<span class="ml-auto"></span>')),"\n  \t\t\t\t"),"\n    \t\t"),"\n  \t\t"),"\n\t")]}))},"login.js":function(e,t,s){var n;s.link("meteor/templating",{Template:function(e){n=e}},0),s.link("./login.html"),s.link("../headers/login_header.html"),n.login.onRendered((function(){Session.set("errorMessage",""),this.$(".login--input-username").focus()})),n.login.events({"keypress input":function(e){13==e.keyCode&&$("#login--form").submit()},"submit form":function(e){e.preventDefault(),Session.set("errorMessage","");var t=e.target.email.value,s=e.target.password.value;t&&s&&Meteor.loginWithPassword(t.trim(),s,(function(e){e?Session.set("errorMessage",e.reason):Router.go("indexTeacher")}))},"click .login--button-submit":function(e){e.preventDefault(),$("#login--form").submit()},"click .login--send-mail-forgot-password":function(e){e.preventDefault();var t=$("#email").val();Accounts.forgotPassword({email:t},(function(e){e?(alert(TAPi18n.__("login--send-mail-forgot-password-error")),console.log(TAPi18n.__("login--send-mail-forgot-password-error-log",e))):alert(TAPi18n.__("login--send-mail-forgot-password",t))}))}}),n.login.helpers({errorMessage:function(){return Session.get("errorMessage")},passwordRecovery:function(){if("Incorrect password"===Session.get("errorMessage"))return!0}})},"register.js":function(e,t,s){var n;s.link("meteor/templating",{Template:function(e){n=e}},0),s.link("./register.html"),s.link("../headers/back_header.js"),n.register.onRendered((function(){this.$(".register--input-username").focus(),Session.set("errorMessage",""),$.validator.messages.email=TAPi18n.__("register--mail-no-valid-message"),$(".register--form").validate({rules:{email:{required:!0,email:!0},name:{required:!0,maxlength:15},password:{required:!0,minlength:5},password_confirm:{required:!0,minlength:5,equalTo:"#password"}}})})),n.register.events({"keypress input":function(e){13==e.keyCode&&$("#register--form").submit()},"submit form":function(e){e.preventDefault();var t=e.target.email.value,s=e.target.name.value,n=e.target.password.value,a=e.target.password_confirm.value;t&&n&&Accounts.createUser({email:t.toLowerCase().trim(),password:n,profile:{name:s}},(function(e){e?Session.set("errorMessage",e.reason):(Router.go("indexTeacher"),"false"===Meteor.settings.public.isBox&&Meteor.call("sendEmail",Meteor.user().emails[0].address,"vincent.widmer@beekee.ch",TAPi18n.__("register--mail-subject"),TAPi18n.__("register--mail-content")))}))},"click .register--button-submit":function(e){e.preventDefault(),$("#register--form").submit()}}),n.register.helpers({errorMessage:function(){return Session.get("errorMessage")}})},"reset-password.js":function(e,t,s){var n;s.link("meteor/templating",{Template:function(e){n=e}},0),s.link("./reset-password.html"),s.link("../headers/back_header.js"),n.resetPassword.onRendered((function(){$("#password").focus()})),n.resetPassword.events({"submit form":function(e){e.preventDefault();var t=e.target.password.value;console.log(Accounts._resetPasswordToken),Accounts.resetPassword(Accounts._resetPasswordToken,t,(function(){alert(TAPi18n.__("register--password-changed-message")),Router.go("indexTeacher")}))},"click .reset-password--button-submit":function(e){e.preventDefault(),$("#login--form").submit()}})},"user_settings.js":function(e,t,s){var n;s.link("meteor/templating",{Template:function(e){n=e}},0),s.link("./user_settings.html"),s.link("../headers/back_header.js"),n.userSettings.events({"click .user-settings--change-password":function(e){e.preventDefault();var t=prompt(TAPi18n.__("user-settings--change-password-old-message"));if(t)var s=prompt(TAPi18n.__("user-settings--change-password-new-message"));s&&Accounts.changePassword(t,s,(function(e){e?alert(TAPi18n.__("error-message")+e.message):alert(TAPi18n.__("user-settings--change-password-confirm-message"))}))},"click .user-settings--logout":function(e){e.preventDefault(),confirm(TAPi18n.__("user-settings--confirm-logout"))&&Meteor.logout((function(e){Router.go("indexStudent")}))}})}},admin:{"admin.html":function(e,t,s){s.link("./template.admin.js",{"*":"*+"})},"template.admin.js":function(){Template.__checkName("admin"),Template.admin=new Template("Template.admin",(function(){var e=this;return[Spacebars.include(e.lookupTemplate("indexTeacherHeader")),"\n\t",HTML.DIV({class:"container h-100"},"\n\t\t",HTML.DIV({class:"row justify-content-center mt-4"},"\n\t\t\t",HTML.DIV({class:"col-sm-12 col-lg-8"},"\n\t\t\t\t",HTML.H3(Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"admin--page-title")}))),"\n\t\t\t"),"\n\t\t"),"\n\t\t",HTML.DIV({class:"row justify-content-center mt-4 mb-4"},"\n\t\t\t",HTML.DIV({class:"col-sm-12 col-lg-8"},"\n\t\t\t\t",HTML.DIV({class:"card"},"\n\t\t\t\t\t",HTML.Raw('<div class="card-header">System informations</div>'),"\t\t\t\n \t\t\t\t\t",HTML.DIV({class:"card-body p-0"},"\n \t\t\t\t\t\t",HTML.UL({class:"list-group"},"\n  \t\t\t\t\t\t\t",HTML.LI({class:"list-group-item rounded-0 border-left-0 border-right-0 border-top-0 d-flex"},HTML.Raw("<span>Beekee version</span>"),HTML.SPAN({class:"ml-auto text-secondary"},Blaze.View("lookup:beekeeVersion",(function(){return Spacebars.mustache(e.lookup("beekeeVersion"))})),HTML.Raw("\x3c!--  (<a href=\"{{pathFor 'update'}}\">update</a>) --\x3e"))),"\n  \t\t\t\t\t\t\t",Blaze.If((function(){return Spacebars.call(e.lookup("isBox"))}),(function(){return["\n\t  \t\t\t\t\t\t\t",HTML.LI({class:"list-group-item rounded-0 border-left-0 border-right-0 d-flex"},HTML.SPAN("Raspbian version"),HTML.SPAN({class:"ml-auto text-secondary"},Blaze.View("lookup:raspbianVersion",(function(){return Spacebars.mustache(e.lookup("raspbianVersion"))})))),"\n\t  \t\t\t\t\t\t\t",HTML.LI({class:"list-group-item rounded-0 border-left-0 border-right-0 border-bottom-0 d-flex"},HTML.SPAN("Serial number"),HTML.SPAN({class:"ml-auto text-secondary"},Blaze.View("lookup:boxSerial",(function(){return Spacebars.mustache(e.lookup("boxSerial"))})))),"\n  \t\t\t\t\t\t\t"]})),"\n\t\t\t\t\t\t"),"\n\t\t\t\t\t"),"\n\t\t\t\t"),"\n\t\t\t"),"\n\t\t"),"\n\t\t",HTML.DIV({class:"row justify-content-center mb-4"},"\n\t\t\t",HTML.DIV({class:"col-sm-12 col-lg-8"},"\n\t\t\t\t",HTML.DIV({class:"card"},"\n\t\t\t\t\t",HTML.Raw('<div class="card-header">Used space</div>'),"\n\t\t\t\t\t",HTML.DIV({class:"card-body"},"\n\t\t\t\t\t\t",HTML.DIV(Blaze.View("lookup:usedSpace",(function(){return Spacebars.mustache(e.lookup("usedSpace"))}))),"\n\t\t\t\t\t"),"\n\t\t\t\t"),"\n\t\t\t"),"\n\t\t"),"\n\t\t",HTML.DIV({class:"row justify-content-center mt-4 mb-4"},"\n\t\t\t",HTML.DIV({class:"col-sm-12 col-lg-8"},"\n\t\t\t\t",HTML.DIV({class:"card"},"\n\t\t\t\t\t",HTML.Raw('<div class="card-header">Network</div>'),"\t\t\t\n \t\t\t\t\t",HTML.DIV({class:"card-body p-0"},"\n \t\t\t\t\t\t",HTML.UL({class:"list-group"},"\n  \t\t\t\t\t\t\t",HTML.LI({class:"list-group-item rounded-0 border-left-0 border-right-0 border-top-0 d-flex"},HTML.Raw("<span>IP address</span>"),HTML.SPAN({class:"ml-auto text-secondary"},Blaze.View("lookup:ipAddress",(function(){return Spacebars.mustache(e.lookup("ipAddress"))})))),"\n\t\t\t\t\t\t"),"\n\t\t\t\t\t"),"\n\t\t\t\t"),"\n\t\t\t"),"\n\t\t"),"\n\t\t",HTML.DIV({class:"row justify-content-center mb-4"},"\n\t\t\t",HTML.DIV({class:"col-sm-12 col-lg-8"},"\n\t\t\t\t",HTML.DIV({class:"card"},"\n\t\t\t\t\t",HTML.DIV({class:"card-header"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"admin--spaces-list")}))),"\n\t\t\t\t\t",HTML.DIV({class:"card-body"},"\n\t\t\t\t\t\t",HTML.Raw('<a href="#" role="button" data-toggle="modal" data-target="#adminSpaceSubmit" class="btn btn-primary btn-sm">Create a space</a>'),"\n\t\t\t\t\t\t",HTML.TABLE({class:"table table-striped table-sm mt-3"},"\n\t\t\t\t\t\t\t",HTML.THEAD({class:"thead-dark"},"\n\t\t\t\t\t\t\t\t",HTML.TR("\n\t\t\t\t\t\t\t\t\t",HTML.TH({scope:"col"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"admin--spaces-title")}))),"\n\t\t\t\t\t\t\t\t\t",HTML.TH({scope:"col"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"admin--spaces-creation")}))),"\n\t\t\t\t\t\t\t\t\t",HTML.TH({scope:"col"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"admin--spaces-owner")}))),"\n\t\t\t\t\t\t\t\t\t",HTML.TH({scope:"col"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"admin--spaces-actions")}))),"\n\t\t\t\t\t\t\t\t"),"\n\t\t\t\t\t\t\t"),"\n\t\t\t\t\t\t\t",HTML.TBODY("\n\t\t\t\t\t\t\t\t",Blaze.Each((function(){return Spacebars.call(e.lookup("spaces"))}),(function(){return["\n\t\t\t\t\t\t\t\t\t",HTML.TR("\n\t\t\t\t\t\t\t\t\t\t",HTML.TH({scope:"row"},HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"space",Spacebars.kw({_id:Spacebars.dot(e.lookup("."),"_id")}))}},Blaze.View("lookup:title",(function(){return Spacebars.mustache(e.lookup("title"))})))),"\n\t\t\t\t\t\t\t\t\t\t",HTML.TD(Blaze.View("lookup:spaceCreatedAt",(function(){return Spacebars.mustache(e.lookup("spaceCreatedAt"))}))),"\n\t\t\t\t\t\t\t\t\t\t",HTML.TD(Blaze.View("lookup:spaceOwner",(function(){return Spacebars.mustache(e.lookup("spaceOwner"))}))),"\n\t\t\t\t\t\t\t\t\t\t",HTML.TD(HTML.A({href:"#",class:"text-danger small admin--space-delete"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"admin--spaces-delete")})))),"\n\t\t\t\t\t\t\t\t\t"),"\n\t\t\t\t\t\t\t\t"]})),"\n\t\t\t\t\t\t\t"),"\n\t\t\t\t\t\t"),"\n\t\t\t\t\t"),"\n\t\t\t\t"),"\n\t\t\t"),"\n\t\t"),"\n\t\t",HTML.DIV({class:"row justify-content-center mb-4"},"\n\t\t\t",HTML.DIV({class:"col-sm-12 col-lg-8"},"\n\t\t\t\t",HTML.DIV({class:"card"},"\n\t\t\t\t\t",HTML.DIV({class:"card-header"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"admin--users-list")}))),"\n\t\t\t\t\t",HTML.DIV({class:"card-body"},"\n\t\t\t\t\t\t",HTML.Raw('<a href="#" role="button" data-toggle="modal" data-target="#adminCreateAccount" class="btn btn-primary btn-sm">Create a teacher account</a>'),"\n\t\t\t\t\t\t",HTML.TABLE({class:"table table-striped table-sm mt-3"},"\n\t\t\t\t\t\t\t",HTML.THEAD({class:"thead-dark"},"\n\t\t\t\t\t\t\t\t",HTML.TR("\n\t\t\t\t\t\t\t\t\t",HTML.TH({scope:"col"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"admin--users-logins")}))),"\n\t\t\t\t\t\t\t\t\t\t",HTML.TH({scope:"col"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"admin--users-creation")}))),"\n\t\t\t\t\t\t\t\t\t\t",HTML.TH({scope:"col"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"admin--users-last-connexion")}))),"\n\t\t\t\t\t\t\t\t\t\t",HTML.TH({scope:"col"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"admin--users-actions")}))),"\n\t\t\t\t\t\t\t\t"),"\n\t\t\t\t\t\t\t"),"\n\t\t\t\t\t\t\t",HTML.TBODY("\n\t\t\t\t\t\t\t\t",Blaze.Each((function(){return Spacebars.call(e.lookup("user"))}),(function(){return["\n\t\t\t\t\t\t\t\t\t",HTML.TR("\n\t\t\t\t\t\t\t\t\t\t",HTML.TH({scope:"row"},Blaze.View("lookup:emails.0.address",(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("emails"),"0","address"))}))," ",Blaze.If((function(){return Spacebars.call(e.lookup("isOnline"))}),(function(){return HTML.I({class:"fas fa-circle text-success small"})}),(function(){return HTML.I({class:"far fa-circle small"})}))),"\n\t\t\t\t\t\t\t\t\t\t",HTML.TD(Blaze.View("lookup:userCreatedAt",(function(){return Spacebars.mustache(e.lookup("userCreatedAt"))}))),"\n\t\t\t\t\t\t\t\t\t\t",HTML.TD(Blaze.If((function(){return Spacebars.call(Spacebars.dot(e.lookup("."),"status","lastLogin","date"))}),(function(){return Blaze.View("lookup:livestamp",(function(){return Spacebars.mustache(e.lookup("livestamp"),Spacebars.dot(e.lookup("."),"status","lastLogin","date"))}))}))),"\n\t\t\t\t\t\t\t\t\t\t",HTML.TD("\n\t\t\t\t\t\t\t\t\t\t\t",HTML.A({href:"#","data-userid":function(){return Spacebars.mustache(e.lookup("_id"))},class:"admin--user-change-password small"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"admin--users-change-password")}))),"\n\t\t\t\t\t\t\t\t\t\t\t\t\t",Blaze.Unless((function(){return Spacebars.call(e.lookup("admin"))}),(function(){return["\n\t\t\t\t\t\t\t\t\t\t\t\t",HTML.A({href:"#",class:"ml-3 small admin--user-delete text-danger"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"admin--users-delete")}))),"\n\t\t\t\t\t\t\t\t\t\t\t\t\t"]})),"\n\t\t\t\t\t\t\t\t\t\t"),"\n\t\t\t\t\t\t\t\t\t"),"\n\t\t\t\t\t\t\t\t"]})),"\n\t\t\t\t\t\t\t"),"\n\t\t\t\t\t\t"),"\n\t\t\t\t\t"),"\n\t\t\t\t"),"\n\t\t\t"),"\n\t\t"),"\n\t"),"\n\t",Spacebars.include(e.lookupTemplate("adminSpaceSubmit")),"\n\t",Spacebars.include(e.lookupTemplate("adminCreateAccount"))]}))},"admin_create_account.html":function(e,t,s){s.link("./template.admin_create_account.js",{"*":"*+"})},"template.admin_create_account.js":function(){Template.__checkName("adminCreateAccount"),Template.adminCreateAccount=new Template("Template.adminCreateAccount",(function(){var e=this;return HTML.DIV({class:"modal fade",id:"adminCreateAccount",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},"\n\t\t",HTML.DIV({class:"modal-dialog",role:"document"},"\n\t\t\t",HTML.DIV({class:"modal-content"},"\n\t\t\t\t",HTML.Raw('<div class="modal-header">\n\t\t\t\t\t<h5 class="modal-title" id="exampleModalLabel">Create a teacher account</h5>\n\t\t\t\t\t<button type="button" class="close" data-dismiss="modal" aria-label="Close">\n\t\t\t\t\t\t<span aria-hidden="true">&times;</span>\n\t\t\t\t\t</button>\n\t\t\t\t</div>'),"\n\t\t\t\t",HTML.DIV({class:"modal-body"},"\n\t\t\t\t\t",HTML.FORM({id:"admin-create-account--form",class:"admin-create-account--form",name:"admin-create-account--form"},"\n\t\t\t\t\t\t",HTML.DIV({class:"form-group"},"\n\t\t\t\t\t\t\t",HTML.INPUT({type:"email",name:"email",class:"form-control",id:"email","aria-describedby":"emailHelp",placeholder:function(){return Spacebars.mustache(e.lookup("_"),"register--mail")},autofocus:""}),"\n\t\t\t\t\t\t\t",HTML.Raw('<small id="passwordHelp" class="form-text text-muted">We\'ll never share this email with anyone else.</small>'),"\n\t\t\t\t\t\t"),"\n\t\t\t\t\t\t",HTML.DIV({class:"form-group"},"\n\t\t\t\t\t\t\t",HTML.INPUT({type:"text",name:"name",class:"form-control",id:"name","aria-describedby":"nameHelp",placeholder:function(){return Spacebars.mustache(e.lookup("_"),"register--name")}}),"\n\t\t\t\t\t\t"),"\n\t\t\t\t\t\t",HTML.DIV({class:"form-group"},"\n\t\t\t\t\t\t\t",HTML.INPUT({type:"password",name:"password",class:"form-control",id:"password",value:"",placeholder:function(){return Spacebars.mustache(e.lookup("_"),"register--password")}}),"\n\t\t\t\t\t\t\t",HTML.Raw('<small id="passwordHelp" class="form-text text-muted">Please choose a password with at least 5 characters.</small>'),"\n\t\t\t\t\t\t"),"\n\t\t\t\t\t\t",HTML.DIV({class:"form-group"},"\n\t\t\t\t\t\t\t",HTML.INPUT({type:"password",name:"password_confirm",class:"form-control password_confirm",id:"password_confirm",value:"",placeholder:function(){return Spacebars.mustache(e.lookup("_"),"register--password-confirm")}}),"\n\t\t\t\t\t\t"),"\n\t\t\t\t\t\t",Blaze.If((function(){return Spacebars.call(e.lookup("errorMessage"))}),(function(){return["\n\t\t\t\t\t\t\t",HTML.DIV({class:"alert alert-danger",role:"alert"},"\n\t\t\t\t\t\t\t\t",Blaze.View("lookup:t9n",(function(){return Spacebars.mustache(e.lookup("t9n"),e.lookup("errorMessage"))})),"\n\t\t\t\t\t\t\t"),"\n\t\t\t\t\t\t"]}))," \n\t\t\t\t\t"),"\n\t\t\t\t\t\t",HTML.Raw('<div class="text-center">\n\t\t\t\t\t\t\t<div class="small text-secondary col-8 offset-2"></div>\n\t\t\t\t\t\t</div>'),"\n\t\t\t\t\t\t",HTML.Raw('<div class="modal-footer">\n\t\t\t\t\t\t\t<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>\n\t\t\t\t\t\t\t<button type="button" class="btn btn-primary admin-create-account--button-submit">Create</button>\n\t\t\t\t\t\t</div>'),"\n\t\t\t\t"),"\n\t\t\t"),"\n\t\t"),"\n\t")}))},"admin_space_submit.html":function(e,t,s){s.link("./template.admin_space_submit.js",{"*":"*+"})},"template.admin_space_submit.js":function(){Template.__checkName("adminSpaceSubmit"),Template.adminSpaceSubmit=new Template("Template.adminSpaceSubmit",(function(){var e=this;return HTML.DIV({class:"modal fade",id:"adminSpaceSubmit",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},"\n  ",HTML.DIV({class:"modal-dialog",role:"document"},"\n    ",HTML.DIV({class:"modal-content"},"\n      ",HTML.Raw('<div class="modal-header">\n        <h5 class="modal-title" id="exampleModalLabel">Create a new space</h5>\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n      </div>'),"\n      ",HTML.DIV({class:"modal-body"},"\n      \t",HTML.FORM({name:"admin-space-submit--form",class:"admin-space-submit--form",id:"admin-space-submit--form"},"\n\n       \t",HTML.DIV({class:"form-group"},"\n       \t\t    ",HTML.Raw('<input type="text" class="form-control" name="spaceName" id="spaceName" aria-describedby="spaceName" placeholder="Space name" autofocus="">'),"\n              ",HTML.DIV({class:"text-secondary"},Blaze.View("lookup:numChars",(function(){return Spacebars.mustache(e.lookup("numChars"))})),"/20"),"\n        "),"\n\t\t\t"),"\n      "),"\n      ",HTML.Raw('<div class="modal-footer">\n        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>\n        <button type="button" class="btn btn-primary admin-space-submit--button-submit">Create</button>\n      </div>'),"\n    "),"\n  "),"\n")}))},"admin.js":function(e,t,s){var n,a;s.link("meteor/templating",{Template:function(e){n=e}},0),s.link("../../api/spaces.js",{Spaces:function(e){a=e}},1),s.link("./admin.html"),s.link("./admin_space_submit.js"),s.link("./admin_create_account.js"),s.link("../headers/index_teacher_header.js"),n.admin.onRendered((function(){$(".modal").on("shown.bs.modal",(function(e){$(this).find("[autofocus]").focus()}))})),n.admin.events({"click .admin--space-delete":function(e){e.preventDefault(),confirm(TAPi18n.__("space-edit--delete-space-message"))&&Meteor.call("deleteSpace",this._id,(function(e){e?alert(TAPi18n.__("error-message")+e.message):alert(TAPi18n.__("space-edit--delete-space-confirm-message"))}))},"click .admin--user-change-password":function(e){e.preventDefault();var t=prompt(TAPi18n.__("admin--change-password-message"));t&&Meteor.call("adminSetNewPassword",Meteor.user(),$(e.currentTarget).data("userid"),t,(function(e){e?alert(TAPi18n.__("error-message")+e.message):alert(TAPi18n.__("admin--change-password-confirm-message"))}))},"click .admin--user-delete":function(e){e.preventDefault();var t=this._id;confirm(TAPi18n.__("admin--user-delete-message"))&&Meteor.call("deleteUser",t,(function(e){e?alert(TAPi18n.__("error-message")+e.message):(console.log("UserId : "+t),Meteor.call("deleteSpaces",t,(function(e){e?alert(TAPi18n.__("error-message")+e.message):alert(TAPi18n.__("admin--user-delete-confirm-message"))})))}))},"click .admin--shutdown":function(e,t){e.preventDefault();var s=confirm(TAPi18n.__("index-teacher--shutdown-message"));s&&Meteor.call("shutdownBox",(function(e,t){s(e?TAPi18n.__("error-message")+e.message:TAPi18n.__("index-teacher--shutdown-confirm"))}))}}),n.admin.helpers({spaces:function(){return a.find({},{sort:{submitted:-1}})},user:function(){return Meteor.users.find({},{sort:{createdAt:-1}})},admin:function(){return Roles.userIsInRole(this._id,"admin")},isOnline:function(){if(this.status.online)return!0},beekeeVersion:function(){return Meteor.call("getBeekeeVersion",(function(e,t){e?Session.set("beekeeVersion",e):Session.set("beekeeVersion",t)})),Session.get("beekeeVersion")},raspbianVersion:function(){return Meteor.call("getRaspbianVersion",(function(e,t){e?Session.set("raspbianVersion",e):Session.set("raspbianVersion",t)})),Session.get("raspbianVersion")},boxSerial:function(){return Meteor.call("getBoxSerial",(function(e,t){e?Session.set("boxSerial",e):Session.set("boxSerial",t)})),Session.get("boxSerial")},usedSpace:function(){return Meteor.call("getUsedSpace",(function(e,t){e?Session.set("usedSpace",e):Session.set("usedSpace",t)})),Session.get("usedSpace")},ipAddress:function(){Meteor.call("getIP",(function(e,t){e?Session.set("ipAddress",e):Session.set("ipAddress",t)}));var e=Session.get("ipAddress");return""==e?"Not connected":e},spaceCreatedAt:function(){return moment(this.submitted).format("DD/MM/YYYY HH:mm")},spaceOwner:function(){return ownerId=this.userId,Meteor.users.findOne(ownerId).emails[0].address},userCreatedAt:function(){return moment(this.createdAt).format("DD/MM/YYYY HH:mm")}})},"admin_create_account.js":function(e,t,s){var n;s.link("meteor/templating",{Template:function(e){n=e}},0),s.link("./admin_create_account.html"),n.adminCreateAccount.onRendered((function(){this.$(".admin-create-account--input-username").focus(),Session.set("errorMessage",""),Meteor.isClient,$.validator.messages.email=TAPi18n.__("register--mail-no-valid-message"),$(".admin-create-account--form").validate({rules:{email:{required:!0,email:!0},name:{required:!0,maxlength:15},password:{required:!0,minlength:5},password_confirm:{required:!0,minlength:5,equalTo:"#password"}}})})),n.adminCreateAccount.events({"keypress input":function(e){13==e.keyCode&&$("#register--form").submit()},"submit form":function(e){e.preventDefault();var t=e.target.email.value,s=e.target.name.value,n=e.target.password.value,a=e.target.password_confirm.value;t&&n&&Meteor.call("createAccount",t.toLowerCase().trim(),n,{name:s},(function(e){e?Session.set("errorMessage",e.reason):($("#adminCreateAccount").modal("hide"),"false"===Meteor.settings.public.isBox&&Meteor.call("sendEmail",Meteor.user().emails[0].address,"vincent.widmer@beekee.ch",TAPi18n.__("register--mail-subject"),TAPi18n.__("register--mail-content")))}))},"click .admin-create-account--button-submit":function(e){e.preventDefault(),$("#admin-create-account--form").submit()}}),n.adminCreateAccount.helpers({errorMessage:function(){return Session.get("errorMessage")}})},"admin_space_submit.js":function(e,t,s){var n;s.link("meteor/templating",{Template:function(e){n=e}},0),s.link("./admin_space_submit.html"),n.adminSpaceSubmit.onRendered((function(){$(".admin-space-submit--form").validate({rules:{spaceName:{required:!0,minlength:3,maxlength:35}}}),Session.set("numChars",0)})),n.adminSpaceSubmit.events({"submit form":function(e,t){e.preventDefault();var s={title:$("#spaceName").val().trim(),lang:Session.get("lang")};Meteor.call("spaceInsert",s,(function(e,t){e?alert(TAPi18n.__("error-message")+e.message):$("#adminSpaceSubmit").modal("hide")})),$("#spaceName").val("")},"click .admin-space-submit--button-submit":function(e){e.preventDefault(),$("#admin-space-submit--form").submit()},"input #spaceName":function(){Session.set("numChars",$("#spaceName").val().length)}}),n.adminSpaceSubmit.helpers({numChars:function(e){return Session.get("numChars")}})}},headers:{"back_header.html":function(e,t,s){s.link("./template.back_header.js",{"*":"*+"})},"template.back_header.js":function(){Template.__checkName("backHeader"),Template.backHeader=new Template("Template.backHeader",(function(){var e=this;return HTML.NAV({class:"bg-white",style:"z-index:500;height:52px;line-height:52px;border-bottom:solid 1px #efefef;"},"\n\t\t",HTML.DIV({class:"container h-100"},"\n\t\t\t",HTML.DIV({class:"row justify-content-center h-100"},"\n\t\t\t\t",HTML.DIV({class:"col-4 col-lg-3",style:""},"\n\t\t\t\t\t",HTML.A({href:"#",class:"back-header--button-back"},HTML.Raw('<i class="fas fa-chevron-left fa-lg"></i>'),HTML.SPAN(" ",Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"header--back")})))),"\n\t\t\t\t"),"\n\t\t\t\t",HTML.Raw('<div class="col-8">\n\t\t\t\t</div>'),"\n\t\t\t"),"\n\t\t"),"\n\t")}))},"index_student_header.html":function(e,t,s){s.link("./template.index_student_header.js",{"*":"*+"})},"template.index_student_header.js":function(){Template.__checkName("indexStudentHeader"),Template.indexStudentHeader=new Template("Template.indexStudentHeader",(function(){var e=this;return HTML.NAV({class:"bg-white",style:"z-index:500;height:52px;line-height:52px;"},"\n\t\t",HTML.DIV({class:"container h-100"},"\n\t\t\t",HTML.DIV({class:"row justify-content-center h-100"},"\n\t\t\t\t",HTML.Raw('<div class="col-4 col-lg-3" style="">\n\t\t\t\t</div>'),"\n\t\t\t\t",HTML.DIV({class:"col-8 text-right"},"\n\t\t\t\t\t",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"indexTeacher")},class:""},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"header--admin-access")}))),"\n\t\t\t\t"),"\n\t\t\t"),"\n\t\t"),"\n\t")}))},"index_teacher_header.html":function(e,t,s){s.link("./template.index_teacher_header.js",{"*":"*+"})},"template.index_teacher_header.js":function(){Template.__checkName("indexTeacherHeader"),Template.indexTeacherHeader=new Template("Template.indexTeacherHeader",(function(){var e=this;return HTML.NAV({class:"bg-white",style:"z-index:500;height:52px;line-height:52px;border-bottom:solid 1px #efefef;"},"\n\t\t",HTML.DIV({class:"container h-100"},"\n\t\t\t",HTML.DIV({class:"row justify-content-center h-100"},"\n\t\t\t\t",HTML.DIV({class:"col-4 col-lg-3",style:""},"\n                \t",HTML.A({class:"menu-item d-none d-sm-none d-lg-inline h-100","data-id":"1",href:"#"},"\n\t\t\t\t\t\t",HTML.SPAN({class:"d-none d-sm-none d-lg-inline"},Blaze.View("lookup:space.title",(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("space"),"title"))}))),"\t\t\t\t\t"),"\n\t\t\t\t"),"\n\t\t\t\t",HTML.DIV({class:"col-8 text-right"},"\n\t\t\t\t\t",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"userSettings")},class:"px-3 mr-4"},"\n\t\t\t\t\t\t",HTML.Raw('<i class="fa fa-user fa-fw"></i>')," \n\t\t\t\t\t\t",HTML.SPAN(Blaze.View("lookup:adminName",(function(){return Spacebars.mustache(e.lookup("adminName"))}))),"\n\t\t\t\t\t"),"\n\t\t\t\t"),"\n\t\t\t"),"\n\t\t"),"\n\t")}))},"login_header.html":function(e,t,s){s.link("./template.login_header.js",{"*":"*+"})},"template.login_header.js":function(){Template.__checkName("loginHeader"),Template.loginHeader=new Template("Template.loginHeader",(function(){var e=this;return HTML.NAV({class:"bg-white",style:"z-index:500;height:52px;line-height:52px;border-bottom:solid 1px #efefef;"},"\n\t\t",HTML.DIV({class:"container h-100"},"\n\t\t\t",HTML.DIV({class:"row justify-content-center h-100"},"\n\t\t\t\t",HTML.DIV({class:"col-4 col-lg-3",style:""},"\n\t\t\t\t\t",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"indexStudent")}},HTML.Raw('<i class="fas fa-chevron-left fa-lg"></i>'),HTML.Raw("<span> Back</span>")),"\n\t\t\t\t"),"\n\t\t\t\t",HTML.Raw('<div class="col-8">\n\t\t\t\t</div>'),"\n\t\t\t"),"\n\t\t"),"\n\t")}))},"simple_header.html":function(e,t,s){s.link("./template.simple_header.js",{"*":"*+"})},"template.simple_header.js":function(){Template.__checkName("simpleHeader"),Template.simpleHeader=new Template("Template.simpleHeader",(function(){var e=this;return HTML.Raw('<nav class="bg-white" style="z-index:500;height:52px;line-height:52px;border-bottom:solid 1px #efefef;">\n\t\t<div class="container h-100">\n\t\t\t<div class="row justify-content-center h-100">\n\t\t\t</div>\n\t\t</div>\n\t</nav>')}))},"space_header.html":function(e,t,s){s.link("./template.space_header.js",{"*":"*+"})},"template.space_header.js":function(){Template.__checkName("spaceHeader"),Template.spaceHeader=new Template("Template.spaceHeader",(function(){var e=this;return HTML.NAV({class:"bg-white",style:"z-index:500;height:52px;line-height:52px;border-bottom:solid 1px #efefef;"},"\n\t\t",HTML.DIV({class:"container h-100"},"\n\t\t\t",HTML.DIV({class:"row justify-content-center h-100"},"\n\t\t\t\t",HTML.Raw('<div class="col-4 col-lg-4" style="">\n\t\t\t\t\t<a role="button" id="sidebarCollapse" class="btn-icon d-inline d-lg-none">\n                    \t<i class="fas fa-bars fa-lg d-inline"></i>\n                \t</a>\n\t\t\t\t</div>'),"\n\t\t\t\t",HTML.DIV({class:"col-8 col-lg-7 text-right"},"\n\n\t\t\t\t\t",Blaze.If((function(){return Spacebars.call(e.lookup("currentUser"))}),(function(){return["\n\t\t\t\t\t\t",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"userSettings")},class:"px-3 mr-4"},"\n\t\t\t\t\t\t\t",HTML.I({class:"fa fa-user fa-fw"})," \n\t\t\t\t\t\t\t",HTML.SPAN(Blaze.View("lookup:currentUser.profile.name",(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("currentUser"),"profile","name"))}))),"\n\t\t\t\t\t\t"),"\n\t\t\t\t\t\t",HTML.A({class:"btn-icon",role:"button",id:"dropdownMenuLink","data-toggle":"dropdown"},HTML.I({class:"fa fa-ellipsis-v fa-lg"})),"\n\t\t\t\t\t\t",HTML.DIV({class:"dropdown-menu",style:"line-height:1.5","aria-labelledby":"dropdownMenuLink"},"\n\t\t\t\t\t\t\t\t",HTML.A({class:"dropdown-item",href:function(){return Spacebars.mustache(e.lookup("pathFor"),"settings",Spacebars.kw({_id:Spacebars.dot(e.lookup("."),"space","_id")}))}},HTML.I({class:"fas fa-cog"})," ",Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"space-header--settings")}))),"\n\t\t\t\t\t\t"),"\n\t\t\t\t\t"]}),(function(){return["\n\t\t\t\t\t",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"login")},class:""},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"header--admin-access")}))),"\n\t\t\t\t\t"]})),"\n\t\t\t\t"),"\n\t\t\t"),"\n\t\t"),"\n\t")}))},"users_header.html":function(e,t,s){s.link("./template.users_header.js",{"*":"*+"})},"template.users_header.js":function(){Template.__checkName("usersHeader"),Template.usersHeader=new Template("Template.usersHeader",(function(){var e=this;return HTML.NAV({class:"bg-white",style:"z-index:500;height:52px;line-height:52px;border-bottom:solid 1px #efefef;"},"\n\t\t",HTML.DIV({class:"container h-100"},"\n\t\t\t",HTML.DIV({class:"row justify-content-center h-100"},"\n\t\t\t\t",HTML.DIV({class:"col-6",style:""},"\n\t\t\t\t\t",HTML.A({class:"menu-item h-100",href:"#"},"\n\t\t\t\t\t\t",HTML.SPAN(Blaze.View("lookup:space.title",(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("space"),"title"))}))),"\n\t\t\t\t\t"),"\n\t\t\t\t"),"\n\t\t\t\t",HTML.Raw('<div class="nav-link col-5 text-right align-middle">\n\t\t\t\t</div>'),"\n\t\t\t"),"\n\t\t"),"\n\t")}))},"back_header.js":function(e,t,s){var n;s.link("meteor/templating",{Template:function(e){n=e}},0),s.link("./back_header.html"),n.backHeader.events({"click .back-header--button-back":function(e){e.preventDefault(),history.back()}})},"index_teacher_header.js":function(e,t,s){var n;s.link("meteor/templating",{Template:function(e){n=e}},0),n.indexTeacherHeader.helpers({adminName:function(){return Meteor.user().profile.name}})},"space_header.js":function(e,t,s){var n;s.link("meteor/templating",{Template:function(e){n=e}},0),s.link("./space_header.html"),n.spaceHeader.events({"click .menu-item":function(e){e.preventDefault();var t=$(e.currentTarget).attr("data-id");Session.set("menuItem",t)}}),n.spaceHeader.helpers({authorName:function(){if(console.log("author: "+Session.get(this.space._id).author),Session.get(this.space._id).author)return Session.get(this.space._id).author},adminName:function(){return Meteor.user().profile.name},ownSpace:function(){var e=Meteor.userId(),t=Roles.userIsInRole(Meteor.userId(),["admin"]);if(e){if(this.space.userId===e)return!0;if(t)return!0===t}}})}},index:{"index_student.html":function(e,t,s){s.link("./template.index_student.js",{"*":"*+"})},"template.index_student.js":function(){Template.__checkName("indexStudent"),Template.indexStudent=new Template("Template.indexStudent",(function(){var e=this;return HTML.DIV({class:"index-student w-100 h-100 text-white"},"\n\t\t",Spacebars.include(e.lookupTemplate("indexStudentHeader")),"\n\t\t",HTML.DIV({class:"container"},"\n\t\t\t",HTML.DIV({class:"row justify-content-center text-center text-white",style:"margin-top:100px"},"\n\t\t\t\t",HTML.DIV({class:"col-lg-5"},"\n\t\t\t\t",HTML.H3(Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"index-student--title")})))),"\n\t  \t\t"),"\n\t  \t\t",Blaze.If((function(){return Spacebars.call(e.lookup("isBox"))}),(function(){return["\n\t\t  \t\t",Blaze.If((function(){return Spacebars.call(Spacebars.dot(e.lookup("publicSpaces"),"count"))}),(function(){return["\n\t\t\t\t\t",HTML.DIV({class:"row justify-content-center mt-5 mb-5 text-center"},"\n\t\t\t  \t\t\t",HTML.DIV({class:"col-12 col-lg-5 text-center"},"\n\t\t\t\t\t\t\t",HTML.DIV({class:""},"\n\t\t\t\t\t\t \t\t",HTML.H5(Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"index-student--public-spaces-title")}))),"\n\t\t\t\t\t\t \t\t",HTML.DIV({class:"list-group w-100"},"\n\t\t\t\t\t\t \t\t\t",Blaze.Each((function(){return Spacebars.call(e.lookup("publicSpaces"))}),(function(){return["\n\t\t\t\t\t\t\t\t\t\t",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"space",Spacebars.kw({_id:Spacebars.dot(e.lookup("."),"_id")}))},class:"list-group-item list-group-item-action d-flex"},HTML.SPAN(Blaze.View("lookup:title",(function(){return Spacebars.mustache(e.lookup("title"))})))),"\n\t\t\t\t\t\t\t\t\t"]})),"\n\t\t\t\t\t\t\t\t"),"\n\t\t\t\t\t\t\t"),"\n\t\t\t\t\t\t"),"\n\t\t\t\t\t"),"\n\t\t\t\t"]})),"\n\t\t\t"]})),"\n\t  \t\t",HTML.DIV({class:"row justify-content-center mt-5 text-center"},"\n\t  \t\t\t",HTML.DIV({class:"col-12 col-lg-5"},"\n\t\t\t\t\t",HTML.DIV({class:"card"},"\n\t\t\t\t\t\t",HTML.DIV({class:"card-body"},"\n\t\t\t\t\t\t\t",HTML.FORM({id:"index-student--code-link-form",name:"index-student--code-link-form"},"\n\t\t \t\t\t\t\t\t",HTML.DIV({class:"form-group"},"\n\t\t    \t\t\t\t\t\t",HTML.INPUT({type:"text",class:"form-control text-center",id:"code","aria-describedby":"emailHelp",placeholder:function(){return Spacebars.mustache(e.lookup("_"),"index-student--code-input-placeholder")}}),"\n\t\t  \t\t\t\t\t\t"),"\n\t\t  \t    \t  \t\t\t",HTML.A({href:"#",role:"button",class:"btn btn-primary w-100 index-student--button-code-link"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"index-student--button-code-link")}))),"\n\t\t\t\t\t\t\t"),"\n\t\t\t\t\t\t"),"\n\t\t\t\t\t"),"\n\t\t\t\t"),"\n\t  \t\t"),"\n\t\t\t",Blaze.If((function(){return Spacebars.call(Spacebars.dot(e.lookup("spacesVisited"),"count"))}),(function(){return["\n\t\t  \t\t",HTML.DIV({class:"row justify-content-center mt-5 text-center"},"\n\t\t  \t\t\t",HTML.DIV({class:"col-12 col-lg-5 text-center"},"\n\t\t\t\t\t\t",HTML.DIV({class:"index-student--visited-spaces"},"\n\t\t\t\t\t \t\t",HTML.H5(Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"index-student--visited-title")}))),"\n\t\t\t\t\t \t\t",HTML.A({href:"#",class:"small index-student--delete-recent"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"index-student--delete-recent")}))),"\n\t\t\t\t\t \t\t",HTML.DIV({class:"list-group w-100"},"\n\t\t\t\t\t \t\t\t",Blaze.Each((function(){return Spacebars.call(e.lookup("spacesVisited"))}),(function(){return["\n\t\t\t\t\t\t\t\t\t",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"space",Spacebars.kw({_id:Spacebars.dot(e.lookup("."),"_id")}))},class:"list-group-item list-group-item-action d-flex"},HTML.SPAN(Blaze.View("lookup:title",(function(){return Spacebars.mustache(e.lookup("title"))}))),HTML.SPAN({class:"ml-auto"},Blaze.View("lookup:spaceCode",(function(){return Spacebars.mustache(e.lookup("spaceCode"))})))),"\n\t\t\t\t\t\t\t\t"]})),"\n\t\t\t\t\t\t\t"),"\n\t\t\t\t\t\t"),"\n\t\t\t\t\t"),"\n\t\t\t\t"),"\n\t\t\t"]})),"\n\t\t\t",HTML.Raw('<div class="row justify-content-center mt-5">\n\t\t\t\t<div class="col-5 col-lg-2 text-center">\n\x3c!-- \t\t\t\t\t<select id="langSelect" class="custom-select custom-select-sm border-0" style="width:auto; background-color: #fafafa;">\n\t\t\t\t\t  <option value="en" {{langIsSelected \'en\'}}>English</option>\n\t\t\t\t\t  <option value="fr-FR" {{langIsSelected \'fr-FR\'}}>Franais</option>\n\t\t\t\t\t</select> --\x3e\n\t\t\t\t</div>\n\t  \t\t</div>'),"\n\t  \t\t",HTML.DIV({class:"row justify-content-center text-center text-white",style:"margin-top:70px"},"\n\t\t\t\t",HTML.DIV({class:"col-lg-5"},"\n\t\t\t\t",HTML.P(HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"indexTeacher")},class:"link-white"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"index-student--create-your-space-1")}))),Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"index-student--create-your-space-2")})))),"\n\t  \t\t"),"\n\t\t"),"\n\t\t",HTML.DIV({class:"text-center mt-3",style:"color:#e0e0e0;"},"\n\t\t\t",HTML.P(HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"privacy",Spacebars.kw({_id:Spacebars.dot(e.lookup("."),"_id")}))},class:"link-white",style:"font-weight:normal;text-decoration: none;"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"index-student--privacy")}))),HTML.Raw('\x3c!--  | <a href="https://www.beekee.ch" class="link-white" style="font-weight:normal;text-decoration: none;">{{_ \'index-student-2-about-us\'}}</a> --\x3e')),"\n\t\t"),"\n\t")}))},"index_teacher.html":function(e,t,s){s.link("./template.index_teacher.js",{"*":"*+"})},"template.index_teacher.js":function(){Template.__checkName("indexTeacher"),Template.indexTeacher=new Template("Template.indexTeacher",(function(){var e=this;return[Spacebars.include(e.lookupTemplate("indexTeacherHeader")),"\n\t",HTML.DIV({class:"container"},"\n  \t\t",HTML.DIV({class:"row justify-content-center mt-5"},"\n  \t\t\t",HTML.DIV({class:"col-12 col-lg-5 text-center"},"\n\t\t\t\t",HTML.H5({class:"mb-3"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"index-teacher--spaces-title")}))),"\n\t\t\t\t",Blaze.If((function(){return Spacebars.call(Spacebars.dot(e.lookup("ownSpaces"),"count"))}),(function(){return["\n\t\t\t\t\t",HTML.DIV({class:"list-group"},"\n\t\t\t\t\t\t",Blaze.Each((function(){return Spacebars.call(e.lookup("ownSpaces"))}),(function(){return["\n\t\t\t\t\t\t  \t",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"space")},class:"list-group-item list-group-item-action d-flex"},HTML.SPAN(Blaze.View("lookup:title",(function(){return Spacebars.mustache(e.lookup("title"))}))),HTML.SPAN({class:"ml-auto"},Blaze.View("lookup:spaceCode",(function(){return Spacebars.mustache(e.lookup("spaceCode"))})))),"\n\t\t\t\t\t\t"]})),"\n\t\t\t\t\t"),"\n\t\t\t\t"]}),(function(){return["\n\t\t\t\t\t",HTML.P({class:"text-center"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"index-teacher--no-space")}))),"\n\t\t\t\t"]})),"\n\t\t\t"),"\n\t\t"),"\t\n\t\t",HTML.DIV({class:"row justify-content-center mt-4 bt-5 text-center"},"\n  \t\t\t",HTML.DIV({class:"col-12 col-lg-6 text-center"},"\n\t\t\t\t",HTML.BUTTON({class:"btn btn-primary","data-toggle":"modal","data-target":"#spaceSubmit"},HTML.Raw('<i class="fa fa-plus"></i>')," ",Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"index-teacher--button-submit-space")}))),"\n\t\t\t"),"\n\t\t"),"\n\t\t",Blaze.If((function(){return Spacebars.call(Spacebars.dot(e.lookup("publicSpaces"),"count"))}),(function(){return["\n\t\t\t",HTML.DIV({class:"row justify-content-center mt-5 mb-5 text-center"},"\n  \t\t\t\t",HTML.DIV({class:"col-12 col-lg-5 text-center"},"\n\t\t\t\t\t",HTML.DIV({class:"index-teacher--visited-spaces"},"\n\t\t\t \t\t\t",HTML.H5({class:"mb-3"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"index-student--public-spaces-title")}))),"\n\t\t\t \t\t\t",HTML.DIV({class:"list-group w-100"},"\n\t\t\t \t\t\t\t",Blaze.Each((function(){return Spacebars.call(e.lookup("publicSpaces"))}),(function(){return["\n\t\t\t\t\t\t\t\t",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"space",Spacebars.kw({_id:Spacebars.dot(e.lookup("."),"_id")}))},class:"list-group-item list-group-item-action d-flex"},HTML.SPAN(Blaze.View("lookup:title",(function(){return Spacebars.mustache(e.lookup("title"))})))),"\n\t\t\t\t\t\t\t"]})),"\n\t\t\t\t\t\t"),"\n\t\t\t\t\t"),"\n\t\t\t\t"),"\n  \t\t\t"),"\n  \t\t"]})),"\n\t\t",HTML.Raw('<div class="row justify-content-center mt-5">\n\t\t\t<div class="col-5 col-lg-2 text-center">\n\x3c!-- \t\t\t\t<select id="langSelect" class="custom-select custom-select-sm border-0" style="width:auto; background-color: #fafafa;">\n\t\t\t\t  <option value="en" {{langIsSelected \'en\'}}>English</option>\n\t\t\t\t  <option value="fr" {{langIsSelected \'fr\'}}>Franais</option>\n\t\t\t\t</select> --\x3e\n\t\t\t</div>\n  \t\t</div>'),"\n\t"),"\n\t",Spacebars.include(e.lookupTemplate("spaceSubmit")),"\n\t",HTML.DIV({class:"text-center mt-3",style:"color:#e0e0e0;"},"\n\t\t",HTML.P(HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"privacy",Spacebars.kw({_id:Spacebars.dot(e.lookup("."),"_id")}))},style:"font-weight:normal;text-decoration: none;"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"index-student--privacy")})))," ",HTML.Raw('\x3c!-- | <a href="https://www.beekee.ch" style="font-weight:normal;text-decoration: none;">{{_ \'index-student-2-about-us\'}}</a> --\x3e')),"\n\t")]}))},"index_student.js":function(e,t,s){var n,a;s.link("meteor/templating",{Template:function(e){n=e}},0),s.link("../../api/spaces.js",{Spaces:function(e){a=e}},1),s.link("./index_student.html"),s.link("../headers/index_student_header.html"),n.indexStudent.onCreated((function(){var e=null,t;Session.get("lang")?e=Session.get("lang"):(e=function(){return console.log(navigator.languages[0]),navigator.languages&&navigator.languages[0]||navigator.language||navigator.browserLanguage||navigator.userLanguage||"en-US"}(),Session.set("lang",e));Deps.autorun((function(){if(moment.locale(Session.get("lang")),void 0!==Cookie.get("spacesVisited")){var e=JSON.parse(Cookie.get("spacesVisited"));Meteor.subscribe("spacesVisited",e)}}))})),n.indexStudent.events({"change #langSelect":function(e){var t=$(e.target).val();Session.setPersistent("lang",t)},"submit form#index-student--code-link-form":function(e){e.preventDefault();var t=$(e.target).find("[id=code]").val();t&&""!=t&&Meteor.call("getSpaceId",t,(function(e,t){if(e)alert(TAPi18n.__("error-message")+e.message);else if(null!=t){var s=t,n=[],a=Cookie.get("spacesVisited");void 0===a||""==a?n.push(s):(n=JSON.parse(Cookie.get("spacesVisited")),-1==JSON.parse(Cookie.get("spacesVisited")).indexOf(s)&&n.push(s)),Cookie.set("spacesVisited",JSON.stringify(n),{expires:30}),Session.set(s,null),Router.go("space",{_id:s})}else null==t&&alert(TAPi18n.__("index-student--space-doesnt-exist-message"))}))},"click .index-student--button-code-link":function(e){e.preventDefault(),$("#index-student--code-link-form").submit()},"click .index-student--delete-recent":function(e){e.preventDefault(),Cookie.remove("spacesVisited"),$(".index-student--visited-spaces").hide()}}),n.indexStudent.helpers({langIsSelected:function(e){if(Session.get("lang")==e)return"selected"},spacesVisited:function(){if(void 0!==Cookie.get("spacesVisited")){var e=JSON.parse(Cookie.get("spacesVisited"));return a.find({_id:{$in:e}})}},publicSpaces:function(){return a.find({"permissions.public":!0})},isLangSelected:function(e){if(Session.get("lang")&&(langSelected=Session.get("lang"),langSelected=langSelected.split("-"),langSelected=langSelected[0],e==langSelected))return"selected"},isBox:function(){return"true"===Meteor.settings.public.isBox}})},"index_teacher.js":function(e,t,s){var n,a;s.link("meteor/templating",{Template:function(e){n=e}},0),s.link("../../api/spaces.js",{Spaces:function(e){a=e}},1),s.link("./index_teacher.html"),s.link("../headers/index_teacher_header.html"),n.indexTeacher.onCreated((function(){var e=null,t;Session.get("lang")?e=Session.get("lang"):(e=function(){return console.log(navigator.languages[0]),navigator.languages&&navigator.languages[0]||navigator.language||navigator.browserLanguage||navigator.userLanguage||"en-US"}(),Session.set("lang",e));Deps.autorun((function(){if(moment.locale(Session.get("lang")),void 0!==Cookie.get("spacesVisited")){var e=JSON.parse(Cookie.get("spacesVisited"));Meteor.subscribe("spacesVisited",e)}}))})),n.indexTeacher.onRendered((function(){$(".modal").on("shown.bs.modal",(function(e){$(this).find("[autofocus]").focus()})),Session.set("errorMessage",""),this.$(".login--input-username").focus()})),n.indexTeacher.events({"change #langSelect":function(e){var t=$(e.target).val();Session.setPersistent("lang",t)},"click .login--button-submit":function(e){e.preventDefault(),$("#login--form").submit()},"click .login--send-mail-forgot-password":function(e){e.preventDefault();var t=$("#email").val();Accounts.forgotPassword({email:t},(function(e){e?(alert(TAPi18n.__("login--send-mail-forgot-password-error")),console.log(TAPi18n.__("login--send-mail-forgot-password-error-log",e))):alert(TAPi18n.__("login--send-mail-forgot-password",t))}))},"click .index-teacher--shutdown":function(e,t){e.preventDefault();var s=confirm(TAPi18n.__("index-teacher--shutdown-message")),n;s&&(confirm("Shutdown in progress. Please allow the Beekee Box 3 minutes to shut down before unplugging it")&&Meteor.call("shutdownBox",(function(e,t){s(e?TAPi18n.__("error-message")+e.message:TAPi18n.__("index-teacher--shutdown-confirm"))})))}}),n.indexTeacher.helpers({langIsSelected:function(e){if(Session.get("lang")==e)return"selected"},ownSpaces:function(){return a.find({userId:Meteor.userId()},{sort:{submitted:-1}})},publicSpaces:function(){return a.find({"permissions.public":!0})},isLangSelected:function(e){if(Session.get("lang")&&(langSelected=Session.get("lang"),langSelected=langSelected.split("-"),langSelected=langSelected[0],e==langSelected))return"selected"}})}},misc:{"access_denied.html":function(e,t,s){s.link("./template.access_denied.js",{"*":"*+"})},"template.access_denied.js":function(){Template.__checkName("accessDenied"),Template.accessDenied=new Template("Template.accessDenied",(function(){var e=this;return[Spacebars.include(e.lookupTemplate("simpleHeader")),"\n\t",HTML.DIV({class:"container"},"\n\t\t",HTML.DIV({class:"row justify-content-center"},"\n    \t\t",HTML.DIV({class:"col-sm-12 col-lg-8 pt-4 pl-4 pr-4 text-center"},"\n                ",HTML.H3({class:"mb-4"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"access-denied--page-title")}))),"\n                ",HTML.DIV(Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"access-denied--login-needed")}))),"\n               \t",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"login")},role:"button",class:"btn btn-primary mt-4"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"access-denied--login")}))),"\n    \t\t"),"\n  \t\t"),"\n\t")]}))},"file_upload.html":function(e,t,s){s.link("./template.file_upload.js",{"*":"*+"})},"template.file_upload.js":function(){Template.__checkName("fileUpload"),Template.fileUpload=new Template("Template.fileUpload",(function(){var e=this;return HTML.FORM({method:"POST",enctype:"multipart/form-data",style:"padding-left:15px"},"\n\t\t",Blaze.Unless((function(){return Spacebars.call(e.lookup("infoLabel"))}),(function(){return["\n\t\t\t",HTML.LABEL({class:""},"\n\t\t\t\t",HTML.INPUT({type:"file",accept:"image/*",class:"file-upload--input-file jqUploadclass","data-form-data":function(){return Spacebars.mustache(e.lookup("submitData"))}}),"\n\t\t\t\t\t",HTML.SPAN({class:"file-upload--input-file-icon"},HTML.I({class:"fas fa-image fa-lg"})),"\n\t\t\t"),"\n\t\t\t",HTML.LABEL({class:""},"\n\t\t\t\t",HTML.INPUT({type:"file",accept:"*/*",class:"file-upload--input-file jqUploadclass","data-form-data":function(){return Spacebars.mustache(e.lookup("submitData"))}}),"\n\t\t\t\t\t",HTML.SPAN({class:"file-upload--input-file-icon ml-2"},HTML.I({class:"fas fa-paperclip fa-lg"})),"\n\t\t\t"),"\n\t\t"]})),"\n\t\t",Spacebars.With((function(){return Spacebars.call(e.lookup("infoLabel"))}),(function(){return[" \t\n\t\t\t",HTML.DIV({class:"progress"},"\n \t  \t\t\t",HTML.DIV({class:"progress-bar progress-bar-striped progress-bar-animated",role:"progressbar",style:function(){return["width: ",Spacebars.mustache(e.lookup("progress"))]},"aria-valuenow":function(){return Spacebars.mustache(e.lookup("progress"))},"aria-valuemin":"0","aria-valuemax":"100"}),"\n\t\t\t"),"\n\t\t"]})),"\n\t")}))},"loading.html":function(e,t,s){s.link("./template.loading.js",{"*":"*+"})},"template.loading.js":function(){Template.__checkName("loading"),Template.loading=new Template("Template.loading",(function(){var e=this;return HTML.Raw('<div class="container mt-5">\n\t\t<div class="text-center">\n\t\t\t<i class="fa fa-lg fa-spinner fa-spin fa-3x"></i>\n\t\t</div>\n\t</div>')}))},"not_found.html":function(e,t,s){s.link("./template.not_found.js",{"*":"*+"})},"template.not_found.js":function(){Template.__checkName("notFound"),Template.notFound=new Template("Template.notFound",(function(){var e=this;return[Spacebars.include(e.lookupTemplate("backHeader")),"\n\t",HTML.DIV({class:"container"},"\n\t\t",HTML.DIV({class:"row justify-content-center"},"\n    \t\t",HTML.DIV({class:"col-sm-12 col-lg-8 pt-4 pl-4 pr-4 text-center"},"\n                ",HTML.H3({class:"mb-4"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"not-found--page-title")}))),"\n                ",HTML.DIV(Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"not-found--page-description")}))),"\n               \t",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"indexStudent")},role:"button",class:"btn btn-primary mt-4"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"not-found--go-back")}))),"\n    \t\t"),"\n  \t\t"),"\n\t")]}))},"privacy.html":function(e,t,s){s.link("./template.privacy.js",{"*":"*+"})},"template.privacy.js":function(){Template.__checkName("privacy"),Template.privacy=new Template("Template.privacy",(function(){var e=this;return HTML.DIV({class:"privacy"},"\n\t\t",Spacebars.include(e.lookupTemplate("backHeader")),"\n\t\t",HTML.DIV({class:"container"},"\n\t\t\t",HTML.DIV({class:"row justify-content-center"},"\n    \t\t\t",HTML.DIV({class:"col-sm-12 col-lg-8 pt-4 pl-4 pr-4 pb-3 text-center"},"\n    \t\t\t\t",HTML.H1({class:"mb-5"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(e.lookup("_"),"privacy--page-title")}))),"\n    \t\t\t\t",HTML.DIV({class:"text-justify"},"\n\t\t\t\t\t\t",Blaze.View("lookup:_",(function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("_"),"privacy--content"))})),"\n\t\t\t\t\t"),"\n    \t\t\t"),"\n    \t\t"),"\n    \t"),"\n\t")}))},"access_denied.js":function(e,t,s){var n;s.link("meteor/templating",{Template:function(e){n=e}},0),s.link("./access_denied.html"),s.link("../headers/simple_header.html"),n.accessDenied.onRendered((function(){Session.set("errorMessage",""),this.$(".login--input-username").focus()})),n.accessDenied.events({"submit form":function(e){e.preventDefault(),Session.set("errorMessage","");var t=e.target.email.value,s=e.target.password.value;t&&s&&Meteor.loginWithPassword(t.trim(),s,(function(e){e?Session.set("errorMessage",e.reason):this.next()}))},"click .login--button-submit":function(e){e.preventDefault(),$("#login--form").submit(),console.log("on envoie")},"click .login--send-mail-forgot-password":function(e){e.preventDefault();var t=$("#email").val();Accounts.forgotPassword({email:t},(function(e){e?(alert(TAPi18n.__("login--send-mail-forgot-password-error")),console.log(TAPi18n.__("login--send-mail-forgot-password-error-log",e))):alert(TAPi18n.__("login--send-mail-forgot-password",t))}))}}),n.accessDenied.helpers({errorMessage:function(){return Session.get("errorMessage")},passwordRecovery:function(){if("Incorrect password"===Session.get("errorMessage"))return!0}})},"file_upload.js":function(e,t,s){var n;s.link("meteor/templating",{Template:function(e){n=e}},0),s.link("./file_upload.html"),n.fileUpload.onCreated((function(){Uploader.init(this),this.data&&(this.autoStart=this.data.autoStart)})),n.fileUpload.onRendered((function(){Uploader.render.call(this)})),n.fileUpload.helpers({infoLabel:function(){var e=n.instance(),t=e.info.get();if(t){var s=e.globalInfo.get();return 100!=s.progress&&($(".live-feed-post-submit--button-submit").prop("disabled",!0),$(".live-feed-post-edit--submit").prop("disabled",!0),$(".resources-post-edit--submit").prop("disabled",!0),$(".resources-post-submit--button-submit").prop("disabled",!0)),s.running?t.name+" - "+s.progress+"% - ["+s.bitrate+"]":t.name+" - "+t.size+"B"}},progress:function(){return n.instance().globalInfo.get().progress+"%"},submitData:function(){return this.formData?this.formData.contentType=this.contentType:this.formData={contentType:this.contentType},"string"==typeof this.formData?this.formData:JSON.stringify(this.formData)}})}},"global_helpers.js":function(e,t,s){var n;s.link("../api/spaces.js",{Spaces:function(e){n=e}},0),Template.registerHelper("isBox",(function(){return"true"===Meteor.settings.public.isBox})),Template.registerHelper("ownSpace",(function(){var e=Session.get("spaceId"),t=n.findOne(e).userId,s=Meteor.userId(),a=Roles.userIsInRole(Meteor.userId(),["admin"]);if(s){if(t===s)return!0;if(a)return!0===a}}))}},api:{"authors.js":function(e,t,s){var n,a;s.export({Authors:function(){return o}}),s.link("meteor/mongo",{Mongo:function(e){n=e}},0),s.link("./posts.js",{Posts:function(e){a=e}},1);var o=new n.Collection("resources-authors");o.allow({insert:function(){return!0},remove:function(){return!0},update:function(){return!0}}),Meteor.isServer&&Meteor.publish("authors",(function(e){return o.find({spaceId:e})})),Meteor.methods({authorInsert:function(e,t){o.insert({name:e,spaceId:t,nRefs:0},(function(e){e?console.log("Error when inserting author  : "+e.message):console.log("Author inserted")}))},authorEdit:function(e,t,s){var n=o.findOne({name:t,spaceId:e});o.update(n._id,{$set:{name:s}},(function(n){n?console.log("Error when changing author name : "+n.message):a.update({spaceId:e,author:t},{$set:{author:s}},{multi:!0})}))}})},"categories.js":function(e,t,s){var n,a;s.export({Categories:function(){return o}}),s.link("meteor/mongo",{Mongo:function(e){n=e}},0),s.link("./posts.js",{Posts:function(e){a=e}},1);var o=new n.Collection("resources-categories");o.allow({insert:function(){return!0},remove:function(){return!0},update:function(){return!0}}),Meteor.isServer&&Meteor.publish("categories",(function(e){return o.find({spaceId:e})})),Meteor.methods({categoryInsert:function(e,t,s){o.insert({type:e,name:t,spaceId:s,nRefs:0})},categoryEdit:function(e,t,s,n){var i=o.findOne({type:t,name:s,spaceId:e});o.update(i._id,{$set:{name:n}},(function(o){o?console.log("Error when changing category name : "+o.message):a.update({spaceId:e,type:t,category:s},{$set:{category:n}},{multi:!0})}))},categoryDelete:function(e,t,s){var n=o.findOne({type:e,name:t,spaceId:s});o.remove(n._id,(function(n){n?console.log("Error when deleting category : "+n.message):a.update({type:e,spaceId:s,category:t},{$unset:{category:""}},{multi:!0})}))}})},"codes.js":function(e,t,s){var n;s.export({Codes:function(){return a}}),s.link("meteor/mongo",{Mongo:function(e){n=e}},0);var a=new n.Collection("resources-codes");a.allow({insert:function(){return!0},remove:function(){return!0},update:function(){return!0}})},"files.js":function(e,t,s){var n;s.export({Files:function(){return a}}),s.link("meteor/mongo",{Mongo:function(e){n=e}},0);var a=new n.Collection("resources-files");if(a.allow({insert:function(){return!0},remove:function(){return!0},update:function(){return!0}}),Meteor.isServer){Meteor.publish("file",(function(e){return a.find({_id:e})})),Meteor.publish("files",(function(e){return a.find({spaceId:e})})),Meteor.publish("allFiles",(function(){return a.find({})})),Meteor.publish("files",(function(e){return console.log("tu publies..."),a.find({spaceId:e})}));var o=Npm.require("fs"),i=Npm.require("rimraf"),r=Meteor.settings.uploadDir;Meteor.methods({deleteFile:function(e){"lesson"==e.type?i(r+"/"+e.spaceId+"/"+e.type+"/"+e.fileId,(function(e){console.log(e)})):o.unlinkSync(r+"/"+e.filePath,(function(e){console.log(e)}))}})}},"posts.js":function(e,t,s){var n,a,o,i,r;s.export({Posts:function(){return l}}),s.link("meteor/mongo",{Mongo:function(e){n=e}},0),s.link("./authors.js",{Authors:function(e){a=e}},1),s.link("./spaces.js",{Spaces:function(e){o=e}},2),s.link("./categories.js",{Categories:function(e){i=e}},3),s.link("./files.js",{Files:function(e){r=e}},4);var l=new n.Collection("resources-posts");l.allow({insert:function(){return!0},remove:function(){return!0},update:function(){return!0}}),Meteor.isClient&&(Counts=new n.Collection("counts"),PinnedCounts=new n.Collection("pinnedCounts"),FilesCounts=new n.Collection("filesCounts"),ImagesCounts=new n.Collection("imagesCounts"),LiveFeedCounts=new n.Collection("liveFeedCounts")),Meteor.isServer&&(Meteor.publish("post",(function(e){return check(e,String),l.find({_id:e})})),Meteor.publish("homePosts",(function(e){return check(e,String),l.find({spaceId:e,type:"home"},{sort:{submitted:1}})})),Meteor.publish("liveFeedPosts",(function(e){return check(e,String),l.find({spaceId:e,type:"liveFeed"},{sort:{submitted:-1}})})),Meteor.publish("resourcesPosts",(function(e){return check(e,String),l.find({spaceId:e,type:"resources"})})),Meteor.publish("posts",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return l.find(e,{sort:{submitted:1},skip:t,limit:s})})),Meteor.publish("count-all-live-feed",(function(e){var t=this,s=0,n=!0,a=l.find({spaceId:e,type:"liveFeed"}).observeChanges({added:function(a,o){s++,n||t.changed("liveFeedCounts",e,{count:s})},removed:function(n,a){s--,t.changed("liveFeedCounts",e,{count:s})}});n=!1,t.added("liveFeedCounts",e,{count:s}),t.ready(),t.onStop((function(){a.stop()}))}))),Meteor.isServer&&l.after.remove((function(e,t){var s=t.fileId,n=t.fileExt;if(s&&(r.remove({fileId:s}),Meteor.call("deleteFile",t)),"resource"==t.type&&t.category){var a=i.findOne({spaceId:t.spaceId,type:"resource",name:t.category});a&&i.update(a._id,{$inc:{nRefs:-1}})}})),Meteor.methods({addLikeComment:function(e){l.update({_id:e.currentPostId,"comments.id":e.currentCommentId},{$push:{"comments.$.likes":e.author}})},removeLikeComment:function(e){l.update({_id:e.currentPostId,"comments.id":e.currentCommentId},{$pull:{"comments.$.likes":e.author}})},homePostInsert:function(e){check(e.spaceId,String),post=_.extend(e,{submitted:Date.now(),order:l.find({spaceId:e.spaceId,type:e.type}).count()});var t=o.findOne(e.spaceId);return post._id=l.insert(post),post._id},postInsert:function(e){check(e.spaceId,String),Meteor.isServer&&(post=_.extend(e,{clientIP:this.connection.clientAddress}));var t=o.findOne(e.spaceId);return category=i.findOne({spaceId:e.spaceId,name:e.category}),i.update(category,{$inc:{nRefs:1}}),post._id=l.insert(post),post._id}})},"spaces.js":function(e,t,s){var n,a,o,i;s.export({Spaces:function(){return r}}),s.link("meteor/mongo",{Mongo:function(e){n=e}},0),s.link("./authors.js",{Authors:function(e){a=e}},1),s.link("./codes.js",{Codes:function(e){o=e}},2),s.link("./posts.js",{Posts:function(e){i=e}},3);var r=new n.Collection("resources-spaces");function l(e){for(var t="",s="ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz123456789",n=0;n<e;n++)t+=s.charAt(Math.floor(Math.random()*s.length));return t}r.allow({insert:function(e,t){return ownsDocument(e,t)||isAdmin(e)},update:function(e,t){return ownsDocument(e,t)||isAdmin(e)},remove:function(e,t){return ownsDocument(e,t)||isAdmin(e)}}),Meteor.isServer&&(console.log("is Server..."),Meteor.publish("space",(function(e){return console.log("publication space..."),check(e,String),r.find({_id:e})})),Meteor.publish("allSpaces",(function(){return r.find({})})),Meteor.publish("allUsers",(function(){return Meteor.users.find()})),Meteor.publish("publicSpaces",(function(e){return r.find({"permissions.public":!0})})),Meteor.publish("ownSpaces",(function(e){return console.log("own space... : "+r.find()),r.find({userId:e})})),Meteor.publish("spacesVisited",(function(e){return r.find({_id:{$in:e}})})),Meteor.methods({getSpaceId:function(e){return r.findOne({spaceCode:e})?r.findOne({spaceCode:e})._id:null},updateCode:function(e,t){var s=o.findOne({code:e})._id;o.update(s,{code:t},(function(e){e?console.log("Error when changing code : "+e.message):console.log("Code has been changed.")}))},deleteSpace:function(e){r.remove(e)},deleteSpaces:function(e){r.remove({userId:e})},spaceInsert:function(e){check(e,{title:String,lang:String});var t=o.find().count(),s=Meteor.settings.public.prefix,n=4;t<=1e3?n=2:t>1e3&&t<=1e5?n=3:t>1e5&&t<=1e7&&(n=4);for(var a=s+l(n);void 0!==o.findOne({code:a});)a=s+l(n);o.insert({code:a,userId:Meteor.userId()});var c=Meteor.userId();console.log("user Id : "+Accounts.userId()),console.log("user Id : "+Meteor.userId());var u=_.extend(e,{userId:c,spaceCode:a,submitted:new Date,visible:!0,codePanel:!0,createUserAllowed:!0,liveFeed:!0,lessons:!1,resources:!0,liveFeedComments:!0,permissions:{public:!1,liveFeedAddPost:!0,liveFeedAddCategory:!1}}),d=r.insert(u);return Meteor.call("authorInsert","Invit",d),"fr-FR"==e.lang||"fr"==e.lang?i.insert({spaceId:d,type:"home",order:0,submitted:Date.now(),title:"Bienvenue dans votre nouvel espace Beekee Live !",body:"<p>Beekee Live est l'outil idal pour soutenir les interactions en temps rel, pour partager des photos ou des fichiers avec vos tudiants.</p>\n<p>Ce message est visible par vos tudiants : sentez-vous libre de le modifier (ou de le supprimer) pour communiquer avec eux.</p>"}):i.insert({spaceId:d,type:"home",order:0,submitted:Date.now(),title:"Welcome to your new Beekee Live space!",body:"<p>Beekee Live is ideal for real-time interactions and to share pictures or files with your learners.</p>\n<p>This message will be visibile for everyone: feel free to edit (or delete ) it according to your needs.</p>"}),{_id:d}}}))}}},client:{"main.html":function(e,t,s){s.link("./template.main.js",{"*":"*+"})},"template.main.js":function(){Template.body.addContent((function(){var e=this;return HTML.Raw('<a id="beekeebox-home" href="http://beekee.box" style="display:block;padding:7px;background-color:white;border-width: 0 1px 1px 1px;border-style: solid;border-color:#d6dce8; border-radius:0 0 5px 5px;position:fixed;top:0;left:50%;transform: translate(-50%, 0);z-index:5000;box-shadow:0 3px 5px 1px rgba(35, 35, 193, 0.08)"><i class="fas fa-home"></i></a>')})),Meteor.startup(Template.body.renderToDocument)},stylesheets:{"custom.css":function(){},"sidebar.css":function(){}},"main.js":function(e,t,s){var n,a;s.link("meteor/templating",{Template:function(e){n=e}},0),s.link("meteor/reactive-var",{ReactiveVar:function(e){a=e}},1),s.link("./main.html"),s.link("./stylesheets/custom.css"),s.link("./stylesheets/sidebar.css"),s.link("../imports/ui/index/index_student.js"),s.link("../imports/ui/index/index_teacher.js"),s.link("../imports/ui/account/login.js"),s.link("../imports/ui/account/reset-password.js"),s.link("../imports/ui/account/user_settings.js"),s.link("../imports/ui/account/register.js"),s.link("../imports/ui/space/space_submit.js"),s.link("../imports/ui/space/space.js"),s.link("../imports/ui/space/space_users_first_connection.js"),s.link("../imports/ui/space/space_users.js"),s.link("../imports/ui/space/settings/settings.js"),s.link("../imports/ui/space/resources/resources.js"),s.link("../imports/ui/global_helpers.js"),s.link("../imports/ui/admin/admin.js"),s.link("../imports/ui/misc/access_denied.js"),s.link("../imports/ui/misc/privacy.html"),s.link("../imports/ui/misc/loading.html"),s.link("../imports/ui/misc/not_found.html"),s.link("../imports/api/posts.js"),s.link("../lib/router.js"),s.link("/lib/app_loader.js"),Meteor.isClient&&(Accounts.onLogin((function(){console.log("We set a cookie with Token : "+Accounts._storedLoginToken()),Cookie.set("_storedLoginToken",Accounts._storedLoginToken(),{domain:"beekee.box",expires:30})})),Tracker.autorun((function(){var e;null===Accounts.user()&&(console.log("We already have a token : "+Cookie.get("_storedLoginToken")),token=Cookie.get("_storedLoginToken"),Accounts.loginWithToken(token,(function(e){console.log("Error while loginWithToken : "+e)})))})))}},lib:{controllers:{"adminController.js":function(){AdminController=RouteController.extend({waitOn:function(){return[Meteor.subscribe("allSpaces"),Meteor.subscribe("allUsers")]},action:function(){this.render("header",{to:"layout--header"}),this.render()},fastRender:!0})},"indexStudentController.js":function(){IndexStudentController=RouteController.extend({onBeforeAction:function(){Roles.userIsInRole(Meteor.user(),"admin")&&Router.go("admin"),this.next()},waitOn:function(){Meteor.subscribe("publicSpaces")},action:function(){Router.go("space",{_id:"efBc3pjC2JidnkLA2"})},fastRender:!0})},"indexTeacherController.js":function(){IndexTeacherController=RouteController.extend({onBeforeAction:function(){Meteor.userId()?Roles.userIsInRole(Meteor.user(),"admin")&&Router.go("admin"):Router.go("login"),this.next()},waitOn:function(){console.log("waith on... : "+Meteor.userId()),Meteor.subscribe("ownSpaces",Meteor.userId()),Meteor.subscribe("publicSpaces")},action:function(){Router.go("space",{_id:"efBc3pjC2JidnkLA2"})},fastRender:!0})},"resetPasswordController.js":function(){ResetPasswordController=RouteController.extend({onBeforeAction:function(){Accounts._resetPasswordToken=this.params.token,this.next()},action:function(){this.render()},fastRender:!0})},"settingsController.js":function(e,t,s){var n;s.link("../../imports/api/spaces.js",{Spaces:function(e){n=e}},0),SettingsController=RouteController.extend({waitOn:function(){return[Meteor.subscribe("space",this.params._id)]},data:function(){return{space:n.findOne(this.params._id)}},action:function(){this.render()},fastRender:!0})},"spaceController.js":function(e,t,s){var n,a,o,i;s.link("../../imports/api/spaces.js",{Spaces:function(e){n=e}},0),s.link("../../imports/api/posts.js",{Posts:function(e){a=e}},1),s.link("../../imports/api/authors.js",{Authors:function(e){o=e}},2),s.link("../../imports/api/files.js",{Files:function(e){i=e}},3),SpaceController=RouteController.extend({waitOn:function(){return[Meteor.subscribe("count-all-live-feed",this.params._id),Meteor.subscribe("space",this.params._id),Meteor.subscribe("files",this.params._id),Meteor.subscribe("authors",this.params._id),Meteor.subscribe("categories",this.params._id)]},data:function(){return{space:n.findOne(this.params._id),posts:a.find({spaceId:this.params._id}),last:this.params.last}},action:function(){this.render()},fastRender:!0})},"spaceFirstConnectionController.js":function(e,t,s){var n;s.link("../../imports/api/spaces.js",{Spaces:function(e){n=e}},0),SpaceFirstConnectionController=RouteController.extend({waitOn:function(){return Meteor.isClient&&(Session.get(this.params._id)||Session.set(this.params._id,{author:"Invit"})),[Meteor.subscribe("authors",this.params._id),Meteor.subscribe("space",this.params._id)]},data:function(){return{space:n.findOne(this.params._id),firstConnection:this.params.firstConnection}},action:function(){this.render()},fastRender:!0})},"spaceUsersController.js":function(e,t,s){var n;s.link("../../imports/api/spaces.js",{Spaces:function(e){n=e}},0),SpaceUsersController=RouteController.extend({waitOn:function(){return Meteor.isClient&&(Session.get(this.params._id)||Session.set(this.params._id,{author:"Invit"})),[Meteor.subscribe("authors",this.params._id),Meteor.subscribe("space",this.params._id)]},data:function(){return{space:n.findOne(this.params._id),firstConnection:this.params.firstConnection}},action:function(){this.render()},fastRender:!0})},"userSettingsController.js":function(){UserSettingsController=RouteController.extend({data:function(){},action:function(){this.render()},fastRender:!0})}},i18n:{"en.i18n.json":function(e,t,s){var n=Package.underscore._,a="project",o="project";TAPi18n._enable({helper_name:"_",supported_languages:null,i18n_files_route:"/tap-i18n",preloaded_langs:[],cdn_path:null}),TAPi18n.languages_names.en=["English","English"],translations={},translations[o]={"error-message":"An error occurred : ","access-denied--page-title":"Access denied !","access-denied--login-needed":"You need to login first.","access-denied--login":"Log in","admin--page-title":"Administration","admin--spaces-list":"List of spaces","admin--spaces-title":"Title","admin--spaces-creation":"Date of creation","admin--spaces-owner":"Owner","admin--spaces-actions":"Actions","admin--spaces-open":"Open","admin--spaces-delete":"Delete","admin--users-list":"List of teacher accounts","admin--users-logins":"Login","admin--users-creation":"Date of creation","admin--users-last-connexion":"Last connection","admin--users-actions":"Actions","admin--users-change-password":"Change password","admin--users-delete":"Delete","admin--user-delete-message":"Permanently delete this user and its spaces ?","admin--user-delete-confirm-message":"The user has been deleted.","admin--change-password-message":"Enter a new password for the user:","admin--change-password-confirm-message":"The password has been changed.","layout--connection-status":"Disconnected","login--page-title":"Login","login--mail":"E-mail","login--password":"Password","login--send-mail-forgot-password-link":"Reset my password","login--button-submit":"Log in","login--register":"You do not have an account yet ?","login--register-contact-admin":"Please contact your Beekee Box administrator.","login--register-link":"Create an account","login--user-not-found":"Username does not exist.","login--incorrect-password":"Password does not match.","login--send-mail-forgot-password":"An email has been sent to % s with a link to reset your password.","login--send-mail-forgot-password-error":"An error has occurred. Please contact the administrator at : vincent.widmer@beekee.ch","login--send-mail-forgot-password-error-log":"Error sending an email to recover password : %s","logout--page-title":"Sign out","not-found--page-title":"Page not found","not-found--page-description":"Sorry, we can not find a page at this address.","not-found--go-back":"Return to home","privacy--page-title":"Privacy policy","privacy--content":"<h3> Teacher Account Information </h3> <p> When you create a teacher account, you must provide a valid email address and password. These details are not public and can be modified at any time. Beekee Live will not share this information with third parties. </p> <h3> Publications, photos, users </h3> <p> Beekee Live follows a strict data protection policy. The data published on Beekee Live are hosted on servers located in Switzerland. The Beekee Live platform is therefore subject to Swiss data protection law. Publications, photographs, user names and any other data published on the platform are the exclusive property of the user. At any time, a user may choose to permanently delete his/her data. In no event will Beekee Live transmit this data to third parties. </p> <h3> Intervention of a technician </h3> <p> On request of the user, a technician can access a space and consult the data stored on it in order to solve a technical problem. </p> <h3> Cookies </h3> <p> Like many websites, Beekee Live uses cookies to facilitate the use of the platform. The information contained in these cookies is not used by Beekee Live for any other purpose. </p>","register--page-title":"Create an account","register--mail":"E-mail","register--name":"Name","register--password":"Password","register--password-confirm":"Confirm password","register--password-dont-match":"Confirm password doesn't match.","register--terms":'By registering, you accept our <a href="{{pathFor \'privacy\'}}" target="_blank">terms and conditions</a>.<br>Your e-mail address will not be disclosed to third parties.',"register--button-submit":"Sign up","register--mail-exist":"There already exists a user account with this email address.","register--mail-no-valid-message":"Please enter a valid email address.","register--mail-subject":"Your registration on Beekee Live","register--mail-content":'<h2>Welcome to <a href="https://live.beekee.ch">Beekee Live</a>!</h2><h3>Were glad youre here. Start teaching today by creating your first Beekee Live space!</h3><p><b>Tip</b> : Did you know that you can use Beekee Live on computer, smartphone or tablet without the need of installing an app?</p><p>The <a href="https://www.beekee.ch">Beekee Team</a></p>',"reset-password--page-title":"Reset your password","reset-password--new-password":"New password","reset-password--button-submit":"Save","register--password-changed-message":"The password has been changed.","space-edit-categories--page-title":"Manage categories","space-edit-categories--page-description":"The categories are used to classify posts.<br />Unlike tags, categories are defined in advance by the teacher.","space-edit-categories--confirm-delete":"Delete category","space-edit--button-submit-add-category":"Add","space-edit-categories--edit-category":"Edit category","space-edit--page-title":"Settings","space-edit--subtitle-general":"General","space-edit--list-title-change-code":"Change the access code","space-edit--description-change-code":"Share this code with your students so they can join this space.","space-edit--list-title-rename-space":"Rename this space","space-edit--list-title-delete-space":"Delete this space","space-edit--list-title-content":"Content","space-edit--list-title-flow":"Continuous Flow","space-edit--description-flow":"By enabling Continuous Flow, new publications are displayed in real time.","space-edit--list-title-categories":"Manage categories","space-edit--list-title-comments":"Allow comments","space-edit--subtitle-users":"Users","space-edit--list-title-users":"Manage authors","space-edit--list-title-free-users":"Free authors","space-edit--description-free-users":'By activating "Free authors", users are able to enter their username when they first log in. Otherwise, they will choose from an editable list under "Manage authors".',"space-edit--subtitle-permissions":"Permissions","space-edit--select-permissions-own":"Authors can edit their own publications","space-edit--select-permissions-all":"Authors can edit all publications","space-edit--select-permissions-none":"Nobody can add or edit publications","space-edit--subtitle-box":"Box","space-edit--list-title-update-box":"Update the Box","space-edit--list-title-ip":"IP address :","space-edit--list-title-sync":"Synchronize with the cloud","space-edit--description-sync":"Connect the beekee box using an ethernet cable to sync its content with the cloud (www.beekee.ch). This may take several minutes.","space-edit--subtitle-account":"Your account","space-edit--description-change-password":"Change your account password.","space-edit--change-code-message":"Change the access code","space-edit--change-code-confirm-message":"The access code has been changed.","space-edit--change-code-already-used-message":"This code is already assigned to another space.","space-edit--rename-space-message":"Rename this space","space-edit--rename-space-confirm-message":"This space is now called","space-edit--delete-space-message":"Permanently delete this space and its contents ?","space-edit--delete-space-confirm-message":"The space has been removed.","space-edit--sync-login-message":"To synchronize this space with the cloud, you must have an account on www.beekee.ch.\nIf this is the case, enter the username linked to your account :","space-edit--sync-error-message":"A problem has occurred. Check that the box is connected to the internet and try again.","space-edit--update-message":"Updating of the box may make the platform inaccessible for several minutes.\nDo you want to continue ?","space-edit--update-waiting-message":"The box will be updated, please wait...","space-edit--no-ip":"No IP address","space-edit--not-connected":"Not connected","space-edit--module-resources":"Distribute files to your learners","space-edit--permissions-public-space":"Allows anyone to access the contents and interact within this Space without needing an Access Code","space-edit--permissions-add-categories":"Users can add categories","space-edit--permissions-add-resource":"Users can add resources","space-edit--permissions-add-posts":"Users can add posts","space-edit-authors---page-title":"Manage authors","space-edit-authors---page-description":"Author names are used to identify publications.<br>For example, add the name of your students or the name of a group.","space-edit-authors---submit-button":"Add","space-edit-authors--delete-author-message":"Delete the author %s ?","space-edit-authors--edit-author-message":"Modify the author :","space-edit-authors--add-author-error-message":"There is already an author with this name.","index-student--title":"The platform to promote real-time collaboration","index-student--wrapper-text":"A private space to share photos and messages <br> with your students, colleagues or friends.","index-student--code":"Private space","index-student--code-input-placeholder":"Enter an access code","index-student--visited-title":"Recently visited :","index-student--delete-recent":"(delete)","index-student--public-spaces-title":"Public spaces","index-student--button-code-link":"Validate","index-student--space-doesnt-exist-message":"This space does not exist.\nMake sure to respect the upper and lower case.","index-student--create-your-space-1":"Create","index-student--create-your-space-2":" your space in seconds for free!","index-student--privacy":"Privacy","index-student--about-us":"About us","index-teacher--spaces-title":"Your spaces","index-teacher--no-space":"You have not created a space yet.","index-teacher--button-submit-space":"Create a new space","index-teacher--shutdown":"Shutdown","index-teacher--shutdown-message":"Do you really want to shutdown the box ?","index-teacher--shutdown-confirm":"The box will shutdown in a few seconds...","update--reboot-confirm":"The box will reboot in a few seconds...","space-page--hide-panel":"Hide","space-page--code-panel-title":"Space's access code :","space-page--code-panel-description":"Spread this code for others to join you:","space-page--pinned-title":"Pinned","space-page--post-order":"Sort","space-page--post-order-asc":"Newest first","space-page--post-order-desc":"Older first","space-page--no-post":"There are no posts to display yet.","space-submit--page-title":"Create a space","space-submit--space-name":"Name of the space","space-submit--button-submit":"Create","space-submit--button-cancel":"Cancel","space-users--page-title":"Want to change your name ?","space-users-first-connection--page-title":"What is your name ?","space-users--page-description":"It will be used to identify your contributions","space-users--input-choose-author-placeholder":"Type a name...","space-users--submit-author":"Validate","space-users--user-exist":"The user %s already exists. Connect with this name ?","space-sidebar--home":"Home","space-sidebar--live-feed":"Live feed","space-sidebar--categories":"CATEGORIES","space-sidebar--add-category":"Add","space-sidebar--authors":"AUTHORS","space-sidebar--lessons":"Lessons","space-sidebar--resources":"Resources","space-submit--create-space":"Create a new space","space-submit--create-space-placeholer":"Space name","space-sidebar--create-own-space-1":"Create your own space","space-sidebar--create-own-space-2":"for free!","space-sidebar--privacy":"Privacy","space-sidebar--about-us":"About us","header--back":"Back","header--admin-access":"Teacher Access","header--register":"Create an account","header--login":"Log in","header--exit-message":"Leave this space ?","menu--show-all":"Show all","menu--favorites":"My favorites","menu--files":"Files","menu--images":"Images","menu--categories":"Categories","menu--authors":"Authors","menu--tags":"Keywords","menu--code":"Access code","post-edit--submit-button":"Edit","post-item--remove-pin":"Remove pin","post-item--add-pin":"Pin on top","post-item--remove-favorites":"Remove from my favorites","post-item--add-favorites":"Add to my favorites","post-item--delete-post-confirm":"Delete the post ?","post-item--delete-comment-confirm":"Delete the comment ?","post-submit--body-placeholder":"Say something...","post-submit--tags-placeholder":"Add Keywords...","post-submit--select-category":"Select a category","post-submit--no-category":"No category","post-submit--delete-image":"Delete the image","post-submit--confirm-delete-image":"Delete the image ?\nThis action is irreversible.","post-submit--confirm-delete-file":"Delete the file ?\nThis action is irreversible.","post-submit--submit-button":"Send","user-settings--page-title":"User settings","user-settings--confirm-logout":"Are you sure you want to sign out ?","user-settings--change-password":"Change password","user-settings--logout":"Sign out","user-settings--change-password-old-message":"Current Password :","user-settings--change-password-new-message":"New Password :","user-settings--change-password-confirm-message":"Your Password has been changed.","space-header--leave":"Leave this space","space-header--settings":"Settings","post--edit":"Edit","post--delete":"Delete","home--title":"Home","home--space-code-message":"<strong>Bzz!</strong> Spread this code for others to join you:","home--submit-button":"Add a section","home-post--order-up":"Up","home-post--order-down":"Down","home-post-delete--title":"Delete this section","home-post-delete--confirm":"Delete this section ?","home-post-edit--title":"Edit section","home-post-submit--title":"Add a section","home-post-submit--placeholder":"Title of the section","home-post-submit--confirm-toast":"The new section has been added.","modal--close":"Close","modal--cancel":"Cancel","modal--delete":"Delete","modal--submit":"Submit","modal--save":"Save changes","lessons--title":"Lessons","lessons--subtitle":"Articulate Storyline materials","lessons--submit-button":"Add a lesson","lessons-post--start-lesson":"Start this lesson","lessons-post-submit--title":"Add a lesson","lessons-post-submit--title-placeholder":"Title of the lesson","lessons-post-submit--description-placeholder":"Description of the lesson","lessons-post-submit--help":"Lessons must be exported in HTML5 format within Storyline.<br>The resulting folder must be zipped before being uploaded, and the .zip file must have the same name as the zipped folder it contains.","lessons-post-submit--confirm-toast":"The new lesson has been added.","lessons-post-delete--confirm":"Do you want to delete this lesson ?","lessons-post-delete--title":"Delete this lesson","lessons-post-edit--title":"Edit lesson","lessons-upload--button":"Upload a Storyline lesson","resources--title":"Resources","resources-post-edit--title":"Edit resource","resources-post-submit--title":"Add a resource","resources-post-submit--title-placeholder":"Title of the resource","resources-post-submit--description-placeholder":"Description of the ressource","resources-post-submit--confirm-toast":"The new resource has been added.","resources--submit-button":"Add a resource","resources-category-edit--title":"Edit a category","resources-category-submit--title":"Add a category","resources-category-submit--placeholder":"Category name","live-feed--notification-panel":"new messages","live-feed--load-more":"Load more...","live-feed-category-edit--title":"Edit a category","live-feed-category-submit--title":"Add a category","live-feed-category-submit--placeholder":"Category name","live-feed-post-delete--delete-confirm":"Do you want to delete this post ?","live-feed-post-delete--title":"Delete this post","live-feed-post--add-comment":"Add a comment...","live-feed-post--nb-likes-with-me":"You and %s people","live-feed-post--like":"You like","live-feed-post--nb-likes":"people","live-feed-post-submit--add-category":"+ Add a category...","live-feed-post-edit--title":"Edit post","live-feed-delete-comment--title":"Delete comment","live-feed-delete-comment--subtitle":"Delete this comment?"},TAPi18n._loadLangFileObject("en",translations)},"fr-FR.i18n.json":function(){var e=Package.underscore._,t="project",s="project";TAPi18n.languages_names["fr-FR"]=["fr-FR","fr-FR"]}},"app_loader.js":function(){Meteor.isServer&&(Inject.rawHead("metaLoader",'<meta name="viewport" content="initial-scale=1.0, user-scalable=0, width=device-width, height=device-height"/><meta name="apple-mobile-web-app-capable" content="yes">\t<meta name="mobile-web-app-capable" content="yes">'),Inject.rawBody("htmlLoader",Assets.getText("app_loader.html"))),Meteor.isClient&&Meteor.startup((function(){setTimeout((function(){$("#inject-loader-wrapper").fadeOut(500,(function(){$(this).remove()}))}),700)}))},"router.js":function(e,t,s){s.link("./controllers/indexStudentController.js"),s.link("./controllers/indexTeacherController.js"),s.link("./controllers/spaceController.js"),s.link("./controllers/spaceFirstConnectionController.js"),s.link("./controllers/spaceUsersController.js"),s.link("./controllers/userSettingsController.js"),s.link("./controllers/adminController.js"),s.link("./controllers/settingsController.js"),s.link("./controllers/resetPasswordController.js"),Router.configure({loadingTemplate:"loading",notFoundTemplate:"notFound",trackPageView:!0}),Router.configureBodyParsers=function(){Router.onBeforeAction(Iron.Router.bodyParser.urlencoded({extended:!0,limit:"50mb"}))},Router.onStop((function(){"undefined"!=typeof slideout&&slideout.close()}));var n=function(){Meteor.user()?this.next():Meteor.loggingIn()?this.render(this.loadingTemplate):this.render("accessDenied")},a=function(){Roles.userIsInRole(Meteor.user(),"admin")?this.next():Meteor.loggingIn()?this.render(this.loadingTemplate):(this.render("spacesHeader",{to:"layout--header"}),this.render("accessDenied"))},o;Router.onBeforeAction(n,{only:"settings"}),o="true"===Meteor.settings.public.isBox?["admin","register","update"]:["admin","update"],Router.onBeforeAction(a,{only:o}),Router.route("/not-found",{name:"notFound",fastRender:!0}),Router.route("/privacy",{name:"privacy",fastRender:!0}),Router.route("/login",{name:"login",fastRender:!0}),Router.route("/register",{name:"register",fastRender:!0}),Router.route("/user",{name:"userSettings",controller:"UserSettingsController",fastRender:!0}),Router.route("/admin",{name:"admin",controller:"AdminController"}),Router.route("/",{name:"indexStudent",controller:"IndexStudentController"}),Router.route("/teacher",{name:"indexTeacher",controller:"IndexTeacherController"}),Router.route("/space/:_id",{name:"space",controller:"SpaceController"}),Router.route("/space/:_id/settings",{name:"settings",controller:"SettingsController"}),Router.route("/space/:_id/users",{name:"spaceUsers",controller:"SpaceUsersController"}),Router.route("/space/:_id/first-connection",{name:"spaceUsersFirstConnection",controller:"SpaceFirstConnectionController"}),Router.route("/reset-password/:token",{name:"resetPassword",controller:"ResetPasswordController"})}}},{extensions:[".js",".json",".html",".ts",".css"]});require("/lib/i18n/en.i18n.json"),require("/lib/i18n/fr-FR.i18n.json");var exports=require("/client/main.js");

!function(){var o=Package.meteor.Meteor,e=Package.meteor.global,n=Package.meteor.meteorEnv,i=Package["accounts-base"].Accounts,r=Package.mongo.Mongo,t;(function(){void 0===t&&(t={}),t.configurations=new r.Collection("meteor_accounts_loginServiceConfiguration",{_preventAutopublish:!0,connection:o.isClient?i.connection:o.connection}),t.ConfigError=function(e){o.isClient&&!i.loginServicesConfigured()?this.message="Login service configuration not yet loaded":this.message=e?"Service "+e+" not configured":"Service not configured"},t.ConfigError.prototype=new Error,t.ConfigError.prototype.name="ServiceConfiguration.ConfigError"}).call(this),Package._define("service-configuration",{ServiceConfiguration:t})}();

